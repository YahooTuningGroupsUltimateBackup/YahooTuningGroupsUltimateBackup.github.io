<a href="/old-tuning-list">back to list</a><h1>Scala command script example</h1><h3><a id=3457 href="#3457">ðŸ”—</a>COUL@ezh.nl (Manuel Op de Coul)</h3><span>8/23/1996 9:46:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>In this post I shall give a short lesson of how to create a Scala command<br>file that calculates a scale as a function of some parameters.<br><br>Bela Bartok has devised an axis-system of notes. It consists of steps of <br>subdominant-tonica-dominant triplets. <br>There is a main step (Dutch: hoofdtrap):<br><br>f   c   g<br>S   T   D<br><br>and secondary steps (Dutch: neventrappen) where the mediant of the previous<br>step becomes the dominant:<br><br>d   a   e         b   f#  c#         ab  eb  bb<br>S   T   D         S   T   D          S   T   D<br><br>Arranged in axis crosses (assenkruis, Achsenkreuz):<br><br>    S                    T                    D<br><br>    f                    c                    g<br><br> d     ab             a     eb             e     bb<br><br>    b                    f#                   c#<br><br><br>The middle cross is used for instance for the global tonality structure of<br>Music for Strings, Percussion and Celesta.<br>Reference:<br>E. Lendvai: Einfu"hrung in die Formen- und Harmoniewelt Barto'ks, 1957.<br><br>We can (ab)use this system to create scales with, by taking the size of<br>dominant and mediant as parameters. The subdominant will be the octave <br>inversion of the dominant.<br>So if we for instance start with the major triad 4:5:6 we get the scale<br> 25/24 10/9 125/108 5/4 4/3 25/18 3/2 125/81 5/3 125/72 50/27 2/1<br>which ratios have lattice structure (to the right: 3, upwards: 5, <br>the zero is C):<br><br> * * *<br>   * * *<br>     * * *<br>       * 0 *<br><br>This is sort of a slanting version of Euler's genus bichromaticum [33555].<br>Here comes a solution for the command file:<br><br>   clear 0<br>   echo enter the mediant<br>   append ?<br>   echo enter the dominant<br>   append ?<br><br>First we have to enter the values for mediant and dominant. A question mark<br>is substituted with what the user enters. The working scale is cleared and<br>the two notes entered into it.<br><br>   calculate/noout 2-%2<br>   append $0<br><br>The value of the subdominant is calculated by subtracting the second note<br>(referenced with a % sign) from the octave. That value, which is stored in<br>pitch memory number 0 (referenced with a $ sign), is added to the scale.<br><br>   calculate/noout 2+%1-%2<br>   delete 1<br>   copy 0 1<br><br>Now we calculate what the shift must be to get the next step. It is O+M-D,<br>or S+M (from C to A). This value is now in pitch memory 0.<br>The mediant is deleted so the working scale contains now T-D-S. This scale<br>is saved in scale memory number 1.<br><br>   equaltemp 1 $0 3<br>   product 1<br><br>A cycle of three steps (so four notes) of the shift value is created. <br>The 1 indicates it is undivided (division of 1).<br>Now comes the trick: the Carthesian product of this is taken with the <br>saved T-D-S triplet, giving the 3 x 4 = 12 notes at once.<br><br>   clear 1<br>   reduce 2/1<br>   sort<br>   append 2/1<br><br>Scale memory 1 is no longer needed and cleared. All the notes are octave <br>reduced and sorted in order and the octave is added to the resulting scale.<br>So instead of having to write expressions for each separate note, we make<br>use of the structure of the scale and use the proper Scala command that can<br>make it.<br><br>Taking a quarter-comma fifth for the dominant (Scala expression: 3/2-$k\4 )<br>and 5/4 for mediant gives us a regular mean-tone scale in the key of B-flat.<br><br>All the command files supplied with Scala may serve as other examples.<br>In particular the ones for creating tritriadic, tetratriadic, tritetradic,<br>etc. scales, for creating Fokker's single- and double-tied circular <br>mirrorings of triads and tetrads, for creating duodenes, straight and<br>reversed triadic diamonds, hexany diamonds and mean-tone scales.<br><br>Manuel Op de Coul    coul@ezh.nl<br><br>Received: from ns.ezh.nl [137.174.112.59] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Fri, 23 Aug 1996 19:56 +0200<br>Received: by ns.ezh.nl; (5.65v3.2/1.3/10May95) id AA30103; Fri, 23 Aug 1996 19:57:36 +0200<br>Received: from eartha.mills.edu by ns (smtpxd); id XA30170<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id KAA21820; Fri, 23 Aug 1996 10:57:34 -0700<br>Date: Fri, 23 Aug 1996 10:57:34 -0700<br>Message-Id: <199608231744.AA04918@felix.dircon.co.uk><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div><a href="/old-tuning-list">back to list</a><h1>Scala command script example</h1><h3><a id=3457 href="#3457">ðŸ”—</a>COUL@ezh.nl (Manuel Op de Coul)</h3><span>8/23/1996 9:46:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>In this post I shall give a short lesson of how to create a Scala command<br>file that calculates a scale as a function of some parameters.<br><br>Bela Bartok has devised an axis-system of notes. It consists of steps of <br>subdominant-tonica-dominant triplets. <br>There is a main step (Dutch: hoofdtrap):<br><br>f   c   g<br>S   T   D<br><br>and secondary steps (Dutch: neventrappen) where the mediant of the previous<br>step becomes the dominant:<br><br>d   a   e         b   f#  c#         ab  eb  bb<br>S   T   D         S   T   D          S   T   D<br><br>Arranged in axis crosses (assenkruis, Achsenkreuz):<br><br>    S                    T                    D<br><br>    f                    c                    g<br><br> d     ab             a     eb             e     bb<br><br>    b                    f#                   c#<br><br><br>The middle cross is used for instance for the global tonality structure of<br>Music for Strings, Percussion and Celesta.<br>Reference:<br>E. Lendvai: Einfu"hrung in die Formen- und Harmoniewelt Barto'ks, 1957.<br><br>We can (ab)use this system to create scales with, by taking the size of<br>dominant and mediant as parameters. The subdominant will be the octave <br>inversion of the dominant.<br>So if we for instance start with the major triad 4:5:6 we get the scale<br> 25/24 10/9 125/108 5/4 4/3 25/18 3/2 125/81 5/3 125/72 50/27 2/1<br>which ratios have lattice structure (to the right: 3, upwards: 5, <br>the zero is C):<br><br> * * *<br>   * * *<br>     * * *<br>       * 0 *<br><br>This is sort of a slanting version of Euler's genus bichromaticum [33555].<br>Here comes a solution for the command file:<br><br>   clear 0<br>   echo enter the mediant<br>   append ?<br>   echo enter the dominant<br>   append ?<br><br>First we have to enter the values for mediant and dominant. A question mark<br>is substituted with what the user enters. The working scale is cleared and<br>the two notes entered into it.<br><br>   calculate/noout 2-%2<br>   append $0<br><br>The value of the subdominant is calculated by subtracting the second note<br>(referenced with a % sign) from the octave. That value, which is stored in<br>pitch memory number 0 (referenced with a $ sign), is added to the scale.<br><br>   calculate/noout 2+%1-%2<br>   delete 1<br>   copy 0 1<br><br>Now we calculate what the shift must be to get the next step. It is O+M-D,<br>or S+M (from C to A). This value is now in pitch memory 0.<br>The mediant is deleted so the working scale contains now T-D-S. This scale<br>is saved in scale memory number 1.<br><br>   equaltemp 1 $0 3<br>   product 1<br><br>A cycle of three steps (so four notes) of the shift value is created. <br>The 1 indicates it is undivided (division of 1).<br>Now comes the trick: the Carthesian product of this is taken with the <br>saved T-D-S triplet, giving the 3 x 4 = 12 notes at once.<br><br>   clear 1<br>   reduce 2/1<br>   sort<br>   append 2/1<br><br>Scale memory 1 is no longer needed and cleared. All the notes are octave <br>reduced and sorted in order and the octave is added to the resulting scale.<br>So instead of having to write expressions for each separate note, we make<br>use of the structure of the scale and use the proper Scala command that can<br>make it.<br><br>Taking a quarter-comma fifth for the dominant (Scala expression: 3/2-$k\4 )<br>and 5/4 for mediant gives us a regular mean-tone scale in the key of B-flat.<br><br>All the command files supplied with Scala may serve as other examples.<br>In particular the ones for creating tritriadic, tetratriadic, tritetradic,<br>etc. scales, for creating Fokker's single- and double-tied circular <br>mirrorings of triads and tetrads, for creating duodenes, straight and<br>reversed triadic diamonds, hexany diamonds and mean-tone scales.<br><br>Manuel Op de Coul    coul@ezh.nl<br><br>Received: from ns.ezh.nl [137.174.112.59] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Fri, 23 Aug 1996 19:56 +0200<br>Received: by ns.ezh.nl; (5.65v3.2/1.3/10May95) id AA30103; Fri, 23 Aug 1996 19:57:36 +0200<br>Received: from eartha.mills.edu by ns (smtpxd); id XA30170<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id KAA21820; Fri, 23 Aug 1996 10:57:34 -0700<br>Date: Fri, 23 Aug 1996 10:57:34 -0700<br>Message-Id: <199608231744.AA04918@felix.dircon.co.uk><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div>