<a href="/old-tuning-list">back to list</a><h1>Optimising synthesizer tuning</h1><h3><a id=2506 href="#2506">ðŸ”—</a>COUL@ezh.nl (Manuel Op de Coul)</h3><span>1/29/1996 9:01:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>After Bruce Gilson showed interest in my mode-fitting algorithm it<br>suddenly occurred to me that the same method can also be used for<br>tuning a synthesizer. To do so, the closest mode is calculated for the<br>octave division equal to the tuning resolution of the synthesizer. The<br>case is that a better quantisation can be made than just taking the<br>nearest step for each pitch. Just like the methods record companies<br>invent to squeeze everything out of the 16 bits of audio on a CD, like<br>Super Bit Mapping and so on, this method gives a better mapping for a<br>tuning system. <br>Take the following contrived example. For simplicity we assume a <br>tuning resolution of 1200 steps per octave.<br><br>  0:          0.00 cents<br>  1:        100.55 cents    100.55<br>  2:        200.55 cents    100.00<br>  3:        300.55 cents    100.00<br>  4:        700.45 cents    399.90<br>  5:        800.45 cents    100.00<br>  6:        900.45 cents    100.00<br>  7:       1200.00 cents    299.55<br><br>Doing ordinary roundoff this gives the following number of steps:<br><br>  1:  101   101<br>  2:  201   100<br>  3:  301   100<br>  4:  700   399<br>  5:  800   100<br>  6:  900   100<br>  7: 1200   300<br><br>The disadvantage we are seeing is that interval 3-4 is 399.9 cents but<br>it gets only 399 steps of 1 cent.<br>The solution is to give up the fixed tuning of pitch number 0 and <br>incorporate it into the roundoff process. If the grid of tuning steps<br>is shifted at most half a step up or down, pitch number 0 will always<br>be rounded off to zero but the other ones can be rounded off to<br>different values. The grid needs to be wobbled a bit in order to find <br>the optimal position. From a certain position, the next optimal shift <br>can be calculated and be fed back for a new round of rounding off. <br>This settles quickly. The variance is calculated with respect to the<br>shifted grid. For the example this gives as best (least squares) fit: <br><br>  1:  100   100<br>  2:  200   100<br>  3:  300   100<br>  4:  700   400<br>  5:  800   100<br>  6:  900   100<br>  7: 1200   300<br><br>The grid is shifted is 0.4286 cents.<br>I'm currently trying to find an efficient way of best guessing a shift.<br>The method I had originally was found not to work in all cases.<br>For tunings with another octave than what the tuning steps of <br>synthesizers are based on (mostly 2/1), and not a multiple of it, this<br>method doesn't work.<br><br>Manuel Op de Coul    coul@ezh.nl<br><br>Received: from eartha.mills.edu [144.91.3.20] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Mon, 29 Jan 1996 22:31 +0100<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id NAA05882; Mon, 29 Jan 1996 13:31:25 -0800<br>Date: Mon, 29 Jan 1996 13:31:25 -0800<br>Message-Id: <Pine.3.89.9601291546.A963-0100000@email.ir.miami.edu><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div><h3><a id=2508 href="#2508">ðŸ”—</a>Allen &#x3C;STRANGE@sjsuvm1.sjsu.edu&#x3E;</h3><span>1/29/1996 2:27:46 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>Regarding Partch transcriptions: Ted Mook, former Newband string player,<br>has recently released a recording of the 17 Li Po Lyrics and has re-notated<br>the score.  I have his email address at home and will send it to you later.<br><br>A while back I did a MIDI version of Barstow but I guarantee a MIDI file makes<br>less sense than Harry's notation (plus the project was a total failure in<br>terms of musical sensibilities--)<br><br>=========================================================================<br>|                          Allen Strange                                |<br>|             http://cadre.sjsu.edu/music/strange.html                  |<br>|_______________________________________________________________________|<br>| Electro-Acoustic Music     | International Computer Music Association |<br>|        Studios             |        2040 Polk St., Suite 330          |<br>| School of Music            |        San Francisco, CA 94109           |<br>| San Jose State University  |       Telephone + (408) 395-2538         |<br>| 1 Washington Square        |          Fax + (408) 395-2648            |<br>| San Jose, CA 95192-0095    |      Email: icma@sjsuvm1.sjsu.edu        |<br>| Telephone +(408) 924-4646  |                                          |<br>| Fax +(408) 924-4773        |     We hope to see you at the ICMC96     |<br>| <strange@sjsuvm1.sjsu.edu> |         On the Edge in Hong Kong         |<br>|                            |         ICMC96@cs.ust.hk for info        |<br>|=======================================================================<br><br>Received: from eartha.mills.edu [144.91.3.20] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Tue, 30 Jan 1996 00:30 +0100<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id PAA09473; Mon, 29 Jan 1996 15:30:52 -0800<br>Date: Mon, 29 Jan 1996 15:30:52 -0800<br>Message-Id: <9AA1177F0A@rice.houstonisd.k12.tx.us><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div><h3><a id=2511 href="#2511">ðŸ”—</a>Gary &#x3C;71670.2576@compuserve.com&#x3E;</h3><span>1/29/1996 11:02:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>> It is well discussed that his tablature notation makes reading a score <br>> tedious<br><br>   I hadn't thought of this before, but interpreting Partch's scores might in<br>itself be a reason to have copies of his instruments around the house.  I<br>suspect that having them around might make it easier to relate to, for example<br>the chromelodeon parts.  <br><br><br>Received: from eartha.mills.edu [144.91.3.20] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Wed, 31 Jan 1996 00:31 +0100<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id PAA23746; Tue, 30 Jan 1996 15:31:40 -0800<br>Date: Tue, 30 Jan 1996 15:31:40 -0800<br>Message-Id: <B29E6D3293@rice.houstonisd.k12.tx.us><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div><a href="/old-tuning-list">back to list</a><h1>Optimising synthesizer tuning</h1><h3><a id=2506 href="#2506">ðŸ”—</a>COUL@ezh.nl (Manuel Op de Coul)</h3><span>1/29/1996 9:01:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>After Bruce Gilson showed interest in my mode-fitting algorithm it<br>suddenly occurred to me that the same method can also be used for<br>tuning a synthesizer. To do so, the closest mode is calculated for the<br>octave division equal to the tuning resolution of the synthesizer. The<br>case is that a better quantisation can be made than just taking the<br>nearest step for each pitch. Just like the methods record companies<br>invent to squeeze everything out of the 16 bits of audio on a CD, like<br>Super Bit Mapping and so on, this method gives a better mapping for a<br>tuning system. <br>Take the following contrived example. For simplicity we assume a <br>tuning resolution of 1200 steps per octave.<br><br>  0:          0.00 cents<br>  1:        100.55 cents    100.55<br>  2:        200.55 cents    100.00<br>  3:        300.55 cents    100.00<br>  4:        700.45 cents    399.90<br>  5:        800.45 cents    100.00<br>  6:        900.45 cents    100.00<br>  7:       1200.00 cents    299.55<br><br>Doing ordinary roundoff this gives the following number of steps:<br><br>  1:  101   101<br>  2:  201   100<br>  3:  301   100<br>  4:  700   399<br>  5:  800   100<br>  6:  900   100<br>  7: 1200   300<br><br>The disadvantage we are seeing is that interval 3-4 is 399.9 cents but<br>it gets only 399 steps of 1 cent.<br>The solution is to give up the fixed tuning of pitch number 0 and <br>incorporate it into the roundoff process. If the grid of tuning steps<br>is shifted at most half a step up or down, pitch number 0 will always<br>be rounded off to zero but the other ones can be rounded off to<br>different values. The grid needs to be wobbled a bit in order to find <br>the optimal position. From a certain position, the next optimal shift <br>can be calculated and be fed back for a new round of rounding off. <br>This settles quickly. The variance is calculated with respect to the<br>shifted grid. For the example this gives as best (least squares) fit: <br><br>  1:  100   100<br>  2:  200   100<br>  3:  300   100<br>  4:  700   400<br>  5:  800   100<br>  6:  900   100<br>  7: 1200   300<br><br>The grid is shifted is 0.4286 cents.<br>I'm currently trying to find an efficient way of best guessing a shift.<br>The method I had originally was found not to work in all cases.<br>For tunings with another octave than what the tuning steps of <br>synthesizers are based on (mostly 2/1), and not a multiple of it, this<br>method doesn't work.<br><br>Manuel Op de Coul    coul@ezh.nl<br><br>Received: from eartha.mills.edu [144.91.3.20] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Mon, 29 Jan 1996 22:31 +0100<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id NAA05882; Mon, 29 Jan 1996 13:31:25 -0800<br>Date: Mon, 29 Jan 1996 13:31:25 -0800<br>Message-Id: <Pine.3.89.9601291546.A963-0100000@email.ir.miami.edu><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div><h3><a id=2508 href="#2508">ðŸ”—</a>Allen &#x3C;STRANGE@sjsuvm1.sjsu.edu&#x3E;</h3><span>1/29/1996 2:27:46 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>Regarding Partch transcriptions: Ted Mook, former Newband string player,<br>has recently released a recording of the 17 Li Po Lyrics and has re-notated<br>the score.  I have his email address at home and will send it to you later.<br><br>A while back I did a MIDI version of Barstow but I guarantee a MIDI file makes<br>less sense than Harry's notation (plus the project was a total failure in<br>terms of musical sensibilities--)<br><br>=========================================================================<br>|                          Allen Strange                                |<br>|             http://cadre.sjsu.edu/music/strange.html                  |<br>|_______________________________________________________________________|<br>| Electro-Acoustic Music     | International Computer Music Association |<br>|        Studios             |        2040 Polk St., Suite 330          |<br>| School of Music            |        San Francisco, CA 94109           |<br>| San Jose State University  |       Telephone + (408) 395-2538         |<br>| 1 Washington Square        |          Fax + (408) 395-2648            |<br>| San Jose, CA 95192-0095    |      Email: icma@sjsuvm1.sjsu.edu        |<br>| Telephone +(408) 924-4646  |                                          |<br>| Fax +(408) 924-4773        |     We hope to see you at the ICMC96     |<br>| <strange@sjsuvm1.sjsu.edu> |         On the Edge in Hong Kong         |<br>|                            |         ICMC96@cs.ust.hk for info        |<br>|=======================================================================<br><br>Received: from eartha.mills.edu [144.91.3.20] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Tue, 30 Jan 1996 00:30 +0100<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id PAA09473; Mon, 29 Jan 1996 15:30:52 -0800<br>Date: Mon, 29 Jan 1996 15:30:52 -0800<br>Message-Id: <9AA1177F0A@rice.houstonisd.k12.tx.us><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div><h3><a id=2511 href="#2511">ðŸ”—</a>Gary &#x3C;71670.2576@compuserve.com&#x3E;</h3><span>1/29/1996 11:02:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'>> It is well discussed that his tablature notation makes reading a score <br>> tedious<br><br>   I hadn't thought of this before, but interpreting Partch's scores might in<br>itself be a reason to have copies of his instruments around the house.  I<br>suspect that having them around might make it easier to relate to, for example<br>the chromelodeon parts.  <br><br><br>Received: from eartha.mills.edu [144.91.3.20] by vbv40.ezh.nl<br>           with SMTP-OpenVMS via TCP/IP; Wed, 31 Jan 1996 00:31 +0100<br>Received: from  by eartha.mills.edu via SMTP (940816.SGI.8.6.9/930416.SGI)<br>	for <coul@ezh.nl> id PAA23746; Tue, 30 Jan 1996 15:31:40 -0800<br>Date: Tue, 30 Jan 1996 15:31:40 -0800<br>Message-Id: <B29E6D3293@rice.houstonisd.k12.tx.us><br>Errors-To: madole@ella.mills.edu<br>Reply-To: tuning@eartha.mills.edu<br>Originator: tuning@eartha.mills.edu<br>Sender: tuning@eartha.mills.edu</div>