<a href="/tuning-math">back to list</a><h1>semi-periodic scales</h1><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/23/2001 5:10:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Posting an open question...</p><p>The normal diatonic scale is said to have octave equivalence.<br/>Which means, you can start anywhere in the scale, move an<br/>octave, and you won&apos;t know that anything happened.</p><p>The diatonic scale is semi-periodic at the 3:2.  For moves of a<br/>single 3:2, very little changes (say, from LLsLLLs to LLsLLsL).</p><p>How can we quantify this?</p><p>-Carl</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>9/24/2001 12:10:11 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; Posting an open question...<br/>&gt;<br/>&gt; The normal diatonic scale is said to have octave equivalence.<br/>&gt; Which means, you can start anywhere in the scale, move an<br/>&gt; octave, and you won&apos;t know that anything happened.<br/>&gt;<br/>&gt; The diatonic scale is semi-periodic at the 3:2.  For moves of a<br/>&gt; single 3:2, very little changes (say, from LLsLLLs to LLsLLsL).<br/>&gt;<br/>&gt; How can we quantify this?<br/>&gt;<br/>&gt; -Carl</p><p>Hi Carl . . .</p><p>Only an MOS scale generated by approximate 3:2&apos;s will have this<br/>property (only one note changes with transpositions by a 3:2). Bigger<br/>examples include 19-out-of-31 and 29-out-of-41.</p><p>My omnitetrachordality property is closely related. If<br/>omnitetrachordality holds, moves of a 3:2 will only change the notes<br/>within a single 9:8 span.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/24/2001 12:49:47 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Only an MOS scale generated by approximate 3:2&apos;s will have this<br/>&gt;property (only one note changes with transpositions by a 3:2).</p><p>Yes but I&apos;m interested in a general measure for any scale.  I&apos;m<br/>thinking of a function which can take a scale and an interval as<br/>an input, and spit out the &quot;extent&quot; of the scale&apos;s symmetry at<br/>that interval.</p><p>&gt;My omnitetrachordality property is closely related. If<br/>&gt;omnitetrachordality holds, moves of a 3:2 will only change the<br/>&gt;notes within a single 9:8 span.</p><p>Is definition in your paper still the most recent?</p><p>-Carl</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>9/24/2001 1:56:44 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; &gt;Only an MOS scale generated by approximate 3:2&apos;s will have this<br/>&gt; &gt;property (only one note changes with transpositions by a 3:2).<br/>&gt;<br/>&gt; Yes but I&apos;m interested in a general measure for any scale.  I&apos;m<br/>&gt; thinking of a function which can take a scale and an interval as<br/>&gt; an input, and spit out the &quot;extent&quot; of the scale&apos;s symmetry at<br/>&gt; that interval.</p><p>Sounds good . . . for an MOS scale, it depends on how many generators<br/>make up the 3:2 . . . for example, any MIRACLE MOS will have 6 notes<br/>change when you transpose it by a 3:2.<br/>&gt;<br/>&gt; &gt;My omnitetrachordality property is closely related. If<br/>&gt; &gt;omnitetrachordality holds, moves of a 3:2 will only change the<br/>&gt; &gt;notes within a single 9:8 span.<br/>&gt;<br/>&gt; Is definition in your paper still the most recent?<br/>&gt;<br/>I don&apos;t use the word &quot;omnitetrachordality&quot; in my paper but the<br/>concept is there.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/24/2001 3:06:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Yes but I&apos;m interested in a general measure for any scale.  I&apos;m<br/>&gt;&gt;thinking of a function which can take a scale and an interval as<br/>&gt;&gt;an input, and spit out the &quot;extent&quot; of the scale&apos;s symmetry at<br/>&gt;&gt;that interval.<br/>&gt;<br/>&gt;Sounds good . . . for an MOS scale, it depends on how many<br/>&gt;generators make up the 3:2 . . . for example, any MIRACLE MOS<br/>&gt;will have 6 notes change when you transpose it by a 3:2.</p><p>I wonder if Gene, or somebody else with any knowledge of group<br/>theory could help.  Is there any notion like being &apos;partially<br/>closed&apos; under a certian transformations?</p><p>&gt;&gt;I don&apos;t use the word &quot;omnitetrachordality&quot; in my paper but the<br/>&gt;&gt;concept is there.</p><p>Is there a place where you do use omnitetrachordality?</p><p>-Carl</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>9/24/2001 3:23:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; &gt;&gt;Yes but I&apos;m interested in a general measure for any scale.  I&apos;m<br/>&gt; &gt;&gt;thinking of a function which can take a scale and an interval as<br/>&gt; &gt;&gt;an input, and spit out the &quot;extent&quot; of the scale&apos;s symmetry at<br/>&gt; &gt;&gt;that interval.<br/>&gt; &gt;<br/>&gt; &gt;Sounds good . . . for an MOS scale, it depends on how many<br/>&gt; &gt;generators make up the 3:2 . . . for example, any MIRACLE MOS<br/>&gt; &gt;will have 6 notes change when you transpose it by a 3:2.<br/>&gt;<br/>&gt; I wonder if Gene, or somebody else with any knowledge of group<br/>&gt; theory could help.</p><p>Help how? Aren&apos;t we done?</p><p>&gt; &gt;&gt;I don&apos;t use the word &quot;omnitetrachordality&quot; in my paper but the<br/>&gt; &gt;&gt;concept is there.<br/>&gt;<br/>&gt; Is there a place where you do use omnitetrachordality?</p><p>On the tuning list. It means the same thing as the property mentioned<br/>in my paper.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/24/2001 4:15:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;I wonder if Gene, or somebody else with any knowledge of group<br/>&gt;&gt;theory could help.<br/>&gt;<br/>&gt;Help how? Aren&apos;t we done?</p><p>I won&apos;t speak for everybody else, but I&apos;m not done before I have<br/>a metric.  Something that can return more than a boolean... as in,<br/>&quot;such-and-such scale in x % symmetrical at the 3:2&quot;, or something.</p><p>What makes sense here?  I&apos;ve got:</p><p>&quot;The percentage of a scale&apos;s modes containing a 3/2, in which the<br/>pattern of intervals generating scale degrees between 1/1 and 3/2<br/>generates no pitches outside the scale when started at 3/2.&quot;</p><p>Which adds a modal aspect to the metric.  But I wonder if there&apos;s<br/>a raw measure of symmetry?</p><p>&gt;&gt;&gt;I don&apos;t use the word &quot;omnitetrachordality&quot; in my paper but the<br/>&gt;&gt;&gt;concept is there.<br/>&gt;&gt;<br/>&gt;&gt;Is there a place where you do use omnitetrachordality?<br/>&gt;<br/>&gt;On the tuning list. It means the same thing as the property<br/>&gt;mentioned in my paper.</p><p>Cool.  I&apos;ve seen it on the lists.  Just wondering if a Monzo<br/>dictionary entry, or something, had been made.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/24/2001 4:24:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote...</p><p>&gt; &quot;The percentage of a scale&apos;s modes containing a 3/2, in which the<br/>&gt; pattern of intervals generating scale degrees between 1/1 and 3/2<br/>&gt; generates no pitches outside the scale when started at 3/2.&quot;<br/>&gt;<br/>&gt; Which adds a modal aspect to the metric...  But I wonder if there&apos;s<br/>&gt; a raw measure of symmetry?</p><p>One try is to root each mode of the scale on a random pitch, then<br/>mulitply all those pitches by 3:2, then count the number of<br/>new pitches and divide by the number of notes in the scale.</p><p>-Carl</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>9/24/2001 4:35:46 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; &gt;&gt;I wonder if Gene, or somebody else with any knowledge of group<br/>&gt; &gt;&gt;theory could help.<br/>&gt; &gt;<br/>&gt; &gt;Help how? Aren&apos;t we done?<br/>&gt;<br/>&gt; I won&apos;t speak for everybody else, but I&apos;m not done before I have<br/>&gt; a metric.  Something that can return more than a boolean... as in,<br/>&gt; &quot;such-and-such scale in x % symmetrical at the 3:2&quot;, or something.<br/>&gt;<br/>&gt; What makes sense here?</p><p>How about the number of notes that stay the same, divided by the<br/>total number? So for the diatonic scale, it&apos;s 6/7 . . . for<br/>blackjack, 15/21 . . . for canasta, 25/31 . . . my decatonics would<br/>be 4/5 . . . one can easily calculate this as</p><p>1-(number of generators in 3:2)/(number of notes).</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>9/24/2001 4:37:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; One try is to root each mode of the scale on a random pitch, then<br/>&gt; mulitply all those pitches by 3:2, then count the number of<br/>&gt; new pitches and divide by the number of notes in the scale.</p><p>I don&apos;t see what the mode has to do with it. What changes when you<br/>label one note as the root, as opposed to not doing so?</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/24/2001 5:11:34 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;One try is to root each mode of the scale on a random pitch, then<br/>&gt;&gt;mulitply all those pitches by 3:2, then count the number of<br/>&gt;&gt;new pitches and divide by the number of notes in the scale.<br/>&gt;<br/>&gt;I don&apos;t see what the mode has to do with it. What changes when you<br/>&gt;label one note as the root, as opposed to not doing so?</p><p>Quite possibly nothing... I&apos;m cautious because I&apos;m already thinking<br/>through a layer of abstraction -- specifically, we don&apos;t actually<br/>care about pitches moving (as we do for transpositional coherence),<br/>we care about how much of an interval pattern is destroyed when we<br/>_aren&apos;t_ allowed any new pitches.  I&apos;m trying to think if this is<br/>really equivalent to counting the new pitches we&apos;d need.  I think<br/>it is, but a lot of what I&apos;ve thought has historically failed when<br/>tested against &quot;unusual&quot; (improper, non-just) scales...</p><p>Assuming counting the changing pitches works, then we need to ask<br/>if looking at a single mode, or even all the modes, is equivalent<br/>to what we really care about.  Namely, every possible interval<br/>pattern in the scale is generated, transposed by a fifth, the number<br/>of changing notes is divided by the length of the pattern in each<br/>case, and then the whole lot of results is averaged.</p><p>-Carl</p></div><h3>genewardsmith@juno.com</h3><span>9/24/2001 10:26:45 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; Which adds a modal aspect to the metric.  But I wonder if there&apos;s<br/>&gt; a raw measure of symmetry?</p><p>Do you care about the relative proportions of the scale steps?</p></div><h3>manuel.op.de.coul@eon-benelux.com</h3><span>9/25/2001 4:46:52 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl, how about the autocorrelation of the scale with its<br/>transposition to the degree representing 3/2?<br/>In Scala, look up the interval class for the nearest interval<br/>to 3/2, do SHOW TRANSPOSE and look at the value for this<br/>interval class.<br/>It wouldn&apos;t be defined if the scale is not CS though, in any<br/>case not if there&apos;s more than one i.c. for the fifth.<br/>Or we can think further for a way to define it in that case<br/>too, which may not be useful.</p><p>Manuel</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/25/2001 1:04:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Which adds a modal aspect to the metric.  But I wonder if there&apos;s<br/>&gt;&gt; a raw measure of symmetry?<br/>&gt;<br/>&gt; Do you care about the relative proportions of the scale steps?</p><p>Not sure what you mean... sounds like the answer would be yes...<br/>maybe an example would help make it clear.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/25/2001 1:08:20 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Carl, how about the autocorrelation of the scale with its<br/>&gt; transposition to the degree representing 3/2?<br/>&gt; In Scala, look up the interval class for the nearest interval<br/>&gt; to 3/2, do SHOW TRANSPOSE and look at the value for this<br/>&gt; interval class.</p><p>Don&apos;t really know what how autocorrelation is calculated.  How<br/>many lines of code does it take?  You can take your pick between<br/>posting sample code and attempting a verbal explanation.</p><p>&gt; It wouldn&apos;t be defined if the scale is not CS though, in any<br/>&gt; case not if there&apos;s more than one i.c. for the fifth.<br/>&gt; Or we can think further for a way to define it in that case<br/>&gt; too, which may not be useful.</p><p>What I&apos;m after here should definitely be independent of CS.</p><p>-Carl</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>9/25/2001 1:34:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl, you and I independently came up with the same measure here, so<br/>aren&apos;t we done? That is, once you realize that mode is irrelevant.</p></div><h3>genewardsmith@juno.com</h3><span>9/25/2001 4:32:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Carl Lumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; &gt; Do you care about the relative proportions of the scale steps?</p><p>&gt; Not sure what you mean... sounds like the answer would be yes...<br/>&gt; maybe an example would help make it clear.</p><p>Suppose we look at 12-note scales of the form abababaababa, formed by<br/>iterating fifths within octaves. We have 7 a and 5 b, and if we take<br/>scale steps such that a=2, b=1, we get the 19 et, a=3, b=2 gives the<br/>31 et, a=4 b=5 the 53 et, and a=5 b=4 the 55 et. One way of measuring<br/>self-similarity would make all of these the same, however we could<br/>also look at it in proportion to the average number of et intervals<br/>making up a scale step. In all cases a shift of a fifth interchanges<br/>an a and a b; for the 19-et that means an exchange of 2 and 1, in a<br/>sitation where the average step size is 19/12, whereas for the 55-et<br/>it is and exchange of 5 and 4 compared to an average size of 55/12;<br/>both are an exchange of one et interval so we might measure the<br/>goodness of the first by 12/19 and the second by 12/55.</p><p>This is related to the approximation of the fifth of the et by 7/12;<br/>a standard measure here would measure the relative goodness of the<br/>approximation to x by the reduced fraction p/q by q^2 |x - p/q|. If<br/>we do this, we find 12^2 |7/12 - 11/19| = 12/19 and<br/>12^2 |7/12 - 32/55| = 12/55, etc. If a scale of n steps is generated<br/>from a single cycle of a generator in an m-et, this suggests<br/>n^2 |a/n - b/m|, where b/m is the generator and a/n is what we might<br/>call the scale-step generator, as a measure of self-similarity.</p><p>We can also adapt it to more than one cycle of the generator; for<br/>instance a 12-cycle in the 22 et gives us 12^2 |7/12 - 13/22| = 12/11<br/>as a measure of self-similarity, whereas if we have two cycles of six<br/>tones a half-ocatave apart, we have two cyles each of which has a<br/>self-similarity measure of 6^2 | 1/6 - 2/11| = 6/11, suggesting the<br/>total self-similarity should be the same at 12/11.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/25/2001 4:38:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Carl, you and I independently came up with the same measure here,<br/>&gt;so aren&apos;t we done? That is, once you realize that mode is<br/>&gt;irrelevant.</p><p>Yeah, we may be done.  Just so long as nobody comes along and says<br/>that the effect of a transposition on the entire scale doesn&apos;t<br/>nec. represent the effects of transpositions on all of its subsets.</p><p>Also, I&apos;m interested to find out how the autocorr. thing works in<br/>Scala.  And maybe gene has a group-theoretical way of looking at<br/>it.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/25/2001 5:40:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Suppose we look at 12-note scales of the form abababaababa, formed<br/>&gt;by iterating fifths within octaves. We have 7 a and 5 b, and if we<br/>&gt;take scale steps such that a=2, b=1, we get the 19 et, a=3, b=2<br/>&gt;gives the 31 et, a=4 b=5 the 53 et, and a=5 b=4 the 55 et. One way<br/>&gt;of measuring self-similarity would make all of these the same,</p><p>All of these are the same under the measure Paul and I are pushing.</p><p>&gt;however we could also look at it in proportion to the average number<br/>&gt;of et intervals making up a scale step. In all cases a shift of a<br/>&gt;fifth interchanges an a and a b; for the 19-et that means an<br/>&gt;exchange of 2 and 1, in a sitation where the average step size is<br/>&gt;19/12, whereas for the 55-et it is and exchange of 5 and 4 compared<br/>&gt;to an average size of 55/12; both are an exchange of one et interval<br/>&gt;so we might measure the goodness of the first by 12/19 and the<br/>&gt;second by 12/55.</p><p>Hmm... what would that do... this may be useful for comparing one<br/>scale to another when they otherwise share the same value on the<br/>measure Paul and I suggest (as in the example).  In general, though,<br/>I was after a way to compare a scale only with itself.  So the<br/>answer is, I don&apos;t care about the proportions.</p><p>&gt;This is related to the approximation of the fifth of the et by<br/>&gt;7/12; a standard measure here would measure the relative goodness<br/>&gt;of the approximation to x by the reduced fraction p/q by<br/>&gt;q^2 |x - p/q|. If we do this, we find 12^2 |7/12 - 11/19| = 12/19<br/>&gt;and 12^2 |7/12 - 32/55| = 12/55, etc. If a scale of n steps is<br/>&gt;generated from a single cycle of a generator in an m-et, this<br/>&gt;suggests n^2 |a/n - b/m|, where b/m is the generator and a/n is<br/>&gt;what we might call the scale-step generator, as a measure of self-<br/>&gt;similarity.</p><p>Self-similarity?  I&apos;m not sure I&apos;m making that connection.  I<br/>should warn you that I&apos;m pretty slow when it comes to the<br/>language of math.  I can do simple algebra, but it takes me a<br/>long time.  I&apos;m not afraid of it, but maybe I should be.  That<br/>sort of thing.</p><p>&gt;We can also adapt it to more than one cycle of the generator; for<br/>&gt;instance a 12-cycle in the 22 et gives us 12^2 |7/12 - 13/22| =<br/>&gt;12/11 as a measure of self-similarity, whereas if we have two<br/>&gt;cycles of six tones a half-ocatave apart, we have two cyles each<br/>&gt;of which has a self-similarity measure of 6^2 | 1/6 - 2/11| = 6/11,<br/>&gt;suggesting the total self-similarity should be the same at 12/11.</p><p>Hrm.  This sounds interesting, but I&apos;m not sure how it relates<br/>to symmetry at the 3:2.  If I had to brute-force the problem, here&apos;s<br/>how I&apos;d do it:</p><p>() Tune up the scale.<br/>() Find all the subset of it.<br/>() Transpose each subset by a perfect 3:2.<br/>() Measure how far outside of original complete scale<br/>   each trasposed subset is.<br/>() Take the mean of these.</p><p>Keep in mind that I need to be able to look at scales which are<br/>not MOS, not even a periodicity block at all.  Is there a standard<br/>way to measure partial symmetry?  Come to think of it, how do we<br/>even write normal octave equivalence for a non-PB?  Write a seed,<br/>and then a transformation?</p><p>-Carl</p></div><h3>manuel.op.de.coul@eon-benelux.com</h3><span>9/26/2001 2:20:51 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>This autocorrelation value measures the scale step similarity.<br/>From the help file:</p><p>[...] the normalised autocorrelation values for the logarithmic<br/>intervals between consecutive pitches. It is a measure how similar the<br/>interval sequence is when the scale is transposed to the given key. A<br/>value of 1.0 means identical, a value of 0.0 means no similarity.</p><p>So if P(i) is scale pitch i and S(i) is the step P(i)-P(i-1) and n the<br/>number of notes and k the interval class representing the fifth,<br/>then the autocorrelation for the scale step pattern is</p><p>  n<br/> sum  S(i)*S((i+k) mod n)<br/> i=1<br/> ------------------------<br/>  n<br/> sum  S(i)*S(i)<br/> i=1</p><p>But apparently you want a more general measure.</p><p>&gt;() Tune up the scale.<br/>&gt;() Find all the subset of it.<br/>&gt;() Transpose each subset by a perfect 3:2.<br/>&gt;() Measure how far outside of original complete scale<br/>&gt;   each transposed subset is.<br/>&gt;() Take the mean of these.</p><p>The fourth step is unclear to me. What are you measuring if<br/>the scale doesn&apos;t contain just fifths? What&apos;s the criterion<br/>for deciding if the tones of the subsets are inside the<br/>original scale or not?</p><p>Manuel</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/26/2001 11:26:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;So if P(i) is scale pitch i and S(i) is the step P(i)-P(i-1) and<br/>&gt;n the number of notes and k the interval class representing the<br/>&gt;fifth, then the autocorrelation for the scale step pattern is<br/>&gt;<br/>&gt;   n<br/>&gt;  sum  S(i)*S((i+k) mod n)<br/>&gt;  i=1<br/>&gt;  ------------------------<br/>&gt;   n<br/>&gt;  sum  S(i)*S(i)<br/>&gt;  i=1</p><p>Is S(i) a log-freq. size?</p><p>&gt; But apparently you want a more general measure.</p><p>I&apos;m not sure autocorr. is too special, but it breaks if there<br/>isn&apos;t a well-behaved k for 3:2.  Unlike propriety, and in<br/>particular transpositional coherence, we don&apos;t care about the<br/>mapping between scale intervals and acoustics here.</p><p>&gt; &gt;() Tune up the scale.<br/>&gt; &gt;() Find all the subset of it.<br/>&gt; &gt;() Transpose each subset by a perfect 3:2.<br/>&gt; &gt;() Measure how far outside of original complete scale<br/>&gt; &gt;   each transposed subset is.<br/>&gt; &gt;() Take the mean of these.<br/>&gt;<br/>&gt; The fourth step is unclear to me. What are you measuring if<br/>&gt; the scale doesn&apos;t contain just fifths? What&apos;s the criterion<br/>&gt; for deciding if the tones of the subsets are inside the<br/>&gt; original scale or not?</p><p>I left that intentionally vague, because there are many ways<br/>to do it, none of which have any bearing on the point that<br/>whatever procedure we use, it should be equivalent to looking<br/>at all the subsets of the scale.</p><p>The two main families of #4 choices are:</p><p>4a; We allow appoximations of a 3:2 to be as good as a true<br/>    3:2 early on, and then only measure the relative change<br/>    in the pattern of scale steps after the transposition.<br/>    That&apos;s what Paul and I are working with so far.</p><p>4b; We consider things to get smoothly worse as distance from<br/>    the 3:2 increases, making comparisons in log-freq. space<br/>    at the end.</p><p>-Carl</p></div><h3>manuel.op.de.coul@eon-benelux.com</h3><span>9/27/2001 2:29:12 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl wrote:<br/>&gt;Is S(i) a log-freq. size?</p><p>Yes.</p><p>And earlier:<br/>&gt;Namely, every possible interval<br/>&gt;pattern in the scale is generated, transposed by a fifth, the number<br/>&gt;of changing notes is divided by the length of the pattern in each<br/>&gt;case, and then the whole lot of results is averaged.</p><p>Is the fact that you want to give each subset equal weight the reason<br/>for evaluating each subset?<br/>And if you&apos;d give each tone equal weight instead, wouldn&apos;t it be<br/>necessary anymore to evaluate subsets?</p><p>Manuel</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/27/2001 12:07:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Is the fact that you want to give each subset equal weight the<br/>&gt; reason for evaluating each subset?</p><p>Yes.</p><p>&gt; And if you&apos;d give each tone equal weight instead, wouldn&apos;t it be<br/>&gt; necessary anymore to evaluate subsets?</p><p>As far as I can tell, giving each tone equal weight is equivalent<br/>to giving each subset equal weight, sinc the set of all subsets<br/>should have the same proportion of intervals as a single instance<br/>of the complete scale.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/27/2001 3:06:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Paul,</p><p>Looks like the measure we both came up with can be done in<br/>Scala, like this:</p><p>() LOAD a scale, or make one<br/>() use KEY to rotate the scale until a 3/2 shows up<br/>() SHOW TRANSPOSE<br/>() observe the row corresponding to the key with the 3/2<br/>() observe the first number in the third column of that row<br/>() divide that number by the number of tones in the scale</p><p>There&apos;s a problem, though.  If there are different approx.<br/>3:2&apos;s in the scale, you may get diff. results depending on<br/>which row you observe from SHOW TRANSPOSE.  It seems this<br/>is a reason to go over to something like autocorrelation...<br/>unfortunately, it enforces degree order (but it wouldn&apos;t<br/>have to, right Manuel?).</p><p>Maybe SHOW DIFFERENCE can help:</p><p>&gt;If the scales do not have the same number of notes, the amount<br/>&gt;compared is the maximum of the two scale sizes.</p><p>?</p><p>&gt;   /NEAREST<br/>&gt;<br/>&gt;Show the differences not between corresponding scale degrees but<br/>&gt;between the pitch of the current scale and its nearest counterpart<br/>&gt;in the given scale.</p><p>That sounds like what we want.</p><p>&gt;At the end the number of pitches which are different is given</p><p>Ehhhxcellent.  Manuel, there are a couple of precision variables<br/>in Scala (TOLERANCE with SHOW LOCATIONS, for example).  Does this<br/>final number go through any of them?</p><p>-Carl</p></div><h3>manuel.op.de.coul@eon-benelux.com</h3><span>9/28/2001 4:55:45 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;As far as I can tell, giving each tone equal weight is equivalent<br/>&gt;to giving each subset equal weight, sinc the set of all subsets<br/>&gt;should have the same proportion of intervals as a single instance<br/>&gt;of the complete scale.</p><p>Ah yes, that should be right.</p><p>Manuel</p></div><h3>manuel.op.de.coul@eon-benelux.com</h3><span>9/28/2001 5:11:25 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;() use KEY to rotate the scale until a 3/2 shows up</p><p>Or use SHOW LOC 3/2 to see where one is right away.</p><p>&gt;There&apos;s a problem, though.  If there are different approx.<br/>&gt;3:2&apos;s in the scale, you may get diff. results depending on<br/>&gt;which row you observe from SHOW TRANSPOSE.</p><p>Yes it only looks for exactly corresponding intervals.</p><p>&gt;It seems this<br/>&gt;is a reason to go over to something like autocorrelation...<br/>&gt;unfortunately, it enforces degree order (but it wouldn&apos;t<br/>&gt;have to, right Manuel?).</p><p>Then it probably needs a more complex definition. Perhaps an<br/>average value for transpositions by a fifth starting on all<br/>keys of the scale.</p><p>&gt;&gt;If the scales do not have the same number of notes, the amount<br/>&gt;&gt;compared is the maximum of the two scale sizes.</p><p>Ah, that&apos;s unclear. What&apos;s meant is that the smaller scale is<br/>implicitly octave-extended to the size of the larger scale.<br/>So that&apos;s not what you want.</p><p>&gt;Ehhhxcellent.  Manuel, there are a couple of precision variables<br/>&gt;in Scala (TOLERANCE with SHOW LOCATIONS, for example).  Does this<br/>&gt;final number go through any of them?</p><p>No.</p><p>Manuel</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/28/2001 1:33:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;It seems this is a reason to go over to something like<br/>&gt;&gt;autocorrelation... unfortunately, it enforces degree<br/>&gt;&gt;order (but it wouldn&apos;t have to, right Manuel?).<br/>//<br/>&gt;Perhaps an average value for transpositions by a fifth<br/>&gt;starting on all keys of the scale.</p><p>Can you illustrate with an example?</p><p>&gt;Then it probably needs a more complex definition.<br/>//<br/>&gt;  n<br/>&gt; sum  S(i)*S((i+k) mod n)<br/>&gt; i=1<br/>&gt; ------------------------<br/>&gt;  n<br/>&gt; sum  S(i)*S(i)<br/>&gt; i=1</p><p>This is exactly what we want.  Except, instead of comparing<br/>the scale and its rotation to a degree near a 3:2, we compare<br/>it with its transposition by an exact 3:2, simply taking the<br/>lowest value for all rotations of the transposed version,<br/>using a simple ordered pairing of intervals in each case.</p><p>  n<br/> sum   S(i) * S(i&apos;)<br/> i=1<br/> -------------------<br/>  n<br/> sum   S(i)^2<br/> i=1</p><p>...where i&apos; is an interval from the transposed scale.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>9/30/2001 12:57:12 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote...</p><p>&gt;&gt;  n<br/>&gt;&gt; sum  S(i)*S((i+k) mod n)<br/>&gt;&gt; i=1<br/>&gt;&gt; ------------------------<br/>&gt;&gt;  n<br/>&gt;&gt; sum  S(i)*S(i)<br/>&gt;&gt; i=1<br/>&gt;<br/>&gt;This is exactly what we want.  Except, instead of comparing<br/>&gt;the scale and its rotation to a degree near a 3:2, we compare<br/>&gt;it with its transposition by an exact 3:2, simply taking the<br/>&gt;lowest value for all rotations of the transposed version,</p><p>Did I say lowest value?  I meant highest value, or &apos;best&apos;<br/>value.  =1 means perfect correlation.  Actually, isn&apos;t it<br/>possible to get &gt;1 ??</p><p>-Carl</p></div><h3>manuel.op.de.coul@eon-benelux.com</h3><span>10/3/2001 6:40:56 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[me]<br/>Perhaps an average value for transpositions by a fifth<br/>starting on all keys of the scale.<br/>[Carl]<br/>Can you illustrate with an example?</p><p>Let&apos;s forget it, on second thought it was a bad idea.</p><p>&gt;This is exactly what we want.  Except, instead of comparing<br/>&gt;the scale and its rotation to a degree near a 3:2, we compare<br/>&gt;it with its transposition by an exact 3:2, simply taking the<br/>&gt;lowest value for all rotations of the transposed version,<br/>&gt;using a simple ordered pairing of intervals in each case.</p><p>Can _you_ illustrate with an example?</p><p>Manuel</p></div>