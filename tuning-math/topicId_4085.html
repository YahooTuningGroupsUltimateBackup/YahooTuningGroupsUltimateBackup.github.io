<a href="/tuning-math">back to list</a><h1>method for finding balanced sums?</h1><h3><a id=4085 href="#4085">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>4/17/2002 6:01:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>All;</p><p>Say I have a list of positive integers, and I sum them up.<br/>Is there a method for assigning signs to them so their sum<br/>is as close to zero (either positive or negative) as possible?</p><p>-Carl</p></div><h3><a id=4098 href="#4098">ðŸ”—</a>manuel.op.de.coul@eon-benelux.com</h3><span>4/18/2002 1:25:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl wrote:<br/>&gt;Say I have a list of positive integers, and I sum them up.<br/>&gt;Is there a method for assigning signs to them so their sum<br/>&gt;is as close to zero (either positive or negative) as possible?</p><p>This is a kind of knapsack problem, which I think is NP-complete.<br/>Do you have so many that brute force takes too long a time?<br/>With the mail delays, perhaps an answer from Gene is already<br/>coming.</p><p>Manuel</p></div><h3><a id=4099 href="#4099">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>4/18/2002 1:41:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., manuel.op.de.coul@e... wrote:<br/>&gt; Carl wrote:</p><p>&gt; &gt;Say I have a list of positive integers, and I sum them up.<br/>&gt; &gt;Is there a method for assigning signs to them so their sum<br/>&gt; &gt;is as close to zero (either positive or negative) as possible?<br/>&gt;<br/>&gt; This is a kind of knapsack problem, which I think is NP-complete.<br/>&gt; Do you have so many that brute force takes too long a time?<br/>&gt; With the mail delays, perhaps an answer from Gene is already<br/>&gt; coming.</p><p>I didn&apos;t have anything to say beyond that it looked like a -1/1 knapsack, and so should be NP hard in general. I&apos;d just brute force it.</p></div><h3><a id=4114 href="#4114">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>4/18/2002 6:43:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;Say I have a list of positive integers, and I sum them up.<br/> &gt;&gt;&gt;Is there a method for assigning signs to them so their sum<br/> &gt;&gt;&gt;is as close to zero (either positive or negative) as possible?<br/> &gt;&gt;<br/> &gt;&gt;This is a kind of knapsack problem, which I think is NP-complete.<br/> &gt;&gt;Do you have so many that brute force takes too long a time?<br/> &gt;&gt;With the mail delays, perhaps an answer from Gene is already<br/> &gt;&gt;coming.<br/> &gt;<br/> &gt;I didn&apos;t have anything to say beyond that it looked like a -1/1<br/> &gt;knapsack, and so should be NP hard in general. I&apos;d just brute force<br/> &gt;it.</p><p>I saw knapsack on mathworld last night, but didn&apos;t think it<br/>applied because of the business about weights.</p><p>What if I order the elements from largest to smallest and then<br/>recursively subtract them in pairs, applying absolute value at<br/>the end of each round.  So like</p><p>(define kpsk<br/>    (lambda (ls)<br/>       (if (null? (cdr ls))<br/>          (car ls)<br/>          (kpsk (cons (abs (- (cadr ls) (car ls))) (cddr ls))))))</p><p>Tests:<br/>(5 4 3 2 1) =&gt; 1<br/>(10 8 6 4 2) =&gt; 2<br/>(16 8 4 2) =&gt; 2<br/>(92 91 90 1) =&gt; 88<br/>(11 7 5 3 2) =&gt; 0<br/>(25 16 9 4 1) =&gt; 3</p><p>Now, I don&apos;t know how hard sorting is.  I&apos;ve got a version of<br/>mergesort here that is nlog(n), and IIRC quicksort is often,<br/>but not always, better.</p><p>This doesn&apos;t tell you the signs.  An extra test at each round<br/>might be able to write those out, but all I want is the total,<br/>so...</p><p>This measure doesn&apos;t seem to do what I want (see #4 at<br/><a href="http://lumma.org/gd3.txt">lumma.org/gd3.txt</a>), since cases like (3 3) will be low<br/>(as they should) while (3 3 3) will be high.  Back to the<br/>drawing board.</p><p>-Carl</p></div>