<a href="/tuning-math">back to list</a><h1>"Lp norm" naming - god damn it</h1><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>7/31/2012 4:23:31 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Here&apos;s what happens should one insist on calling it &quot;the Lp norm&quot; in<br/>all cases, regardless of what JI group you&apos;re in.</p><p>Say we&apos;re in the <a href="http://2.9.21.11/5">2.9.21.11/5</a> subgroup, and say we want to use a metric<br/>for interval complexity that corresponds to Tenney height. I want to<br/>make it so that ||a/b|| = log(a*b) for all ratios in this subgroup.<br/>IOW, we want to put &quot;the L1 norm&quot; on these intervals.</p><p>But that&apos;s actually wrong, that&apos;s not what we want. The correct norm<br/>is NOT the actual mathematical thing called the &quot;L1 norm&quot; on that<br/>space. It&apos;s absolutely not the thing where you just weight the axes<br/>with log(2) and log(9) and log(7*3) and log(11*5) and then start using<br/>a taxicab metric. So we don&apos;t want to use an L1 norm at all. We want<br/>to use some weird norm which has a unit sphere which is:</p><p>a) the intersection of the 11-limit weighted L1 unit sphere and the<br/><a href="http://2.3.7.11/5">2.3.7.11/5</a> subspace, which is going to be some weird polytope, and<br/>then<br/>b) sent through a dilation and shear that changes the axes to<br/><a href="http://2.9.21.11/5">2.9.21.11/5</a>, which is now an even weirder polytope.</p><p>and whose name is &quot;the norm induced down from the L1 norm&quot;.</p><p>Let&apos;s call these strange norms something else than the Lebesgue norm<br/>on a vector space please. I&apos;ll suggest &quot;Tenney norm&quot; or &quot;Tp norm&quot;<br/>again.</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>7/31/2012 4:31:48 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Tue, Jul 31, 2012 at 7:23 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; Let&apos;s call these strange norms something else than the Lebesgue norm<br/>&gt; on a vector space please. I&apos;ll suggest &quot;Tenney norm&quot; or &quot;Tp norm&quot;<br/>&gt; again.</p><p>Also, this isn&apos;t just for the sake of pedantry. It&apos;s because it makes<br/>it difficult to communicate and even more difficult to figure out what<br/>other people are saying.</p><p>- Earlier tonight, I had a lot of fun trying to express the concept<br/>that Graham&apos;s temperament finder is currently using The Actual Thing<br/>Called The Lp Norm on subgroup spaces instead of using The Thing We&apos;re<br/>Just Calling The Lp Norm.<br/>- There was some confusion on Facebook about whether &quot;the Lp norm&quot; on<br/>the 2.9.21 subgroup is actually the Lp norm on the 2.9.21 subgroup.<br/>- Earlier this week in Gene&apos;s &quot;optimal subgroup&quot; thread I wasn&apos;t sure<br/>if Gene were talking about weighted or unweighted Lp norms.</p><p>And this is on week one and entirely for conversations between the<br/>only 4-5 people who actually know what these concepts mean.</p><p>You know what, screw it, I&apos;m just going to make a wiki page about the<br/>whole thing and we&apos;ll see where that leaves everything.</p><p>-Mike</p></div><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>7/31/2012 1:08:01 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; On Tue, Jul 31, 2012 at 7:23 AM, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Let&apos;s call these strange norms something else than the Lebesgue norm<br/>&gt; &gt; on a vector space please. I&apos;ll suggest &quot;Tenney norm&quot; or &quot;Tp norm&quot;<br/>&gt; &gt; again.</p><p>I like &quot;Tenney norm&quot; for the L1-based one. And the L2-based one can be the &quot;Tenney-Euclidean norm&quot;, which is particularly easy to deal with because it actually is an L2 norm on the subspace. You just need the appropriate weighting matrix.</p><p>&gt; Also, this isn&apos;t just for the sake of pedantry. It&apos;s because it makes<br/>&gt; it difficult to communicate and even more difficult to figure out what<br/>&gt; other people are saying.<br/>&gt;<br/>&gt; - Earlier tonight, I had a lot of fun trying to express the concept<br/>&gt; that Graham&apos;s temperament finder is currently using The Actual Thing<br/>&gt; Called The Lp Norm on subgroup spaces instead of using The Thing We&apos;re<br/>&gt; Just Calling The Lp Norm.</p><p>Right, and for me this is a big feature request for the temperament finder. Currently it uses the correct weighting only when the basis elements are all prime powers (in which case the two norms are identical). Unfortunately I think it&apos;ll be non-trivial for Graham to implement because it means you can&apos;t just treat the basis elements as floating point numbers.</p><p>Keenan</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>7/31/2012 3:44:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Tue, Jul 31, 2012 at 4:08 PM, Keenan Pepper &lt;<a href="mailto:keenanpepper@gmail.com">keenanpepper@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; I like &quot;Tenney norm&quot; for the L1-based one. And the L2-based one can be the &quot;Tenney-Euclidean norm&quot;, which is particularly easy to deal with because it actually is an L2 norm on the subspace. You just need the appropriate weighting matrix.</p><p>Not always. Take a look at the 2.9.21 subgroup of the 7-limit.<br/>Assuming we&apos;re using the vector space R^n, then the appropriate<br/>subspace is actually just the same as the 2.3.7 subgroup. The induced<br/>norm on the 2.3.7 subgroup will lead to an ordinary 2-sphere as the<br/>unit sphere, meaning we&apos;ll still have an L2 norm - but we want 2.9.21,<br/>not 2.3.7. To get to the former from the latter, we&apos;ll need to shrink<br/>the 3-axis and apply a shear mapping, which will ruin it, and we won&apos;t<br/>have an L2 norm anymore. For instance, |0 0 1&gt; and |0 -1 1&gt;,<br/>corresponding to 21/1 and 7/3 respectively, must now have the same<br/>norm. The unit sphere is now a rotated ellipsoid and not an ordinary<br/>2-sphere. And even if you want to get away with this by weighting the<br/>coordinates instead of changing the behavior of the norm, it&apos;s still<br/>not an L2 norm, because then |0 zero something&gt; has to have the same<br/>norm as |0 nonzero something&gt; for 21/1 to have the same norm as 7/3.</p><p>Put another way, if what you said were exactly how it worked, Graham&apos;s<br/>temperament finder would already be exhibiting the correct behavior.</p><p>As for names, what I want is a name for all of these norms, such that<br/>the norm is a function of the limit and that you use the same name for<br/>the weird induced norm on a subspace as you do for the full-limit. If,<br/>for instance, we say that Tenney-Euclidean height is the T2 norm,<br/>where the &quot;L&quot; in &quot;Lp&quot; standing for Lebesgue has been replaced with &quot;T&quot;<br/>for Tenney, then it should also apply to this case. The T2 norm can<br/>reduce to the L2 norm in cases where the subgroup only involves primes<br/>and prime powers, but doesn&apos;t necessarily for subgroups, and if a<br/>function of the subgroup you&apos;re using.</p><p>That&apos;s the thing I want a name for. I like Tp norm, where it&apos;s<br/>understood that the Tp norm involves the mapping back to full limit +<br/>weighting matrix coordinate change + Lp norm all in one step. Then you<br/>can say that the Tp norm reduces to the Lp norm in cases where only<br/>the last two steps are needed.</p><p>&gt; &gt; Also, this isn&apos;t just for the sake of pedantry. It&apos;s because it makes<br/>&gt; &gt; it difficult to communicate and even more difficult to figure out what<br/>&gt; &gt; other people are saying.<br/>&gt; &gt;<br/>&gt; &gt; - Earlier tonight, I had a lot of fun trying to express the concept<br/>&gt; &gt; that Graham&apos;s temperament finder is currently using The Actual Thing<br/>&gt; &gt; Called The Lp Norm on subgroup spaces instead of using The Thing We&apos;re<br/>&gt; &gt; Just Calling The Lp Norm.<br/>&gt;<br/>&gt; Right, and for me this is a big feature request for the temperament finder. Currently it uses the correct weighting only when the basis elements are all prime powers (in which case the two norms are identical). Unfortunately I think it&apos;ll be non-trivial for Graham to implement because it means you can&apos;t just treat the basis elements as floating point numbers.</p><p>I offered to do it when I have the time but I don&apos;t know when that&apos;s<br/>going to be these days, especially because I&apos;m not much of a python<br/>expert. It doesn&apos;t seem like it&apos;d be too difficult, but I don&apos;t know<br/>how it&apos;s coded now.</p><p>-Mike</p></div><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>8/1/2012 7:09:50 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; On Tue, Jul 31, 2012 at 4:08 PM, Keenan Pepper &lt;keenanpepper@...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; I like &quot;Tenney norm&quot; for the L1-based one. And the L2-based one can be the &quot;Tenney-Euclidean norm&quot;, which is particularly easy to deal with because it actually is an L2 norm on the subspace. You just need the appropriate weighting matrix.<br/>&gt;<br/>&gt; Not always. Take a look at the 2.9.21 subgroup of the 7-limit.<br/>&gt; Assuming we&apos;re using the vector space R^n, then the appropriate<br/>&gt; subspace is actually just the same as the 2.3.7 subgroup. The induced<br/>&gt; norm on the 2.3.7 subgroup will lead to an ordinary 2-sphere as the<br/>&gt; unit sphere, meaning we&apos;ll still have an L2 norm - but we want 2.9.21,<br/>&gt; not 2.3.7. To get to the former from the latter, we&apos;ll need to shrink<br/>&gt; the 3-axis and apply a shear mapping, which will ruin it, and we won&apos;t<br/>&gt; have an L2 norm anymore. For instance, |0 0 1&gt; and |0 -1 1&gt;,<br/>&gt; corresponding to 21/1 and 7/3 respectively, must now have the same<br/>&gt; norm. The unit sphere is now a rotated ellipsoid and not an ordinary<br/>&gt; 2-sphere. And even if you want to get away with this by weighting the<br/>&gt; coordinates instead of changing the behavior of the norm, it&apos;s still<br/>&gt; not an L2 norm, because then |0 zero something&gt; has to have the same<br/>&gt; norm as |0 nonzero something&gt; for 21/1 to have the same norm as 7/3.</p><p>Yeah, it&apos;s a ellipsoid with weird axes. All of this is why I said &quot;weighting *matrix*&quot;, not just &quot;weights&quot;. As you just pointed out, it&apos;s important that it can be an arbitrary matrix.</p><p>I could work out this example with the weighting matrix if necessary, but I think you get the idea now.</p><p>My point is, after you apply the weighting *matrix*, you end up with new coordinates, and the Tenney-Euclidean norm actually is the L2 norm of those new coordinates. Whereas for the Tenney norm (L1-based), there&apos;s no possible linear transformation you can do so that it ends up as an L1 norm. (An ellipse is a linear transformation of a circle, but a hexagon is not a linear transformation of a square.)</p><p>&gt; Put another way, if what you said were exactly how it worked, Graham&apos;s<br/>&gt; temperament finder would already be exhibiting the correct behavior.</p><p>No, because the weighting matrix it currently uses is always diagonal, and always has the diagonal weights as the log of the basis element. If it used the correct, non-diagonal weighting matrices it would be correct, but then to get that you can&apos;t just treat the basis elements as floating point numbers. Their prime factorization matters.</p><p>&gt; That&apos;s the thing I want a name for. I like Tp norm, where it&apos;s...</p><p>That&apos;s fine with me.</p><p>Keenan</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/2/2012 5:01:55 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Wed, Aug 1, 2012 at 10:09 AM, Keenan Pepper &lt;<a href="mailto:keenanpepper@gmail.com">keenanpepper@gmail.com</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; Yeah, it&apos;s a ellipsoid with weird axes. All of this is why I said<br/>&gt; &quot;weighting *matrix*&quot;, not just &quot;weights&quot;. As you just pointed out, it&apos;s<br/>&gt; important that it can be an arbitrary matrix.<br/>&gt;<br/>&gt; I could work out this example with the weighting matrix if necessary, but<br/>&gt; I think you get the idea now.<br/>&gt;<br/>&gt; My point is, after you apply the weighting *matrix*, you end up with new<br/>&gt; coordinates, and the Tenney-Euclidean norm actually is the L2 norm of those<br/>&gt; new coordinates. Whereas for the Tenney norm (L1-based), there&apos;s no possible<br/>&gt; linear transformation you can do so that it ends up as an L1 norm. (An<br/>&gt; ellipse is a linear transformation of a circle, but a hexagon is not a<br/>&gt; linear transformation of a square.)</p><p>I don&apos;t understand what matrices you consider to be &quot;weighting<br/>matrices&quot; then. The only things I&apos;ve seen people call weighting<br/>matrices around here are diagonal matrices. If on the other hand, by<br/>&quot;weighting matrix&quot; you mean any arbitrary matrix which need not be<br/>diagonal and need not even be square, then there definitely is an<br/>injective but non-surjective linear transformation that you can do to<br/>turn any subgroup Tenney norm back into a full-limit L1 norm. If V is<br/>the V-map for the subgroup as expressed in some full limit, and W is<br/>the diagonal weighting matrix for that limit, then W*V is the<br/>weighting matrix you want. So for some smonzo M, ||(W*V)*M||_1 ends up<br/>being equivalent to the weird hexagonal norm you&apos;re talking about.<br/>This works for any Lp norm in general.</p><p>On the other hand, if your definition of a weighting matrix is matrix<br/>that doesn&apos;t necessarily have to be diagonal, but must always be<br/>square, then yeah, it&apos;s impossible.</p><p>-Mike</p></div><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>8/2/2012 8:26:49 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt; I don&apos;t understand what matrices you consider to be &quot;weighting<br/>&gt; matrices&quot; then. The only things I&apos;ve seen people call weighting<br/>&gt; matrices around here are diagonal matrices. If on the other hand, by<br/>&gt; &quot;weighting matrix&quot; you mean any arbitrary matrix which need not be<br/>&gt; diagonal and need not even be square, then there definitely is an<br/>&gt; injective but non-surjective linear transformation that you can do to<br/>&gt; turn any subgroup Tenney norm back into a full-limit L1 norm. If V is<br/>&gt; the V-map for the subgroup as expressed in some full limit, and W is<br/>&gt; the diagonal weighting matrix for that limit, then W*V is the<br/>&gt; weighting matrix you want. So for some smonzo M, ||(W*V)*M||_1 ends up<br/>&gt; being equivalent to the weird hexagonal norm you&apos;re talking about.<br/>&gt; This works for any Lp norm in general.</p><p>Oh, very good point.</p><p>&gt; On the other hand, if your definition of a weighting matrix is matrix<br/>&gt; that doesn&apos;t necessarily have to be diagonal, but must always be<br/>&gt; square, then yeah, it&apos;s impossible.</p><p>That is indeed what I had in mind, because I was thinking of it as just weighting certain axes (which, however, can be different from the coordinate axes). For a non-square matrix the resulting vectors are in a higher-dimensional space, so they can hardly be called &quot;weighted versions&quot; of the same vectors. At least that&apos;s how I think of it.</p><p>So what I was saying is that for L2, and only L2, you can express the induced norm as an L2 norm applied to the result of a square matrix. The reason is because SVD exists. Any matrix can be decomposed as UDV where U and V are orthogonal (i.e. preserve L2 norm) and D is diagonal. So, even though UDV is non-square, you can drop U and lop off the parts of D and V corresponding to singular values of zero and obtain a square matrix with the required property. This doesn&apos;t work for any other Lp norm because there isn&apos;t a continuous family of matrices preserving that norm analogous to the orthogonal matrices.</p><p>None of which is particularly relevant for practical computation, because as you said you can just use the non-square matrix and be done with it.</p><p>Keenan</p></div><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>8/2/2012 8:39:47 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Keenan Pepper&quot; &lt;keenanpepper@...&gt; &gt;<br/>&gt; So what I was saying is that for L2, and only L2, you can express the induced norm as an L2 norm applied to the result of a square matrix. The reason is because SVD exists. Any matrix can be decomposed as UDV where U and V are orthogonal (i.e. preserve L2 norm) and D is diagonal. So, even though UDV is non-square, you can drop U and lop off the parts of D and V corresponding to singular values of zero and obtain a square matrix with the required property. This doesn&apos;t work for any other Lp norm because there isn&apos;t a continuous family of matrices preserving that norm analogous to the orthogonal matrices.</p><p>BTW, I believe that for any p != 2, the matrices preserving the Lp norm form a finite group, the full group of symmetries of a hypercube. Only for p = 2 do they form a continuous, infinite group.</p><p>Which, again, is merely a curiosity and not relevant for our purposes. Right?</p><p>Keenan</p></div>