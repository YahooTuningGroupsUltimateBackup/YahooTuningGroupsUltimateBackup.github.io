<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math Complex number meantone conversion argument function</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>Complex number meantone conversion argument function</h1><h3><a id=6377 href="#6377">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/22/2003 11:13:12 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In case anyone else wants to mess with this, here is Maple code for<br/>the &quot;argument&quot;, -6 &lt; arg &lt;= 6, of a set of 12-equal note-classes. This<br/>is the basic function which gets the job done, and as you can see,<br/>it&apos;s not complicated.</p><p>arg := proc (s)<br/># meantone conversion argument function<br/># &quot;s&quot; is set or list of octave-reduced notes<br/>local i, u, w;<br/>if nops(s) = 0 then RETURN(0) fi;<br/>u := 0;<br/>w := (3^(1/2) + I)/2;<br/>for i to nops(s) do u := u+w^(7*s[i]) od;<br/>u := simplify(u);<br/>if u = 0 then RETURN(0) fi;<br/>u:=evalf(6*Im(ln(u))/Pi);<br/>if abs(u - round(u)) &lt; 0.00001 then<br/>u := round(u) fi;<br/>u end:</p></div><h3><a id=6378 href="#6378">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/23/2003 1:15:40 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &lt;gwsmith@s...&gt;<br/>wrote:<br/>&gt; In case anyone else wants to mess with this, here is Maple code for<br/>&gt; the &quot;argument&quot;, -6 &lt; arg &lt;= 6, of a set of 12-equal note-classes. This<br/>&gt; is the basic function which gets the job done, and as you can see,<br/>&gt; it&apos;s not complicated.</p><p>There&apos;s no need for messing with raising to the 7th power if we start<br/>with the right root of unity, and a symmetric chord should not return<br/>zero, which confuses it with C; so this returns &quot;sym&quot;:</p><p>arg := proc (s)<br/># meantone conversion argument function<br/># &quot;s&quot; is set or list of octave-reduced notes<br/>local i, u, w;<br/>if nops(s) = 0 then RETURN(sym) fi;<br/>u := 0;<br/>w := -(3^(1/2) + I)/2;<br/>for i to nops(s) do u := u+w^s[i] od;<br/>u := simplify(u);<br/>if u = 0 then RETURN(sym) fi;<br/>u:=evalf(6*Im(ln(u))/Pi);<br/>if abs(u - round(u)) &lt; 0.00001 then<br/>u := round(u) fi;<br/>u end:</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            