<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math Log-flat badness for TOP tuned ETs</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>Log-flat badness for TOP tuned ETs</h1><h3><a id=15532 href="#15532">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/3/2006 8:53:52 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hello,</p><p>How would you compute log-flat badness for TOP tuned equal temperaments?</p><p>Kalle</p></div><h3><a id=15533 href="#15533">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/3/2006 10:35:12 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 08:53 AM 8/3/2006, you wrote:<br/>&gt;Hello,<br/>&gt;<br/>&gt;How would you compute log-flat badness for TOP tuned equal<br/>&gt;temperaments?<br/>&gt;<br/>&gt;Kalle</p><p>Logflat badness in the p-limit is...</p><p>error^(pi(p)-1) / complexity</p><p>For error I&apos;d use TOP damage, and for complexity I&apos;d simply use<br/>the number of notes/octave of the ET.</p><p>But different mappings of the ET to JI will give different<br/>results (for &quot;inconsistent&quot; ETs).  To find the best mappings<br/>regardless of consistency, I&apos;d use this suggestion of Paul&apos;s...</p><p>&gt;Start with the JI val. Multiply it by every possible positive real<br/>&gt;number (in practice you just need to find a small enough step size<br/>&gt;to increment this constant through) and round the result to the<br/>&gt;nearest integers. Use the TOP-et algorithm on all of these, and<br/>&gt;calculate their TOP damage. Then group the results by the octave<br/>&gt;part of the val and pick out the lowest-damage one in each group.<br/>&gt;<br/>&gt;I think any val that doesn&apos;t arise through this process can&apos;t be<br/>&gt;the minimum-TOP-damage one (when TOP-tuned) for a given octave<br/>&gt;cardinality.</p><p>Paul&apos;s Middle Path paper tells how to calculate TOP damage,<br/>I believe.  The &quot;TOP-et algorithm&quot; he refers to looks like this<br/>in Scheme...</p><p>;; Returns the TOP-tuned patent val in cents for the given et at<br/>;; the given prime limit.<br/>;; Algorithm due to Paul Erlich.</p><p>(define top-et<br/>   (lambda (et lim)<br/>      (let*<br/>         ((patent-val (patent-val et lim))<br/>          (log2-primes (map log2 (reverse (primes lim))))<br/>          (et-exact-val (map / standard-val log2-primes))<br/>          (large (apply max et-exact-val))<br/>          (small (apply min et-exact-val))<br/>          (mean (/ (+ large small) 2))<br/>          (top-val (map (lambda (x)<br/>                           (/ x mean))<br/>                      standard-val))<br/>          (cents-top-val (map (lambda (x)<br/>                                 (* x 1200))<br/>                            top-val)))<br/>      cents-top-val)))</p><p>...but instead of &quot;patent-val&quot;, you&apos;d plug in the vals you found<br/>by multiplying by JI and rounding per Paul&apos;s suggestion.</p><p>Pi looks like this in Scheme...</p><p>;; The number of primes less than n.<br/>;; Due to Minac (unpublished, proof in Ribenboim 1995, p. 181).</p><p>(define pi<br/>   (lambda (n)<br/>      (letrec ((loop<br/>                 (lambda (j sum)<br/>                    (let ((j-1! (fact (- j 1))))<br/>                       (if (&gt; j n)<br/>                          sum<br/>                          (+ (floor (- (/ (+ j-1! 1) j)<br/>                                       (floor (/ j-1! j))))<br/>                             (loop (+ j 1) sum)))))))<br/>         (loop 2 0))))</p><p>-Carl</p></div><h3><a id=15534 href="#15534">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/4/2006 3:57:48 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt; At 08:53 AM 8/3/2006, you wrote:<br/>&gt; &gt;&gt;Hello,<br/>&gt;&gt;<br/>&gt;&gt;How would you compute log-flat badness for TOP tuned equal<br/>&gt;&gt;temperaments?<br/>&gt; &gt; Logflat badness in the p-limit is...<br/>&gt; &gt; error^(pi(p)-1) / complexity<br/>&gt; &gt; For error I&apos;d use TOP damage, and for complexity I&apos;d simply use<br/>&gt; the number of notes/octave of the ET.</p><p>Surely not -- it means the more complex a temperament the lower its badness.</p><p>&gt; But different mappings of the ET to JI will give different<br/>&gt; results (for &quot;inconsistent&quot; ETs).  To find the best mappings<br/>&gt; regardless of consistency, I&apos;d use this suggestion of Paul&apos;s...</p><p>You would?</p><p>&gt;&gt;Start with the JI val. Multiply it by every possible positive real<br/>&gt;&gt;number (in practice you just need to find a small enough step size<br/>&gt;&gt;to increment this constant through) and round the result to the<br/>&gt;&gt;nearest integers. Use the TOP-et algorithm on all of these, and<br/>&gt;&gt;calculate their TOP damage. Then group the results by the octave<br/>&gt;&gt;part of the val and pick out the lowest-damage one in each group.<br/>&gt;&gt;<br/>&gt;&gt;I think any val that doesn&apos;t arise through this process can&apos;t be<br/>&gt;&gt;the minimum-TOP-damage one (when TOP-tuned) for a given octave<br/>&gt;&gt;cardinality.</p><p>He&apos;s right, with a caveat that there isn&apos;t always a single optimal mapping for a given number of notes to the octave.  For example, these both have the same TOP damage:</p><p>&lt;23, 36, 53, 64, 79, 85, 94], &lt;23, 36, 53, 64, 79, 85, 93]</p><p>We know that the TOP damage of a temperament is the same as the worst Tenney-weighted error of a prime interval when you tune optimially.  So the damage can only increase when you take an approximation other than the optimal one.  But it may be the same because that prime has more than one mapping with an error lower than that in some other prime.</p><p>&gt; Paul&apos;s Middle Path paper tells how to calculate TOP damage,<br/>&gt; I believe.  The &quot;TOP-et algorithm&quot; he refers to looks like this<br/>&gt; in Scheme...<br/>&gt; &gt; ;; Returns the TOP-tuned patent val in cents for the given et at<br/>&gt; ;; the given prime limit.<br/>&gt; ;; Algorithm due to Paul Erlich.<br/>&gt; &gt; (define top-et<br/>&gt;    (lambda (et lim)<br/>&gt;       (let*<br/>&gt;          ((patent-val (patent-val et lim))<br/>&gt;           (log2-primes (map log2 (reverse (primes lim))))<br/>&gt;           (et-exact-val (map / standard-val log2-primes))<br/>&gt;           (large (apply max et-exact-val))<br/>&gt;           (small (apply min et-exact-val))<br/>&gt;           (mean (/ (+ large small) 2))<br/>&gt;           (top-val (map (lambda (x)<br/>&gt;                            (/ x mean))<br/>&gt;                       standard-val))<br/>&gt;           (cents-top-val (map (lambda (x)<br/>&gt;                                  (* x 1200))<br/>&gt;                             top-val)))<br/>&gt;       cents-top-val)))<br/>&gt; &gt; ...but instead of &quot;patent-val&quot;, you&apos;d plug in the vals you found<br/>&gt; by multiplying by JI and rounding per Paul&apos;s suggestion.</p><p>You can also calculate the TOP error directly, which I think means changing</p><p>           (mean (/ (+ large small) 2))</p><p>to</p><p>           (top-error (/ (- large small) (+ large small)))</p><p>and returning top-error*1200 for the standard units (that&apos;s (* top-error 1200))</p><p>It&apos;ll always be close to the Kees error</p><p>           (error-range (- large small))</p><p>You can get the optimal temperament mapping by rounding the mapping for each prime both up and down to the nearest integers, and finding all combinations.  Moving any prime further from perfect will only increase the error range so this is guaranteed to find the optimal error.  It&apos;s probably going to give the optimal TOP mapping as well.</p><p>The problem with this method is that the complexity of the calculation grows exponentially with the number of odd primes.  If that&apos;s a problem you have to bail out when you know the error&apos;s already too large.  Only looking at mappings with a smaller error than the round-to-nearest one is a good way of reducing the complexity.</p><p>&gt; Pi looks like this in Scheme...<br/>&gt; &gt; ;; The number of primes less than n.</p><p>In context, why would you ever need this?</p><p>                 Graham</p></div><h3><a id=15535 href="#15535">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/4/2006 8:17:53 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl and thanks for your reply!</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt; At 08:53 AM 8/3/2006, you wrote:<br/>&gt; &gt;Hello,<br/>&gt; &gt;<br/>&gt; &gt;How would you compute log-flat badness for TOP tuned equal<br/>&gt; &gt;temperaments?<br/>&gt; &gt;<br/>&gt; &gt;Kalle<br/>&gt;<br/>&gt; Logflat badness in the p-limit is...<br/>&gt;<br/>&gt; error^(pi(p)-1) / complexity</p><p>Really? I thought it was something like error*complexity^something.</p><p>&gt; For error I&apos;d use TOP damage, and for complexity I&apos;d simply use<br/>&gt; the number of notes/octave of the ET.</p><p>What about nonoctave ETs?</p><p>Wouldn&apos;t it be more general if the complexity was something simply<br/>inversely proportional to the size of the ET step?</p><p>&gt; But different mappings of the ET to JI will give different<br/>&gt; results (for &quot;inconsistent&quot; ETs).  To find the best mappings<br/>&gt; regardless of consistency, I&apos;d use this suggestion of Paul&apos;s...<br/>&gt;<br/>&gt; &gt;Start with the JI val. Multiply it by every possible positive real<br/>&gt; &gt;number (in practice you just need to find a small enough step size<br/>&gt; &gt;to increment this constant through) and round the result to the<br/>&gt; &gt;nearest integers. Use the TOP-et algorithm on all of these, and<br/>&gt; &gt;calculate their TOP damage. Then group the results by the octave<br/>&gt; &gt;part of the val and pick out the lowest-damage one in each group.<br/>&gt; &gt;<br/>&gt; &gt;I think any val that doesn&apos;t arise through this process can&apos;t be<br/>&gt; &gt;the minimum-TOP-damage one (when TOP-tuned) for a given octave<br/>&gt; &gt;cardinality.<br/>&gt;<br/>&gt; Paul&apos;s Middle Path paper tells how to calculate TOP damage,<br/>&gt; I believe.  The &quot;TOP-et algorithm&quot; he refers to looks like this<br/>&gt; in Scheme...</p><p>I know how to do that but thank you!</p><p>Kalle</p></div><h3><a id=15537 href="#15537">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/4/2006 9:34:58 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;Hello,<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;How would you compute log-flat badness for TOP tuned equal<br/>&gt;&gt;&gt;temperaments?<br/>&gt;&gt;<br/>&gt;&gt; Logflat badness in the p-limit is...<br/>&gt;&gt;<br/>&gt;&gt; error^(pi(p)-1) / complexity<br/>&gt;&gt;<br/>&gt;&gt; For error I&apos;d use TOP damage, and for complexity I&apos;d simply use<br/>&gt;&gt; the number of notes/octave of the ET.<br/>&gt;<br/>&gt;Surely not -- it means the more complex a temperament the lower<br/>&gt;its badness.</p><p>Oh sorry, that was supposed to be *, not /.</p><p>&gt;&gt; But different mappings of the ET to JI will give different<br/>&gt;&gt; results (for &quot;inconsistent&quot; ETs).  To find the best mappings<br/>&gt;&gt; regardless of consistency, I&apos;d use this suggestion of Paul&apos;s...<br/>&gt;<br/>&gt;You would?</p><p>Yes, it&apos;s on my list.</p><p>&gt;&gt;&gt;Start with the JI val. Multiply it by every possible positive real<br/>&gt;&gt;&gt;number (in practice you just need to find a small enough step size<br/>&gt;&gt;&gt;to increment this constant through) and round the result to the<br/>&gt;&gt;&gt;nearest integers. Use the TOP-et algorithm on all of these, and<br/>&gt;&gt;&gt;calculate their TOP damage. Then group the results by the octave<br/>&gt;&gt;&gt;part of the val and pick out the lowest-damage one in each group.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;I think any val that doesn&apos;t arise through this process can&apos;t be<br/>&gt;&gt;&gt;the minimum-TOP-damage one (when TOP-tuned) for a given octave<br/>&gt;&gt;&gt;cardinality.<br/>&gt;<br/>&gt;He&apos;s right, with a caveat that there isn&apos;t always a single optimal<br/>&gt;mapping for a given number of notes to the octave.</p><p>I remember that.</p><p>&gt;For example, these<br/>&gt;both have the same TOP damage:<br/>&gt;<br/>&gt;&lt;23, 36, 53, 64, 79, 85, 94], &lt;23, 36, 53, 64, 79, 85, 93]<br/>&gt;<br/>&gt;We know that the TOP damage of a temperament is the same as the worst<br/>&gt;Tenney-weighted error of a prime interval when you tune optimially.  So<br/>&gt;the damage can only increase when you take an approximation other than<br/>&gt;the optimal one.  But it may be the same because that prime has more<br/>&gt;than one mapping with an error lower than that in some other prime.</p><p>Didn&apos;t Paul say to minimize the 2nd biggest error, etc. in such<br/>cases.  Like in the above, isn&apos;t the first mapping clearly better?</p><p>&gt;&gt; Paul&apos;s Middle Path paper tells how to calculate TOP damage,<br/>&gt;&gt; I believe.  The &quot;TOP-et algorithm&quot; he refers to looks like this<br/>&gt;&gt; in Scheme...<br/>&gt;&gt;<br/>&gt;&gt; ;; Returns the TOP-tuned patent val in cents for the given et at<br/>&gt;&gt; ;; the given prime limit.<br/>&gt;&gt; ;; Algorithm due to Paul Erlich.<br/>&gt;&gt;<br/>&gt;&gt; (define top-et<br/>&gt;&gt;    (lambda (et lim)<br/>&gt;&gt;       (let*<br/>&gt;&gt;          ((patent-val (patent-val et lim))<br/>&gt;&gt;           (log2-primes (map log2 (reverse (primes lim))))<br/>&gt;&gt;           (et-exact-val (map / patent-val log2-primes))<br/>&gt;&gt;           (large (apply max et-exact-val))<br/>&gt;&gt;           (small (apply min et-exact-val))<br/>&gt;&gt;           (mean (/ (+ large small) 2))<br/>&gt;&gt;           (top-val (map (lambda (x)<br/>&gt;&gt;                            (/ x mean))<br/>&gt;&gt;                       patent-val))<br/>&gt;&gt;           (cents-top-val (map (lambda (x)<br/>&gt;&gt;                                  (* x 1200))<br/>&gt;&gt;                             top-val)))<br/>&gt;&gt;       cents-top-val)))<br/>&gt;&gt;<br/>&gt;&gt; ...but instead of &quot;patent-val&quot;, you&apos;d plug in the vals you found<br/>&gt;&gt; by multiplying by JI and rounding per Paul&apos;s suggestion.</p><p>Crap, I just noticed I hadn&apos;t changed some instances of<br/>&quot;standard-val&quot; to &quot;patent-val&quot; in that.  Fixed above.</p><p>&gt;You can also calculate the TOP error directly, which I think means<br/>&gt;changing<br/>&gt;            (mean (/ (+ large small) 2))<br/>&gt;to<br/>&gt;            (top-error (/ (- large small) (+ large small)))<br/>&gt;and returning top-error*1200 for the standard units (that&apos;s<br/>&gt;(* top-error 1200))</p><p>That&apos;s your max-min formula, then?  I guess I should review your<br/>proof of why it works.</p><p>&gt;It&apos;ll always be close to the Kees error<br/>&gt;<br/>&gt;            (error-range (- large small))</p><p>In this case we&apos;re talking ETs, so the Kees tuning will<br/>be the ET itself, no?</p><p>&gt;&gt; Pi looks like this in Scheme...<br/>&gt;&gt;<br/>&gt;&gt; ;; The number of primes less than n.<br/>&gt;<br/>&gt;In context, why would you ever need this?</p><p>It&apos;s in the logflat-badness calculation.</p><p>-Carl</p></div><h3><a id=15538 href="#15538">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/4/2006 9:42:57 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Logflat badness in the p-limit is...<br/>&gt;&gt;<br/>&gt;&gt; error^(pi(p)-1) / complexity<br/>&gt;<br/>&gt;Really? I thought it was something like error*complexity^something.</p><p>As I just wrote to Graham, I meant * instead of /, but I think<br/>you&apos;re right, the ^something goes on complexity, and it&apos;s<br/>the number of primes - 1.</p><p>&gt;&gt; For error I&apos;d use TOP damage, and for complexity I&apos;d simply use<br/>&gt;&gt; the number of notes/octave of the ET.<br/>&gt;<br/>&gt;What about nonoctave ETs?</p><p>There will still be a mapping to 2 (or you can find it quickly if<br/>there isn&apos;t), and it&apos;s as good as any of the primes to define a<br/>simple complexity measure.  I suppose it&apos;s ideal to take the entire<br/>mapping into account.</p><p>&gt;Wouldn&apos;t it be more general if the complexity was something simply<br/>&gt;inversely proportional to the size of the ET step?</p><p>The mapping to 2 will be proportional to the size of the step.</p><p>-Carl</p></div><h3><a id=15539 href="#15539">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/4/2006 9:48:26 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 09:42 AM 8/4/2006, you wrote:<br/>&gt;&gt;&gt; Logflat badness in the p-limit is...<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; error^(pi(p)-1) / complexity<br/>&gt;&gt;<br/>&gt;&gt;Really? I thought it was something like error*complexity^something.<br/>&gt;<br/>&gt;As I just wrote to Graham, I meant * instead of /, but I think<br/>&gt;you&apos;re right, the ^something goes on complexity, and it&apos;s<br/>&gt;the number of primes - 1.</p><p>Actually that&apos;s for linear temperaments, which used to be rank 1<br/>I think.  For ETs it would have been primes - 0.  But now that<br/>linear temperaments are rank 2... maybe Gene can clear this up.</p><p>-Carl</p></div><h3><a id=15540 href="#15540">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/4/2006 1:34:46 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:</p><p>&gt;&gt;For example, these &gt;&gt;both have the same TOP damage:<br/>&gt;&gt;<br/>&gt;&gt;&lt;23, 36, 53, 64, 79, 85, 94], &lt;23, 36, 53, 64, 79, 85, 93]<br/>&gt;&gt;<br/>&gt;&gt;We know that the TOP damage of a temperament is the same as the worst &gt;&gt;Tenney-weighted error of a prime interval when you tune optimially.  So &gt;&gt;the damage can only increase when you take an approximation other than &gt;&gt;the optimal one.  But it may be the same because that prime has more &gt;&gt;than one mapping with an error lower than that in some other prime.<br/>&gt; &gt; Didn&apos;t Paul say to minimize the 2nd biggest error, etc. in such<br/>&gt; cases.  Like in the above, isn&apos;t the first mapping clearly better?</p><p>I don&apos;t know what Paul said, but I certainly prefer to avoid complicating definitions.  In this case, the second mapping looks better to me.  It has a lower TOP-RMS error.  Even if it isn&apos;t better by your rule there&apos;s nothing clear about it.</p><p>&gt;&gt;You can also calculate the TOP error directly, which I think means<br/>&gt;&gt;changing<br/>&gt;&gt;           (mean (/ (+ large small) 2))<br/>&gt;&gt;to<br/>&gt;&gt;           (top-error (/ (- large small) (+ large small)))<br/>&gt;&gt;and returning top-error*1200 for the standard units (that&apos;s<br/>&gt;&gt;(* top-error 1200))<br/>&gt; &gt; That&apos;s your max-min formula, then?  I guess I should review your<br/>&gt; proof of why it works.  How is it different from Paul&apos;s formula?  You can at least substitute the TOP scale stretch into the normal TOP formula.</p><p>&gt;&gt;It&apos;ll always be close to the Kees error<br/>&gt;&gt;<br/>&gt;&gt;           (error-range (- large small))<br/>&gt; &gt; &gt; In this case we&apos;re talking ETs, so the Kees tuning will<br/>&gt; be the ET itself, no?</p><p>In so far as there&apos;s a Kees tuning, it has pure octaves, so there&apos;s no choice for an ET tuning.</p><p>&gt;&gt;&gt;Pi looks like this in Scheme...<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;;; The number of primes less than n.<br/>&gt;&gt;<br/>&gt;&gt;In context, why would you ever need this?<br/>&gt; &gt; It&apos;s in the logflat-badness calculation.</p><p>There&apos;s also a loop over the primes, so how can you do the calculation without knowing the size of the prime limit?</p><p>                 Graham</p></div><h3><a id=15541 href="#15541">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/4/2006 1:34:55 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kalle Aho wrote:</p><p>&gt; What about nonoctave ETs? &gt; &gt; Wouldn&apos;t it be more general if the complexity was something simply<br/>&gt; inversely proportional to the size of the ET step?</p><p>I do mention this in my errors and complexities thing</p><p><a href="http://x31eq.com/primerr.pdf">http://x31eq.com/primerr.pdf</a></p><p>The point is, there isn&apos;t an obvious way of comparing complexities of temperaments with different equivalence intervals.  You have to think about what it is you&apos;re measuring the complexity of.  For most people a non-octave scale will be inherently complex because of having to deal with the octaves not being there.  But scaling it to be proportional to the size of an acoustic octave is certainly an option.  It means the complexity will depend slightly on the tuning.</p><p>You can also use wedgie complexity, which happens to be close to the number of notes to an octave for an equal temperament.  It doesn&apos;t stop working if you take away the octaves.</p><p>                  Graham</p></div><h3><a id=15542 href="#15542">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/5/2006 2:13:43 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; Kalle Aho wrote:<br/>&gt;<br/>&gt; &gt; What about nonoctave ETs?<br/>&gt; &gt;<br/>&gt; &gt; Wouldn&apos;t it be more general if the complexity was something simply<br/>&gt; &gt; inversely proportional to the size of the ET step?<br/>&gt;<br/>&gt; I do mention this in my errors and complexities thing<br/>&gt;<br/>&gt; <a href="http://x31eq.com/primerr.pdf">http://x31eq.com/primerr.pdf</a><br/>&gt;<br/>&gt; The point is, there isn&apos;t an obvious way of comparing complexities of<br/>&gt; temperaments with different equivalence intervals.  You have to think<br/>&gt; about what it is you&apos;re measuring the complexity of.  For most people a<br/>&gt; non-octave scale will be inherently complex because of having to deal<br/>&gt; with the octaves not being there.  But scaling it to be proportional to<br/>&gt; the size of an acoustic octave is certainly an option.  It means the<br/>&gt; complexity will depend slightly on the tuning.<br/>&gt;<br/>&gt; You can also use wedgie complexity, which happens to be close to the<br/>&gt; number of notes to an octave for an equal temperament.  It doesn&apos;t stop<br/>&gt; working if you take away the octaves.</p><p>But is there something wrong in using e.g. the reciprocal of the step<br/>size as a complexity measure?</p><p>If not, my question then becomes:</p><p>How to change the badness measure</p><p>max tenney-weighted error/step size</p><p>to make it log-flat?</p><p>Kalle</p></div><h3><a id=15543 href="#15543">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/5/2006 2:43:32 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kalle Aho wrote:</p><p>&gt; But is there something wrong in using e.g. the reciprocal of the step<br/>&gt; size as a complexity measure?</p><p>If you&apos;re happy with it I don&apos;t think there are any snakes lurking. It&apos;s just nice to have a complexity that doesn&apos;t depend on the tuning.</p><p>            Graham</p></div><h3><a id=15545 href="#15545">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/5/2006 6:46:48 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:</p><p>&gt; How to change the badness measure<br/>&gt;<br/>&gt; max tenney-weighted error/step size<br/>&gt;<br/>&gt; to make it log-flat?</p><p>I try to answer this myself with help from</p><p><a href="http://tonalsoft.com/enc/b/badness.aspx">http://tonalsoft.com/enc/b/badness.aspx</a></p><p>So is</p><p>max tenney-weighted error/step size^(3/2)</p><p>correct for 5-limit?</p></div><h3><a id=15546 href="#15546">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/5/2006 11:56:00 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Let me try to remember what I wrote the first time I replied to<br/>this...</p><p>&gt;&gt;&gt;For example, these<br/>&gt;&gt;&gt;both have the same TOP damage:<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;&lt;23, 36, 53, 64, 79, 85, 94], &lt;23, 36, 53, 64, 79, 85, 93]<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;We know that the TOP damage of a temperament is the same as the worst<br/>&gt;&gt;&gt;Tenney-weighted error of a prime interval when you tune optimially.  So<br/>&gt;&gt;&gt;the damage can only increase when you take an approximation other than<br/>&gt;&gt;&gt;the optimal one.  But it may be the same because that prime has more<br/>&gt;&gt;&gt;than one mapping with an error lower than that in some other prime.<br/>&gt;&gt;<br/>&gt;&gt; Didn&apos;t Paul say to minimize the 2nd biggest error, etc. in such<br/>&gt;&gt; cases.  Like in the above, isn&apos;t the first mapping clearly better?<br/>&gt;<br/>&gt;I don&apos;t know what Paul said, but I certainly prefer to avoid<br/>&gt;complicating definitions.  In this case, the second mapping looks better<br/>&gt;to me.  It has a lower TOP-RMS error.  Even if it isn&apos;t better by your<br/>&gt;rule there&apos;s nothing clear about it.</p><p>Oh dear, I can barely understand TOP, let alone TOP-RMS.  Do you<br/>really have working variants of TOP for different types of averages?<br/>What is the analogous to &quot;the weighted error of any interval is not<br/>greater than the TOP damage&quot; for TOP-RMS?</p><p>&gt;&gt;&gt;You can also calculate the TOP error directly, which I think means<br/>&gt;&gt;&gt;changing<br/>&gt;&gt;&gt;           (mean (/ (+ large small) 2))<br/>&gt;&gt;&gt;to<br/>&gt;&gt;&gt;           (top-error (/ (- large small) (+ large small)))<br/>&gt;&gt;&gt;and returning top-error*1200 for the standard units (that&apos;s<br/>&gt;&gt;&gt;(* top-error 1200))<br/>&gt;&gt;<br/>&gt;&gt; That&apos;s your max-min formula, then?  I guess I should review your<br/>&gt;&gt; proof of why it works.<br/>&gt;<br/>&gt;How is it different from Paul&apos;s formula?</p><p>I was wrong -- it doesn&apos;t look like Paul gives a general formula<br/>for TOP damage in his Middle Path paper.  So I don&apos;t know.  But I<br/>recall him being surprised by it.</p><p>&gt;&gt;&gt;&gt;Pi looks like this in Scheme...<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;;; The number of primes less than n.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;In context, why would you ever need this?<br/>&gt;&gt;<br/>&gt;&gt; It&apos;s in the logflat-badness calculation.<br/>&gt;<br/>&gt;There&apos;s also a loop over the primes, so how can you do the calculation<br/>&gt;without knowing the size of the prime limit?</p><p>You can&apos;t.  Kalle didn&apos;t specify, so I assume that&apos;s a free<br/>parameter in his program.</p><p>-Carl</p></div><h3><a id=15547 href="#15547">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/4/2006 2:17:36 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;I don&apos;t know what Paul said, but I certainly prefer to avoid<br/>&gt;complicating definitions.  In this case, the second mapping looks better<br/>&gt;to me.  It has a lower TOP-RMS error.</p><p>I can barely understand TOP, let alone TOP-RMS.  Do you really<br/>have good generalizations of TOP for various average error measures?<br/>Like with TOP-RMS, what&apos;s the analogous statement to &quot;the<br/>weighted error of any interval does not exceed the TOP damage&quot;?</p><p>&gt;&gt;&gt;You can also calculate the TOP error directly, which I think means<br/>&gt;&gt;&gt;changing<br/>&gt;&gt;&gt;           (mean (/ (+ large small) 2))<br/>&gt;&gt;&gt;to<br/>&gt;&gt;&gt;           (top-error (/ (- large small) (+ large small)))<br/>&gt;&gt;&gt;and returning top-error*1200 for the standard units (that&apos;s<br/>&gt;&gt;&gt;(* top-error 1200))<br/>&gt;&gt;<br/>&gt;&gt; That&apos;s your max-min formula, then?  I guess I should review your<br/>&gt;&gt; proof of why it works.<br/>&gt;<br/>&gt;How is it different from Paul&apos;s formula?</p><p>I don&apos;t know... the Middle Path paper apparently contains the<br/>formula only for the single-comma case.</p><p>&gt;&gt;&gt;&gt;Pi looks like this in Scheme...<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;;; The number of primes less than n.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;In context, why would you ever need this?<br/>&gt;&gt;<br/>&gt;&gt; It&apos;s in the logflat-badness calculation.<br/>&gt;<br/>&gt;There&apos;s also a loop over the primes, so how can you do the calculation<br/>&gt;without knowing the size of the prime limit?</p><p>Kalle didn&apos;t specify a prime limit, so this is a free parameter<br/>in the approach I suggested.</p><p>-C.</p></div><h3><a id=15548 href="#15548">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/5/2006 2:32:56 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:</p><p>&gt;&gt;&gt;&gt;&lt;23, 36, 53, 64, 79, 85, 94], &lt;23, 36, 53, 64, 79, 85, 93]<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;We know that the TOP damage of a temperament is the same as the worst &gt;&gt;&gt;&gt;Tenney-weighted error of a prime interval when you tune optimially.  So &gt;&gt;&gt;&gt;the damage can only increase when you take an approximation other than &gt;&gt;&gt;&gt;the optimal one.  But it may be the same because that prime has more &gt;&gt;&gt;&gt;than one mapping with an error lower than that in some other prime.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;Didn&apos;t Paul say to minimize the 2nd biggest error, etc. in such<br/>&gt;&gt;&gt;cases.  Like in the above, isn&apos;t the first mapping clearly better?<br/>&gt;&gt;<br/>&gt;&gt;I don&apos;t know what Paul said, but I certainly prefer to avoid &gt;&gt;complicating definitions.  In this case, the second mapping looks better &gt;&gt;to me.  It has a lower TOP-RMS error.  Even if it isn&apos;t better by your &gt;&gt;rule there&apos;s nothing clear about it.<br/>&gt; &gt; Oh dear, I can barely understand TOP, let alone TOP-RMS.  Do you<br/>&gt; really have working variants of TOP for different types of averages?<br/>&gt; What is the analogous to &quot;the weighted error of any interval is not<br/>&gt; greater than the TOP damage&quot; for TOP-RMS?</p><p>I have one variant for a different type of average, the RMS, and variants for octave equivalent approximations.  There&apos;s no analogy that I can prove to that TOP-max rule.</p><p>&gt;&gt;&gt;&gt;You can also calculate the TOP error directly, which I think means<br/>&gt;&gt;&gt;&gt;changing<br/>&gt;&gt;&gt;&gt;          (mean (/ (+ large small) 2))<br/>&gt;&gt;&gt;&gt;to<br/>&gt;&gt;&gt;&gt;          (top-error (/ (- large small) (+ large small)))<br/>&gt;&gt;&gt;&gt;and returning top-error*1200 for the standard units (that&apos;s<br/>&gt;&gt;&gt;&gt;(* top-error 1200))<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;That&apos;s your max-min formula, then?  I guess I should review your<br/>&gt;&gt;&gt;proof of why it works.  &gt;&gt;<br/>&gt;&gt;How is it different from Paul&apos;s formula?<br/>&gt; &gt; I was wrong -- it doesn&apos;t look like Paul gives a general formula<br/>&gt; for TOP damage in his Middle Path paper.  So I don&apos;t know.  But I<br/>&gt; recall him being surprised by it.</p><p>There&apos;s a footnote in the Middle Path paper that points to a tuning-math message in which he gives a formula for equal temperaments.</p><p>&gt;&gt;&gt;&gt;&gt;Pi looks like this in Scheme...<br/>&gt;&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;&gt;;; The number of primes less than n.<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;In context, why would you ever need this?<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;It&apos;s in the logflat-badness calculation.<br/>&gt;&gt;<br/>&gt;&gt;There&apos;s also a loop over the primes, so how can you do the calculation &gt;&gt;without knowing the size of the prime limit?<br/>&gt; &gt; You can&apos;t.  Kalle didn&apos;t specify, so I assume that&apos;s a free<br/>&gt; parameter in his program.</p><p>You say the patent val is an input to the error function.  How are we going to construct this val if we don&apos;t know how many primes it&apos;s supposed to contain?</p><p>                        Graham</p></div><h3><a id=15549 href="#15549">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/5/2006 3:29:58 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Oh dear, I can barely understand TOP, let alone TOP-RMS.  Do you<br/>&gt;&gt; really have working variants of TOP for different types of averages?<br/>&gt;&gt; What is the analogous to &quot;the weighted error of any interval is not<br/>&gt;&gt; greater than the TOP damage&quot; for TOP-RMS?<br/>&gt;<br/>&gt;I have one variant for a different type of average, the RMS, //<br/>&gt;There&apos;s no analogy that I can prove to that TOP-max rule.</p><p>I assume you can calculate the TOP-RMS damage of a tuning.  Have<br/>you then checked the Tenney-weighted RMS errors of some chords<br/>to see if any are greater?</p><p>&gt;&gt;&gt;&gt;&gt;You can also calculate the TOP error directly, which I think means<br/>&gt;&gt;&gt;&gt;&gt;changing<br/>&gt;&gt;&gt;&gt;&gt;          (mean (/ (+ large small) 2))<br/>&gt;&gt;&gt;&gt;&gt;to<br/>&gt;&gt;&gt;&gt;&gt;          (top-error (/ (- large small) (+ large small)))<br/>&gt;&gt;&gt;&gt;&gt;and returning top-error*1200 for the standard units (that&apos;s<br/>&gt;&gt;&gt;&gt;&gt;(* top-error 1200))<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;That&apos;s your max-min formula, then?  I guess I should review your<br/>&gt;&gt;&gt;&gt;proof of why it works.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;How is it different from Paul&apos;s formula?<br/>&gt;&gt;<br/>&gt;&gt; I was wrong -- it doesn&apos;t look like Paul gives a general formula<br/>&gt;&gt; for TOP damage in his Middle Path paper.  So I don&apos;t know.  But I<br/>&gt;&gt; recall him being surprised by it.<br/>&gt;<br/>&gt;There&apos;s a footnote in the Middle Path paper that points to a<br/>&gt;tuning-math message in which he gives a formula for equal<br/>&gt;temperaments.</p><p>The only links to tuning-math I see in the footnotes of the<br/>version I have are to the original exposition of TOP, and to</p><p><a href="/tuning-math/message/8512">/tuning-math/message/8512</a></p><p>which tells one how to TOP-tune an ET (it&apos;s the basis for the<br/>code I&apos;ve already given) but not how to calculate the TOP damage.</p><p>&gt;&gt; You can&apos;t.  Kalle didn&apos;t specify, so I assume that&apos;s a free<br/>&gt;&gt; parameter in his program.<br/>&gt;<br/>&gt;You say the patent val is an input to the error function.  How are we<br/>&gt;going to construct this val if we don&apos;t know how many primes it&apos;s<br/>&gt;supposed to contain?</p><p>Obviously Kalle has to supply that information.</p><p>-Carl</p></div><h3><a id=15550 href="#15550">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/5/2006 3:37:50 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;There&apos;s a footnote in the Middle Path paper that points to a<br/>&gt;&gt;tuning-math message in which he gives a formula for equal<br/>&gt;&gt;temperaments.<br/>&gt;<br/>&gt;The only links to tuning-math I see in the footnotes of the<br/>&gt;version I have are to the original exposition of TOP, and to<br/>&gt;<br/>&gt;<a href="/tuning-math/message/8512">/tuning-math/message/8512</a><br/>&gt;<br/>&gt;which tells one how to TOP-tune an ET (it&apos;s the basis for the<br/>&gt;code I&apos;ve already given) but not how to calculate the TOP damage.</p><p>I don&apos;t see anything searching my tuning-math archive either.<br/>But I did come across Paul saying something about you &apos;cleverly<br/>reducing the steps necessary&apos; to calculate, I think, TOP<br/>damage for ETs.  Perhaps he was referring to your max-min thing.</p><p>So, given an ET (12) and a prime limit (5), how do I calculate<br/>the TOP damage?</p><p>-Carl</p></div><h3><a id=15551 href="#15551">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/6/2006 12:38:24 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt;&gt;&gt;There&apos;s a footnote in the Middle Path paper that points to a<br/>&gt;&gt;&gt;tuning-math message in which he gives a formula for equal<br/>&gt;&gt;&gt;temperaments.<br/>&gt;&gt;<br/>&gt;&gt;The only links to tuning-math I see in the footnotes of the<br/>&gt;&gt;version I have are to the original exposition of TOP, and to<br/>&gt;&gt;<br/>&gt;&gt;<a href="/tuning-math/message/8512">/tuning-math/message/8512</a><br/>&gt;&gt;<br/>&gt;&gt;which tells one how to TOP-tune an ET (it&apos;s the basis for the<br/>&gt;&gt;code I&apos;ve already given) but not how to calculate the TOP damage.</p><p>He says &quot;For an ET, just stretch so that the weighted errors of the most<br/>upward-biased prime and most downward-biased prime are equal in<br/>magnitude and opposite in sign.&quot;  The only other thing you need to know is that the equal magnitude you end up with is the TOP damage.</p><p>&gt; I don&apos;t see anything searching my tuning-math archive either.<br/>&gt; But I did come across Paul saying something about you &apos;cleverly<br/>&gt; reducing the steps necessary&apos; to calculate, I think, TOP<br/>&gt; damage for ETs.  Perhaps he was referring to your max-min thing.</p><p>I simplified his formula.  Algebra, nothing else.</p><p>&gt; So, given an ET (12) and a prime limit (5), how do I calculate<br/>&gt; the TOP damage?</p><p>I&apos;ve already told you what to change in your function, in this thread. And I&apos;ve linked to a PDF with the formulae.  What else do you need?</p><p>             Graham</p></div><h3><a id=15552 href="#15552">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/6/2006 12:37:48 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt;&gt;&gt;Oh dear, I can barely understand TOP, let alone TOP-RMS.  Do you<br/>&gt;&gt;&gt;really have working variants of TOP for different types of averages?<br/>&gt;&gt;&gt;What is the analogous to &quot;the weighted error of any interval is not<br/>&gt;&gt;&gt;greater than the TOP damage&quot; for TOP-RMS?<br/>&gt;&gt;<br/>&gt;&gt;I have one variant for a different type of average, the RMS, //<br/>&gt;&gt;There&apos;s no analogy that I can prove to that TOP-max rule.<br/>&gt; &gt; I assume you can calculate the TOP-RMS damage of a tuning.  Have<br/>&gt; you then checked the Tenney-weighted RMS errors of some chords<br/>&gt; to see if any are greater?</p><p>Of course there are chords that are going to have higher error than the average.  The TOP-RMS is vaguely correlated with the Tenney-weighted error of an arbitrarily large Tenney-limited set of intervals.  But I can&apos;t fiddle the weighting so that different large sets give a consistent result, and so it&apos;s as well correlated with the TOP-max error as far as I can see.</p><p>The TOP-RMS is never larger than the TOP-max.  That&apos;s a strict rule.</p><p>             Graham</p></div><h3><a id=15553 href="#15553">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/6/2006 9:58:00 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:</p><p>&gt; Actually that&apos;s for linear temperaments, which used to be rank 1<br/>&gt; I think.  For ETs it would have been primes - 0.  But now that<br/>&gt; linear temperaments are rank 2... maybe Gene can clear this up.</p><p>The general formula is error * complexity^(pi(p)/(pi(p)-r), where r is<br/>the rank. If the rank is 1, that becomes e*c^(pi(p)/(pi(p)-1)).</p></div><h3><a id=15554 href="#15554">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/6/2006 10:04:49 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Actually that&apos;s for linear temperaments, which used to be rank 1<br/>&gt;&gt; I think.  For ETs it would have been primes - 0.  But now that<br/>&gt;&gt; linear temperaments are rank 2... maybe Gene can clear this up.<br/>&gt;<br/>&gt;The general formula is error * complexity^(pi(p)/(pi(p)-r), where r is<br/>&gt;the rank. If the rank is 1, that becomes e*c^(pi(p)/(pi(p)-1)).</p><p>Thanks!</p><p>-Carl</p></div><h3><a id=15555 href="#15555">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/7/2006 1:01:58 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@&gt; wrote:<br/>&gt;<br/>&gt; &gt; Actually that&apos;s for linear temperaments, which used to be rank 1<br/>&gt; &gt; I think.  For ETs it would have been primes - 0.  But now that<br/>&gt; &gt; linear temperaments are rank 2... maybe Gene can clear this up.<br/>&gt;<br/>&gt; The general formula is error * complexity^(pi(p)/(pi(p)-r), where r is<br/>&gt; the rank. If the rank is 1, that becomes e*c^(pi(p)/(pi(p)-1)).</p><p>Thanks Gene,</p><p>when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>decreasing badness is</p><p>1, 12, 53, 4296,...</p><p>Of meantone ETs 12-equal has the lowest log-flat badness!</p></div><h3><a id=15556 href="#15556">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/9/2006 12:23:28 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&gt; &lt;genewardsmith@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; &gt; Actually that&apos;s for linear temperaments, which used to be rank 1<br/>&gt; &gt; &gt; I think.  For ETs it would have been primes - 0.  But now that<br/>&gt; &gt; &gt; linear temperaments are rank 2... maybe Gene can clear this up.<br/>&gt; &gt;<br/>&gt; &gt; The general formula is error * complexity^(pi(p)/(pi(p)-r), where r is<br/>&gt; &gt; the rank. If the rank is 1, that becomes e*c^(pi(p)/(pi(p)-1)).<br/>&gt;<br/>&gt;<br/>&gt; Thanks Gene,<br/>&gt;<br/>&gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt; decreasing badness is<br/>&gt;<br/>&gt; 1, 12, 53, 4296,...<br/>&gt;<br/>&gt; Of meantone ETs 12-equal has the lowest log-flat badness!</p><p>Are there any other badness measures which are as non-ad hoc as<br/>log-flat but which would give more reasonable values for ETs?</p><p>Kalle</p></div><h3><a id=15557 href="#15557">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/9/2006 1:04:57 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; &gt; &gt; Actually that&apos;s for linear temperaments, which used to be rank 1<br/>&gt;&gt; &gt; &gt; I think.  For ETs it would have been primes - 0.  But now that<br/>&gt;&gt; &gt; &gt; linear temperaments are rank 2... maybe Gene can clear this up.<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt; The general formula is error * complexity^(pi(p)/(pi(p)-r), where<br/>&gt;&gt; &gt; r is the rank. If the rank is 1, that becomes e*c^(pi(p)/(pi(p)-1)).<br/>&gt;&gt;<br/>&gt;&gt; Thanks Gene,<br/>&gt;&gt;<br/>&gt;&gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt;&gt; decreasing badness is<br/>&gt;&gt;<br/>&gt;&gt; 1, 12, 53, 4296,...<br/>&gt;&gt;<br/>&gt;&gt; Of meantone ETs 12-equal has the lowest log-flat badness!<br/>&gt;<br/>&gt;Are there any other badness measures which are as non-ad hoc as<br/>&gt;log-flat but which would give more reasonable values for ETs?</p><p>Badness is a tough tradeoff to make.  12 is not very many tones.<br/>It&apos;s hard to be non- ad hoc because one composer&apos;s delight is<br/>another&apos;s monstrosity.</p><p>By the way, 53 is not a meantone.</p><p>&apos;Barely infinite&apos; is a elegant way to make the tradeoff, but in<br/>practice one winds up using cutoffs anyway.  So something stronger<br/>that tapers itself off would be preferable in my mind.</p><p>As you know, an ET number isn&apos;t a mapping.  If you don&apos;t specify<br/>one, comparing two different ET numbers may be comparing apples and<br/>oranges.  Something that finds the &apos;area&apos; of a map on the lattice<br/>is appealing to me -- I think wedgie complexity is basically such<br/>a thing.</p><p>-Carl</p></div><h3><a id=15558 href="#15558">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/9/2006 1:31:09 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; &gt; &gt; Actually that&apos;s for linear temperaments, which used to be rank 1<br/>&gt; &gt;&gt; &gt; &gt; I think.  For ETs it would have been primes - 0.  But now that<br/>&gt; &gt;&gt; &gt; &gt; linear temperaments are rank 2... maybe Gene can clear this up.<br/>&gt; &gt;&gt; &gt;<br/>&gt; &gt;&gt; &gt; The general formula is error * complexity^(pi(p)/(pi(p)-r), where<br/>&gt; &gt;&gt; &gt; r is the rank. If the rank is 1, that becomes<br/>e*c^(pi(p)/(pi(p)-1)).<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Thanks Gene,<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt; &gt;&gt; decreasing badness is<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; 1, 12, 53, 4296,...<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Of meantone ETs 12-equal has the lowest log-flat badness!<br/>&gt; &gt;<br/>&gt; &gt;Are there any other badness measures which are as non-ad hoc as<br/>&gt; &gt;log-flat but which would give more reasonable values for ETs?</p><p>Hi Carl,</p><p>&gt; Badness is a tough tradeoff to make.  12 is not very many tones.<br/>&gt; It&apos;s hard to be non- ad hoc because one composer&apos;s delight is<br/>&gt; another&apos;s monstrosity.</p><p>&gt; By the way, 53 is not a meantone.</p><p>Yes, I know. My remark above implies that.</p><p>&gt; &apos;Barely infinite&apos; is a elegant way to make the tradeoff, but in<br/>&gt; practice one winds up using cutoffs anyway.  So something stronger<br/>&gt; that tapers itself off would be preferable in my mind.</p><p>Actually I would prefer something weaker!</p><p>I would like to have a badness measure that would be good for<br/>comparing ETs that temper out certain commas. Those commas would then<br/>function as a cutoff. Something that would give 19 or 31 as the best<br/>5-limit meantone, not 12.</p><p>Kalle</p></div><h3><a id=15559 href="#15559">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/9/2006 2:24:54 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kalle Aho wrote:</p><p>&gt; I would like to have a badness measure that would be good for<br/>&gt; comparing ETs that temper out certain commas. Those commas would then<br/>&gt; function as a cutoff. Something that would give 19 or 31 as the best<br/>&gt; 5-limit meantone, not 12.  I think 31 is the poptimal meantone.  Maybe Gene&apos;ll be a long to explain it.</p><p>Otherwise, how non-ad hoc do you want?  I&apos;ve found error*complexity is easy to deal with mathematically.</p><p>                     Graham</p></div><h3><a id=15560 href="#15560">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/9/2006 2:44:50 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; &gt;&gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt;&gt; &gt;&gt; decreasing badness is<br/>&gt;&gt; &gt;&gt;<br/>&gt;&gt; &gt;&gt; 1, 12, 53, 4296,...<br/>&gt;&gt; &gt;&gt;<br/>&gt;&gt; &gt;&gt; Of meantone ETs 12-equal has the lowest log-flat badness!<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt;Are there any other badness measures which are as non-ad hoc as<br/>&gt;&gt; &gt;log-flat but which would give more reasonable values for ETs?<br/>&gt;<br/>&gt;Hi Carl,<br/>&gt;<br/>&gt;&gt; Badness is a tough tradeoff to make.  12 is not very many tones.<br/>&gt;&gt; It&apos;s hard to be non- ad hoc because one composer&apos;s delight is<br/>&gt;&gt; another&apos;s monstrosity.<br/>&gt;<br/>&gt;&gt; By the way, 53 is not a meantone.<br/>&gt;<br/>&gt;Yes, I know. My remark above implies that.</p><p>Sorry, I read this backwards (and hence incorrectly) upon replying.</p><p>&gt;&gt; &apos;Barely infinite&apos; is a elegant way to make the tradeoff, but in<br/>&gt;&gt; practice one winds up using cutoffs anyway.  So something stronger<br/>&gt;&gt; that tapers itself off would be preferable in my mind.<br/>&gt;<br/>&gt;Actually I would prefer something weaker!<br/>&gt;<br/>&gt;I would like to have a badness measure that would be good for<br/>&gt;comparing ETs that temper out certain commas. Those commas would then<br/>&gt;function as a cutoff.</p><p>I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>does it work as a cutoff?</p><p>-Carl</p></div><h3><a id=15561 href="#15561">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/9/2006 12:25:15 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; Kalle Aho wrote:<br/>&gt;<br/>&gt; &gt; I would like to have a badness measure that would be good for<br/>&gt; &gt; comparing ETs that temper out certain commas. Those commas would then<br/>&gt; &gt; function as a cutoff. Something that would give 19 or 31 as the best<br/>&gt; &gt; 5-limit meantone, not 12.<br/>&gt;<br/>&gt; I think 31 is the poptimal meantone.  Maybe Gene&apos;ll be a long to<br/>explain it.</p><p>Hi Graham,</p><p>I remember it being 81 for 5-limit.</p><p>&gt; Otherwise, how non-ad hoc do you want?</p><p>Ironically enough non-ad hocness is pretty subjective. At least no<br/>coefficients, please!</p><p>&gt; I&apos;ve found error*complexity is<br/>&gt; easy to deal with mathematically.</p><p>Yes, I would preserve the basic form and manipulate the complexity<br/>measure. In example error*log(number of tones to the octave) seems to<br/>work pretty well despite being so soft on higher ETs.</p><p>Kalle</p></div><h3><a id=15562 href="#15562">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/9/2006 12:35:47 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; &gt;&gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt; &gt;&gt; &gt;&gt; decreasing badness is<br/>&gt; &gt;&gt; &gt;&gt;<br/>&gt; &gt;&gt; &gt;&gt; 1, 12, 53, 4296,...<br/>&gt; &gt;&gt; &gt;&gt;<br/>&gt; &gt;&gt; &gt;&gt; Of meantone ETs 12-equal has the lowest log-flat badness!<br/>&gt; &gt;&gt; &gt;<br/>&gt; &gt;&gt; &gt;Are there any other badness measures which are as non-ad hoc as<br/>&gt; &gt;&gt; &gt;log-flat but which would give more reasonable values for ETs?<br/>&gt; &gt;<br/>&gt; &gt;Hi Carl,<br/>&gt; &gt;<br/>&gt; &gt;&gt; Badness is a tough tradeoff to make.  12 is not very many tones.<br/>&gt; &gt;&gt; It&apos;s hard to be non- ad hoc because one composer&apos;s delight is<br/>&gt; &gt;&gt; another&apos;s monstrosity.<br/>&gt; &gt;<br/>&gt; &gt;&gt; By the way, 53 is not a meantone.<br/>&gt; &gt;<br/>&gt; &gt;Yes, I know. My remark above implies that.<br/>&gt;<br/>&gt; Sorry, I read this backwards (and hence incorrectly) upon replying.</p><p>No problem!</p><p>&gt; &gt;&gt; &apos;Barely infinite&apos; is a elegant way to make the tradeoff, but in<br/>&gt; &gt;&gt; practice one winds up using cutoffs anyway.  So something stronger<br/>&gt; &gt;&gt; that tapers itself off would be preferable in my mind.<br/>&gt; &gt;<br/>&gt; &gt;Actually I would prefer something weaker!<br/>&gt; &gt;<br/>&gt; &gt;I would like to have a badness measure that would be good for<br/>&gt; &gt;comparing ETs that temper out certain commas. Those commas would then<br/>&gt; &gt;function as a cutoff.<br/>&gt;<br/>&gt; I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt; does it work as a cutoff?</p><p>You are right of course. But if we require that the best<br/>approximations of primes in the ET are the same as given by its<br/>mapping then I believe the list of such ETs will be finite for every<br/>comma.</p><p>Kalle</p></div><h3><a id=15563 href="#15563">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/9/2006 12:54:14 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Kalle Aho wrote:<br/>&gt; &gt;<br/>&gt; &gt; &gt; I would like to have a badness measure that would be good for<br/>&gt; &gt; &gt; comparing ETs that temper out certain commas. Those commas would<br/>then<br/>&gt; &gt; &gt; function as a cutoff. Something that would give 19 or 31 as the best<br/>&gt; &gt; &gt; 5-limit meantone, not 12.<br/>&gt; &gt;<br/>&gt; &gt; I think 31 is the poptimal meantone.  Maybe Gene&apos;ll be a long to<br/>&gt; explain it.<br/>&gt;<br/>&gt;<br/>&gt; Hi Graham,<br/>&gt;<br/>&gt; I remember it being 81 for 5-limit.<br/>&gt;<br/>&gt; &gt; Otherwise, how non-ad hoc do you want?<br/>&gt;<br/>&gt;<br/>&gt; Ironically enough non-ad hocness is pretty subjective. At least no<br/>&gt; coefficients, please!<br/>&gt;<br/>&gt; &gt; I&apos;ve found error*complexity is<br/>&gt; &gt; easy to deal with mathematically.<br/>&gt;<br/>&gt;<br/>&gt; Yes, I would preserve the basic form and manipulate the complexity<br/>&gt; measure. In example error*log(number of tones to the octave) seems to<br/>&gt; work pretty well despite being so soft on higher ETs.</p><p>Although it doesn&apos;t work with 1-equal because its badness will be 0 as<br/>log(1)=0. Error*log(1/step size) is better.</p><p>Kalle</p></div><h3><a id=15564 href="#15564">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/9/2006 1:14:01 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt; does it work as a cutoff?<br/>&gt;<br/>&gt;You are right of course. But if we require that the best<br/>&gt;approximations of primes in the ET are the same as given by its<br/>&gt;mapping then I believe the list of such ETs will be finite for<br/>&gt;every comma.</p><p>I think that&apos;s right.  Herman Miller has suggested similar stuff<br/>for linear temperaments.</p><p>-Carl</p></div><h3><a id=15565 href="#15565">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/9/2006 9:53:52 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:</p><p>&gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt; decreasing badness is<br/>&gt;<br/>&gt; 1, 12, 53, 4296,...<br/>&gt;<br/>&gt; Of meantone ETs 12-equal has the lowest log-flat badness!</p><p>This seems to be weighting 3 as much more valuable than 5.</p></div><h3><a id=15566 href="#15566">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/9/2006 9:56:51 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:</p><p>&gt; Are there any other badness measures which are as non-ad hoc as<br/>&gt; log-flat but which would give more reasonable values for ETs?</p><p>Weightingn the tonality diamond equally is pretty common, as it gives<br/>good results. Kees tunings seem to me to give preference to 3 over 5<br/>in a way more reasonable than what Carl posted.</p></div><h3><a id=15567 href="#15567">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/9/2006 10:35:30 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Are there any other badness measures which are as non-ad hoc as<br/>&gt;&gt; log-flat but which would give more reasonable values for ETs?<br/>&gt;<br/>&gt;Weightingn the tonality diamond equally is pretty common, as it gives<br/>&gt;good results. Kees tunings seem to me to give preference to 3 over 5<br/>&gt;in a way more reasonable than what Carl posted.</p><p>What did I post?</p><p>-Carl</p></div><h3><a id=15568 href="#15568">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/10/2006 12:52:02 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@&gt; wrote:<br/>&gt;<br/>&gt; &gt; when the error is Tenney-weighted, the sequence of 5-limit ETs of<br/>&gt; &gt; decreasing badness is<br/>&gt; &gt;<br/>&gt; &gt; 1, 12, 53, 4296,...<br/>&gt; &gt;<br/>&gt; &gt; Of meantone ETs 12-equal has the lowest log-flat badness!<br/>&gt;<br/>&gt; This seems to be weighting 3 as much more valuable than 5.</p><p>Yes, isn&apos;t that what Tenney-weighting does?</p></div><h3><a id=15569 href="#15569">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/10/2006 7:34:25 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; I think 31 is the poptimal meantone.  Maybe Gene&apos;ll be a long to<br/>explain it.</p><p>In the 5-limit it goes a little bit flat from, not sharp from,<br/>1/4-comma. But that&apos;s assuming we weight 6/5, 5/4, and 3/2 evenly.<br/>That gives 81-et as 5-limit poptimal. The 7-limit poptimal goes very<br/>slight sharp of 1/4-comma, but may not even reach 31.</p><p>That&apos;s the theoretical flapdoodle; in practice I think 31 is about<br/>perfect. It detunes 5/4 just enough to notice (0.783 cents sharp),<br/>which is probably a good idea, and does both 5-limit and septimal<br/>meantone about as well as it can be done. But the old classic,<br/>1/4-comma, *is* poptimal in both the 5 and 7 limits, being in both<br/>cases the minimax tuning.</p></div><h3><a id=15570 href="#15570">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/10/2006 7:35:42 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:</p><p>&gt; I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt; does it work as a cutoff?</p><p>An infinite number of vals tempers out any comma. Only a finite number<br/>of patent vals will.</p></div><h3><a id=15571 href="#15571">ðŸ”—</a>yahya_melb &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>8/11/2006 6:08:49 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed wrote:<br/>&gt;<br/>&gt; &gt; I think 31 is the poptimal meantone.  Maybe Gene&apos;ll be a long to<br/>&gt; explain it.<br/>&gt;<br/>&gt; In the 5-limit it goes a little bit flat from, not sharp from,<br/>&gt; 1/4-comma. But that&apos;s assuming we weight 6/5, 5/4, and 3/2 evenly.<br/>&gt; That gives 81-et as 5-limit poptimal. The 7-limit poptimal goes<br/>very<br/>&gt; slight sharp of 1/4-comma, but may not even reach 31.<br/>&gt;<br/>&gt; That&apos;s the theoretical flapdoodle; in practice I think 31 is about<br/>&gt; perfect. It detunes 5/4 just enough to notice (0.783 cents sharp),<br/>&gt; which is probably a good idea, and does both 5-limit and septimal<br/>&gt; meantone about as well as it can be done. But the old classic,<br/>&gt; 1/4-comma, *is* poptimal in both the 5 and 7 limits, being in both<br/>&gt; cases the minimax tuning.</p><p>Would I be right in concluding that, for practical purposes, you<br/>think 31-EDO is as good as it gets for a tuning that does good<br/>octaves, fifths, thirds and sevenths, all close to the natural<br/>integer overtones of the harmonic series?</p><p>I do hope that&apos;s what you mean!  For it would mean that we *can*<br/>have our cake and eat it (there&apos;s not much point in having a cake<br/>you *can&apos;t* eat, is there?) - an equal temperament, with all its<br/>implied simplicity of modulation, that nearly perfectly handles all<br/>just ratios up to the 7-limit.</p><p>If so, that&apos;s a pretty important result, and so deserves much wider<br/>publicity.</p><p>Regards,<br/>Yahya</p></div><h3><a id=15572 href="#15572">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/11/2006 6:14:27 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kalle:<br/>&gt;&gt;&gt;I would like to have a badness measure that would be good for<br/>&gt;&gt;&gt;comparing ETs that temper out certain commas. Those commas would then<br/>&gt;&gt;&gt;function as a cutoff.</p><p>Carl:<br/>&gt;&gt;I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt;does it work as a cutoff?</p><p>Kalle:<br/>&gt; You are right of course. But if we require that the best<br/>&gt; approximations of primes in the ET are the same as given by its<br/>&gt; mapping then I believe the list of such ETs will be finite for every<br/>&gt; comma. You don&apos;t need an arbitrary rule for selecting the mappings.  You know that no ETs that temper out a given set of commas can have a lower error than the optimal higher-rank temperament that tempers out the same commas.  If the badness gives enough weight to the complexity, you can find the most complex ET that can possibly have a badness within a given range.</p><p>For example, taking badness as error*complexity we have</p><p>max_complexity = max_badness/min_error</p><p>5-limit meantone has a TOP-max error of 1.70 cents/octave. 31-equal as a TOP-max error of 1.81 cents/octave.  Taking TOP-max error and steps per octave to calculate the badness, it comes out as 55.96 cents/octave^2 for 31-equal.  A temperament that improves on this badness would need to have less than 55.96/1.70=32.93 steps.  Hence no more than 32 steps, and so as 32-equal isn&apos;t a meantone we know that there&apos;s no point at looking at meantones beyond 31 steps.</p><p>Actually, I think 12-equal is still the optimal equal temperament for this example.  But 31-equal is optimal in the 7-limit.</p><p>If you use a wedgie complexity instead of steps per octave you will get slightly different numbers.  But the two complexities will be very close, and you can probably work out how close for a given badness.</p><p>If the badness is error*log(complexity) you&apos;ll get</p><p>max_complexity = exp(max_badness/min_error)</p><p>By my calculations, no 5-limit meantone with more than 38 notes can possibly improve on 31-equal.  So being softer on complex temperaments doesn&apos;t matter.</p><p>With log-flat badness of</p><p>error*complexity^(size/(size-1))</p><p>(^ is exponentiation) the limit on complexity is</p><p>max_complexity = (max_badness/min_error)^((size-1)/size)</p><p>               Graham</p></div><h3><a id=15573 href="#15573">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/11/2006 9:18:28 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; You don&apos;t need an arbitrary rule for selecting the mappings.</p><p>Graham, I don&apos;t think that using the best prime approximations is<br/>particularly arbitrary but anyway...</p><p>&gt; You know<br/>&gt; that no ETs that temper out a given set of commas can have a lower<br/>error<br/>&gt; than the optimal higher-rank temperament that tempers out the same<br/>&gt; commas.  If the badness gives enough weight to the complexity, you can<br/>&gt; find the most complex ET that can possibly have a badness within a<br/>given<br/>&gt; range.</p><p>This is great!</p><p>&gt; For example, taking badness as error*complexity we have<br/>&gt;<br/>&gt; max_complexity = max_badness/min_error<br/>&gt;<br/>&gt; 5-limit meantone has a TOP-max error of 1.70 cents/octave. 31-equal<br/>as a<br/>&gt; TOP-max error of 1.81 cents/octave.  Taking TOP-max error and steps per<br/>&gt; octave to calculate the badness, it comes out as 55.96 cents/octave^2</p><p>Is that ^2 a typo?</p><p>&gt; for 31-equal.  A temperament that improves on this badness would<br/>need to<br/>&gt; have less than 55.96/1.70=32.93 steps.  Hence no more than 32 steps,<br/>and<br/>&gt; so as 32-equal isn&apos;t a meantone we know that there&apos;s no point at<br/>looking<br/>&gt; at meantones beyond 31 steps.<br/>&gt;<br/>&gt; Actually, I think 12-equal is still the optimal equal temperament for<br/>&gt; this example.  But 31-equal is optimal in the 7-limit.</p><p>True.</p><p>&gt; If you use a wedgie complexity instead of steps per octave you will get<br/>&gt; slightly different numbers.  But the two complexities will be very<br/>&gt; close, and you can probably work out how close for a given badness.<br/>&gt;<br/>&gt;<br/>&gt; If the badness is error*log(complexity) you&apos;ll get<br/>&gt;<br/>&gt; max_complexity = exp(max_badness/min_error)<br/>&gt;<br/>&gt; By my calculations, no 5-limit meantone with more than 38 notes can<br/>&gt; possibly improve on 31-equal.  So being softer on complex temperaments<br/>&gt; doesn&apos;t matter.</p><p>Right and it gives meaningful results. Here&apos;s the best ETs for<br/>temperaments in Paul&apos;s Paper according to this measure:</p><p>5-limit</p><p>Father 8<br/>Bug 9<br/>Dicot 7<br/>Meantone 31<br/>Augmented 12<br/>Mavila 7 (This is the only one which is a bit sad)<br/>Porcupine 22<br/>Blackwood 15<br/>Dimipent 12<br/>Srutal 46<br/>Magic 41<br/>Ripple 12<br/>Hanson 53<br/>Negripent 19<br/>Tetracot 34<br/>Superpyth 27<br/>Helmholtz 171<br/>Sensipent 65<br/>Passion 73<br/>Wuerschmidt 99<br/>Compton 84<br/>Amity 205<br/>Orson 53<br/>Vishnu 506<br/>Luna 559</p><p>7-limit</p><p>Blacksmith 15<br/>Dimisept 12<br/>Dominant 12<br/>August 12<br/>Pajara 22<br/>Semaphore 19<br/>Meantone 31<br/>Injera 26<br/>Negrisept 19<br/>Augene 27<br/>Keemun 19<br/>Catler 36<br/>Hedgehog 22<br/>Superpyth 27<br/>Sensisept 46<br/>Lemba 26<br/>Porcupine 22<br/>Flattone 45<br/>Magic 41<br/>Doublewide 22<br/>Nautilus 29<br/>Beatles 27<br/>Liese 19<br/>Cynder 31<br/>Orwell 53<br/>Garibaldi 94<br/>Myna 89<br/>Miracle 72<br/>Ennealimmal 612</p><p>&gt; With log-flat badness of<br/>&gt;<br/>&gt; error*complexity^(size/(size-1))<br/>&gt;<br/>&gt; (^ is exponentiation) the limit on complexity is<br/>&gt;<br/>&gt; max_complexity = (max_badness/min_error)^((size-1)/size)</p><p>&quot;size&quot; should be number of primes, right?</p><p>Kalle</p></div><h3><a id=15574 href="#15574">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/11/2006 9:55:16 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Brilliant!</p><p>-Carl</p><p>At 06:14 AM 8/11/2006, you wrote:<br/>&gt;Kalle:<br/>&gt;&gt;&gt;&gt;I would like to have a badness measure that would be good for<br/>&gt;&gt;&gt;&gt;comparing ETs that temper out certain commas. Those commas would then<br/>&gt;&gt;&gt;&gt;function as a cutoff.<br/>&gt;<br/>&gt;Carl:<br/>&gt;&gt;&gt;I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt;&gt;does it work as a cutoff?<br/>&gt;<br/>&gt;Kalle:<br/>&gt;&gt; You are right of course. But if we require that the best<br/>&gt;&gt; approximations of primes in the ET are the same as given by its<br/>&gt;&gt; mapping then I believe the list of such ETs will be finite for every<br/>&gt;&gt; comma.<br/>&gt;<br/>&gt;You don&apos;t need an arbitrary rule for selecting the mappings.  You know<br/>&gt;that no ETs that temper out a given set of commas can have a lower error<br/>&gt;than the optimal higher-rank temperament that tempers out the same<br/>&gt;commas.  If the badness gives enough weight to the complexity, you can<br/>&gt;find the most complex ET that can possibly have a badness within a given<br/>&gt;range.<br/>&gt;<br/>&gt;<br/>&gt;For example, taking badness as error*complexity we have<br/>&gt;<br/>&gt;max_complexity = max_badness/min_error<br/>&gt;<br/>&gt;5-limit meantone has a TOP-max error of 1.70 cents/octave. 31-equal as a<br/>&gt;TOP-max error of 1.81 cents/octave.  Taking TOP-max error and steps per<br/>&gt;octave to calculate the badness, it comes out as 55.96 cents/octave^2<br/>&gt;for 31-equal.  A temperament that improves on this badness would need to<br/>&gt;have less than 55.96/1.70=32.93 steps.  Hence no more than 32 steps, and<br/>&gt;so as 32-equal isn&apos;t a meantone we know that there&apos;s no point at looking<br/>&gt;at meantones beyond 31 steps.<br/>&gt;<br/>&gt;Actually, I think 12-equal is still the optimal equal temperament for<br/>&gt;this example.  But 31-equal is optimal in the 7-limit.<br/>&gt;<br/>&gt;If you use a wedgie complexity instead of steps per octave you will get<br/>&gt;slightly different numbers.  But the two complexities will be very<br/>&gt;close, and you can probably work out how close for a given badness.<br/>&gt;<br/>&gt;<br/>&gt;If the badness is error*log(complexity) you&apos;ll get<br/>&gt;<br/>&gt;max_complexity = exp(max_badness/min_error)<br/>&gt;<br/>&gt;By my calculations, no 5-limit meantone with more than 38 notes can<br/>&gt;possibly improve on 31-equal.  So being softer on complex temperaments<br/>&gt;doesn&apos;t matter.<br/>&gt;<br/>&gt;<br/>&gt;With log-flat badness of<br/>&gt;<br/>&gt;error*complexity^(size/(size-1))<br/>&gt;<br/>&gt;(^ is exponentiation) the limit on complexity is<br/>&gt;<br/>&gt;max_complexity = (max_badness/min_error)^((size-1)/size)<br/>&gt;<br/>&gt;<br/>&gt;                Graham</p></div><h3><a id=15576 href="#15576">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/11/2006 10:18:27 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hm, I wonder why hanson is 53 and keemun 19.</p><p>-Carl</p><p>&gt;&gt; If the badness is error*log(complexity) you&apos;ll get<br/>&gt;&gt;<br/>&gt;&gt; max_complexity = exp(max_badness/min_error)<br/>&gt;&gt;<br/>&gt;&gt; By my calculations, no 5-limit meantone with more than 38 notes can<br/>&gt;&gt; possibly improve on 31-equal.  So being softer on complex temperaments<br/>&gt;&gt; doesn&apos;t matter.<br/>&gt;<br/>&gt;Right and it gives meaningful results. Here&apos;s the best ETs for<br/>&gt;temperaments in Paul&apos;s Paper according to this measure:<br/>&gt;<br/>&gt;5-limit<br/>&gt;<br/>&gt;Father 8<br/>&gt;Bug 9<br/>&gt;Dicot 7<br/>&gt;Meantone 31<br/>&gt;Augmented 12<br/>&gt;Mavila 7 (This is the only one which is a bit sad)<br/>&gt;Porcupine 22<br/>&gt;Blackwood 15<br/>&gt;Dimipent 12<br/>&gt;Srutal 46<br/>&gt;Magic 41<br/>&gt;Ripple 12<br/>&gt;Hanson 53<br/>&gt;Negripent 19<br/>&gt;Tetracot 34<br/>&gt;Superpyth 27<br/>&gt;Helmholtz 171<br/>&gt;Sensipent 65<br/>&gt;Passion 73<br/>&gt;Wuerschmidt 99<br/>&gt;Compton 84<br/>&gt;Amity 205<br/>&gt;Orson 53<br/>&gt;Vishnu 506<br/>&gt;Luna 559<br/>&gt;<br/>&gt;7-limit<br/>&gt;<br/>&gt;Blacksmith 15<br/>&gt;Dimisept 12<br/>&gt;Dominant 12<br/>&gt;August 12<br/>&gt;Pajara 22<br/>&gt;Semaphore 19<br/>&gt;Meantone 31<br/>&gt;Injera 26<br/>&gt;Negrisept 19<br/>&gt;Augene 27<br/>&gt;Keemun 19<br/>&gt;Catler 36<br/>&gt;Hedgehog 22<br/>&gt;Superpyth 27<br/>&gt;Sensisept 46<br/>&gt;Lemba 26<br/>&gt;Porcupine 22<br/>&gt;Flattone 45<br/>&gt;Magic 41<br/>&gt;Doublewide 22<br/>&gt;Nautilus 29<br/>&gt;Beatles 27<br/>&gt;Liese 19<br/>&gt;Cynder 31<br/>&gt;Orwell 53<br/>&gt;Garibaldi 94<br/>&gt;Myna 89<br/>&gt;Miracle 72<br/>&gt;Ennealimmal 612</p></div><h3><a id=15577 href="#15577">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/11/2006 11:10:18 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt; Hm, I wonder why hanson is 53 and keemun 19.</p><p>Probably because patent val for 53 doesn&apos;t temper out 49:48!</p></div><h3><a id=15580 href="#15580">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/11/2006 4:04:10 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kalle Aho wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt; &gt; &gt;&gt;You don&apos;t need an arbitrary rule for selecting the mappings.  &gt; &gt; &gt; Graham, I don&apos;t think that using the best prime approximations is<br/>&gt; particularly arbitrary but anyway...  Well, this is one of those points I always grumble about.</p><p>&gt;&gt;For example, taking badness as error*complexity we have<br/>&gt;&gt;<br/>&gt;&gt;max_complexity = max_badness/min_error<br/>&gt;&gt;<br/>&gt;&gt;5-limit meantone has a TOP-max error of 1.70 cents/octave. 31-equal<br/>&gt; as a &gt;&gt;TOP-max error of 1.81 cents/octave.  Taking TOP-max error and steps per &gt;&gt;octave to calculate the badness, it comes out as 55.96 cents/octave^2<br/>&gt; &gt; Is that ^2 a typo?</p><p>No.  Error is measured in cents/octave and complexity in steps/octave. Taking steps as dimensionless, that gives complexity*error in units of cents/octave^2.</p><p>                 Graham</p></div><h3><a id=15581 href="#15581">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>8/11/2006 7:39:12 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt; Is that ^2 a typo?<br/>&gt;<br/>&gt; No.  Error is measured in cents/octave and complexity in steps/octave.<br/>&gt; Taking steps as dimensionless, that gives complexity*error in units of<br/>&gt; cents/octave^2.</p><p>Oh, but of course! I&apos;m sorry.</p></div><h3><a id=15582 href="#15582">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/11/2006 11:25:11 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt; does it work as a cutoff?<br/>&gt;<br/>&gt;An infinite number of vals tempers out any comma. Only a finite number<br/>&gt;of patent vals will.</p><p>What&apos;s the largest ET whose patent val tempers out 81/80?</p><p>-Carl</p></div><h3><a id=15585 href="#15585">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/12/2006 2:26:31 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt;&gt;&gt;I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt;&gt;does it work as a cutoff?<br/>&gt;&gt;<br/>&gt;&gt;An infinite number of vals tempers out any comma. Only a finite number<br/>&gt;&gt;of patent vals will.<br/>&gt; &gt; What&apos;s the largest ET whose patent val tempers out 81/80?</p><p>What&apos;s an ET?  If you&apos;re allowed contorsion, it&apos;s  &lt;129, 204, 300]. Otherwise, &lt;117, 185, 272].  The full list is</p><p>5, 7, 12, 19, 24*, 26, 31, 36*, 38*, 43, 45, 50, 55, 57*, 62*, 67, 69, 74, 76*, 81, 86*, 88, 93*, 98, 100*, 105, 117, 129*</p><p>where a * denotes contorsion.  A similar list for some kind of optimal mappings:</p><p>5, 7, 12, 14*, 17, 19, 24*, 26, 31, 33, 36*, 38*, 43, 45, 50, 52*, 55, 57*, 62*, 64, 69, 74, 76*, 81, 88, 93*, 100*, 112</p><p>Contorsion is where it&apos;s not possible to cover all notes of a regular temperament with consonances sharing a common note.  For equal temperaments that means the elements of the mapping have a common factor.  A contorted temperament can&apos;t strictly be a meantone because it isn&apos;t possible to notate it by octaves and fifths.  It might not even be a temperament depending on your definition of &quot;temperament&quot;.</p><p>                Graham</p></div><h3><a id=15587 href="#15587">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/12/2006 8:15:26 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Wow, maybe insisting on patent vals isn&apos;t as arbitrary as I thought.</p><p>-C.</p><p>&gt;&gt;&gt;&gt;I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt;&gt;&gt;does it work as a cutoff?<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;An infinite number of vals tempers out any comma. Only a finite number<br/>&gt;&gt;&gt;of patent vals will.<br/>&gt;&gt;<br/>&gt;&gt; What&apos;s the largest ET whose patent val tempers out 81/80?<br/>&gt;<br/>&gt;What&apos;s an ET?  If you&apos;re allowed contorsion, it&apos;s  &lt;129, 204, 300].<br/>&gt;Otherwise, &lt;117, 185, 272].  The full list is<br/>&gt;<br/>&gt;5, 7, 12, 19, 24*, 26, 31, 36*, 38*, 43, 45, 50, 55, 57*, 62*, 67, 69,<br/>&gt;74, 76*, 81, 86*, 88, 93*, 98, 100*, 105, 117, 129*<br/>&gt;<br/>&gt;where a * denotes contorsion.  A similar list for some kind of optimal<br/>&gt;mappings:<br/>&gt;<br/>&gt;5, 7, 12, 14*, 17, 19, 24*, 26, 31, 33, 36*, 38*, 43, 45, 50, 52*, 55,<br/>&gt;57*, 62*, 64, 69, 74, 76*, 81, 88, 93*, 100*, 112<br/>&gt;<br/>&gt;<br/>&gt;Contorsion is where it&apos;s not possible to cover all notes of a regular<br/>&gt;temperament with consonances sharing a common note.  For equal<br/>&gt;temperaments that means the elements of the mapping have a common<br/>&gt;factor.  A contorted temperament can&apos;t strictly be a meantone because it<br/>&gt;isn&apos;t possible to notate it by octaves and fifths.  It might not even be<br/>&gt;a temperament depending on your definition of &quot;temperament&quot;.<br/>&gt;<br/>&gt;<br/>&gt;                 Graham</p></div><h3><a id=15588 href="#15588">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/12/2006 8:41:16 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;&gt;I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt;&gt;&gt;does it work as a cutoff?<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;An infinite number of vals tempers out any comma. Only a finite number<br/>&gt;&gt;&gt;of patent vals will.</p><p>When</p><p>error(patent(3)) &lt; 4 * error(patent(5))</p><p>we no longer have a patent meantone.  And since as ET size goes<br/>up the patent errors will tend to go down at about the same rate,<br/>the inequality will eventually be satisfied.  Is that right?</p><p>&gt;Contorsion is where it&apos;s not possible to cover all notes of a regular<br/>&gt;temperament with consonances sharing a common note.  For equal<br/>&gt;temperaments that means the elements of the mapping have a common<br/>&gt;factor.  A contorted temperament can&apos;t strictly be a meantone because it<br/>&gt;isn&apos;t possible to notate it by octaves and fifths.  It might not even be<br/>&gt;a temperament depending on your definition of &quot;temperament&quot;.</p><p>Yes, contorsion isn&apos;t ok.  But it isn&apos;t a concern here because<br/>there are an infinite number of primes.</p><p>-Carl</p></div><h3><a id=15589 href="#15589">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/14/2006 1:23:56 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;yahya_melb&quot; &lt;yahya@...&gt; wrote:</p><p>&gt; Would I be right in concluding that, for practical purposes, you<br/>&gt; think 31-EDO is as good as it gets for a tuning that does good<br/>&gt; octaves, fifths, thirds and sevenths, all close to the natural<br/>&gt; integer overtones of the harmonic series?</p><p>It&apos;s about as good as a *meantone* tuning gets, which is not the same.<br/>I would say that for most 7-limit purposes 99-et is all you need,<br/>however, so far as tuning accuracy goes. But other people no doubt<br/>have different ideas.</p></div><h3><a id=15590 href="#15590">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/14/2006 2:31:38 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt; &gt;&gt; does it work as a cutoff?<br/>&gt; &gt;<br/>&gt; &gt;An infinite number of vals tempers out any comma. Only a finite number<br/>&gt; &gt;of patent vals will.<br/>&gt;<br/>&gt; What&apos;s the largest ET whose patent val tempers out 81/80?</p><p>129-et. As expected, the fifth is a little sharp of minimax, at<br/>697.67 cents. The NOT tuning is 698.02.</p></div><h3><a id=15592 href="#15592">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/14/2006 2:35:58 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; What&apos;s an ET?  If you&apos;re allowed contorsion, it&apos;s  &lt;129, 204, 300].<br/>&gt; Otherwise, &lt;117, 185, 272].  The full list is</p><p>Good point. The fifth for 117 is 697.44 cents, still as expected sharp<br/>of minimax.</p></div><h3><a id=15593 href="#15593">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/14/2006 4:47:53 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:<br/>&gt;<br/>&gt; &gt; What&apos;s an ET?  If you&apos;re allowed contorsion, it&apos;s  &lt;129, 204, 300].<br/>&gt; &gt; Otherwise, &lt;117, 185, 272].  The full list is<br/>&gt;<br/>&gt; Good point. The fifth for 117 is 697.44 cents, still as expected sharp<br/>&gt; of minimax.</p><p>Of course, we can do this stuff for other temperaments and other prime<br/>limits as well. For septimal meantone, we get 105 et, which has a fifth<br/>of 697.143 cents; the 7-limit NOT tuning is 697.646.</p><p>For miracle, the highest patent for both 7 and 11 limit is 175, which<br/>is also 7-limit poptimal. It has a secor of 116.57 cents, as compared<br/>to the 7- and 11-limit NOT tunings of 116.66 cents, very close to the<br/>72-et values; but the 175 tuning is still pretty close to NOT (a<br/>semiconvergent, in fact), which is all we can expect.</p></div><h3><a id=15594 href="#15594">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/14/2006 4:53:28 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:<br/>&gt;<br/>&gt; &gt; What&apos;s an ET?  If you&apos;re allowed contorsion, it&apos;s  &lt;129, 204, 300].<br/>&gt; &gt; Otherwise, &lt;117, 185, 272].  The full list is<br/>&gt;<br/>&gt; Good point. The fifth for 117 is 697.44 cents, still as expected sharp<br/>&gt; of minimax.</p><p>There&apos;s also the question of consistency. In the 5-limit, the largest<br/>consistent et for meantone is 100, and the largest uncontorted is 88.<br/>For the 7-limit, the largest consistent one is 93, and the largest<br/>uncontorted is 81.</p></div><h3><a id=15595 href="#15595">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/15/2006 7:31:28 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:</p><p>&gt; There&apos;s also the question of consistency. In the 5-limit, the largest<br/>&gt; consistent et for meantone is 100, and the largest uncontorted is 88.<br/>&gt; For the 7-limit, the largest consistent one is 93, and the largest<br/>&gt; uncontorted is 81.</p><p>Yes, and consistency is a particular threshold on an error*complexity badness measure, which brings us right back where we started.</p><p>                  Graham</p></div><h3><a id=15596 href="#15596">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/15/2006 10:22:39 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 08:41 AM 8/12/2006, you wrote:<br/>&gt;&gt;&gt;&gt;&gt;I&apos;d expect an infinite number of ETs to temper out any comma.  How<br/>&gt;&gt;&gt;&gt;&gt;does it work as a cutoff?<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;An infinite number of vals tempers out any comma. Only a finite number<br/>&gt;&gt;&gt;&gt;of patent vals will.<br/>&gt;<br/>&gt;When<br/>&gt;<br/>&gt;error(patent(3)) &lt; 4 * error(patent(5))<br/>&gt;<br/>&gt;we no longer have a patent meantone.  And since as ET size goes<br/>&gt;up the patent errors will tend to go down at about the same rate,<br/>&gt;the inequality will eventually be satisfied.  Is that right?</p><p>It still seems that some large ET could happen to have one error<br/>4 times the size of another.</p><p>-Carl</p></div><h3><a id=15597 href="#15597">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>8/15/2006 1:09:58 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:</p><p>&gt;&gt;When<br/>&gt;&gt;<br/>&gt;&gt;error(patent(3)) &lt; 4 * error(patent(5))<br/>&gt;&gt;<br/>&gt;&gt;we no longer have a patent meantone.  And since as ET size goes<br/>&gt;&gt;up the patent errors will tend to go down at about the same rate,<br/>&gt;&gt;the inequality will eventually be satisfied.  Is that right?</p><p>I obviously wasn&apos;t paying attention when you posted this before, because it isn&apos;t right.  31-equal is consistent, so its val is a patent one, but its error in 5 is much smaller than its error in 3.</p><p>&gt; It still seems that some large ET could happen to have one error<br/>&gt; 4 times the size of another.</p><p>No meantone can have all its 5-limit intervals tuned to better than a quarter of a syntonic comma, or about 5.4 cents.  No equal temperament represented by a patent val can have an error in a prime interval greater than half a scale step.  Although these two statements aren&apos;t connected, it still works out that there&apos;s a size of ET beyond which it&apos;s impossible for a meantone to be represented by a patent val.</p><p>                      Graham</p></div><h3><a id=15598 href="#15598">ðŸ”—</a>yahya_melb &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>8/15/2006 9:22:15 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene,</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;yahya_melb&quot; wrote:<br/>&gt;<br/>&gt; &gt; Would I be right in concluding that, for practical purposes, you<br/>&gt; &gt; think 31-EDO is as good as it gets for a tuning that does good<br/>&gt; &gt; octaves, fifths, thirds and sevenths, all close to the natural<br/>&gt; &gt; integer overtones of the harmonic series?<br/>&gt;<br/>&gt; It&apos;s about as good as a *meantone* tuning gets, which is not the<br/>same.<br/>&gt; I would say that for most 7-limit purposes 99-et is all you need,<br/>&gt; however, so far as tuning accuracy goes. But other people no doubt<br/>&gt; have different ideas.</p><p>Thanks for the clarification.  So if I want to have good major and<br/>minor tones (10/9 and 9/8), 31-EDO won&apos;t do the job, but 99-EDO will.<br/>That&apos;s good to know.</p><p>Since there are around 6 meantones per octave, that means on average<br/>16.5 steps of 99-EDO per meantone, so I&apos;m guessing the minor and major<br/>tones will be 16 and 17 steps respectively, and a septimal tone (8/7)<br/>probably 18 or 19.  Hmm, think I&apos;ll have to spreadsheet the numbers to<br/>find out just how to use 99-EDO effectively in various limits.  (Which<br/>reminds me, there&apos;s a spreadsheet of Carl&apos;s I&apos;ve been meaning to get<br/>back to.)</p><p>Regards,<br/>Yahya</p></div><h3><a id=15599 href="#15599">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>8/16/2006 1:39:47 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;yahya_melb&quot; &lt;yahya@...&gt; wrote:</p><p>&gt; Thanks for the clarification.  So if I want to have good major and<br/>&gt; minor tones (10/9 and 9/8), 31-EDO won&apos;t do the job, but 99-EDO will.<br/>&gt; That&apos;s good to know.</p><p>You were asking about the 7-limit. If all you need is 5-limit stuff<br/>and in particular good 9/8 and 10/9, 53-et is fine.</p><p>&gt; Since there are around 6 meantones per octave, that means on average<br/>&gt; 16.5 steps of 99-EDO per meantone, so I&apos;m guessing the minor and major<br/>&gt; tones will be 16 and 17 steps respectively, and a septimal tone (8/7)<br/>&gt; probably 18 or 19.</p><p>10/9: 15<br/>9/8: 17<br/>8/7: 19<br/>7/6: 22</p></div><h3><a id=15600 href="#15600">ðŸ”—</a>yahya_melb &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>8/16/2006 6:34:08 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene,</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;yahya_melb&quot; wrote:<br/>&gt;<br/>&gt; &gt; Thanks for the clarification.  So if I want to have good major<br/>and minor tones (10/9 and 9/8), 31-EDO won&apos;t do the job, but 99-EDO<br/>will.  That&apos;s good to know.<br/>&gt;<br/>&gt; You were asking about the 7-limit. If all you need is 5-limit<br/>stuff ...</p><p>I didn&apos;t actually say that!  But if I did only want 5-limit, 53<br/>would surely be a more manageable number of steps per octave (eg on<br/>guitar) than would 99.  Again, that&apos;s useful info.</p><p>&gt; ... and in particular good 9/8 and 10/9, 53-et is fine.<br/>&gt;<br/>&gt; &gt; Since there are around 6 meantones per octave, that means on<br/>average 16.5 steps of 99-EDO per meantone, so I&apos;m guessing the minor<br/>and major tones will be 16 and 17 steps respectively, and a septimal<br/>tone (8/7) probably 18 or 19.<br/>&gt;<br/>&gt; 10/9: 15<br/>&gt; 9/8: 17<br/>&gt; 8/7: 19<br/>&gt; 7/6: 22</p><p>Thanks for the numbers.</p><p>Regards,<br/>Yahya</p></div><h3><a id=17469 href="#17469">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/8/2009 1:40:02 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kalle wrote:</p><p>&gt;&gt; when the error is Tenney-weighted, the sequence of 5-limit<br/>&gt;&gt; ETs of decreasing badness is<br/>&gt;&gt;<br/>&gt;&gt; 1, 12, 53, 4296,...<br/>&gt;&gt;<br/>&gt;&gt; Of meantone ETs 12-equal has the lowest log-flat badness!<br/>&gt;<br/>&gt;Are there any other badness measures which are as non-ad hoc as<br/>&gt;log-flat but which would give more reasonable values for ETs?</p><p>I was playing with logflat badness the other night, generating<br/>this list, where I look at ETs up to 1000 and down to the<br/>number of primes (e.g. 4-ET is smallest 7-limit ET considered),<br/>and print the top results such that 12-ET is their median.  The<br/>val used for each ET is the one with the lowest TOP damage after<br/>the TOP stretch is applied, and complexity is the ET number.</p><p>5-limit<br/> &lt;53 84 123| 117<br/> &lt;12 19 28|  148<br/> &lt;3 5 7|     157<br/>7-limit<br/> &lt;99 157 230 278| 155<br/> &lt;12 19 28 34|    169<br/> &lt;31 49 72 87|    176<br/>11-limit<br/> &lt;31 49 72 87 107|    132<br/> &lt;72 114 167 202 249| 135<br/> &lt;22 35 51 62 76|     156<br/> &lt;12 19 28 34 42|     170<br/> &lt;5 8 12 14 18|       190<br/> &lt;8 13 19 23 28|      201<br/> &lt;41 65 95 115 142|   202<br/>13-limit<br/> &lt;72 114 167 202 249 266| 165<br/> &lt;12 19 28 34 42 45|      170<br/> &lt;8 13 19 23 28 30|       181<br/>17-limit<br/> &lt;72 114 167 202 249 266 294| 143<br/> &lt;12 19 28 34 42 45 49|       156<br/> &lt;46 73 107 129 159 170 188|  161</p><p>As I&apos;ve done on a few occasions in the past, I tinkered<br/>with the exponents on error and complexity, but didn&apos;t find<br/>anything that seemed to work better than logflat.</p><p>Then today I think I hit on an explanation: the badness is<br/>doing its job, it&apos;s just that ETs are unmusical.  Things<br/>like 72 are not scales on which to base music, but rather<br/>convenient tunings for rank 2 temperaments.  ETs in the<br/>complexity range of musical scales aren&apos;t accurate enough,<br/>and are too melodically simple.  Even 12-ET is not used<br/>in music much -- the diatonic scale is.  This isn&apos;t a new<br/>realization, but I&apos;m trying it again for the first time. :)</p><p>For rank 2 temperaments, something like the length of the<br/>continuous chain of generators needed to produce a<br/>saturated chord makes more sense.  I think that&apos;s called<br/>Graham complexity (right Graham?).  And I think it&apos;s the<br/>same as the unweighted wedgie complexity if the footprint<br/>of both generators and periods is considered (right Graham?).<br/>Then there&apos;s scalar complexity... maybe somebody can tell<br/>me what that is.</p><p>So one approach for ETs would be to report the complexity<br/>of a rank 2 temperament it supports.  How to choose?  I&apos;ll<br/>suggest using the complexity of the simplest comma tempered<br/>out by the val under consideration.  This means one has to<br/>go all the way to badness before picking a val for a number<br/>of notes/octave, rather than just picking the one with the<br/>lowest error.</p><p>One might also disqualify commas that don&apos;t include all<br/>primes in the limit.  For example, the best 11-limit val<br/>above, &lt;31 49 72 87 107|, tempers out 81/80.  But the<br/>simplest complete 11-limit comma it tempers out seems to<br/>be 441/440.  I&apos;d then take the log2 Tenney Height of this<br/>comma as the val&apos;s weighted complexity (its taxicab<br/>distance on a rectangular lattice would be its unweighted<br/>complexity).</p><p>Has this been suggested before?  I haven&apos;t recoded my<br/>search for it yet, but I&apos;ve got to get to work before they<br/>fire me.  Maybe somebody will beat me to it...</p><p>-Carl</p></div><h3><a id=17471 href="#17471">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/8/2009 3:52:33 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;One might also disqualify commas that don&apos;t include all<br/>&gt;primes in the limit.  For example, the best 11-limit val<br/>&gt;above, &lt;31 49 72 87 107|, tempers out 81/80.  But the<br/>&gt;simplest complete 11-limit comma it tempers out seems to<br/>&gt;be 441/440.</p><p>Simplest by Tenney height, that is.</p><p>I just uploaded a plot of notes/octave vs. simplest 7-limit<br/>comma, here:</p><p><a href="/tuning-math/files/carl/">/tuning-math/files/carl/</a></p><p>Looks like it might work.</p><p>-Carl</p></div><h3><a id=17472 href="#17472">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/11/2009 2:33:28 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;I just uploaded a plot of notes/octave vs. simplest 7-limit<br/>&gt;comma, here:<br/>&gt;<br/>&gt;<a href="/tuning-math/files/carl/">/tuning-math/files/carl/</a><br/>&gt;<br/>&gt;Looks like it might work.</p><p>Here are the best 3 ETs up to 100 ET for several different<br/>limits using this scheme.</p><p>These are (val comma badness), where val is the non-torsional<br/>val with the least TOP damage for the ET after the corresponding<br/>TOP stretch has been applied, comma is the simplest vanishing<br/>comma for that val which involves all the limit&apos;s prime factors<br/>and where &quot;simplest&quot; is defined in terms of tenney height<br/>(though I&apos;m generating candidate commas by unweighted lattice<br/>distance and there is a possibility that a comma lower tenney<br/>height is outside my window), and badness is the tenney height<br/>of this comma raised to the standard logflat exponent times the<br/>top damage of the val.</p><p>5-limit:<br/>  ((53 84 123) 15625/15552 45)<br/>  ((65 103 151) 32805/32768 70)<br/>  ((87 138 202) 15625/15552 73))<br/>7-limit:<br/>  ((99 157 230 278) 2401/2400 21)<br/>  ((72 114 167 202) 225/224 25)<br/>  ((94 149 218 264) 225/224 38))<br/>11-limit:<br/>  ((72 114 167 202 249) 441/440 23)<br/>  ((99 157 230 278 343) 441/440 33)<br/>  ((94 149 218 264 325) 539/540 36))<br/>13-limit:<br/>  ((94 149 218 264 325 348) 1715/1716 39)<br/>  ((72 114 167 202 249 266) 1715/1716 39)<br/>  ((87 138 202 244 301 322) 4235/4212 48))<br/>17-limit:<br/>  ((72 114 167 202 249 266 294) 715/714 30)<br/>  ((94 149 218 264 325 348 384) 715/714 31)<br/>  ((80 127 186 225 277 296 327) 715/714 36))</p><p>The results are biased towards larger ETs, and I doubt the<br/>results are logflat anymore.  There&apos;s clearly a penalty to<br/>having more notes/octave, though I&apos;ll argue it&apos;s less important<br/>than the penalty of greater Graham complexity in the embedded<br/>rank 2 temperaments.  I was thinking maybe<br/>&#x9;(notes/octave * simplest comma)^logflat_expt<br/>would be one compromise.  If anyone is following this, I&apos;d<br/>love to have your comments.</p><p>-Carl</p></div><h3><a id=17473 href="#17473">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/11/2009 2:39:22 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;These are (val comma badness), where val is the non-torsional</p><p>Oh, and I&apos;m assuming for rank 1 temperaments, removing torsion<br/>is as simple as ignoring vals with GCD &gt; 1.  Somebody please<br/>correct me if that&apos;s not right.</p><p>-Carl</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            