<a href="/tuning-math">back to list</a><h1>What the hell we are talking about</h1><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>5/8/2010 9:23:20 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>If we work on the thing below, perhaps we can all get on the same page and also have something we can stick in the files section to explain what the hell we are talking about around here.</p><p>===</p><p>The p-limit abelian group of positive rational numbers may be written in exponent or &quot;monzo&quot; form as a list of integers |e2 e3 ... ep&gt; where ep is the exponent of the prime p in the prime factorization. It is a free abelian group of rank pi(p), the number of primes up to p. The dual free abelian group is the group of vals, which map rational numbers to integers, and which we may write in bra-ket style as<br/>&lt;v2 v3 ... vp|.</p><p>If we put vector space norms onto monzos and vals, we may embed them in a real vector space of dimension pi(p), where they become lattice points. One norm we may place on monzos is the Tenney norm, which is</p><p>|| |e2 e3 ... ep&gt; || = |log2(2)|+|log2(3)e3|+...+|log2(p)ep|</p><p>The corresponding norm on vals would then be</p><p>|| &lt;v2 v3 ... vp| || = max(|v2/log2(2)|, v3/log2(3), ... vp/log2(p))</p><p>We may change coordinates by multiplying through the exponents of the monzos by log2(prime), and dividing the coordinates of the vals by log2(prime), so that the norms become standard L1 and L-infinty norms, respectively. With these norms, the monzos form a lattice in Tenney (p-limit) interval space, and the vals a lattice in Tenney (p-limit) tuning space. Because of the mathematical advantages of Euclidean (L2) norms, we also want to form Euclidean interval space and Euclidean tuning space, which take the same normalized coordinates as the Tenney spaces, but apply the standard Euclidean norm to them. Now the vals and monzos are both honest Euclidean lattices.</p><p>If T is a vector in tuning space, and M a vector in interval space, then T(M), or equivalently &lt;T|M&gt;, is a real number giving the value in octaves, or else the integer (in case these are monzos and vals) M is mapped to by T. Of particular note is the JI point J = &lt;1 1 1 ... 1| in tuning space, as when M is a (weighted) monzo, J(M) is the value log2 (in octaves) of the corresponding interval. If we take a ball around J with radius e, we may consider everything in the ball to be an approximate tuning map. Here e is left unspecified but may not be too large. While vals correspond to points in tuning space, they are too far from J to be considered tuning maps. However, if we take the projective val, consisting of all points through the origin (k*v scalar products of real numbers k times the val v) then these may pass close to J. The usual definition of the distance from a point to a line in a normed vector space is the minimum distance, so projective vals have a canonically defined distance measure to J.</p><p>In Tenney tuning space, if we pick the closest point on the projective val to J we get the TOP tuning map, and the distance from the projective val to J is the TOP error. The corresponding object in Euclidean val space is the TOP-RMS tuning map, and the Euclidean distance is the TOP-RMS error.</p><p>These tuning maps are close to J, and hence their norms are close to J. If we divide through so as to make the norm precisely that of J, we can now regard J and these normalized tuning maps as projective objects, and the Euclidean distance between them is a chordal distance on the n-sphere with center the origin and radius the norm of J. Hence it is closely allied to the sine of the angle between them, which we could also use as a metric, and to || V^J ||/||J||^2, where V is the normalized projective val serving as a tuning map, and the product is a wedge product, with the standard Euclidean norm on it. This is a move which really only makes sense in Euclidean space, so we&apos;ve left the Tenney version behind here. Graham has suggested ||V^J||/||J|| makes a good badness measure for projective vals, which extends itself in the natural way to projective multivals. There is, of course, a slightly different tuning optimization allied with this plan.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>5/9/2010 1:59:37 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt;If we work on the thing below, perhaps we can all get on the same page<br/>&gt;and also have something we can stick in the files section to explain<br/>&gt;what the hell we are talking about around here.</p><p>A central place where definitions could be kept and updated as<br/>discussions progress would be useful.  Without it, conclusions reached<br/>in discussion are too easily misplaced/forgotten.</p><p>I was just thinking about the ideal interface for such a thing earlier<br/>today.  But since it doesn&apos;t exist, why don&apos;t we just use the<br/>xenharmonic wiki?<br/><a href="http://xenharmonic.wikispaces.com">http://xenharmonic.wikispaces.com</a></p><p>Hm, might need something more dedicated.  I dunno.</p><p>&gt;The p-limit abelian group of positive rational numbers may be written<br/>&gt;in exponent or &quot;monzo&quot; form as a list of integers |e2 e3 ... ep&gt; where<br/>&gt;ep is the exponent of the prime p in the prime factorization. It is a<br/>&gt;free abelian group of rank pi(p), the number of primes up to p. The<br/>&gt;dual free abelian group is the group of vals, which map rational<br/>&gt;numbers to integers, and which we may write in bra-ket style as<br/>&gt;&lt;v2 v3 ... vp|.<br/>&gt;<br/>&gt;If we put vector space norms onto monzos and vals, we may embed them<br/>&gt;in a real vector space of dimension pi(p),</p><p>Should this be plural -- real vector spaces?</p><p>&gt;where they become lattice points. One norm we may place on monzos is<br/>&gt;the Tenney norm, which is<br/>&gt;<br/>&gt;|| |e2 e3 ... ep&gt; || = |log2(2)|+|log2(3)e3|+...+|log2(p)ep|</p><p>First term should be |log2(2)e2| ?  Also, let&apos;s not call it a<br/>Tenney norm, let&apos;s call it a taxicab norm on a Tenney-weighted space.</p><p>&gt;The corresponding norm on vals would then be<br/>&gt;<br/>&gt;|| &lt;v2 v3 ... vp| || = max(|v2/log2(2)|, v3/log2(3), ... vp/log2(p))<br/>&gt;<br/>&gt;We may change coordinates by multiplying through the exponents of the<br/>&gt;monzos by log2(prime), and dividing the coordinates of the vals by<br/>&gt;log2(prime), so that the norms become standard L1 and L-infinty norms,<br/>&gt;respectively.</p><p>Already done above?  If so, move this up, possibly showing the raw<br/>norms even earlier, e.g.</p><p>|| |e2 e3 ... ep&gt; || = |e2|+|e3|+...+|ep|</p><p>&gt;With these norms, the monzos form a lattice in Tenney<br/>&gt;(p-limit) interval space, and the vals a lattice in Tenney (p-limit)<br/>&gt;tuning space. Because of the mathematical advantages of Euclidean (L2)<br/>&gt;norms, we also want to form Euclidean interval space and Euclidean<br/>&gt;tuning space, which take the same normalized coordinates as the Tenney<br/>&gt;spaces, but apply the standard Euclidean norm to them. Now the vals<br/>&gt;and monzos are both honest Euclidean lattices.<br/>&gt;<br/>&gt;If T is a vector in tuning space, and M a vector in interval space,<br/>&gt;then T(M), or equivalently &lt;T|M&gt;, is a real number giving the value in<br/>&gt;octaves, or else the integer (in case these are monzos and vals) M is<br/>&gt;mapped to by T.</p><p>Slightly awkward.  Describe the integer case with the unweighted<br/>norms above; keep the real number bit here.</p><p>&gt;Of particular note is the JI point J = &lt;1 1 1 ... 1|<br/>&gt;in tuning space, as when M is a (weighted) monzo, J(M) is the value<br/>&gt;log2 (in octaves) of the corresponding interval. If we take a ball<br/>&gt;around J with radius e, we may consider everything in the ball to be<br/>&gt;an approximate tuning map. Here e is left unspecified but may not be<br/>&gt;too large. While vals correspond to points in tuning space, they are<br/>&gt;too far from J to be considered tuning maps.</p><p>This seems to tie in with what I just asked you about JIP vs. JIL.<br/>All decent vals should be near the JIL, eg &lt;31 30.91556 31.00871|<br/>is near &lt;31 31 31| (weighted) or &lt;31 49.13384 71.97977| is near<br/>&lt;31 49 72| (unweighted).</p><p>&gt;However, if we take the projective val, consisting of all points<br/>&gt;through the origin (k*v scalar products of real numbers k times<br/>&gt;the val v) then these may pass close to J. The usual definition of<br/>&gt;the distance from a point to a line in a normed vector space is the<br/>&gt;minimum distance, so projective vals have a canonically defined<br/>&gt;distance measure to J.</p><p>Ah, perhaps this is the better direction to do it; since we want<br/>to tune a particular temperament we have to stay on its line<br/>(or plane).</p><p>&gt;In Tenney tuning space, if we pick the closest point on the projective<br/>&gt;val to J we get the TOP tuning map, and the distance from the<br/>&gt;projective val to J is the TOP error. The corresponding object in<br/>&gt;Euclidean val space is the TOP-RMS tuning map, and the Euclidean<br/>&gt;distance is the TOP-RMS error.</p><p>I think these are both Tenney tuning spaces, just that one has<br/>a taxicab norm and the other a Euclidean norm.</p><p>&gt;These tuning maps are close to J, and hence their norms are close to<br/>&gt;J. If we divide through so as to make the norm precisely that of J, we<br/>&gt;can now regard J and these normalized tuning maps as projective<br/>&gt;objects, and the Euclidean distance between them is a chordal distance<br/>&gt;on the n-sphere with center the origin and radius the norm of J. Hence<br/>&gt;it is closely allied to the sine of the angle between them, which we<br/>&gt;could also use as a metric, and to || V^J ||/||J||^2, where V is the<br/>&gt;normalized projective val serving as a tuning map, and the product is<br/>&gt;a wedge product, with the standard Euclidean norm on it. This is a<br/>&gt;move which really only makes sense in Euclidean space, so we&apos;ve left<br/>&gt;the Tenney version behind here. Graham has suggested ||V^J||/||J||<br/>&gt;makes a good badness measure for projective vals, which extends itself<br/>&gt;in the natural way to projective multivals. There is, of course, a<br/>&gt;slightly different tuning optimization allied with this plan.</p><p>No comment.  :)</p><p>-Carl</p></div>