<a href="/tuning-math">back to list</a><h1>Partch Diamond and superparticulars</h1><h3><a id=14728 href="#14728">ðŸ”—</a>Magnus Jonsson &#x3C;magnus@smartelectronix.com&#x3E;</h3><span>4/16/2006 11:35:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi all,</p><p>I happened to noticed something peculiar about the partch diamond: If you sort the pitches in ascending order, each interval between two neighbouring pitches is a superparticular ratio. I verified this for partch diamonds up to size 32 both with and without octave reduction.</p><p>For the curious, here&apos;s the haskell program I wrote to do it:</p><p>import Data.Ratio<br/>import Data.List</p><p>diamond::[Integer]-&gt;[Ratio Integer]<br/>diamond ns = nub $ sort [i % j | i &lt;- ns, j &lt;- ns]</p><p>reduce::Ratio Integer-&gt;Ratio Integer-&gt;Ratio Integer<br/>reduce ei p | p &gt;= ei = reduce ei (p / ei)<br/>            | p &lt; 1%1 = reduce ei (p * ei)<br/>            | otherwise = p</p><p>steps::[Ratio Integer]-&gt;[Ratio Integer]<br/>steps [] = []<br/>steps [_] = []<br/>steps (x:y:rest) = (y/x) : steps (y:rest)</p><p>isSuperparticular::Ratio Integer-&gt;Bool<br/>isSuperparticular r = numerator r == denominator r + 1</p><p>testSize::Integer-&gt;Bool<br/>testSize n = all isSuperparticular (steps $ diamond [1..n])<br/>             &amp;&amp; all isSuperparticular (steps $ sort $ nub $<br/>                                       map (reduce (2%1)) (diamond [1..n]))</p><p>test::Bool<br/>test = all testSize [1..32]</p><p>- Magnus Jonsson</p></div><h3><a id=14729 href="#14729">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/17/2006 12:06:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;d always observed it, and I think Erv was talking about it<br/>once, but never proved it.  I didn&apos;t know you used Haskell!</p><p>-Carl</p><p>At 11:35 PM 4/16/2006, you wrote:<br/>&gt;Hi all,<br/>&gt;<br/>&gt;I happened to noticed something peculiar about the partch diamond: If you<br/>&gt;sort the pitches in ascending order, each interval between two<br/>&gt;neighbouring pitches is a superparticular ratio. I verified this for<br/>&gt;partch diamonds up to size 32 both with and without octave reduction.<br/>&gt;<br/>&gt;For the curious, here&apos;s the haskell program I wrote to do it:<br/>&gt;<br/>&gt;import Data.Ratio<br/>&gt;import Data.List<br/>&gt;<br/>&gt;diamond::[Integer]-&gt;[Ratio Integer]<br/>&gt;diamond ns = nub $ sort [i % j | i &lt;- ns, j &lt;- ns]<br/>&gt;<br/>&gt;reduce::Ratio Integer-&gt;Ratio Integer-&gt;Ratio Integer<br/>&gt;reduce ei p | p &gt;= ei = reduce ei (p / ei)<br/>&gt;             | p &lt; 1%1 = reduce ei (p * ei)<br/>&gt;             | otherwise = p<br/>&gt;<br/>&gt;steps::[Ratio Integer]-&gt;[Ratio Integer]<br/>&gt;steps [] = []<br/>&gt;steps [_] = []<br/>&gt;steps (x:y:rest) = (y/x) : steps (y:rest)<br/>&gt;<br/>&gt;isSuperparticular::Ratio Integer-&gt;Bool<br/>&gt;isSuperparticular r = numerator r == denominator r + 1<br/>&gt;<br/>&gt;testSize::Integer-&gt;Bool<br/>&gt;testSize n = all isSuperparticular (steps $ diamond [1..n])<br/>&gt;              &amp;&amp; all isSuperparticular (steps $ sort $ nub $<br/>&gt;                                        map (reduce (2%1)) (diamond<br/>&gt;[1..n]))<br/>&gt;<br/>&gt;test::Bool<br/>&gt;test = all testSize [1..32]<br/>&gt;<br/>&gt;- Magnus Jonsson<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;Yahoo! Groups Links<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;</p></div><h3><a id=14730 href="#14730">ðŸ”—</a>Magnus Jonsson &#x3C;magnus@smartelectronix.com&#x3E;</h3><span>4/17/2006 12:47:13 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Mon, 17 Apr 2006, Carl Lumma wrote:</p><p>&gt; I&apos;d always observed it, and I think Erv was talking about it<br/>&gt; once, but never proved it.</p><p>Aha, there you go :). I&apos;d be really surprised if nobody else had observed it before me...</p><p>&gt; I didn&apos;t know you used Haskell!</p><p>I use C, C++, Common Lisp and Haskell for most programming I do. I kinda know my way around in a few other languages too. You know Haskell?</p><p>-Magnus</p></div><h3><a id=14731 href="#14731">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/17/2006 1:08:09 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; You know Haskell?</p><p>Not really, but it seems like a natural place to go<br/>from Scheme.</p><p>-Carl</p></div><h3><a id=14732 href="#14732">ðŸ”—</a>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>4/17/2006 10:21:59 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Magnus Jonsson &lt;magnus@...&gt; wrote:<br/>&gt;<br/>&gt; Hi all,<br/>&gt;<br/>&gt; I happened to noticed something peculiar about the partch diamond:<br/>If you<br/>&gt; sort the pitches in ascending order, each interval between two<br/>&gt; neighbouring pitches is a superparticular ratio.</p><p>Given that the elements of the n-odd-limit diamond belong to the nth<br/>row of the Farey sequence, not that surprising. You can find the n<br/>tonality diamond by taking the n Farey sequence 1 &lt;= p/q &lt; 2, and then<br/>removing all p whose odd part is greater than n. If you can show the<br/>gaps so created don&apos;t lead to any non-superparticular ratios you&apos;d<br/>have a proof.</p></div>