<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math Linear Temperaments in the 7-limit</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>Linear Temperaments in the 7-limit</h1><h3><a id=12238 href="#12238">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>5/31/2005 9:21:39 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I know how to find a temperament in 7-limit space from three commas,<br/>and conversely, how to find a comma from three temperaments.</p><p>Would someone be so kind as to review getting two commas from two<br/>temperaments in 7-limit space, and conversely, how to get two<br/>temperaments from two known commas? Or just point me to relevant<br/>resources. I know it involves wedgies, mappings etc. Just need to get<br/>my thoughts in order. Thanks</p><p>Paul Hj</p></div><h3><a id=12239 href="#12239">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>5/31/2005 9:15:18 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Paul G Hjelmstad&quot;<br/>&lt;paul.hjelmstad@m...&gt; wrote:</p><p>&gt; Would someone be so kind as to review getting two commas from two<br/>&gt; temperaments in 7-limit space, and conversely, how to get two<br/>&gt; temperaments from two known commas? Or just point me to relevant<br/>&gt; resources. I know it involves wedgies, mappings etc. Just need to get<br/>&gt; my thoughts in order. Thanks</p><p>It party depends on how you are describing temperaments; this can<br/>involve wedgies, but doesn&apos;t have to. When you say you &quot;get&quot; a<br/>temperament, what is it you want to get? What software resources are<br/>available to you?</p></div><h3><a id=12243 href="#12243">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>6/1/2005 6:22:32 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &lt;gwsmith@s...&gt;<br/>wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Paul G Hjelmstad&quot;<br/>&gt; &lt;paul.hjelmstad@m...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Would someone be so kind as to review getting two commas from two<br/>&gt; &gt; temperaments in 7-limit space, and conversely, how to get two<br/>&gt; &gt; temperaments from two known commas? Or just point me to relevant<br/>&gt; &gt; resources. I know it involves wedgies, mappings etc. Just need to<br/>get<br/>&gt; &gt; my thoughts in order. Thanks<br/>&gt;<br/>&gt; It party depends on how you are describing temperaments; this can<br/>&gt; involve wedgies, but doesn&apos;t have to. When you say you &quot;get&quot; a<br/>&gt; temperament, what is it you want to get? What software resources are<br/>&gt; available to you?</p><p>What I would like to do, if possible, is take two commas in 7-limit<br/>space, which I believe act as planes, find their intersection, which<br/>I believe is a line. This line can be described by two temperaments.<br/>(For example, 12&amp;19). Can they be found from the commas? And<br/>conversely, can two commas be found from, say 12&amp;19 in 7-limit space<br/>(Or perhaps there are more meaningful temperaments in 7-limit space)</p><p>I am basing this on the ability to take the adjoint of three commas<br/>and find one temperament, or the ability to take the adjoint of three<br/>temperaments and find one commas.</p><p>My software at this point is limited to Excel, even though I am<br/>interested in purchasing Mathematica and/or Maple one day. On the<br/>music software side, I have Sibelius 2.0</p></div><h3><a id=12244 href="#12244">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>6/1/2005 8:24:35 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 6/1/05, Paul G Hjelmstad &lt;<a href="mailto:paul.hjelmstad@medtronic.com">paul.hjelmstad@medtronic.com</a>&gt; wrote:</p><p>&gt; What I would like to do, if possible, is take two commas in 7-limit<br/>&gt; space, which I believe act as planes, find their intersection, which<br/>&gt; I believe is a line. This line can be described by two temperaments.<br/>&gt; (For example, 12&amp;19). Can they be found from the commas? And<br/>&gt; conversely, can two commas be found from, say 12&amp;19 in 7-limit space<br/>&gt; (Or perhaps there are more meaningful temperaments in 7-limit space)</p><p>Your problem is that there isn&apos;t a unique solution.  Finding the line<br/>you should know -- it comes down to finding the 2-D temperament.</p><p>For finding the commas, as well, it can be tricky.  Gene has a way of<br/>doing this using LLL reduction, which I don&apos;t understand.  I remember<br/>a black-box Maple function doing a lot of the work.  Another approach<br/>would be to filter out a list of known commas, but that strikes me as<br/>cheating :P</p><p>&gt; I am basing this on the ability to take the adjoint of three commas<br/>&gt; and find one temperament, or the ability to take the adjoint of three<br/>&gt; temperaments and find one commas.</p><p>That&apos;s it, yes.  Choose two different chromatic unison vectors, and<br/>you&apos;ll get two different equal temperaments (or an error).  Any<br/>arbitrary set should do for candidates.  Say</p><p>25:24<br/>16:25<br/>21:20<br/>22:21<br/>26:25<br/>18:17</p><p>and so on for successively higher prime limits.  Once you have a pair,<br/>walk the scale tree.  You have to check for contorsion as well.</p><p>&gt; My software at this point is limited to Excel, even though I am<br/>&gt; interested in purchasing Mathematica and/or Maple one day. On the<br/>&gt; music software side, I have Sibelius 2.0</p><p>I&apos;ve got LLL implemented in Python, so you could upgrade to that at no<br/>cost.  It should be a bit easier than Excel to work with where you<br/>want iteration or recursion.</p><p>                     Graham</p></div><h3><a id=12245 href="#12245">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>6/1/2005 10:30:17 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:<br/>&gt; On 6/1/05, Paul G Hjelmstad &lt;paul.hjelmstad@m...&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; Your problem is that there isn&apos;t a unique solution.  Finding the<br/>line<br/>&gt; you should know -- it comes down to finding the 2-D temperament.</p><p>Could you give an example?</p><p>&gt;<br/>&gt; &gt; I am basing this on the ability to take the adjoint of three<br/>commas<br/>&gt; &gt; and find one temperament, or the ability to take the adjoint of<br/>three<br/>&gt; &gt; temperaments and find one commas.<br/>&gt;<br/>&gt; That&apos;s it, yes.  Choose two different chromatic unison vectors, and<br/>&gt; you&apos;ll get two different equal temperaments (or an error).  Any<br/>&gt; arbitrary set should do for candidates.  Say<br/>&gt;<br/>&gt; 25:24<br/>&gt; 16:25<br/>&gt; 21:20<br/>&gt; 22:21<br/>&gt; 26:25<br/>&gt; 18:17<br/>&gt;<br/>&gt; and so on for successively higher prime limits.  Once you have a<br/>pair,<br/>&gt; walk the scale tree.  You have to check for contorsion as well.<br/>&gt;</p><p>Thanks. How do you fill out a square matrix with only two 7-limit<br/>temperaments in it? Can I take the adjoint of say (1 0 0 0),<br/>(? ? ? ?), (Comma), (Comma)?</p><p>&gt;<br/>&gt;                      Graham</p></div><h3><a id=12247 href="#12247">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>6/1/2005 11:41:48 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 6/1/05, Paul G Hjelmstad &lt;<a href="mailto:paul.hjelmstad@medtronic.com">paul.hjelmstad@medtronic.com</a>&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:<br/>&gt; &gt; Your problem is that there isn&apos;t a unique solution.  Finding the<br/>&gt; line<br/>&gt; &gt; you should know -- it comes down to finding the 2-D temperament.<br/>&gt;<br/>&gt; Could you give an example?</p><p>12, 19, 26, 31, 43 and 55-equal are all meantones.  So if you temper<br/>out 81:80, you need some other information to determine which two<br/>equal temperaments you want.</p><p>&gt; Thanks. How do you fill out a square matrix with only two 7-limit<br/>&gt; temperaments in it? Can I take the adjoint of say (1 0 0 0),<br/>&gt; (? ? ? ?), (Comma), (Comma)?</p><p>Yes, you need to fill in the question marks with a chromatic unison<br/>vector, which can be anything linearly independent of the commas.  The<br/>way I do it in my program is to take the primes, so (0 1 0 0), (0 0 1<br/>0) or (0 0 0 1) which ever works (and one is guaranteed to).  That<br/>gives weird results though, usually a one note per octave temperament.</p><p>If you want two equal temperaments, you can replace (1 0 0 0) with<br/>another chromatic unison vector.  That should give your two equal<br/>temperament mappings as the two left hand columns of the adjoint.</p><p>Try it out - this is all Excel-able.</p><p>                        Graham</p></div><h3><a id=12248 href="#12248">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/1/2005 11:59:18 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:</p><p>&gt; For finding the commas, as well, it can be tricky.  Gene has a way of<br/>&gt; doing this using LLL reduction, which I don&apos;t understand.  I remember<br/>&gt; a black-box Maple function doing a lot of the work.</p><p>I call on another black box function--Hermite reduction--in the case<br/>of finding vals, which in this instance means period and generator.<br/>However, these black boxes aren&apos;t necessary; they are just convenient<br/>ways to reduce four commas or four vals to a standard two.</p><p>In the sense of uniquely specifying it, &quot;finding&quot; the temperament can<br/>be accomplised by computing the wedgie. For two vals<br/>&lt;s[1] s[2] s[3] s[4| and &lt;r[1] r[2] r[3] r[4]| we first take the wedge<br/>product, which is</p><p>&lt;&lt;r[1]*s[2]-s[1]*r[2],r[1]*s[3]-s[1]*r[3],r[1]*s[4]-s[1]*r[4],<br/>r[2]*s[3]-s[2]*r[3],r[2]*s[4]-r[4]*s[2],r[3]*s[4]-s[3]*r[4]||</p><p>and reduce to the standard wedgie by dividing out common factors and<br/>making the first nonzero coefficient positive. The wedgie is a<br/>projective object and so we want to find a unique form for it, which<br/>this does. If we start instead with two monzos, we get a bival by<br/>wedging and taking the complement, which from monzos |s[1] s[2] s[3]<br/>s[4]&gt; and |r[1] r[2] r[3] r[4]&gt; gives</p><p>&lt;&lt;r[3]*s[4]-s[3]*r[4],r[4]*s[2]-s[4]*r[2],r[2]*s[3]-s[2]*r[3],<br/>r[1]*s[4]-s[1]*r[4],s[1]*r[3]-r[1]*s[3],r[1]*s[2]-s[1]*r[2]||</p><p>which we reduce in the same way. Whether from vals or monzos, we end<br/>up with the same wedgie.</p><p>Given a wedgie, we can find four &quot;subgroup vals&quot; by wedging the<br/>complement of the wedgie with monzos for 2,3,5, and 7 respectively,<br/>and complementing the result back to a val. Similarly, we can wedgie<br/>the val with &lt;1 0 0 0|, &lt;0 1 0 0|, &lt;0 0 1 0| and &lt;0 0 0 1| and<br/>complement the result to monzos, giving four &quot;subgroup commas&quot; which<br/>lack a 2, 3, 5, and 7 respectively. I feed these to my Maple black<br/>boxes, which works because they generate all vals and all monzos,<br/>respectively, with linear combinations using integer coefficients.</p><p>However, if you don&apos;t have all these black boxes to call on, or if you<br/>don&apos;t want to use wedgies, there are other ways to do things. If you<br/>have two vals v1 and v2, you can find two commas by solving the linear<br/>system {v1(q)=0, v2(q)=0} where q is a monzo in indeterminates, eg<br/>|x2 x3 x5 x7&gt;. In order to reduce this to a standard form, so as to be<br/>able to see what temperament it represents, you can use TM reduction.<br/>Similarly, if you have two commas c1 and c2, you can solve the linear<br/>system {v(c1)=0, v(c2)=0} for the val &lt;z2 z3 z5 z7|, which will give<br/>you the vals as linear combinations of two basis vals. One way to<br/>reduce such a pair to a standard form is to find the pair for period<br/>and generator. Hence, instead of using wedgies, you can represent<br/>temperaments in comma form by a TM reduced basis, and in val form by a<br/>period and generator in a mapping to primes.</p></div><h3><a id=12249 href="#12249">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>6/1/2005 12:16:39 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 6/1/05, Gene Ward Smith &lt;<a href="mailto:gwsmith@svpal.org">gwsmith@svpal.org</a>&gt; wrote:<br/>&gt; I call on another black box function--Hermite reduction--in the case<br/>&gt; of finding vals, which in this instance means period and generator.<br/>&gt; However, these black boxes aren&apos;t necessary; they are just convenient<br/>&gt; ways to reduce four commas or four vals to a standard two.</p><p>The problem with the comma finding is that the initial commas had<br/>torsion, and TM reduction couldn&apos;t remove it.  I suspect LLL wouldn&apos;t<br/>either, so it must be that your commas magically started without it.<br/>I think they came from Maple&apos;s function for solving a system of linear<br/>equations.</p><p>&gt; Given a wedgie, we can find four &quot;subgroup vals&quot; by wedging the<br/>&gt; complement of the wedgie with monzos for 2,3,5, and 7 respectively,<br/>&gt; and complementing the result back to a val. Similarly, we can wedgie<br/>&gt; the val with &lt;1 0 0 0|, &lt;0 1 0 0|, &lt;0 0 1 0| and &lt;0 0 0 1| and<br/>&gt; complement the result to monzos, giving four &quot;subgroup commas&quot; which<br/>&gt; lack a 2, 3, 5, and 7 respectively. I feed these to my Maple black<br/>&gt; boxes, which works because they generate all vals and all monzos,<br/>&gt; respectively, with linear combinations using integer coefficients.</p><p>I&apos;ll try that!</p><p>&gt; However, if you don&apos;t have all these black boxes to call on, or if you<br/>&gt; don&apos;t want to use wedgies, there are other ways to do things. If you<br/>&gt; have two vals v1 and v2, you can find two commas by solving the linear<br/>&gt; system {v1(q)=0, v2(q)=0} where q is a monzo in indeterminates, eg<br/>&gt; |x2 x3 x5 x7&gt;. In order to reduce this to a standard form, so as to be<br/>&gt; able to see what temperament it represents, you can use TM reduction.<br/>&gt; Similarly, if you have two commas c1 and c2, you can solve the linear<br/>&gt; system {v(c1)=0, v(c2)=0} for the val &lt;z2 z3 z5 z7|, which will give<br/>&gt; you the vals as linear combinations of two basis vals. One way to<br/>&gt; reduce such a pair to a standard form is to find the pair for period<br/>&gt; and generator. Hence, instead of using wedgies, you can represent<br/>&gt; temperaments in comma form by a TM reduced basis, and in val form by a<br/>&gt; period and generator in a mapping to primes.</p><p>This &quot;solve the linear system&quot; sounds harder than using the wedgies.<br/>Is there more to it than elementary matrix operations?</p><p>                  Graham</p></div><h3><a id=12250 href="#12250">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/1/2005 12:47:05 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:<br/>&gt; On 6/1/05, Gene Ward Smith &lt;gwsmith@s...&gt; wrote:</p><p>&gt; &gt; I call on another black box function--Hermite reduction--in the case<br/>&gt; &gt; of finding vals, which in this instance means period and generator.<br/>&gt; &gt; However, these black boxes aren&apos;t necessary; they are just convenient<br/>&gt; &gt; ways to reduce four commas or four vals to a standard two.</p><p>&gt; The problem with the comma finding is that the initial commas had<br/>&gt; torsion, and TM reduction couldn&apos;t remove it.  I suspect LLL wouldn&apos;t<br/>&gt; either, so it must be that your commas magically started without it.<br/>&gt; I think they came from Maple&apos;s function for solving a system of linear<br/>&gt; equations.</p><p>I&apos;m not sure what example you are talking about; I was speaking in<br/>general. However, neither LLL nor TM reduction will remove torsion; it<br/>is, however, removed automatically by finding the wedgie first and<br/>getting commas and vals from that.</p><p>&gt; I&apos;ll try that!</p><p>You can remove common factors from the vals or monzos before reducing<br/>them to two as an additional precaution, but if I have things figured<br/>correctly you don&apos;t need to.</p><p>&gt; This &quot;solve the linear system&quot; sounds harder than using the wedgies.<br/>&gt; Is there more to it than elementary matrix operations?</p><p>It probably is harder, but the advantage is that Excel should be able<br/>to handle it. I am not an Excel expert, but I imagine a decent<br/>spreadsheet could get the wedgie from two vals or two commas, however,<br/>and also get commas and vals from the wedgie, so maybe that would work<br/>for Paul also.</p></div><h3><a id=12251 href="#12251">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>6/1/2005 1:56:52 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:<br/>&gt; On 6/1/05, Paul G Hjelmstad &lt;paul.hjelmstad@m...&gt; wrote:<br/>&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt;<br/>wrote:<br/>&gt; &gt; &gt; Your problem is that there isn&apos;t a unique solution.  Finding the<br/>&gt; &gt; line<br/>&gt; &gt; &gt; you should know -- it comes down to finding the 2-D temperament.<br/>&gt; &gt;<br/>&gt; &gt; Could you give an example?<br/>&gt;<br/>&gt; 12, 19, 26, 31, 43 and 55-equal are all meantones.  So if you temper<br/>&gt; out 81:80, you need some other information to determine which two<br/>&gt; equal temperaments you want.<br/>&gt;<br/>&gt; &gt; Thanks. How do you fill out a square matrix with only two 7-limit<br/>&gt; &gt; temperaments in it? Can I take the adjoint of say (1 0 0 0),<br/>&gt; &gt; (? ? ? ?), (Comma), (Comma)?<br/>&gt;<br/>&gt; Yes, you need to fill in the question marks with a chromatic unison<br/>&gt; vector, which can be anything linearly independent of the commas.<br/>The<br/>&gt; way I do it in my program is to take the primes, so (0 1 0 0), (0 0<br/>1<br/>&gt; 0) or (0 0 0 1) which ever works (and one is guaranteed to).  That<br/>&gt; gives weird results though, usually a one note per octave<br/>temperament.<br/>&gt;<br/>&gt; If you want two equal temperaments, you can replace (1 0 0 0) with<br/>&gt; another chromatic unison vector.  That should give your two equal<br/>&gt; temperament mappings as the two left hand columns of the adjoint.<br/>&gt;<br/>&gt; Try it out - this is all Excel-able.<br/>&gt;<br/>&gt;<br/>&gt;                         Graham</p><p>I&apos;ve been real busy at work, but thanks for your response. I&apos;ll try<br/>this out tomorrow</p></div><h3><a id=12254 href="#12254">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>6/2/2005 10:48:52 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 6/1/05, Gene Ward Smith &lt;<a href="mailto:gwsmith@svpal.org">gwsmith@svpal.org</a>&gt; wrote:<br/>&gt; Given a wedgie, we can find four &quot;subgroup vals&quot; by wedging the<br/>&gt; complement of the wedgie with monzos for 2,3,5, and 7 respectively,<br/>&gt; and complementing the result back to a val. Similarly, we can wedgie<br/>&gt; the val with &lt;1 0 0 0|, &lt;0 1 0 0|, &lt;0 0 1 0| and &lt;0 0 0 1| and<br/>&gt; complement the result to monzos, giving four &quot;subgroup commas&quot; which<br/>&gt; lack a 2, 3, 5, and 7 respectively. I feed these to my Maple black<br/>&gt; boxes, which works because they generate all vals and all monzos,<br/>&gt; respectively, with linear combinations using integer coefficients.</p><p>Using this method with miracle, I get the following commas:</p><p>(0, 3, 4, -5), (15, 0, 2, -7), (10, -1, 0, -3), (25, -7, -6, 0)</p><p>which are all genuine commas.  But each pair of them has torsion,<br/>giving these linearized wedgies:</p><p>(225, 300, -375, -30, 105, 90)<br/>(300, 400, -500, -40, 140, 120)<br/>(105, 140, -175, -14, 49, 42)<br/>(-30, -40, 50, 4, -14, -12)<br/>(105, 140, -175, -14, 49, 42)<br/>(90, 120, -150, -12, 42, 36)</p><p>when I wanted</p><p>(15, 20, -25, -2, 7, 6)</p><p>So how do I get rid of the torsion?</p><p>                      Graham</p></div><h3><a id=12255 href="#12255">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/2/2005 12:39:17 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:</p><p>&gt; So how do I get rid of the torsion?</p><p>What I do is feed it to my favorite black boxes: first hermite<br/>reduction to get the basic answer, and then LLL to clean up the result<br/>in preparation to TM reduction. If you vary the hermite reduction step<br/>by first reversing the monzos, hermite reducing, and then reversing<br/>back, you get what I&apos;ve called the &quot;hermite comma sequence&quot; which is<br/>worth finding anyway. It gives you a comma pair which generates the<br/>whole kernel (no torsion) but more importantly it gives you a standard<br/>way of designating the temperament which makes its family<br/>relationships to other temperaments more clear. So one possible<br/>approach would be to bite the bullet and write a hermite reduction<br/>algorithm for Python.</p><p>If you don&apos;t want to do that, you could try writing something that finds<br/>Z-linear combinations from which a common factor can be removed. You<br/>know the common factors are there and removable from the wedge product.</p><p>Suppose I take |25 -7 -6 0&gt; and |15 0 2 -7&gt;. Wedging them shows we<br/>want to remove a 7, and if we find integers a and b such that<br/>25a+15b=35, we can make the first coefficient divisible by 7. This is<br/>a standard number theory problem now; one solution is a=1, b=-4, which<br/>gives |-35 -7 -14 28&gt;. Removing the 7 gives |-5 -1 -2 4&gt;, which is<br/>2401/2400. Now wedging |-5 -1 -2 4&gt; with |15 0 2 -7&gt; gives us no<br/>torsion, so we have a comma basis.</p></div><h3><a id=12257 href="#12257">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>6/2/2005 1:48:51 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt; wrote:<br/>&gt; On 6/1/05, Paul G Hjelmstad &lt;paul.hjelmstad@m...&gt; wrote:<br/>&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@g...&gt;<br/>wrote:<br/>&gt; &gt; &gt; Your problem is that there isn&apos;t a unique solution.  Finding the<br/>&gt; &gt; line<br/>&gt; &gt; &gt; you should know -- it comes down to finding the 2-D temperament.<br/>&gt; &gt;<br/>&gt; &gt; Could you give an example?<br/>&gt;<br/>&gt; 12, 19, 26, 31, 43 and 55-equal are all meantones.  So if you temper<br/>&gt; out 81:80, you need some other information to determine which two<br/>&gt; equal temperaments you want.<br/>&gt;<br/>&gt; &gt; Thanks. How do you fill out a square matrix with only two 7-limit<br/>&gt; &gt; temperaments in it? Can I take the adjoint of say (1 0 0 0),<br/>&gt; &gt; (? ? ? ?), (Comma), (Comma)?<br/>&gt;<br/>&gt; Yes, you need to fill in the question marks with a chromatic unison<br/>&gt; vector, which can be anything linearly independent of the commas.<br/>The<br/>&gt; way I do it in my program is to take the primes, so (0 1 0 0), (0 0<br/>1<br/>&gt; 0) or (0 0 0 1) which ever works (and one is guaranteed to).  That<br/>&gt; gives weird results though, usually a one note per octave<br/>temperament.<br/>&gt;<br/>&gt; If you want two equal temperaments, you can replace (1 0 0 0) with<br/>&gt; another chromatic unison vector.  That should give your two equal<br/>&gt; temperament mappings as the two left hand columns of the adjoint.<br/>&gt;<br/>&gt; Try it out - this is all Excel-able.</p><p>This is very interesting. I&apos;ve been playing with this in Excel. What<br/>troubles me though, is the fact that I obtain different temperaments,<br/>with the same two commas, and different chromatic unison vectors.<br/>Shouldn&apos;t the temperaments be determined by the commatic unison<br/>vectors and not the chromatic ones? Or perhaps --- if they all exist<br/>along the same line, I guess they would all define the same linear<br/>temperament?</p><p>Paul</p><p>&gt;                         Graham</p></div><h3><a id=12258 href="#12258">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/2/2005 2:33:47 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Paul G Hjelmstad&quot;<br/>&lt;paul.hjelmstad@m...&gt; wrote:</p><p>&gt; This is very interesting. I&apos;ve been playing with this in Excel. What<br/>&gt; troubles me though, is the fact that I obtain different temperaments,<br/>&gt; with the same two commas, and different chromatic unison vectors.</p><p>Why do you think you get different temperaments? The easiest way to<br/>determine if you get the same temperament is to take the wedge<br/>product, which Excel should be able to do easily enough. If you have a<br/>common factor, you have torsion. If you get the same thing up to sign<br/>as with another two commas, you&apos;ve got the same temperament.</p></div><h3><a id=12259 href="#12259">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>6/2/2005 2:45:30 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &lt;gwsmith@s...&gt;<br/>wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Paul G Hjelmstad&quot;<br/>&gt; &lt;paul.hjelmstad@m...&gt; wrote:<br/>&gt;<br/>&gt; &gt; This is very interesting. I&apos;ve been playing with this in Excel.<br/>What<br/>&gt; &gt; troubles me though, is the fact that I obtain different<br/>temperaments,<br/>&gt; &gt; with the same two commas, and different chromatic unison vectors.<br/>&gt;<br/>&gt; Why do you think you get different temperaments? The easiest way to<br/>&gt; determine if you get the same temperament is to take the wedge<br/>&gt; product, which Excel should be able to do easily enough. If you have a<br/>&gt; common factor, you have torsion. If you get the same thing up to sign<br/>&gt; as with another two commas, you&apos;ve got the same temperament.</p><p>I&apos;ll have to figure out a way to do wedgies in Excel. What I have done:</p><p>Using 49/49 and 15/14 as chromatic unison vectors and 126/125&amp;1029/1028<br/>as commas, I obtain 17&amp;15 for temperaments. However, if I use 16/15 and<br/>49/48 for chromatic unison vectors, I obtain 15&amp;14 for temperaments.<br/>What I meant is, if 17, 15 and 14 are all along the same line in 7-<br/>limit space, then I understand. But if not, then the chromatic unison<br/>vectors are affecting the result which doesn&apos;t make sense to me in<br/>light of what Graham was saying.</p></div><h3><a id=12261 href="#12261">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/2/2005 8:46:35 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Paul G Hjelmstad&quot;<br/>&lt;paul.hjelmstad@m...&gt; wrote:</p><p>&gt; Using 49/49 and 15/14 as chromatic unison vectors and 126/125&amp;1029/1028<br/>&gt; as commas, I obtain 17&amp;15 for temperaments.</p><p>Presumably you mean 126/125&amp;1029/1024. These give<br/>&lt;&lt;9 5 -3 -13 -30 -21||, which is the valentine temperament. You don&apos;t<br/>really get things such as &quot;17&quot; or &quot;15&quot; for temperaments, but you get<br/>vals. That is to say, you don&apos;t get an edo, but a mapping of the<br/>7-limit to and edo. For valentine, the vals &lt;15 24 35 41| and &lt;16 25<br/>37 45| define it, so it can be called 15&amp;16 (not 15&amp;17, which if you<br/>use standard vals gives you &lt;&lt;3 10 -6 9 -18 -42||.)</p><p>Again, I think you meant 49/48, not 49/49. Assuming that, and taking<br/>the adjoint matrix, gives v17=&lt;17 26 39 48| and v15=&lt;15 24 35 42| as<br/>vals. Testing by wedging these two vals gives v17^v15 =<br/>&lt;&lt;18 10 -6 -26 -60 -42||, so you&apos;ve got contorsion, but dividing by 2<br/>gives the right wedgie. Note you could see this coming because the<br/>matrix you used to start with had determinant -2.</p><p>However, if I use 16/15 and<br/>&gt; 49/48 for chromatic unison vectors, I obtain 15&amp;14 for temperaments.</p><p>Again, you really need to say that your val for 14 is &lt;14 23 33 39|.<br/>Now however you&apos;ve got a pair of vals with no contorsion.</p><p>&gt; What I meant is, if 17, 15 and 14 are all along the same line in 7-<br/>&gt; limit space, then I understand. But if not, then the chromatic unison<br/>&gt; vectors are affecting the result which doesn&apos;t make sense to me in<br/>&gt; light of what Graham was saying.</p><p>The vals in question all lie in a two-dimensional subspace of four<br/>dimensional val space.</p></div><h3><a id=12263 href="#12263">ðŸ”—</a>Paul G Hjelmstad &#x3C;paul.hjelmstad@medtronic.com&#x3E;</h3><span>6/3/2005 6:17:53 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &lt;gwsmith@s...&gt;<br/>wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Paul G Hjelmstad&quot;<br/>&gt; &lt;paul.hjelmstad@m...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Using 49/49 and 15/14 as chromatic unison vectors and<br/>126/125&amp;1029/1028<br/>&gt; &gt; as commas, I obtain 17&amp;15 for temperaments.<br/>&gt;<br/>&gt; Presumably you mean 126/125&amp;1029/1024. These give<br/>&gt; &lt;&lt;9 5 -3 -13 -30 -21||, which is the valentine temperament. You<br/>don&apos;t<br/>&gt; really get things such as &quot;17&quot; or &quot;15&quot; for temperaments, but you get<br/>&gt; vals. That is to say, you don&apos;t get an edo, but a mapping of the<br/>&gt; 7-limit to and edo. For valentine, the vals &lt;15 24 35 41| and &lt;16 25<br/>&gt; 37 45| define it, so it can be called 15&amp;16 (not 15&amp;17, which if you<br/>&gt; use standard vals gives you &lt;&lt;3 10 -6 9 -18 -42||.)</p><p>Hmm when I take the adjoint I do get &lt;17 26 39 48| and &lt;15 24 35 42|<br/>as vals in the first two columns (!?)<br/>&gt;<br/>&gt; Again, I think you meant 49/48, not 49/49. Assuming that, and taking<br/>&gt; the adjoint matrix, gives v17=&lt;17 26 39 48| and v15=&lt;15 24 35 42| as<br/>&gt; vals. Testing by wedging these two vals gives v17^v15 =<br/>&gt; &lt;&lt;18 10 -6 -26 -60 -42||, so you&apos;ve got contorsion, but dividing by<br/>2<br/>&gt; gives the right wedgie. Note you could see this coming because the<br/>&gt; matrix you used to start with had determinant -2.<br/>&gt;<br/>&gt; However, if I use 16/15 and<br/>&gt; &gt; 49/48 for chromatic unison vectors, I obtain 15&amp;14 for<br/>temperaments.<br/>&gt;<br/>&gt; Again, you really need to say that your val for 14 is &lt;14 23 33 39|.<br/>&gt; Now however you&apos;ve got a pair of vals with no contorsion.<br/>&gt;<br/>&gt; &gt; What I meant is, if 17, 15 and 14 are all along the same line in<br/>7-<br/>&gt; &gt; limit space, then I understand. But if not, then the chromatic<br/>unison<br/>&gt; &gt; vectors are affecting the result which doesn&apos;t make sense to me<br/>in<br/>&gt; &gt; light of what Graham was saying.<br/>&gt;<br/>&gt; The vals in question all lie in a two-dimensional subspace of four<br/>&gt; dimensional val space.</p><p>Thanks for the clarification (Yes I did mean 1029/1024 and 49/48)<br/>If one assumes octave equivalence, this reduces the 4-dim space down<br/>to three, and the two-dim subspace down to a line, so I assume all my<br/>vals line on a line?</p></div><h3><a id=12264 href="#12264">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>6/3/2005 7:36:30 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 6/2/05, Gene Ward Smith &lt;<a href="mailto:gwsmith@svpal.org">gwsmith@svpal.org</a>&gt; wrote:</p><p>&gt; What I do is feed it to my favorite black boxes: first hermite<br/>&gt; reduction to get the basic answer, and then LLL to clean up the result<br/>&gt; in preparation to TM reduction. If you vary the hermite reduction step<br/>&gt; by first reversing the monzos, hermite reducing, and then reversing<br/>&gt; back, you get what I&apos;ve called the &quot;hermite comma sequence&quot; which is<br/>&gt; worth finding anyway. It gives you a comma pair which generates the<br/>&gt; whole kernel (no torsion) but more importantly it gives you a standard<br/>&gt; way of designating the temperament which makes its family<br/>&gt; relationships to other temperaments more clear. So one possible<br/>&gt; approach would be to bite the bullet and write a hermite reduction<br/>&gt; algorithm for Python.</p><p>I&apos;ve got this:</p><p>def hermite(m):<br/>    result = [list(row) for row in m]<br/>    for i in range(len(m)-1):<br/>        for j in range(i, len(m)):<br/>            if result[j][i] != 0:<br/>                result[i], result[j] = result[j], result[i]<br/>                break<br/>        else:<br/>            print &quot;oops&quot;<br/>            return result ###<br/>        for j in range(i+1, len(m)):<br/>            d = result[i][i]<br/>            n = result[j][i]<br/>            gcd = temper.hcf((n,d))<br/>            n /= gcd<br/>            d /= gcd<br/>            for k in range(len(m)):<br/>                result[j][k] = result[j][k]*d - result[i][k]*n<br/>    return result</p><p>It does the nearest integer equivalent of what I remember is Hermite<br/>reduction.  The error handling&apos;s a bit weak, but enough to show that<br/>it doesn&apos;t work here</p><p>&gt;&gt;&gt; hermite(commas)<br/>oops<br/>[[15, 0, 2, -7], [0, 3, 4, -5], [0, 0, 0, 0], [0, 0, 0, 0]]</p><p>Mathworld agrees that it shouldn&apos;t work, because the matrix is singular</p><p><a href="http://mathworld.wolfram.com/HermiteNormalForm.html">http://mathworld.wolfram.com/HermiteNormalForm.html</a></p><p>&gt;&gt;&gt; LinearAlgebra.determinant(Numeric.array(commas))<br/>4.141519752410312e-029<br/>&gt;&gt;&gt; reduce(temper.wedgeProduct, commas)<br/>{}</p><p>The function again with @ indentation for the indentationally challenged</p><p>def hermite(m):<br/><a href="https://twitter.com/result">@result</a> = [list(row) for row in m]<br/>@for i in range(len(m)-1):<br/>@@for j in range(i, len(m)):<br/>@@<a href="https://twitter.com/if">@if</a> result[j][i] != 0:<br/>@@@@result[i], result[j] = result[j], result[i]<br/>@@@@break<br/>@@else:<br/>@@@print &quot;oops&quot;<br/>@@<a href="https://twitter.com/return">@return</a> result ###<br/>@@for j in range(i+1, len(m)):<br/>@@<a href="https://twitter.com/d">@d</a> = result[i][i]<br/>@@@n = result[j][i]<br/>@@@gcd = temper.hcf((n,d))<br/>@@<a href="https://twitter.com/n">@n</a> /= gcd<br/>@@@d /= gcd<br/>@@<a href="https://twitter.com/for">@for</a> k in range(len(m)):<br/>@@@@result[j][k] = result[j][k]*d - result[i][k]*n<br/><a href="https://twitter.com/return">@return</a> result</p><p>                              Graham</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            