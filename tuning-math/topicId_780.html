<a href="/tuning-math">back to list</a><h1>Interpreting Graham's matrix</h1><h3>genewardsmith@juno.com</h3><span>8/21/2001 7:05:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Let&apos;s consider the situation where 81/80 is the commatic unison<br/>vector, 25/24 is the chromatic unison vector, and 2 is what you might<br/>call the repetition vector, defining the unit which is repeated<br/>(since of course that doesn&apos;t actually need to be octaves.) Then if<br/>each of these defines the row of a matrix, we get Graham&apos;s matrix</p><p>    [ 1  0  0]<br/>M = [-3 -1  2]<br/>    [-4  4 -1]</p><p>The inverse of this is</p><p>             [ 7 0 0]<br/>M^(-1) = 1/7 [11 1 2]<br/>             [16 4 1].</p><p>The question is how to interpret M^(-1). One use for it can be found<br/>when calculating PB&apos;s--if we define [i j k] by [i j k] = [a b c]M^(-1)<br/>and select all notes [a b c] such that</p><p>   0 &lt;= i &lt; 1<br/>-1/2 &lt;= j &lt; 1/2<br/>-1/2 &lt;= k &lt; 1/2</p><p>we obtain the seven-note scale</p><p>1 - 10/9 - 6/5 - 4/3 - 3/2 - 5/3 - 9/5 - (2)</p><p>with step sizes 9/8, 10/9 and 27/25. If we now temper by a meantone<br/>system which equates 9/8 and 10/9 (which means we are using the fact<br/>that 81/80 is a commatic vector) we get a PB scale with just two<br/>sizes of intervals, LsLLLsL, ready to delight the fans of modal<br/>melodies. Does this have anything to do with Graham&apos;s comments on<br/>this matrix?</p></div><h3>graham@microtonal.co.uk</h3><span>8/22/2001 4:56:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:9lv41h+ag6a@eGroups.com">9lv41h+ag6a@eGroups.com</a>&gt;<br/>Gene wrote:</p><p>&gt; The inverse of this is<br/>&gt;<br/>&gt;              [ 7 0 0]<br/>&gt; M^(-1) = 1/7 [11 1 2]<br/>&gt;              [16 4 1].<br/>&gt;<br/>&gt; The question is how to interpret M^(-1). One use for it can be found<br/>&gt; when calculating PB&apos;s--if we define [i j k] by [i j k] = [a b c]M^(-1)<br/>&gt; and select all notes [a b c] such that<br/>&gt;<br/>&gt;    0 &lt;= i &lt; 1<br/>&gt; -1/2 &lt;= j &lt; 1/2<br/>&gt; -1/2 &lt;= k &lt; 1/2<br/>&gt;<br/>&gt; we obtain the seven-note scale<br/>&gt;<br/>&gt; 1 - 10/9 - 6/5 - 4/3 - 3/2 - 5/3 - 9/5 - (2)</p><p>That is clever!  The list of [a b c] is</p><p>[0 0 0]<br/>[1 -2 1]<br/>[1 1 -1]<br/>[2 -1 0]<br/>[-1 1 0]<br/>[0 -1 1]<br/>[0 2 -1]<br/>[1 0 0]</p><p>So you multiply that by the inverse (*not* the adjoint) and get</p><p>[0 0 0]<br/>[0.142857143 0.285714286 -0.428571429]<br/>[0.285714286 -0.428571429 0.142857143]<br/>[0.428571429 -0.142857143 -0.285714286]<br/>[0.571428571 0.142857143 0.285714286]<br/>[0.714285714 0.428571429 -0.142857143]<br/>[0.857142857 -0.285714286 0.428571429]<br/>[1 0 0]</p><p>Where, indeed, the first column lies between 0 and 1, and the others<br/>between -1/2 and 1/2.  Furthermore, the list is already ordered by pitch,<br/>before we even worked out any pitches!  That&apos;s because the left hand<br/>column, being &quot;the thing that&apos;s left over when all the unison vectors are<br/>taken out&quot;, defines approximate pitch order.</p><p>Over to Paul: is this a general method for finding a periodicity block?</p><p>&gt; with step sizes 9/8, 10/9 and 27/25. If we now temper by a meantone<br/>&gt; system which equates 9/8 and 10/9 (which means we are using the fact<br/>&gt; that 81/80 is a commatic vector) we get a PB scale with just two<br/>&gt; sizes of intervals, LsLLLsL, ready to delight the fans of modal<br/>&gt; melodies. Does this have anything to do with Graham&apos;s comments on<br/>&gt; this matrix?</p><p>I&apos;ll bring the inverse down again, and lose the 1/7 to make it the<br/>adjoint.</p><p>[ 7 0 0]<br/>[11 1 2]<br/>[16 4 1]</p><p>The first row defines the octave (which also happens to be the interval of<br/>equivalence) the second defines the 3:1 approximation and the third the<br/>5:4 approximation.</p><p>The interval 9:8 is [-3 2 0].  So multiply [-3 2 0] by adj(M) to get</p><p>[1 2 4]</p><p>The first column tells you the number of steps in the scale LsLLLsL the<br/>interval spans.  9:8 is L so spans 1 step.  The second column tells you<br/>the number of generators give the interval in the system where 81:80 is<br/>tempered out (ie meantone).  The generator is the fifth (or twelfth, etc),<br/>so 9:8 is two fifths (octave reduced).  The last column defines the<br/>interval in the system where 25:24 is tempered out.  I&apos;ll guess that&apos;s<br/>correct.</p><p>10:9 is [1 -2 1].  Multiply by Adj(M) and we get [1 2 3].  The first two<br/>columns are the same as for 9:8 which is no surprise because 9:8 and 10:9<br/>are identical in meantone.  That the third column differs by 1 could well<br/>tell you that 9:8 and 10:9 differ by a comma.</p><p>16:15 is [4 -1 -1].  This multiplies out to [1 -5 -3].  So it&apos;s also one<br/>scale step (s this time).  And it&apos;s generated by -5 fifths, or 5 fourths.<br/>That is C-F-Bb-Eb-Ab-Db.</p><p>The same process should work for all intervals.</p><p>Now, the clever part is that if we take m, the octave equivalent of M,</p><p>[-1  2]<br/>[ 4 -1]</p><p> the adjoint is</p><p>[-1 -2]<br/>[-4 -1]</p><p>sign isn&apos;t important, so make that</p><p>[1 2]<br/>[4 1]</p><p>This is identical to a subset of adj(M).  This will always be the case for<br/>correct unison vectors, but I don&apos;t have the criteria for those unison<br/>vectors being &quot;correct&quot;.  It tells us the octave-equivalent mapping in<br/>terms of fifths for all 5-limit intervals.  The determinant tells us the<br/>number of notes in the periodicity block, but nothing I can see tells us<br/>what order they should be in.  So that&apos;s all we lose by being octave<br/>equivalent.</p><p>                     Graham</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>8/22/2001 12:28:51 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., genewardsmith@j... wrote:<br/>&gt; Let&apos;s consider the situation where 81/80 is the commatic unison<br/>&gt; vector, 25/24 is the chromatic unison vector, and 2 is what you<br/>might<br/>&gt; call the repetition vector, defining the unit which is repeated<br/>&gt; (since of course that doesn&apos;t actually need to be octaves.) Then if<br/>&gt; each of these defines the row of a matrix, we get Graham&apos;s matrix<br/>&gt;<br/>&gt;     [ 1  0  0]<br/>&gt; M = [-3 -1  2]<br/>&gt;     [-4  4 -1]<br/>&gt;<br/>&gt; The inverse of this is<br/>&gt;<br/>&gt;              [ 7 0 0]<br/>&gt; M^(-1) = 1/7 [11 1 2]<br/>&gt;              [16 4 1].<br/>&gt;<br/>&gt; The question is how to interpret M^(-1). One use for it can be<br/>found<br/>&gt; when calculating PB&apos;s--if we define [i j k] by [i j k] = [a b c]M^(-<br/>1)<br/>&gt; and select all notes [a b c] such that<br/>&gt;<br/>&gt;    0 &lt;= i &lt; 1<br/>&gt; -1/2 &lt;= j &lt; 1/2<br/>&gt; -1/2 &lt;= k &lt; 1/2<br/>&gt;<br/>&gt; we obtain the seven-note scale<br/>&gt;<br/>&gt; 1 - 10/9 - 6/5 - 4/3 - 3/2 - 5/3 - 9/5 - (2)</p><p>This is exactly how my PB program works, as explained in part 3 of<br/>the _Gentle Introduction_.</p></div><h3>Paul Erlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>8/22/2001 12:43:47 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., graham@m... wrote:</p><p>&gt; Over to Paul: is this a general method for finding a periodicity<br/>block?</p><p>This is how I&apos;ve been doing it all along -- see part 3 of the _Gentle<br/>Introduction_.</p></div><h3>graham@microtonal.co.uk</h3><span>8/23/2001 4:22:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:9m121j+2t5n@eGroups.com">9m121j+2t5n@eGroups.com</a>&gt;<br/>Paul wrote:</p><p>&gt; This is how I&apos;ve been doing it all along -- see part 3 of the _Gentle<br/>&gt; Introduction_.</p><p>Oh yes.  That&apos;s<br/>&lt;<a href="http://www.ixpres.com/interval/td/erlich/intropblock3.htm">http://www.ixpres.com/interval/td/erlich/intropblock3.htm</a>&gt;.  The<br/>differences are that you take all elements between 0 and 1 instead of some<br/>between -0.5 and 0.5, sometimes, and you don&apos;t order them by the<br/>generator.  As the PB repeats about the half octave, that means each<br/>generator occurs twice.</p><p>Actually, no, it&apos;s more serious than that.  You (Paul) use<br/>octave-equivalent vectors, and so the generator isn&apos;t there, or rather<br/>it&apos;s a different generator (MOS rather than ET).  Would it work in general<br/>to take the generator to increase in steps until you hit the period, and<br/>find the only values for the unison vectors that work for each generator?<br/>And would this make all the scale steps members of a unitary matrix?</p><p>I note that the left hand column of Paul&apos;s would cover &quot;spin&quot; as well.</p><p>Well, this leads to a new interpretation of the matrix.  Let&apos;s take the<br/>canonical example</p><p>[ 4 -1 -1]-1        [ 7  5  3]<br/>[-3 -1 -2]     =    [11  8  5]<br/>[-4  4 -1]          [16 12  7]</p><p>The vectors are written with the most important at the top.  That means<br/>the left hand column is the first approximation to the scale -- an equal<br/>temperament.  The first two columns define the second approximation, a<br/>scale with two steps, or a linear temperament.  And all three columns<br/>define the scale exactly -- or define the prime vectors in terms of these<br/>three intervals.</p><p>Now, replace the melodic generator with the octave.</p><p>[ 1  0  0]-1    1[ 7 0 0]<br/>[-3 -1  2]   =  -[11 1 2]<br/>[-4  4 -1]      7[16 4 1]</p><p>The octave is still a generator here.  The algebra doesn&apos;t know anything<br/>about &quot;interval of equivalence&quot;.  The left hand column is still the first<br/>approximation, but it works a bit better if we set the generator (the<br/>octave) to be exact.  The other columns are correction factors which still<br/>work if the octave is exact.  Hence this system can work in<br/>octave-equivalent space.</p><p>The things that make this system different to the one before is that it<br/>isn&apos;t unitary, and only one column of the inverse depends on the first<br/>generator.  It&apos;s the second criterion that allows us to draw the<br/>non-arbitrary distinction between &quot;interval of equivalence&quot; and &quot;unison<br/>vector&quot;, and so throw away the former.</p><p>The non-unitariness is because the original 16:15 generator can only be<br/>derived from the vectors we have now as</p><p>[4 -1 -1] = ([1 0 0] - 5*[-3 -1 2] - 3*[-4 4 -1])/7</p><p>(I&apos;d like a magic way of deducing this vector from the other three.)</p><p>Each interval can be defined in terms of a fraction of the octave, a<br/>fraction of a chromatic semitone, and a fraction of a syntonic comma.  As<br/>the first is clearly the largest, the others can be thought of as small<br/>corrections.  Unlike the original system, each new approximation makes a<br/>small alteration to the previous one, instead of replacing it.</p><p>The periodicity block works like that.  You start out by taking all the<br/>notes of the first approximation.  Then you add a correction between +/-<br/>0.5 (or 0 and 1 which amounts to the same thing) for each other dimension<br/>to get a just interval.  All but the largest correction can be taken out<br/>to leave a linear temperament.</p><p>The connection between that first correction and the MOS generator can be<br/>seen when you think of practical tuning.  Say you tune a keyboard to<br/>meantone with no deviation for D.  The mistuning of A will be equal and<br/>opposite to that of G, relative to 12-equal.  Those for E and C will be<br/>twice as much, and so on.  The correction factors for the second<br/>approximation follow the generator.</p><p>                Graham</p></div>