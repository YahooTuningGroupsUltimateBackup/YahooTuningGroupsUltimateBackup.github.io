<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math Optimizing generalized keyboards</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>Optimizing generalized keyboards</h1><h3><a id=16986 href="#16986">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/6/2008 7:02:56 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;ve been playing with generalized keyboard layouts for regular temperaments, and it occurs to me there ought to be some way to specify desired properties mathematically and optimize for them. One thing I&apos;ve found useful is to take a portion of the harmonic series, e.g. 4 5 6 7 8 9, and find the layout that keeps those notes relatively close together. Take 7-limit meantone for an example</p><p>[&lt;1, 2, 4, 7], &lt;0, -1, -4, -10]&gt;</p><p>4/4 : [0, 0&gt;<br/>5/4 : [2, -4&gt;<br/>6/4 : [1, -1&gt;<br/>7/4 : [5, -10&gt;<br/>8/4 : [1, 0&gt;<br/>9/4 : [2, -2&gt;</p><p>You can see that this spans a 6x11 area of the keyboard. Now I can describe a keyboard layout by giving the coordinates of the generators. Take the Wicki layout, slanted to fit on a square lattice: the octave is at (1, 2) and the fourth at (0, 1). Now with a little matrix magic, I can calculate the mapping of 4-5-6-7-8-9 in this layout and see how much space it takes up.</p><p>| 0   0 |                  | 0  0 |<br/>| 2  -4 |                  | 2  0 |<br/>| 1  -1 |     | 1  2 |     | 1  1 |<br/>| 5 -10 |  x  | 0  1 |  =  | 5  0 |<br/>| 1   0 |                  | 1  2 |<br/>| 2  -2 |                  | 2  2 |</p><p>This ends up as a 6x3 area, which is clearly better than 6x11. Similarly for the Bosanquet:</p><p>| 0   0 |                  | 0  0 |<br/>| 2  -4 |                  | 2  0 |<br/>| 1  -1 |     | 5 -2 |     | 3 -1 |<br/>| 5 -10 |  x  | 2 -1 |  =  | 5  0 |<br/>| 1   0 |                  | 5 -2 |<br/>| 2  -2 |                  | 6 -2 |</p><p>You can see this takes up a little more space (7x3). The question I have is: is there any way other than trial and error to find the transformation which results in the smallest area on the keyboard? Excluding the degenerate case of all notes being mapped to (0, 0), naturally.</p><p>For some applications, it could also be useful to optimize for the narrowest keyboard area: the smallest in one dimension or the other (regardless of the size in the other dimension).</p></div><h3><a id=16987 href="#16987">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/6/2008 7:40:38 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; I&apos;ve been playing with generalized keyboard layouts for regular &gt; temperaments, and it occurs to me there ought to be some way to specify &gt; desired properties mathematically and optimize for them. One thing I&apos;ve &gt; found useful is to take a portion of the harmonic series, e.g. 4 5 6 7 8 &gt; 9, and find the layout that keeps those notes relatively close together. &gt; Take 7-limit meantone for an example</p><p>This is the kind of thing the X System team are looking at.   Do you have an X_System.pdf anywhere?  As I don&apos;t think it&apos;s formally published yet I should be careful about saying what I know about it.</p><p>&gt; You can see this takes up a little more space (7x3). The question I have &gt; is: is there any way other than trial and error to find the &gt; transformation which results in the smallest area on the keyboard? &gt; Excluding the degenerate case of all notes being mapped to (0, 0), &gt; naturally.</p><p>It&apos;s a short vectors in a lattice problem.  You could try LLL reduction.</p><p>&gt; For some applications, it could also be useful to optimize for the &gt; narrowest keyboard area: the smallest in one dimension or the other &gt; (regardless of the size in the other dimension).</p><p>Scalar complexity is an area, and the parametric badness that comes out of it is a kind of generalized area.  But I&apos;ll wait until some X System stuff comes out before I explore the relationship further.</p><p>                     Graham</p></div><h3><a id=16988 href="#16988">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>3/6/2008 11:02:32 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 07:40 PM 3/6/2008, Graham wrote:<br/>&gt;Herman Miller wrote:<br/>&gt;&gt; I&apos;ve been playing with generalized keyboard layouts for regular<br/>&gt;&gt; temperaments, and it occurs to me there ought to be some way to specify<br/>&gt;&gt; desired properties mathematically and optimize for them. One thing I&apos;ve<br/>&gt;&gt; found useful is to take a portion of the harmonic series, e.g. 4 5 6 7 8<br/>&gt;&gt; 9, and find the layout that keeps those notes relatively close together.<br/>&gt;&gt; Take 7-limit meantone for an example<br/>&gt;<br/>&gt;This is the kind of thing the X System team are looking at.<br/>&gt;  Do you have an X_System.pdf anywhere?  As I don&apos;t think<br/>&gt;it&apos;s formally published yet I should be careful about saying<br/>&gt;what I know about it.<br/>&gt;<br/>&gt;&gt; You can see this takes up a little more space (7x3). The question I have<br/>&gt;&gt; is: is there any way other than trial and error to find the<br/>&gt;&gt; transformation which results in the smallest area on the keyboard?<br/>&gt;&gt; Excluding the degenerate case of all notes being mapped to (0, 0),<br/>&gt;&gt; naturally.<br/>&gt;<br/>&gt;It&apos;s a short vectors in a lattice problem.  You could try<br/>&gt;LLL reduction.</p><p>In fact I&apos;d guess it would tend to come out of good temperaments<br/>just with Gene&apos;s approach</p><p><a href="http://web.archive.org/web/20060622003749/http://66.98.148.43/~xenharmo/bosanquet.html">http://web.archive.org/web/20060622003749/http://66.98.148.43/~xenharmo/bosanquet.html</a></p><p>Paul Erlich and Igliashon Jones also did some work in this<br/>area.</p><p>-Carl</p></div><h3><a id=16992 href="#16992">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/7/2008 7:01:55 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:<br/>&gt; Herman Miller wrote:<br/>&gt;&gt; I&apos;ve been playing with generalized keyboard layouts for regular &gt;&gt; temperaments, and it occurs to me there ought to be some way to specify &gt;&gt; desired properties mathematically and optimize for them. One thing I&apos;ve &gt;&gt; found useful is to take a portion of the harmonic series, e.g. 4 5 6 7 8 &gt;&gt; 9, and find the layout that keeps those notes relatively close together. &gt;&gt; Take 7-limit meantone for an example</p><p>&gt; It&apos;s a short vectors in a lattice problem.  You could try &gt; LLL reduction.</p><p>Well, the vectors I&apos;m trying to optimize aren&apos;t all linearly independent of each other. It occurs to me though that a brute force search might not be as bad as it seems. All the useful layouts can be found through a traversal of the scale tree, and each can be quickly evaluated.</p></div><h3><a id=16993 href="#16993">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/9/2008 7:46:13 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; Graham Breed wrote:<br/>&gt;&gt; Herman Miller wrote:<br/>&gt;&gt;&gt; I&apos;ve been playing with generalized keyboard layouts for regular &gt;&gt;&gt; temperaments, and it occurs to me there ought to be some way to specify &gt;&gt;&gt; desired properties mathematically and optimize for them. One thing I&apos;ve &gt;&gt;&gt; found useful is to take a portion of the harmonic series, e.g. 4 5 6 7 8 &gt;&gt;&gt; 9, and find the layout that keeps those notes relatively close together. &gt;&gt;&gt; Take 7-limit meantone for an example<br/>&gt; &gt;&gt; It&apos;s a short vectors in a lattice problem.  You could try &gt;&gt; LLL reduction.<br/>&gt; &gt; Well, the vectors I&apos;m trying to optimize aren&apos;t all linearly independent &gt; of each other. It occurs to me though that a brute force search might &gt; not be as bad as it seems. All the useful layouts can be found through a &gt; traversal of the scale tree, and each can be quickly evaluated.</p><p>A layout can be defined by two linearly independent vectors.   But yes, the two dimensional case isn&apos;t so difficult once you&apos;ve chosen your temperament class :P</p><p>Let us know if you come up with a badness formula.</p><p>                Graham</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            