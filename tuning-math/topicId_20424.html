<a href="/tuning-math">back to list</a><h1>Understanding projection maps</h1><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>3/21/2012 5:25:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The following is the Hermite-reduced mapping matrix for meantone:</p><p>[1 0 -4]<br/>[0 1 4]</p><p>Let&apos;s call this &quot;m.&quot; This is the projection matrix you get if you do pinv(m)*m</p><p>[0.515151515151515         0.484848484848485        -0.121212121212121]<br/>[0.484848484848485         0.515151515151515         0.121212121212121]<br/>[-0.121212121212121         0.121212121212121          0.96969696969697]</p><p>OK. But, now, let&apos;s go back to the original Hermite-reduced mapping<br/>matrix and just say we add a row of zeroes on the bottom. Then we get</p><p>[1 0 -4]<br/>[0 1 4]<br/>[0 0 0]</p><p>This is also a projection map for meantone, and furthermore it seems<br/>to have the benefit of never producing fractional monzos.</p><p>Does anyone know what the name of the above map is, and furthermore<br/>does every temperament have one like this? How do I easily find the<br/>corresponding map if so?</p><p>Is it possible for a contorted temperament to have this sort of map?</p><p>-Mike</p></div><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>3/21/2012 7:04:48 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; The following is the Hermite-reduced mapping matrix for meantone:<br/>&gt;<br/>&gt; [1 0 -4]<br/>&gt; [0 1 4]<br/>&gt;<br/>&gt; Let&apos;s call this &quot;m.&quot; This is the projection matrix you get if you do pinv(m)*m<br/>&gt;<br/>&gt; [0.515151515151515         0.484848484848485        -0.121212121212121]<br/>&gt; [0.484848484848485         0.515151515151515         0.121212121212121]<br/>&gt; [-0.121212121212121         0.121212121212121          0.96969696969697]<br/>&gt;<br/>&gt; OK. But, now, let&apos;s go back to the original Hermite-reduced mapping<br/>&gt; matrix and just say we add a row of zeroes on the bottom. Then we get<br/>&gt;<br/>&gt; [1 0 -4]<br/>&gt; [0 1 4]<br/>&gt; [0 0 0]<br/>&gt;<br/>&gt; This is also a projection map for meantone, and furthermore it seems<br/>&gt; to have the benefit of never producing fractional monzos.<br/>&gt;<br/>&gt; Does anyone know what the name of the above map is, and furthermore<br/>&gt; does every temperament have one like this? How do I easily find the<br/>&gt; corresponding map if so?</p><p>Every temperament actually has infinitely many. The map above for meantone is what you get if you make the period 2/1 and the generator 3/1. But you can also make the period 2/1 and the generator 80/27, and get</p><p>[1  4  12]<br/>[0 -3 -12]<br/>[0  1   4]</p><p>The way to calculate this is simply to multiply M on the left by a matrix whose columns are the monzos representing the generators. If I multiply by [2/1 3/1] in monzo form I get your matrix; if I multiply by [2/1 80/27] in monzo form I get my one above.</p><p>For another example, take srutal. The mapping matrix is</p><p>[2 3 5]<br/>[0 1 -2]</p><p>where the first row corresponds to the ~600 cent period and the second row corresponds to the ~100 cent generator. Some JI representatives of these equivalence classes are 45/32 and 16/15. Therefore we can multiply on the left by the matrix [45/32 16/15] in monzo form to get the projection matrix</p><p>[  -10  -11  -33]<br/>[    4    5   12]<br/>[    2    2    7]</p><p>&gt; Is it possible for a contorted temperament to have this sort of map?</p><p>No, because then at least one of the generators doesn&apos;t correspond to any JI interval; it has to be a fractional monzo. (Proof: If every generator did correspond to a JI interval, then every interval in the tempered lattice would also correspond to a JI interval because it can be expressed in terms of the generators. But that contradicts the definition of &quot;contorted&quot;.)</p><p>Keenan</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>3/21/2012 7:28:44 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Wed, Mar 21, 2012 at 10:04 AM, Keenan Pepper &lt;<a href="mailto:keenanpepper@gmail.com">keenanpepper@gmail.com</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; Every temperament actually has infinitely many. The map above for meantone<br/>&gt; is what you get if you make the period 2/1 and the generator 3/1. But you<br/>&gt; can also make the period 2/1 and the generator 80/27, and get<br/>&gt;<br/>&gt; [1 4 12]<br/>&gt; [0 -3 -12]<br/>&gt; [0 1 4]</p><p>And if we put this matrix in Hermite Form, we get</p><p>[1 0 -4]<br/>[0 1 4]<br/>[0 0 0]</p><p>Which is also a projection matrix, but I notice that pattern doesn&apos;t hold below.</p><p>&gt; The way to calculate this is simply to multiply M on the left by a matrix<br/>&gt; whose columns are the monzos representing the generators. If I multiply by<br/>&gt; [2/1 3/1] in monzo form I get your matrix; if I multiply by [2/1 80/27] in<br/>&gt; monzo form I get my one above.</p><p>What meaning does it have in general to multiply a mapping matrix from<br/>the left by monzos? The only thing I&apos;ve ever multiplied mapping<br/>matrices on the left by are tuning maps, like [1200 696] for meantone,<br/>which then spits out the tuning map for the primes. But, it&apos;s hard for<br/>me to visualize what it means to multiply a mapping matrix on the left<br/>by another matrix where the columns have meaning, rather than the<br/>rows.</p><p>&gt; For another example, take srutal. The mapping matrix is<br/>&gt;<br/>&gt; [2 3 5]<br/>&gt; [0 1 -2]<br/>&gt;<br/>&gt; where the first row corresponds to the ~600 cent period and the second row<br/>&gt; corresponds to the ~100 cent generator. Some JI representatives of these<br/>&gt; equivalence classes are 45/32 and 16/15. Therefore we can multiply on the<br/>&gt; left by the matrix [45/32 16/15] in monzo form to get the projection matrix<br/>&gt;<br/>&gt; [ -10 -11 -33]<br/>&gt; [ 4 5 12]<br/>&gt; [ 2 2 7]</p><p>And in Hermite form, we get</p><p>     2     0    11<br/>     0     1    -2<br/>     0     0     0</p><p>But this isn&apos;t a projection matrix.</p><p>Do you know if every temperament has some projection matrix, in some<br/>form, with a row of zeroes on the bottom? Or is it only things like<br/>meantone which do?</p><p>-Mike</p></div><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>3/21/2012 11:06:31 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; On Wed, Mar 21, 2012 at 10:04 AM, Keenan Pepper &lt;keenanpepper@...&gt;<br/>&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Every temperament actually has infinitely many. The map above for meantone<br/>&gt; &gt; is what you get if you make the period 2/1 and the generator 3/1. But you<br/>&gt; &gt; can also make the period 2/1 and the generator 80/27, and get<br/>&gt; &gt;<br/>&gt; &gt; [1 4 12]<br/>&gt; &gt; [0 -3 -12]<br/>&gt; &gt; [0 1 4]<br/>&gt;<br/>&gt; And if we put this matrix in Hermite Form, we get<br/>&gt;<br/>&gt; [1 0 -4]<br/>&gt; [0 1 4]<br/>&gt; [0 0 0]<br/>&gt;<br/>&gt; Which is also a projection matrix, but I notice that pattern doesn&apos;t hold below.</p><p>Right. It won&apos;t in general, because these matrices represent actual linear transformations, not lattices. Hermite reduction preserves the row space / row lattice, but of course it does not preserve the linear transformation.</p><p>&gt; What meaning does it have in general to multiply a mapping matrix from<br/>&gt; the left by monzos? The only thing I&apos;ve ever multiplied mapping<br/>&gt; matrices on the left by are tuning maps, like [1200 696] for meantone,<br/>&gt; which then spits out the tuning map for the primes. But, it&apos;s hard for<br/>&gt; me to visualize what it means to multiply a mapping matrix on the left<br/>&gt; by another matrix where the columns have meaning, rather than the<br/>&gt; rows.</p><p>The mapping matrix of the temperament is a linear map from Z^3 to Z^2, where the elements of Z^3 represent JI monzos and the elements of Z^2 represent tempered intervals in (periods, generators) form. If you multiply that on the left by a row vector that&apos;s the same as composing it with a map Z^2 -&gt; R, so the overall map is Z^3 -&gt; Z^2 -&gt; R and you end up with real numbers for the actual pitches. For the Frobenius projection map you multiply by the pseudoinverse which is a map Z^2 -&gt; Q^3, so you end up with fractional monzos. In the current procedure we&apos;re multiplying by a matrix of monzos, which is a linear map Z^2 -&gt; Z^3, and ending up with ordinary, integral monzos.</p><p>(Keep in mind that, when matrices are viewed as transformations of column vectors, the product AB means first apply B, then apply A.)</p><p>&gt; &gt; For another example, take srutal. The mapping matrix is<br/>&gt; &gt;<br/>&gt; &gt; [2 3 5]<br/>&gt; &gt; [0 1 -2]<br/>&gt; &gt;<br/>&gt; &gt; where the first row corresponds to the ~600 cent period and the second row<br/>&gt; &gt; corresponds to the ~100 cent generator. Some JI representatives of these<br/>&gt; &gt; equivalence classes are 45/32 and 16/15. Therefore we can multiply on the<br/>&gt; &gt; left by the matrix [45/32 16/15] in monzo form to get the projection matrix<br/>&gt; &gt;<br/>&gt; &gt; [ -10 -11 -33]<br/>&gt; &gt; [ 4 5 12]<br/>&gt; &gt; [ 2 2 7]<br/>&gt;<br/>&gt; And in Hermite form, we get<br/>&gt;<br/>&gt;      2     0    11<br/>&gt;      0     1    -2<br/>&gt;      0     0     0<br/>&gt;<br/>&gt; But this isn&apos;t a projection matrix.<br/>&gt;<br/>&gt; Do you know if every temperament has some projection matrix, in some<br/>&gt; form, with a row of zeroes on the bottom? Or is it only things like<br/>&gt; meantone which do?</p><p>The reason meantone has one with zeros on the bottom is because Pythagorean JI contains exactly one representative of each meantone equivalence class, so there&apos;s a bijection from meantone to Pythagorean. In most other temperaments this won&apos;t be possible. For magic, on the other hand, there&apos;s a projection matrix where the *middle* row is all zeros, because it has a bijection with 2.5 JI.</p><p>Keenan</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>3/21/2012 11:08:54 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; The following is the Hermite-reduced mapping matrix for meantone:<br/>&gt;<br/>&gt; [1 0 -4]<br/>&gt; [0 1 4]<br/>&gt;<br/>&gt; Let&apos;s call this &quot;m.&quot; This is the projection matrix you get if you do pinv(m)*m<br/>&gt;<br/>&gt; [0.515151515151515         0.484848484848485        -0.121212121212121]<br/>&gt; [0.484848484848485         0.515151515151515         0.121212121212121]<br/>&gt; [-0.121212121212121         0.121212121212121          0.96969696969697]</p><p>A better way to write it would be:</p><p>[[17 16 -4] [16 17 4] [-4 4 32]]/33</p><p>&gt; OK. But, now, let&apos;s go back to the original Hermite-reduced mapping<br/>&gt; matrix and just say we add a row of zeroes on the bottom. Then we get<br/>&gt;<br/>&gt; [1 0 -4]<br/>&gt; [0 1 4]<br/>&gt; [0 0 0]<br/>&gt;<br/>&gt; This is also a projection map for meantone, and furthermore it seems<br/>&gt; to have the benefit of never producing fractional monzos.</p><p>How would you use it?</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>3/21/2012 12:44:53 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; &gt; This is also a projection map for meantone, and furthermore it seems<br/>&gt; &gt; to have the benefit of never producing fractional monzos.<br/>&gt;<br/>&gt; How would you use it?<br/>&gt;</p><p>I wouldn&apos;t call it a projection map for meantone, since 81/80 is not in the nullspace, and I don&apos;t know where you go with this idea. The kind of projection maps I&apos;ve been using send commas to the unison. Here are some examples.</p><p>least squares (7/26 comma) [[26 0 0] [28 -2 7] [8 -8 28]]/26<br/>Eigenmonzos: 2, 78125/73728</p><p>minimax (1/4 comma) [[4 0 0] [4 0 1] [0 0 4]]/4<br/>Eigenmonzos: 2, 5/4</p><p>Frobenius [[17 16 -4] [16 17 4] [-4 4 32]]/33<br/>Eigenmonzos: 6, 625/2</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>3/21/2012 12:49:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Wed, Mar 21, 2012 at 3:44 PM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; &gt; This is also a projection map for meantone, and furthermore it seems<br/>&gt; &gt; &gt; to have the benefit of never producing fractional monzos.<br/>&gt; &gt;<br/>&gt; &gt; How would you use it?<br/>&gt; &gt;<br/>&gt;<br/>&gt; I wouldn&apos;t call it a projection map for meantone, since 81/80 is not in<br/>&gt; the nullspace, and I don&apos;t know where you go with this idea.</p><p>81/80 is in the nullspace.</p><p>--from matlab--</p><p>[1 0 -4;0 1 4;0 0 0]</p><p>ans =</p><p>     1     0    -4<br/>     0     1     4<br/>     0     0     0</p><p>&gt;&gt; null(ans,&apos;r&apos;)</p><p>ans =</p><p>     4<br/>    -4<br/>     1</p><p>&gt;&gt;</p><p>-Mike</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>3/21/2012 1:19:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; &gt; I wouldn&apos;t call it a projection map for meantone, since 81/80 is not in<br/>&gt; &gt; the nullspace, and I don&apos;t know where you go with this idea.<br/>&gt;<br/>&gt; 81/80 is in the nullspace.</p><p>Ah, I get it. You are using the right eigenspace, and I use left. So I&apos;d want to take the transpose of your matrix, giving me</p><p>Pythagorean: [[1 0 0] [0 1 0] [-4 4 0]]<br/>Eigenmonzos: 2, 3</p><p>Now the rows define a tuning map, just like the other matricies.</p></div>