<a href="/tuning-math">back to list</a><h1>Linear algebra question relevant to TOP</h1><h3>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>1/26/2012 12:15:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I can represent an affine subspace of R^n by an ordered pair of a (usually non-square) matrix A and a vector b. The pair (A, b) represents the set of all points x such that A x = b, which is an affine subspace.</p><p>Now, given two such pairs, (A1, b1) and (A2, b2), how can I get a matrix and vector pair representing the affine hull of these two affine subspaces?</p><p>The method needs either to work with integer arithmetic, or to otherwise resolve the numerical stability issues that come up when two subspaces are *almost* part of the same larger subspace.</p><p>I&apos;m sure I can figure this out myself after a while, but I wonder if anyone already knows.</p><p>Keenan</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/26/2012 7:26:47 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Jan 26, 2012 at 3:15 PM, Keenan Pepper &lt;<a href="mailto:keenanpepper@gmail.com">keenanpepper@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; The method needs either to work with integer arithmetic, or to otherwise resolve the numerical stability issues that come up when two subspaces are *almost* part of the same larger subspace.</p><p>Do you know how to compute the null space of a matrix in a way that<br/>meets your criteria?</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/26/2012 8:38:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Keenan&apos;s internet seems to have died on XA chat, so I&apos;ll repost my<br/>algorithm here. Assume that you have two affine subspaces, Ax = b and<br/>A&apos;x&apos; = b&apos;, and you want to find the affine hull for both of them:</p><p>1) compute the null space of A<br/>2) compute the null space of A&apos;<br/>3) pick arbitrary solutions x and x&apos; so that the vector (x - x&apos;) isn&apos;t<br/>the null space of either A or A&apos;<br/>4) compute the matrix such that null(A), null(A&apos;),and x - x&apos; are all<br/>in its null space, call it H<br/>5) Hv = Hx is the matrix you want</p><p>My thinking is that if you have equations like</p><p>[1 1 0;0 1 4][a;b;c] = [0;1]<br/>[1 0 2;0 5 1][a;b;c] = [0;1]</p><p>The first one will characterize the affine subspace which is [-1;1;0]<br/>+ k*[-4;4;1], and the second one will characterize the affine subspace<br/>which is [-2;0;1] + k*[-10;-1;5] for k in R. In regular temperament<br/>terms, you have 3/2 * k*81/80 and 5/4 * k*3125/3072. To find the<br/>affine hull encapsulating both, you need to temper out both 81/80 AND<br/>3125/3027, and you also need to temper out the difference between 3/2<br/>and 5/4, such that they&apos;re both possible solutions to the equation Ax<br/>= b for A = the combined affine hull you want. In this case, you end<br/>up tempering out 81/80, 3125/3072, and 6/5, so the matrix in R3 you<br/>want is the zero matrix, meaning that any column vector in R^3 is a<br/>solution: the affine hull of these two skew lines is all of R^3.</p><p>-Mike</p><p>On Thu, Jan 26, 2012 at 10:26 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; On Thu, Jan 26, 2012 at 3:15 PM, Keenan Pepper &lt;<a href="mailto:keenanpepper@gmail.com">keenanpepper@gmail.com</a>&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; The method needs either to work with integer arithmetic, or to otherwise resolve the numerical stability issues that come up when two subspaces are *almost* part of the same larger subspace.<br/>&gt;<br/>&gt; Do you know how to compute the null space of a matrix in a way that<br/>&gt; meets your criteria?<br/>&gt;<br/>&gt; -Mike</p></div>