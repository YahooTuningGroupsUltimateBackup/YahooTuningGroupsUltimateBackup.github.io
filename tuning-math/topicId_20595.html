<a href="/tuning-math">back to list</a><h1>Applying a tuning map using wedgies</h1><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>4/26/2012 4:12:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Someone asked a question similar to this over on XA and I realized I<br/>had no answer for them:</p><p>How does one work out a tuning map if one prefers to do things using<br/>only wedgies, and not matrices?</p><p>For instance, say I&apos;m looking at 5-limit meantone, which is &lt;&lt;1 4 4||<br/>with vanishing comma |-4 4 -1&gt;. Is there a way to calculate something<br/>like the POTE optimal tuning using only exterior algebra?</p><p>-Mike</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>4/26/2012 7:52:22 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; Someone asked a question similar to this over on XA and I realized I<br/>&gt; had no answer for them:<br/>&gt;<br/>&gt; How does one work out a tuning map if one prefers to do things using<br/>&gt; only wedgies, and not matrices?</p><p>I&apos;m not sure what the point of an allergy to matricies is. A wedgie-based method for rank two is as follows: form the matrix of interior products M = [WV2 Wv3 ... Wvp], where W is the wedgie. Now P = M&grave;M, where M&grave; is the pseudoinverse, is the Frobenius projection map. It has rows which are fractional monzos equalling the tuning values. Put M into weighted coordinates to get the TE tuning instead.</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>4/26/2012 8:25:35 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Apr 26, 2012 at 10:52 PM, genewardsmith<br/>&lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Someone asked a question similar to this over on XA and I realized I<br/>&gt; &gt; had no answer for them:<br/>&gt; &gt;<br/>&gt; &gt; How does one work out a tuning map if one prefers to do things using<br/>&gt; &gt; only wedgies, and not matrices?<br/>&gt;<br/>&gt; I&apos;m not sure what the point of an allergy to matricies is. A wedgie-based<br/>&gt; method for rank two is as follows: form the matrix of interior products M =<br/>&gt; [WV2 Wv3 ... Wvp], where W is the wedgie. Now P = M&grave;M, where M&grave; is the<br/>&gt; pseudoinverse, is the Frobenius projection map. It has rows which are<br/>&gt; fractional monzos equalling the tuning values. Put M into weighted<br/>&gt; coordinates to get the TE tuning instead.</p><p>Haha... I see what you did there.</p><p>There&apos;s no allergy. I actually prefer matrices. It&apos;s just that I want<br/>to know what exterior algebra is capable of.</p><p>If it requires turning wedgies into matrices to do stuff, then what<br/>advantage do they have? Just that they&apos;re elegant representations and<br/>easy to notate?</p><p>-Mike</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>4/27/2012 9:08:51 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; Haha... I see what you did there.</p><p>Did you see that [WV2 WV3 ... WVp] is really nothing more than a matrix version of the wedgie? Of course, this just3 works in rank two.</p><p>&gt; There&apos;s no allergy. I actually prefer matrices. It&apos;s just that I want<br/>&gt; to know what exterior algebra is capable of.</p><p>Clearly you could contrive something which would not use the language of matricies, but what would be the point?</p><p>&gt; If it requires turning wedgies into matrices to do stuff, then what<br/>&gt; advantage do they have? Just that they&apos;re elegant representations and<br/>&gt; easy to notate?</p><p>I do something things with wedgies, some things with tuning maps, and some things with projection matrices depending on what seems easiest.</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>4/27/2012 11:21:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Apr 27, 2012 at 12:08 PM, genewardsmith<br/>&lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; Haha... I see what you did there.<br/>&gt;<br/>&gt; Did you see that [WV2 WV3 ... WVp] is really nothing more than a matrix<br/>&gt; version of the wedgie? Of course, this just3 works in rank two.</p><p>Yes, I saw it. I said &quot;how do you calculate a tuning map with wedgies<br/>and not using matrices?&quot; and your answer was &quot;turn the wedgie into a<br/>matrix and calculate the tuning map.&quot; Tryin to pull one over on ol<br/>Mike I see.</p><p>&gt; &gt; There&apos;s no allergy. I actually prefer matrices. It&apos;s just that I want<br/>&gt; &gt; to know what exterior algebra is capable of.<br/>&gt;<br/>&gt; Clearly you could contrive something which would not use the language of<br/>&gt; matricies, but what would be the point?</p><p>I dunno, isn&apos;t that like asking what the point of exterior algebra is?<br/>Exterior algebra itself is something that was contrived to not use the<br/>language of matrices. &quot;The point&quot; is to come up with more elegant ways<br/>of talking about stuff. You just made this argument to Dave on XA.</p><p>&gt; &gt; If it requires turning wedgies into matrices to do stuff, then what<br/>&gt; &gt; advantage do they have? Just that they&apos;re elegant representations and<br/>&gt; &gt; easy to notate?<br/>&gt;<br/>&gt; I do something things with wedgies, some things with tuning maps, and some<br/>&gt; things with projection matrices depending on what seems easiest.</p><p>What&apos;s an example of something which is easiest with wedgies?</p><p>-Mike</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>4/28/2012 1:07:40 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; What&apos;s an example of something which is easiest with wedgies?</p><p>Putting a multival into the canonical form of a wedgie is much easier than putting a mapping matrix into the canonical form of Hermite normal form. I&apos;m not even sure how I would do all the stuff I recently did with Fokker blocks not using wedgies, though I am sure there is a way. Defining TE complexity, TE relative error/simple badness, TE error, TE badness is easier and makes more sense with wedgies, and I&apos;m not sure how you even do the TOP analogs Paul likes without wedgies. You can use tuning maps or Frobenius stuff for testing if a monzo or val is associated to a temperament or not, etc, but I find wedgies easiest myself. This is all off the top of my head. The point is, you can pretty much do everything with tuning maps or Frobenius projection matricies also, if you prefer, but wedgies are nice for some things.</p><p>Would it maker you happier to use only one approach?</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>4/28/2012 1:35:22 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Apr 28, 2012 at 4:07 AM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; Defining TE complexity,<br/>&gt; TE relative error/simple badness, TE error, TE badness is easier and makes<br/>&gt; more sense with wedgies, and I&apos;m not sure how you even do the TOP analogs<br/>&gt; Paul likes without wedgies.</p><p>You can do TE error with wedgies?? How??</p><p>&gt; Would it maker you happier to use only one approach?</p><p>No - the point is that I&apos;m deliberately trying to learn more than one<br/>approach, so I can understand what&apos;s going on from as many angles as<br/>possible.</p><p>I&apos;m pretty used to both matrices and wedgies at this point, and I&apos;ve<br/>been doing things like you say you are - sometimes use matrices for<br/>some things, sometimes use wedgies for other things. The reason I&apos;m<br/>asking all these questions is because I&apos;m trying to see what clever<br/>insights I might be missing, like the connection between TE complexity<br/>and the L2 norm of a wedgie which totally eluded me. It&apos;s easier for<br/>me to think in general if I can understand things from more than one<br/>standpoint.</p><p>Other people may prefer to use only one approach, but that&apos;s where I&apos;m at.</p><p>-Mike</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>4/28/2012 7:53:33 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; You can do TE error with wedgies?? How??</p><p>TE error = ||J^W||/||W||</p><p>Here J is the JIP, and W is a wedgie.</p><p>Here&apos;s how to find the TE tuning using wedgies:</p><p>(1) Take the wedge product of W with X = &lt;x1 x2 ... xn| where the xi are indeterminats.</p><p>(2) Solve W^X = 0 and substitute into X, getting Y.</p><p>(3) Put Y into weighted coordinates, getting Z.</p><p>(4) Compute (Z-J).(Z-J), the dot product of Z minus J in weighted coordinates with itself; in these coordinates, J = &lt;1 1 1 ... 1|.</p><p>(5) Take partial derivatives wrt any remaining variables, set equal to zero, solve and substitute. That&apos;s your TE tuning map.</p><p>Steps 4 and 5 simply expand on &quot;solve for the minimum distance using least squares.&quot; You can use whatever method you like to find the nearest point to J.</p><p>&gt; It&apos;s easier for<br/>&gt; me to think in general if I can understand things from more than one<br/>&gt; standpoint.</p><p>Next you&apos;ll want to know how do do everything the Frobenius way.</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>4/29/2012 3:42:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Apr 28, 2012 at 10:53 AM, genewardsmith<br/>&lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; You can do TE error with wedgies?? How??<br/>&gt;<br/>&gt; TE error = ||J^W||/||W||<br/>&gt;<br/>&gt; Here J is the JIP, and W is a wedgie.</p><p>Aha! Very clever. So if W is a bivector, the volume of the<br/>parallelopiped formed by J^W, divided by the volume of the<br/>parallelogram formed by W, gives you the length of the &quot;altitude&quot; of<br/>the parallelopiped (assuming that W is the &quot;base&quot;). And this altitude<br/>is exactly the L2 distance of the vector normal to the base which<br/>intersects the JIP.</p><p>That&apos;s handy!</p><p>&gt; Here&apos;s how to find the TE tuning using wedgies:</p><p>Very neat. So if T is the tuning map, that&apos;s equivalent to solving the<br/>following equations, right? (With everything being expressed in<br/>weighted coordinates)</p><p>T^W = 0 (lies in the wedgie)<br/>(T-J)^W* = 0 (where W* is hodge dual, e.g. orthogonal to wedgie)<br/>||T-J|| = ||J^W||/||W|| (magnitude of error map</p><p>-Mike</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>4/29/2012 10:17:24 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; T^W = 0 (lies in the wedgie)</p><p>Correct!</p><p>&gt; (T-J)^W* = 0 (where W* is hodge dual, e.g. orthogonal to wedgie)</p><p>Not sure where this floated in from, or even what it means. The Hodge dual is the dual, except you flip the angle braces around. That is, say in the 11-limit you take the dual of &lt;&lt;stuff|| and get |||dual stuff&gt;&gt;&gt;, then the Hodge dual is &lt;&lt;dual stuff||.</p><p>&gt; ||T-J|| = ||J^W||/||W|| (magnitude of error map</p><p>Correct, except that ||T-J|| would mean you divide by the dimension. The usual proceedure is not to do this and to multiply the result by 1200 to get a result in cents.</p><p>You&apos;ve got me writing code in two different ways now, once with wedgies and once with matricies. It makes for an interesting comparison and I hope for a good check.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/3/2012 9:28:31 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 29/04/2012, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; On Sat, Apr 28, 2012 at 10:53 AM, genewardsmith<br/>&gt; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt;&gt; TE error = ||J^W||/||W||<br/>&gt;&gt;<br/>&gt;&gt; Here J is the JIP, and W is a wedgie.<br/>&gt;<br/>&gt; Aha! Very clever. So if W is a bivector, the volume of the<br/>&gt; parallelopiped formed by J^W, divided by the volume of the<br/>&gt; parallelogram formed by W, gives you the length of the &quot;altitude&quot; of<br/>&gt; the parallelopiped (assuming that W is the &quot;base&quot;). And this altitude<br/>&gt; is exactly the L2 distance of the vector normal to the base which<br/>&gt; intersects the JIP.</p><p>It could also be ||J^W||/||W||/||J|| because ||J|| is a constant.<br/>This defines the angle between J and W (whatever they are).</p><p>                      Graham</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/3/2012 9:41:55 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sun, Apr 29, 2012 at 1:17 PM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; &gt; (T-J)^W* = 0 (where W* is hodge dual, e.g. orthogonal to wedgie)<br/>&gt;<br/>&gt; Not sure where this floated in from, or even what it means. The Hodge dual<br/>&gt; is the dual, except you flip the angle braces around. That is, say in the<br/>&gt; 11-limit you take the dual of &lt;&lt;stuff|| and get |||dual stuff&gt;&gt;&gt;, then the<br/>&gt; Hodge dual is &lt;&lt;dual stuff||.</p><p>Right. The Hodge dual of a multivector is an orthogonal multivector,<br/>right? So the expression means that T-J lies in the Hodge dual of the<br/>wedgie, which means that T-J is orthogonal to the wedgie, which the<br/>L2-optimal tuning map ought to be.</p><p>&gt; &gt; ||T-J|| = ||J^W||/||W|| (magnitude of error map<br/>&gt;<br/>&gt; Correct, except that ||T-J|| would mean you divide by the dimension. The<br/>&gt; usual proceedure is not to do this and to multiply the result by 1200 to get<br/>&gt; a result in cents.</p><p>What do you mean by divide by the dimension here?</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/3/2012 9:43:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, May 3, 2012 at 12:28 PM, Graham Breed &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; It could also be ||J^W||/||W||/||J|| because ||J|| is a constant.<br/>&gt; This defines the angle between J and W (whatever they are).<br/>&gt;<br/>&gt; Graham</p><p>So that bottom ||J|| is going to equal sqrt(r), where r is the rank of<br/>the JI system you&apos;re starting with, right?</p><p>-Mike</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/3/2012 9:49:17 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 28/04/2012, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; What&apos;s an example of something which is easiest with wedgies?<br/>&gt;<br/>&gt; Putting a multival into the canonical form of a wedgie is much easier than<br/>&gt; putting a mapping matrix into the canonical form of Hermite normal form. I&apos;m<br/>&gt; not even sure how I would do all the stuff I recently did with Fokker blocks<br/>&gt; not using wedgies, though I am sure there is a way. Defining TE complexity,<br/>&gt; TE relative error/simple badness, TE error, TE badness is easier and makes<br/>&gt; more sense with wedgies, and I&apos;m not sure how you even do the TOP analogs<br/>&gt; Paul likes without wedgies. You can use tuning maps or Frobenius stuff for<br/>&gt; testing if a monzo or val is associated to a temperament or not, etc, but I<br/>&gt; find wedgies easiest myself. This is all off the top of my head. The point<br/>&gt; is, you can pretty much do everything with tuning maps or Frobenius<br/>&gt; projection matricies also, if you prefer, but wedgies are nice for some<br/>&gt; things.</p><p>Finding Hermite normal form may be NP, I&apos;m not sure.  Wedgies are<br/>polynomial.  But the wedgie is bigger.  You could take the independent<br/>elements of the wedgie but you can define the same things using matrix<br/>operations.  It&apos;s the reduced row echelon form multiplied through by<br/>common factors.</p><p>TE complexity is dead simple with matrices.  It&apos;s an absolute<br/>determinant.  The relative error is an orthogonalization.  It is<br/>simpler with wedgies because orthogonalization is what the wedge<br/>product does.  Matrices allow it to be generalized to give Cangwu<br/>badness.  I can&apos;t get that to work with pure wedgies.</p><p>TE error is relative error/complexity whatever the formalism.</p><p>There are some minimax complexity measures that need wedgies to go<br/>beyond rank 2.  They seem to work but I don&apos;t know the theory behind<br/>the geometry to make them do so.  Maybe they&apos;d also work using reduced<br/>row echelon form multiplied by the GCD of the lowest common<br/>denominators -- so it isn&apos;t a wedgie unless you call it a wedgie.</p><p>Detecting rank 2 contorsion is easier using the simple function to<br/>generate the wedgie.  Finding a contorsion free basis requires<br/>matrices, and currently I use hermite normal form, so that earns its<br/>keep.  In terms of simplicity of code there are cases where I need<br/>matrices (including HNF and the inverse) but no cases where I need<br/>wedgies, so there&apos;s no need to implement the latter.  Outside TE (or<br/>some kind of Euclidean) you may need wedgies because we don&apos;t have any<br/>better ideas.  If you want to work with only wedgies you can go a long<br/>way.  It should be possible to replace any matrix formula with<br/>exterior algebra.  I think there&apos;s a theorem that says so.</p><p>                  Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/3/2012 9:53:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 04/05/2012, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; On Thu, May 3, 2012 at 12:28 PM, Graham Breed &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; It could also be ||J^W||/||W||/||J|| because ||J|| is a constant.<br/>&gt;&gt; This defines the angle between J and W (whatever they are).<br/>&gt;&gt;<br/>&gt;&gt; Graham<br/>&gt;<br/>&gt; So that bottom ||J|| is going to equal sqrt(r), where r is the rank of<br/>&gt; the JI system you&apos;re starting with, right?</p><p>Yes, if you define W and J to be dimensionless.  The formula is such<br/>that they could be in cents/octave and the units cancel out.</p><p>                      Graham</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/4/2012 12:40:19 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>First paragraph has me stumped</p><p>On Thu, May 3, 2012 at 12:49 PM, Graham Breed &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; Finding Hermite normal form may be NP, I&apos;m not sure. Wedgies are<br/>&gt; polynomial.</p><p>Do you mean factorial? It seems like they&apos;d be in O(N!) or something.</p><p>&gt; But the wedgie is bigger.</p><p>In what sense is a wedgie bigger? A 5-limit rank-2 matrix in rref form<br/>has 6 coefficients, but a 5-limit rank-2 wedgie has 3.</p><p>&gt; You could take the independent<br/>&gt; elements of the wedgie but you can define the same things using matrix<br/>&gt; operations. It&apos;s the reduced row echelon form multiplied through by<br/>&gt; common factors.</p><p>What is rref multiplied by common factors? Hermite form?</p><p>&gt; TE complexity is dead simple with matrices. It&apos;s an absolute<br/>&gt; determinant. The relative error is an orthogonalization. It is<br/>&gt; simpler with wedgies because orthogonalization is what the wedge<br/>&gt; product does. Matrices allow it to be generalized to give Cangwu<br/>&gt; badness. I can&apos;t get that to work with pure wedgies.</p><p>What do you mean by &quot;relative error?&quot; Right below this you say</p><p>&gt; TE error is relative error/complexity whatever the formalism.</p><p>So &quot;relative error&quot; is TE complexity * TE error, which I note is &quot;TE<br/>simple badness&quot; on the wiki. Did you call this something else in<br/>primerr.pdf?</p><p>&gt; There are some minimax complexity measures that need wedgies to go<br/>&gt; beyond rank 2. They seem to work but I don&apos;t know the theory behind<br/>&gt; the geometry to make them do so. Maybe they&apos;d also work using reduced<br/>&gt; row echelon form multiplied by the GCD of the lowest common<br/>&gt; denominators -- so it isn&apos;t a wedgie unless you call it a wedgie.</p><p>Yeah, I still don&apos;t get this thing about rref form. I was just talking<br/>about this to Keenan the other day, because I was trying to come up<br/>with an easier alternative to Hermite form that people could end up<br/>doing. We couldn&apos;t get to something like Hermite form by just<br/>multiplying the rref form by the lowest common denominator of the<br/>entries of the rref matrix. Sometimes we&apos;d get a lattice that wasn&apos;t<br/>saturated, for instance.</p><p>-Mike</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/7/2012 4:23:45 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; First paragraph has me stumped<br/>&gt;<br/>&gt; On Thu, May 3, 2012 at 12:49 PM, Graham Breed<br/>&gt; &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Finding Hermite normal form may be NP, I&apos;m not sure.<br/>&gt; &gt; Wedgies are polynomial.<br/>&gt;<br/>&gt; Do you mean factorial? It seems like they&apos;d be in O(N!)<br/>&gt; or something.</p><p>They may well be.  I don&apos;t know.  What I mean is<br/>nondeterministic polynomial time: it should be possible to<br/>verify that a matrix is in HNF in polynomial time, but it&apos;s<br/>harder to reduce an arbitrary matrix to</p><p>&gt; &gt; But the wedgie is bigger.<br/>&gt;<br/>&gt; In what sense is a wedgie bigger? A 5-limit rank-2 matrix<br/>&gt; in rref form has 6 coefficients, but a 5-limit rank-2<br/>&gt; wedgie has 3.</p><p>It&apos;s bigger for most cases we&apos;re interested in, including<br/>the ones where it&apos;s big enough to be worth worrying about.</p><p>The matrix in RREF has 6 coefficients, of which one is<br/>guaranteed to be 1 and, depending on the position of the<br/>first 1 in the next row, two other coefficients are<br/>guaranteed to be zero.  That gives three independent<br/>coefficients to match the wedgie.  They could be given as<br/>rationals with one coefficient defined as 1, or as integers<br/>by multiplying through by the lowest common denominator.</p><p>The HNF will be bigger.  Generally only one coefficient<br/>is defined to be zero for rank 2, so two wasted<br/>coefficients. The rule for rank 2 is:</p><p>HNF: 2n - 1 coefficients<br/>Wedgie: (n**2 - n)/2 coefficients</p><p>for n primes.  Where n=3, yes, there are 5 for the HNF and<br/>only 3 for the wedgie.  For n=4, 7-limit, there are 7 for<br/>the HNF and 6 for the wedgie.  For n=7, the 17-limit, there<br/>are 13 for HNF and 78 for the wedgie.</p><p>&gt; &gt; You could take the independent<br/>&gt; &gt; elements of the wedgie but you can define the same<br/>&gt; &gt; things using matrix operations. It&apos;s the reduced row<br/>&gt; &gt; echelon form multiplied through by common factors.<br/>&gt;<br/>&gt; What is rref multiplied by common factors? Hermite form?</p><p>No, hermite form is guaranteed to preserve contorsion.<br/>RREF ignores it.  RREF is defined such that certain entries<br/>are 1 and others are 0.  Other entries are rational.  If<br/>you multiply through by their lowest common denominator,<br/>you get something very like the wedgie.  It&apos;s simpler than<br/>the HNF because you know that certain entries are zero and<br/>so can be thrown away.</p><p>&gt; &gt; TE complexity is dead simple with matrices. It&apos;s an<br/>&gt; &gt; absolute determinant. The relative error is an<br/>&gt; &gt; orthogonalization. It is simpler with wedgies because<br/>&gt; &gt; orthogonalization is what the wedge product does.<br/>&gt; &gt; Matrices allow it to be generalized to give Cangwu<br/>&gt; &gt; badness. I can&apos;t get that to work with pure wedgies.<br/>&gt;<br/>&gt; What do you mean by &quot;relative error?&quot; Right below this<br/>&gt; you say<br/>&gt;<br/>&gt; &gt; TE error is relative error/complexity whatever the<br/>&gt; &gt; formalism.<br/>&gt;<br/>&gt; So &quot;relative error&quot; is TE complexity * TE error, which I<br/>&gt; note is &quot;TE simple badness&quot; on the wiki. Did you call<br/>&gt; this something else in primerr.pdf?</p><p>Yes.  I called it simple badness before.</p><p>&gt; &gt; There are some minimax complexity measures that need<br/>&gt; &gt; wedgies to go beyond rank 2. They seem to work but I<br/>&gt; &gt; don&apos;t know the theory behind the geometry to make them<br/>&gt; &gt; do so. Maybe they&apos;d also work using reduced row echelon<br/>&gt; &gt; form multiplied by the GCD of the lowest common<br/>&gt; &gt; denominators -- so it isn&apos;t a wedgie unless you call it<br/>&gt; &gt; a wedgie.<br/>&gt;<br/>&gt; Yeah, I still don&apos;t get this thing about rref form. I was<br/>&gt; just talking about this to Keenan the other day, because<br/>&gt; I was trying to come up with an easier alternative to<br/>&gt; Hermite form that people could end up doing. We couldn&apos;t<br/>&gt; get to something like Hermite form by just multiplying<br/>&gt; the rref form by the lowest common denominator of the<br/>&gt; entries of the rref matrix. Sometimes we&apos;d get a lattice<br/>&gt; that wasn&apos;t saturated, for instance.</p><p>That&apos;s right.  It has the same expressiveness as the<br/>wedgie, but with the minimal number of coefficients.</p><p>You can probably take a subset of the wedgie as well.  I<br/>don&apos;t know how that works for ranks beyond 2.</p><p>                           Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/7/2012 4:29:54 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; First paragraph has me stumped<br/>&gt;<br/>&gt; On Thu, May 3, 2012 at 12:49 PM, Graham Breed<br/>&gt; &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Finding Hermite normal form may be NP, I&apos;m not sure.<br/>&gt; &gt; Wedgies are polynomial.<br/>&gt;<br/>&gt; Do you mean factorial? It seems like they&apos;d be in O(N!)<br/>&gt; or something.</p><p>Oh, you mean wedgies O(N!)?  I think it&apos;s O(n**r) for n<br/>primes and rank r.</p><p>                     Graham</p></div>