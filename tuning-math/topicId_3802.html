<a href="/tuning-math">back to list</a><h1>Hermite normal form</h1><h3>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>3/24/2002 3:41:30 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The normal form I mentioned, which &quot;fixed&quot; my first try, turns out on reflection to be simply Hermite normal form. Hence, no special wedge products are required--one could, for instance, start with columns which are et maps. I propose therefore that we standardize the mapping to be the (column) Hermite normal form, and the generators to be the generators (in order) that this gives us.</p></div><h3>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>3/24/2002 4:27:12 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; The normal form I mentioned, which &quot;fixed&quot; my first try, turns out<br/>on reflection to be simply Hermite normal form. Hence, no special<br/>wedge products are required--one could, for instance, start with<br/>columns which are et maps. I propose therefore that we standardize the<br/>mapping to be the (column) Hermite normal form, and the generators to<br/>be the generators (in order) that this gives us.<br/>&gt;</p><p>I&apos;m not familiar with this, and Mathworld was no help to me (again).<br/><a href="http://mathworld.wolfram.com/HermiteNormalForm.html">http://mathworld.wolfram.com/HermiteNormalForm.html</a><br/>It doesn&apos;t give me any clue as to what the HNF matrix looks like<br/>(except that it has a determinant of +-1) or how to compute it.</p><p>Would you be so kind as to give as examples, the HNF matrices and<br/>consequent generators for Meantone, Diaschismic and Augmented, as<br/>5-limit linear temperaments, Twin meantone and Half meantone fifth<br/>as degenerate 5-limit whatevers, and Starling as the 7-limit planar<br/>temperament where the 125:126 vanishes?</p></div><h3>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>3/24/2002 8:22:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;dkeenanuqnetau&quot; &lt;d.keenan@u...&gt; wrote:</p><p>&gt; Would you be so kind as to give as examples, the HNF matrices and<br/>&gt; consequent generators for Meantone, Diaschismic and Augmented, as<br/>&gt; 5-limit linear temperaments, Twin meantone and Half meantone fifth<br/>&gt; as degenerate 5-limit whatevers, and Starling as the 7-limit planar<br/>&gt; temperament where the 125:126 vanishes?</p><p>Do you want this if half-fourth doesn&apos;t work? Hermite form seems to<br/>allow twin meantone and schismic, and half-fifth meantome and schismic, but not the half-fourth versions.</p></div><h3>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>3/25/2002 1:34:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:</p><p>&gt; Do you want this if half-fourth doesn&apos;t work? Hermite form seems to<br/>&gt; allow twin meantone and schismic, and half-fifth meantome and<br/>&gt;schismic, but not the half-fourth versions.</p><p>that seems bizarre. is there an intuitive explanation of why this<br/>should be the case?</p></div><h3>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>3/24/2002 9:48:12 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;dkeenanuqnetau&quot; &lt;d.keenan@u...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Would you be so kind as to give as examples, the HNF matrices and<br/>&gt; &gt; consequent generators for Meantone, Diaschismic and Augmented, as<br/>&gt; &gt; 5-limit linear temperaments, Twin meantone and Half meantone fifth<br/>&gt; &gt; as degenerate 5-limit whatevers, and Starling as the 7-limit<br/>planar<br/>&gt; &gt; temperament where the 125:126 vanishes?<br/>&gt;<br/>&gt; Do you want this if half-fourth doesn&apos;t work? Hermite form seems to<br/>&gt; allow twin meantone and schismic, and half-fifth meantome and<br/>schismic, but not the half-fourth versions.</p><p>That&apos;s odd, but I&apos;m still interested in seeing the others.</p></div><h3>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>3/29/2002 12:18:40 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:</p><p>&gt; &gt; Do you want this if half-fourth doesn&apos;t work? Hermite form seems to<br/>&gt; &gt; allow twin meantone and schismic, and half-fifth meantome and<br/>&gt; &gt;schismic, but not the half-fourth versions.</p><p>&gt; that seems bizarre. is there an intuitive explanation of why this<br/>&gt; should be the case?</p><p>It leads off with positive elements in each column.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/10/2012 1:14:13 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;d like to implement the Hermite normal form in Scheme.<br/>Googling didn&apos;t produce code for it in any language, and<br/>most definitions apply only to square matrices.  Gene&apos;s<br/>Maple on the wiki only calls a built-in function.</p><p>I&apos;m not going to be putting the movie-watching habits of<br/>30 million Americans into a matrix, so I don&apos;t care if<br/>the method is the most efficient.  But it does have to<br/>work with rectangular matrices.</p><p>Any links or ideas?</p><p>-Carl</p></div><h3>gbreed@gmail.com</h3><span>1/10/2012 1:37:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;ve got code in Python, as ever.<br/>If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row space you do all operations consistently for full rows. When a column ends up with zeros in the significant positions, skip it.</p><p>        Graham</p><p>------Original message------<br/>From: Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Tuesday, January 10, 2012 1:14:13 PM GMT-0800<br/>Subject: [tuning-math] Hermite normal form</p><p>I&apos;d like to implement the Hermite normal form in Scheme.<br/>Googling didn&apos;t produce code for it in any language, and<br/>most definitions apply only to square matrices.  Gene&apos;s<br/>Maple on the wiki only calls a built-in function.</p><p>I&apos;m not going to be putting the movie-watching habits of<br/>30 million Americans into a matrix, so I don&apos;t care if<br/>the method is the most efficient.  But it does have to<br/>work with rectangular matrices.</p><p>Any links or ideas?</p><p>-Carl</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/10/2012 1:46:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 01:37 PM 1/10/2012, you wrote:<br/>&gt;Content-Transfer-Encoding: 7bit<br/>&gt;<br/>&gt;I&apos;ve got code in Python, as ever.</p><p>Can you point me to the relevant function?  I assumed you<br/>were using a pari built-in.</p><p>&gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt;space you do all operations consistently for full rows. When a column<br/>&gt;ends up with zeros in the significant positions, skip it.</p><p>Sorry, lost me here, can you give an example?  Or I guess I<br/>could just trust the function you point me to.</p><p>-Carl</p></div><h3>gbreed@gmail.com</h3><span>1/10/2012 1:53:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>regutils.lattice_reduction<br/>This screen&apos;s too small for examples</p><p>        Graham</p><p>------Original message------<br/>From: Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Tuesday, January 10, 2012 1:46:18 PM GMT-0800<br/>Subject: Re: [tuning-math] Hermite normal form</p><p>At 01:37 PM 1/10/2012, you wrote:<br/>&gt;Content-Transfer-Encoding: 7bit<br/>&gt;<br/>&gt;I&apos;ve got code in Python, as ever.</p><p>Can you point me to the relevant function?  I assumed you<br/>were using a pari built-in.</p><p>&gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt;space you do all operations consistently for full rows. When a column<br/>&gt;ends up with zeros in the significant positions, skip it.</p><p>Sorry, lost me here, can you give an example?  Or I guess I<br/>could just trust the function you point me to.</p><p>-Carl</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/10/2012 1:53:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Tue, Jan 10, 2012 at 4:46 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; &gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt; &gt;space you do all operations consistently for full rows. When a column<br/>&gt; &gt;ends up with zeros in the significant positions, skip it.<br/>&gt;<br/>&gt; Sorry, lost me here, can you give an example? Or I guess I<br/>&gt; could just trust the function you point me to.<br/>&gt;<br/>&gt; -Carl</p><p>I think Graham meant &quot;column&quot; instead of &quot;row&quot; above...?</p><p>I think he&apos;s saying that a temperament is defined as the row space of<br/>a mapping matrix: the space of all vectors that you get by adding<br/>linear combinations of the rows. So if your matrix is |&lt;7 11 16| &lt;12<br/>19 28|&gt;, then 19p and 31p are going to be in the row space of that<br/>matrix, because you can get to them by adding combinations of rows<br/>together. And &lt;1 1 0| and &lt;0 1 4| will also be in the row space too.<br/>So will &lt;0.5 0.5 0|.</p><p>For rank 2, this is exactly the same thing as a plane that goes<br/>through the origin, which is what Grassmannians are supposed to<br/>represent. So if you just add a bunch of zero vals at the bottom of<br/>the matrix to make it square, you end up getting the same row space<br/>and hence the same temperament.</p><p>tl;dr, throw some zero vals on the bottom and make it square and then<br/>take them off at the end.</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/10/2012 1:58:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Tue, Jan 10, 2012 at 4:46 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; &gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt; &gt;space you do all operations consistently for full rows. When a column<br/>&gt; &gt;ends up with zeros in the significant positions, skip it.<br/>&gt;<br/>&gt; Sorry, lost me here, can you give an example? Or I guess I<br/>&gt; could just trust the function you point me to.<br/>&gt;<br/>&gt; -Carl</p><p>Also, despite that this causes problems with contorsion, I really<br/>don&apos;t like think of it as row spaces, but as row lattices. Or, more<br/>intuitively, periodicity blocks in val space. &lt;7 11 16| and &lt;12 19 28|<br/>are like &quot;unison vectors&quot; in this dual space or something, and all of<br/>the stuff you know about Fokker blocks applies. If &lt;7 11 16| and &lt;12<br/>19 28| are &quot;unison vectors,&quot; then &lt;1 1 0| and &lt;0 1 4| are also &quot;unison<br/>vectors&quot; in the same lattice. &lt;0 0 0| is hence also a unison vector.<br/>So if you have a Hermite reduction subroutine that requires you to<br/>have a square matrix, just throw &lt;0 0 0|, which will have the same<br/>effect as adding 1/1 to a list of unison vectors.</p><p>That&apos;s part of the reason why I was talking about formalizing this &amp;<br/>operation a while ago, or the # operation or whatever, and doing it in<br/>a way so that you can talk about 81/80 &amp; 25/24 just like you can talk<br/>about 7p &amp; 12p. It&apos;s the same basic operation for both, and it would<br/>be nice to axiomatize it so people like Ryan Avella can work out some<br/>basic stuff using some basic algebraic rules on the back of a cocktail<br/>napkin, should inspiration so strike.</p><p>-Mike</p></div><h3>gbreed@gmail.com</h3><span>1/10/2012 2:25:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Oh, sure, you could do that. But it isn&apos;t what I meant.</p><p>        Graham</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Tuesday, January 10, 2012 4:53:37 PM GMT-0500<br/>Subject: Re: [tuning-math] Hermite normal form</p><p>On Tue, Jan 10, 2012 at 4:46 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; &gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt; &gt;space you do all operations consistently for full rows. When a column<br/>&gt; &gt;ends up with zeros in the significant positions, skip it.<br/>&gt;<br/>&gt; Sorry, lost me here, can you give an example? Or I guess I<br/>&gt; could just trust the function you point me to.<br/>&gt;<br/>&gt; -Carl</p><p>I think Graham meant &quot;column&quot; instead of &quot;row&quot; above...?</p><p>I think he&apos;s saying that a temperament is defined as the row space of<br/>a mapping matrix: the space of all vectors that you get by adding<br/>linear combinations of the rows. So if your matrix is |&lt;7 11 16| &lt;12<br/>19 28|&gt;, then 19p and 31p are going to be in the row space of that<br/>matrix, because you can get to them by adding combinations of rows<br/>together. And &lt;1 1 0| and &lt;0 1 4| will also be in the row space too.<br/>So will &lt;0.5 0.5 0|.</p><p>For rank 2, this is exactly the same thing as a plane that goes<br/>through the origin, which is what Grassmannians are supposed to<br/>represent. So if you just add a bunch of zero vals at the bottom of<br/>the matrix to make it square, you end up getting the same row space<br/>and hence the same temperament.</p><p>tl;dr, throw some zero vals on the bottom and make it square and then<br/>take them off at the end.</p><p>-Mike</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/10/2012 2:39:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I don&apos;t find the string &quot;hermite&quot; in <a href="http://regutils.py">regutils.py</a>.<br/>I see a lattice_reduction function, but it says it&apos;s<br/>for reduced echelon form.  Am I looking in the wrong<br/>place?  I&apos;m hoping for something applicable to normal<br/>interval lists.</p><p>-Carl</p><p>At 01:53 PM 1/10/2012, you wrote:<br/>&gt;Content-Transfer-Encoding: 7bit<br/>&gt;<br/>&gt;regutils.lattice_reduction<br/>&gt;This screen&apos;s too small for examples<br/>&gt;<br/>&gt;<br/>&gt;        Graham<br/>&gt;<br/>&gt;------Original message------<br/>&gt;From: Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt;<br/>&gt;To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>&gt;Date: Tuesday, January 10, 2012 1:46:18 PM GMT-0800<br/>&gt;Subject: Re: [tuning-math] Hermite normal form<br/>&gt;<br/>&gt;At 01:37 PM 1/10/2012, you wrote:<br/>&gt;&gt;Content-Transfer-Encoding: 7bit<br/>&gt;&gt;<br/>&gt;&gt;I&apos;ve got code in Python, as ever.<br/>&gt;<br/>&gt;Can you point me to the relevant function?  I assumed you<br/>&gt;were using a pari built-in.<br/>&gt;<br/>&gt;&gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt;&gt;space you do all operations consistently for full rows. When a column<br/>&gt;&gt;ends up with zeros in the significant positions, skip it.<br/>&gt;<br/>&gt;Sorry, lost me here, can you give an example?  Or I guess I<br/>&gt;could just trust the function you point me to.<br/>&gt;<br/>&gt;-Carl<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;------------------------------------<br/>&gt;<br/>&gt;Yahoo! Groups Links<br/>&gt;</p></div><h3>gbreed@gmail.com</h3><span>1/10/2012 2:56:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>That&apos;s the one. I didn&apos;t understand the definitions of Hermite normal form but it turns out I implemented it anyway.</p><p>        Graham</p><p>------Original message------<br/>From: Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Tuesday, January 10, 2012 2:39:31 PM GMT-0800<br/>Subject: Re: Re: [tuning-math] Hermite normal form</p><p>I don&apos;t find the string &quot;hermite&quot; in <a href="http://regutils.py">regutils.py</a>.<br/>I see a lattice_reduction function, but it says it&apos;s<br/>for reduced echelon form.  Am I looking in the wrong<br/>place?  I&apos;m hoping for something applicable to normal<br/>interval lists.</p><p>-Carl</p><p>At 01:53 PM 1/10/2012, you wrote:<br/>&gt;Content-Transfer-Encoding: 7bit<br/>&gt;<br/>&gt;regutils.lattice_reduction<br/>&gt;This screen&apos;s too small for examples<br/>&gt;<br/>&gt;<br/>&gt;        Graham<br/>&gt;<br/>&gt;------Original message------<br/>&gt;From: Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt;<br/>&gt;To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>&gt;Date: Tuesday, January 10, 2012 1:46:18 PM GMT-0800<br/>&gt;Subject: Re: [tuning-math] Hermite normal form<br/>&gt;<br/>&gt;At 01:37 PM 1/10/2012, you wrote:<br/>&gt;&gt;Content-Transfer-Encoding: 7bit<br/>&gt;&gt;<br/>&gt;&gt;I&apos;ve got code in Python, as ever.<br/>&gt;<br/>&gt;Can you point me to the relevant function?  I assumed you<br/>&gt;were using a pari built-in.<br/>&gt;<br/>&gt;&gt;If you have code for square matrices that&apos;s fine. Assuming it&apos;s a row<br/>&gt;&gt;space you do all operations consistently for full rows. When a column<br/>&gt;&gt;ends up with zeros in the significant positions, skip it.<br/>&gt;<br/>&gt;Sorry, lost me here, can you give an example?  Or I guess I<br/>&gt;could just trust the function you point me to.<br/>&gt;<br/>&gt;-Carl<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;------------------------------------<br/>&gt;<br/>&gt;Yahoo! Groups Links<br/>&gt;</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div>