<a href="/tuning-math">back to list</a><h1>MOS Generalization</h1><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/16/2010 1:52:21 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>This is going to be a quick message on the problems of generalizing<br/>MOS scales to higher ranks.  The problems seem to be hairy enough that<br/>it could turn into quite a long message.</p><p>I know there&apos;s talk of Erv Wilson thinking of MOS as not being limited<br/>to rank 2, and there are papers from the maximal/distributional<br/>evenness school on higher rank definitions, and there are discussions<br/>in the archives.  But I&apos;m ignorant of the contents of these, because<br/>it&apos;s not a subject I planned to be an expert on.  So if there&apos;s any<br/>useful existing research, anybody who knows about it can bring it up<br/>here.</p><p>The basic idea is that a rank 2 MOS has 2 step sizes roughly evenly<br/>distributed.  So the generalization to rank R should have R distinct<br/>step sizes.  Probably the Rothenberg matrix should give at most R<br/>distinct sizes of all interval classes.</p><p>The simple solution is to define the structure by rotations of<br/>maximally even scales.  The code I have now sometimes gives 4 step<br/>sizes for a rank 3 temperament.  Maybe that&apos;s because I&apos;m not<br/>searching exhaustively enough -- I can try tinkering with the code.<br/>But there&apos;s also a problem (see my recent message on another list)<br/>that even if you get the right number of steps, they might not be the<br/>sizes you were looking for.</p><p>My definition of maximally even n from d is floor(d*i/n) steps for the<br/>ith note.  Or maybe the other way up.</p><p>There are, though, different ways of defining a 46 note portent scale.<br/> It could be 5&amp;15&amp;26 or 5&amp;10&amp;31.  I haven&apos;t checked that the latter<br/>doesn&apos;t have contorsion, though.  But I don&apos;t think we&apos;re going to get<br/>a unique scale type beyond rank 2.</p><p>The rule for avoiding contorsion should be that the transformation<br/>from a known correct basis is a matrix with a determinant of 1.  I<br/>believe that makes it unimodular.  The determinant could be -1, but<br/>you can reorder the basis to avoid this.</p><p>Let&apos;s say you have a basis X.  To describe the steps of an n note<br/>scale, you need to find a new basis Y such that Y = AX where A is this<br/>unimodular matrix.  Every element of Y (or the first column or<br/>whatever) should be positive for sanity.  And (the first column of) Y<br/>should sum to give n.  Also, A only contains integers.  So these are<br/>the constraints we have to comply with.  I can probably hack up a<br/>solution for rank 3.  But for general rank I can&apos;t think of anything<br/>better than searching through all possible integer, unimodular A.  And<br/>I don&apos;t know how to do that but it&apos;s probably a solved problem.  It<br/>has the nasty smell of being NP-complete, in that it&apos;s easy to check a<br/>solution, but harder to find it, and it gets dramatically harder with<br/>higher ranks.</p><p>The other problem is finding a good scale with the R different step<br/>sizes.  This is complicated by me not knowing what such a scale should<br/>look like.  It would be nice if three different maximally even scales<br/>could be rotated so that they don&apos;t intersect.  That is, in the<br/>example, that 46 from 5, 46 from 15, and 46 from 26 can be rotated so<br/>that each step corresponds to a 1 in exactly one of the scales, each<br/>of which will have step sizes of 0 or 1 degrees of the smaller scales.<br/> I don&apos;t know if this is possible or not.</p><p>For an estimate of the complexity, the rotation of the first scale can<br/>be ignored.  There are n ways of rotating the second scale (for n<br/>notes to the octave) and n for the next scale, and so on.  This gives<br/>n^(r-1) (n to the power r minus one) rotations for rank r.  Some can<br/>be discarded because they already have too many step sizes, or two 1&apos;s<br/>clash, or whatever.  But it&apos;s looking worryingly like exponential<br/>complexity in r, which would be another NP-complete problem.</p><p>                     Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/16/2010 10:22:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; The rule for avoiding contorsion should be that the transformation<br/>&gt; from a known correct basis is a matrix with a determinant of 1.  I<br/>&gt; believe that makes it unimodular.  The determinant could be -1, but<br/>&gt; you can reorder the basis to avoid this.</p><p>More or less, but you have to note that the matrix is integral, that is, the coefficients are integers. A unimodular matrix is a square integral matrix with determinant +-1.</p><p>&gt; Let&apos;s say you have a basis X.  To describe the steps of an n note<br/>&gt; scale, you need to find a new basis Y such that Y = AX where A is this<br/>&gt; unimodular matrix.  Every element of Y (or the first column or<br/>&gt; whatever) should be positive for sanity.  And (the first column of) Y<br/>&gt; should sum to give n.  Also, A only contains integers.  So these are<br/>&gt; the constraints we have to comply with.  I can probably hack up a<br/>&gt; solution for rank 3.  But for general rank I can&apos;t think of anything<br/>&gt; better than searching through all possible integer, unimodular A.</p><p>I&apos;m pretty sure you can do better. My usual approach is to start from a basis for the commas of the temperament, rather than the vals, and to assume that the commas shouldn&apos;t be too unreasonable. To go further with this problem it needs to be specified precisely what the problem is.</p><p>&gt; But it&apos;s looking worryingly like exponential<br/>&gt; complexity in r, which would be another NP-complete problem.</p><p>Could be. Did you brute-force the 26-15-5 example and find no solutions with three step sizes?</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/17/2010 12:48:23 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 16 October 2010 21:22, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; More or less, but you have to note that the matrix is integral, that is, the coefficients are integers. A unimodular matrix is a square integral matrix with determinant +-1.</p><p>Unimodular is what we want, then.</p><p>&gt;&gt; Let&apos;s say you have a basis X. &nbsp;To describe the steps of an n note<br/>&gt;&gt; scale, you need to find a new basis Y such that Y = AX where A is this<br/>&gt;&gt; unimodular matrix. &nbsp;Every element of Y (or the first column or<br/>&gt;&gt; whatever) should be positive for sanity. &nbsp;And (the first column of) Y<br/>&gt;&gt; should sum to give n. &nbsp;Also, A only contains integers. &nbsp;So these are<br/>&gt;&gt; the constraints we have to comply with. &nbsp;I can probably hack up a<br/>&gt;&gt; solution for rank 3. &nbsp;But for general rank I can&apos;t think of anything<br/>&gt;&gt; better than searching through all possible integer, unimodular A.<br/>&gt;<br/>&gt; I&apos;m pretty sure you can do better. My usual approach is to start from a basis for the commas of the temperament, rather than the vals, and to assume that the commas shouldn&apos;t be too unreasonable. To go further with this problem it needs to be specified precisely what the problem is.</p><p>I defined the problem precisely in that paragraph you quoted.</p><p>&gt;&gt; But it&apos;s looking worryingly like exponential<br/>&gt;&gt; complexity in r, which would be another NP-complete problem.<br/>&gt;<br/>&gt; Could be. Did you brute-force the 26-15-5 example and find no solutions with three step sizes?</p><p>Brute forcing 26&amp;15&amp;5 works once I know I want 26&amp;15&amp;5.  Looking for<br/>three step sizes gives the wrong step sizes.  You have to look for two<br/>non-overlapping maximally even scales and ignore 26.  (I haven&apos;t<br/>checked if any of the implied 46 from 26 scales are maximally even.)<br/>But brute force looks like an exponential time solution.  Not that it<br/>matters that much because the problems aren&apos;t going to get that big.</p><p>Brute forcing 31&amp;46&amp;72 for a 3 step-size scale doesn&apos;t work.  So you<br/>need to know you&apos;re looking for 26&amp;15&amp;5.  Finding that with brute<br/>force will surely work but so far I don&apos;t even have a brute force<br/>algorithm.  (I found it with pencil and paper.)  I need a recipe for<br/>producing unimodular matrices.  For rank 3, a list of known matrices<br/>will do.</p><p>                    Graham</p></div><h3>robert &#x3C;robertthomasmartin@yahoo.com&#x3E;</h3><span>10/17/2010 2:02:49 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>See Jan Haluska&apos;s Research Papers which might help ???<br/><a href="http://fpv.utc.sk/~jhaluska/haluska/haluskaPUB.html">http://fpv.utc.sk/~jhaluska/haluska/haluskaPUB.html</a></p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; On 16 October 2010 21:22, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; More or less, but you have to note that the matrix is integral, that is, the coefficients are integers. A unimodular matrix is a square integral matrix with determinant +-1.<br/>&gt;<br/>&gt; Unimodular is what we want, then.<br/>&gt;<br/>&gt; &gt;&gt; Let&apos;s say you have a basis X. &Acirc;&nbsp;To describe the steps of an n note<br/>&gt; &gt;&gt; scale, you need to find a new basis Y such that Y = AX where A is this<br/>&gt; &gt;&gt; unimodular matrix. &Acirc;&nbsp;Every element of Y (or the first column or<br/>&gt; &gt;&gt; whatever) should be positive for sanity. &Acirc;&nbsp;And (the first column of) Y<br/>&gt; &gt;&gt; should sum to give n. &Acirc;&nbsp;Also, A only contains integers. &Acirc;&nbsp;So these are<br/>&gt; &gt;&gt; the constraints we have to comply with. &Acirc;&nbsp;I can probably hack up a<br/>&gt; &gt;&gt; solution for rank 3. &Acirc;&nbsp;But for general rank I can&apos;t think of anything<br/>&gt; &gt;&gt; better than searching through all possible integer, unimodular A.<br/>&gt; &gt;<br/>&gt; &gt; I&apos;m pretty sure you can do better. My usual approach is to start from a basis for the commas of the temperament, rather than the vals, and to assume that the commas shouldn&apos;t be too unreasonable. To go further with this problem it needs to be specified precisely what the problem is.<br/>&gt;<br/>&gt; I defined the problem precisely in that paragraph you quoted.<br/>&gt;<br/>&gt; &gt;&gt; But it&apos;s looking worryingly like exponential<br/>&gt; &gt;&gt; complexity in r, which would be another NP-complete problem.<br/>&gt; &gt;<br/>&gt; &gt; Could be. Did you brute-force the 26-15-5 example and find no solutions with three step sizes?<br/>&gt;<br/>&gt; Brute forcing 26&amp;15&amp;5 works once I know I want 26&amp;15&amp;5.  Looking for<br/>&gt; three step sizes gives the wrong step sizes.  You have to look for two<br/>&gt; non-overlapping maximally even scales and ignore 26.  (I haven&apos;t<br/>&gt; checked if any of the implied 46 from 26 scales are maximally even.)<br/>&gt; But brute force looks like an exponential time solution.  Not that it<br/>&gt; matters that much because the problems aren&apos;t going to get that big.<br/>&gt;<br/>&gt; Brute forcing 31&amp;46&amp;72 for a 3 step-size scale doesn&apos;t work.  So you<br/>&gt; need to know you&apos;re looking for 26&amp;15&amp;5.  Finding that with brute<br/>&gt; force will surely work but so far I don&apos;t even have a brute force<br/>&gt; algorithm.  (I found it with pencil and paper.)  I need a recipe for<br/>&gt; producing unimodular matrices.  For rank 3, a list of known matrices<br/>&gt; will do.<br/>&gt;<br/>&gt;<br/>&gt;                     Graham<br/>&gt;</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/17/2010 12:01:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; Brute forcing 31&amp;46&amp;72 for a 3 step-size scale doesn&apos;t work.  So you<br/>&gt; need to know you&apos;re looking for 26&amp;15&amp;5.  Finding that with brute<br/>&gt; force will surely work but so far I don&apos;t even have a brute force<br/>&gt; algorithm.  (I found it with pencil and paper.)  I need a recipe for<br/>&gt; producing unimodular matrices.  For rank 3, a list of known matrices<br/>&gt; will do.</p><p>Unimodular matricies of any dimension n&gt;1 form an infinite group so no such list is possible. What is possible is a set of generators. For 2x2 matrices this is well known, and I presume something could be found for higher dimensions, but apparently just using elementary matrices (identity plus off diagonal 1) won&apos;t do.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/17/2010 12:24:22 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; Unimodular matricies of any dimension n&gt;1 form an infinite group so no such list is possible. What is possible is a set of generators. For 2x2 matrices this is well known, and I presume something could be found for higher dimensions, but apparently just using elementary matrices (identity plus off diagonal 1) won&apos;t do.<br/>&gt;</p><p>I found this reference:</p><p><a href="http://iopscience.iop.org/1468-4802/78/1/A08">http://iopscience.iop.org/1468-4802/78/1/A08</a></p><p>I&apos;ll see if I can get the pdf, but anyone else is welcome to give it a shot.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/17/2010 12:47:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;The basic idea is that a rank 2 MOS has 2 step sizes roughly evenly<br/>&gt;distributed.  So the generalization to rank R should have R distinct<br/>&gt;step sizes.  Probably the Rothenberg matrix should give at most R<br/>&gt;distinct sizes of all interval classes.</p><p>I expect so, and as I&apos;ve pointed out in the past, that takes care<br/>of the arcana surrounding the distribution of the 2nds.  I&apos;ll call<br/>it generalized Myhill&apos;s property (GMP).</p><p>&gt;The code I have now sometimes gives 4 step sizes for a<br/>&gt;rank 3 temperament.</p><p>I don&apos;t see how that can be right.  But I guess you aren&apos;t<br/>saying it is.</p><p>&gt;My definition of maximally even n from d is floor(d*i/n) steps for<br/>&gt;the ith note.  Or maybe the other way up.</p><p>If you really want to deal with 2nds (and that has some appeal),<br/>you should derive the rule that produces GMP.</p><p>&gt;It has the nasty smell of being NP-complete,</p><p>Does it relativize?  I think you mean NP.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/17/2010 12:48:45 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>What is possible is a set of generators. For 2x2 matrices this is well known, and I presume something could be found for higher dimensions, but apparently just using elementary matrices (identity plus off diagonal 1) won&apos;t do.</p><p>I thought I read the above when I googled, but it occurs to me that this is wrong. You can get to any unimodular matrix by elementary operations, so the set of elementary matrices must generate GL(2, Z). That may be overkill, but it&apos;s easily defined.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/17/2010 1:26:29 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Robert wrote:</p><p>&gt;See Jan Haluska&apos;s Research Papers which might help ???<br/>&gt; <a href="http://fpv.utc.sk/~jhaluska/haluska/haluskaPUB.html">http://fpv.utc.sk/~jhaluska/haluska/haluskaPUB.html</a><br/>&gt;</p><p>Great link Robert, thanks.  I can only comment on the English<br/>papers, and not all of them, because I didn&apos;t have time to look<br/>them all deeply.  But I don&apos;t see anything of use for the<br/>problem at hand.  Still, I had never really looked at Haluska&apos;s<br/>stuff and I&apos;m glad I did.  -Carl</p></div><h3>robert &#x3C;robertthomasmartin@yahoo.com&#x3E;</h3><span>10/17/2010 3:46:09 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Ok, here&apos;s something else which may/may not help. Go to:<br/><a href="http://e-collection.ethbib.ethz.ch/">http://e-collection.ethbib.ethz.ch/</a><br/>And insert &quot;algorithms for matrix canonical forms&quot; into the Search box.<br/>If not helpful it could still be useful for other problems.<br/>PDF=6.07MB.</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Robert wrote:<br/>&gt;<br/>&gt; &gt;See Jan Haluska&apos;s Research Papers which might help ???<br/>&gt; &gt; <a href="http://fpv.utc.sk/~jhaluska/haluska/haluskaPUB.html">http://fpv.utc.sk/~jhaluska/haluska/haluskaPUB.html</a><br/>&gt; &gt;<br/>&gt;<br/>&gt; Great link Robert, thanks.  I can only comment on the English<br/>&gt; papers, and not all of them, because I didn&apos;t have time to look<br/>&gt; them all deeply.  But I don&apos;t see anything of use for the<br/>&gt; problem at hand.  Still, I had never really looked at Haluska&apos;s<br/>&gt; stuff and I&apos;m glad I did.  -Carl<br/>&gt;</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/18/2010 2:03:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 17 October 2010 23:47, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt; Graham wrote:<br/>&gt;<br/>&gt;&gt;The basic idea is that a rank 2 MOS has 2 step sizes roughly evenly<br/>&gt;&gt;distributed. &nbsp;So the generalization to rank R should have R distinct<br/>&gt;&gt;step sizes. &nbsp;Probably the Rothenberg matrix should give at most R<br/>&gt;&gt;distinct sizes of all interval classes.<br/>&gt;<br/>&gt; I expect so, and as I&apos;ve pointed out in the past, that takes care<br/>&gt; of the arcana surrounding the distribution of the 2nds. &nbsp;I&apos;ll call<br/>&gt; it generalized Myhill&apos;s property (GMP).</p><p>What I can see working is defining an energy function where like<br/>intervals repel each other, with something like an inverse square law.<br/> Then try swapping intervals as long as the energy decreases.  But<br/>it&apos;s not something I want to look into if somebody already has an<br/>algorithm that&apos;s known to work.</p><p>&gt;&gt;The code I have now sometimes gives 4 step sizes for a<br/>&gt;&gt;rank 3 temperament.<br/>&gt;<br/>&gt; I don&apos;t see how that can be right. &nbsp;But I guess you aren&apos;t<br/>&gt; saying it is.</p><p>The generalization of an MOS should have 3 steps for rank 3.  The code<br/>I have now for overlaying maximally even scales gives 4 step sizes.<br/>That doesn&apos;t mean they&apos;re bad scales (Gene&apos;s hobbits also have 4 step<br/>sizes) but it&apos;s a bad sign.</p><p>&gt;&gt;My definition of maximally even n from d is floor(d*i/n) steps for<br/>&gt;&gt;the ith note. &nbsp;Or maybe the other way up.<br/>&gt;<br/>&gt; If you really want to deal with 2nds (and that has some appeal),<br/>&gt; you should derive the rule that produces GMP.</p><p>Yes, if I knew how to do that.</p><p>&gt;&gt;It has the nasty smell of being NP-complete,<br/>&gt;<br/>&gt; Does it relativize? &nbsp;I think you mean NP.</p><p>Yes, looks like it.</p><p>                              Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/18/2010 2:11:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 17 October 2010 23:01, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; Brute forcing 31&amp;46&amp;72 for a 3 step-size scale doesn&apos;t work. &nbsp;So you<br/>&gt;&gt; need to know you&apos;re looking for 26&amp;15&amp;5. &nbsp;Finding that with brute<br/>&gt;&gt; force will surely work but so far I don&apos;t even have a brute force<br/>&gt;&gt; algorithm. &nbsp;(I found it with pencil and paper.) &nbsp;I need a recipe for<br/>&gt;&gt; producing unimodular matrices. &nbsp;For rank 3, a list of known matrices<br/>&gt;&gt; will do.<br/>&gt;<br/>&gt; Unimodular matricies of any dimension n&gt;1 form an infinite group so no such list is possible. What is possible is a set of generators. For 2x2 matrices this is well known, and I presume something could be found for higher dimensions, but apparently just using elementary matrices (identity plus off diagonal 1) won&apos;t do.</p><p>(Elementary matrices apparently do work according to your later message.)</p><p>The simplest permutations are most likely to be most interesting.  So<br/>I&apos;d expect the algorithm to churn out the simplest matrices first.  I<br/>don&apos;t think defining simplicity of a unimodular matrix should be a<br/>problem -- number of elementary matrices would be one way.</p><p>Also, where we get multiple ways of adding up to 46, we&apos;ll need a rule<br/>to say which ones we prefer.  Taking equal temperaments of minimal<br/>error should work.  I may not want a single solution but I only want<br/>sensible ones.</p><p>When it comes to a standard list, only remember the simple ones.  And<br/>exclude any that would produce the same vals (scales, ETs, whatever)<br/>in a different order.  Most interesting are where the scale is a<br/>division of one of the original vals.</p><p>                        Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/18/2010 2:14:55 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt; What I can see working is defining an energy function where like<br/>&gt; intervals repel each other, with something like an inverse square law.<br/>&gt; &nbsp;Then try swapping intervals as long as the energy decreases. &nbsp;But<br/>&gt; it&apos;s not something I want to look into if somebody already has an<br/>&gt; algorithm that&apos;s known to work.</p><p>Another idea for the energy function is to add up the standard<br/>deviations of the intervals sizes for different diatonic classes.<br/>That is standard deviations of generalized seconds, thirds, and so on<br/>up to half-octaves.  That should give the nearest distribution to an<br/>equal temperament because the standard deviation of equally tempered<br/>intervals is always zero.</p><p>                           Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/18/2010 10:50:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; On 17 October 2010 23:01, genewardsmith &lt;genewardsmith@...&gt; wrote:</p><p>&gt; (Elementary matrices apparently do work according to your later message.)</p><p>Yes, I must have misread what I googled on, as elementary matrices clearly will work for a set of generators. Even so, getting a finite set plus one more generator to work, which apparently is possible for rank up through five, would be nice.</p><p>&gt; The simplest permutations are most likely to be most interesting.  So<br/>&gt; I&apos;d expect the algorithm to churn out the simplest matrices first.  I<br/>&gt; don&apos;t think defining simplicity of a unimodular matrix should be a<br/>&gt; problem -- number of elementary matrices would be one way.</p><p>The trouble with that is that the product giving the matrix is not unique. Why not use a matrix norm?</p><p>&gt; Also, where we get multiple ways of adding up to 46, we&apos;ll need a rule<br/>&gt; to say which ones we prefer.  Taking equal temperaments of minimal<br/>&gt; error should work.  I may not want a single solution but I only want<br/>&gt; sensible ones.</p><p>I still think starting from commas should be considered for that.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/18/2010 10:51:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt; What I can see working is defining an energy function where like<br/>&gt;&gt; intervals repel each other, with something like an inverse square law.<br/>&gt;&gt;  Then try swapping intervals as long as the energy decreases.  But<br/>&gt;&gt; it&apos;s not something I want to look into if somebody already has an<br/>&gt;&gt; algorithm that&apos;s known to work.<br/>&gt;<br/>&gt;Another idea for the energy function is to add up the standard<br/>&gt;deviations of the intervals sizes for different diatonic classes.<br/>&gt;That is standard deviations of generalized seconds, thirds, and so on<br/>&gt;up to half-octaves.  That should give the nearest distribution to an<br/>&gt;equal temperament because the standard deviation of equally tempered<br/>&gt;intervals is always zero.</p><p>That&apos;s a lot more complicated that just testing for GMP.<br/>All the stuff about approximating ETs with the 2nds is very<br/>likely aimed at producing GMP.  Didn&apos;t somebody (you?) prove<br/>one of the flavors is equivalent to GMP for rank 2?</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/19/2010 3:14:13 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 18 October 2010 21:51, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; That&apos;s a lot more complicated that just testing for GMP.<br/>&gt; All the stuff about approximating ETs with the 2nds is very<br/>&gt; likely aimed at producing GMP. &nbsp;Didn&apos;t somebody (you?) prove<br/>&gt; one of the flavors is equivalent to GMP for rank 2?</p><p>GMP (Generalized Myhill&apos;s Property) will give a lot of different<br/>scales with the same value.  It&apos;s easy to find rank 3 scales with 4<br/>step sizes.  It&apos;s much harder to find the scales with 3 step sizes.<br/>Maybe something magic happens with higher ranks, but I&apos;m not sure.<br/>There are probably a lot of scales with a variety of 4.</p><p>The point of the energy minimization is that the energy should go down<br/>with every step that gets you closer to the solution.  Like-steps<br/>repelling will do that if you move one note at a time.  For 7 from 12,<br/>you&apos;ll get either the diatonic (major etc) or melodic minor for only<br/>1-step repulsion.  Measure thirds and you get only the diatonic.  It&apos;s<br/>a simple process and easy to visualize.  For higher ranks, there are<br/>probably cases where you need to swap non-adjacent intervals, but it&apos;s<br/>still relatively simple.  If other methods give the same results, the<br/>easiest way to find out is by trying.</p><p>All kinds of things are the same for rank 2.  That doesn&apos;t mean<br/>they&apos;ll hold in higher ranks.  I think being close to an equal<br/>temperament and having a regular pattern are the most important<br/>properties for automatically-generated scales.</p><p>                                Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/19/2010 10:01:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 03:14 AM 10/19/2010, you wrote:<br/>&gt;<br/>&gt;On 18 October 2010 21:51, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt;&gt; That&apos;s a lot more complicated that just testing for GMP.<br/>&gt;&gt; All the stuff about approximating ETs with the 2nds is very<br/>&gt;&gt; likely aimed at producing GMP.  Didn&apos;t somebody (you?) prove<br/>&gt;&gt; one of the flavors is equivalent to GMP for rank 2?<br/>&gt;<br/>&gt;GMP (Generalized Myhill&apos;s Property) will give a lot of different<br/>&gt;scales with the same value.  It&apos;s easy to find rank 3 scales with 4<br/>&gt;step sizes.  It&apos;s much harder to find the scales with 3 step sizes.</p><p>GMP for rank 3 means 3 step sizes.  I don&apos;t think the order<br/>of the 2nds matters at all beyond GMP.</p><p>&gt;The point of the energy minimization is that the energy should go down<br/>&gt;with every step that gets you closer to the solution.</p><p>What&apos;s the solution?</p><p>&gt;All kinds of things are the same for rank 2.  That doesn&apos;t mean<br/>&gt;they&apos;ll hold in higher ranks.  I think being close to an equal<br/>&gt;temperament and having a regular pattern are the most important<br/>&gt;properties for automatically-generated scales.</p><p>Why?  But I thought we were talking about MOS generalizations.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/19/2010 12:33:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; GMP for rank 3 means 3 step sizes.  I don&apos;t think the order<br/>&gt; of the 2nds matters at all beyond GMP.</p><p>Wouldn&apos;t the simplest method be to simply come up with three step sizes, which is not difficult, and then construct your scales?</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/20/2010 12:36:45 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 19 October 2010 21:01, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt; At 03:14 AM 10/19/2010, you wrote:<br/>&gt;&gt;<br/>&gt;&gt;GMP (Generalized Myhill&apos;s Property) will give a lot of different<br/>&gt;&gt;scales with the same value. &nbsp;It&apos;s easy to find rank 3 scales with 4<br/>&gt;&gt;step sizes. &nbsp;It&apos;s much harder to find the scales with 3 step sizes.<br/>&gt;<br/>&gt; GMP for rank 3 means 3 step sizes. &nbsp;I don&apos;t think the order<br/>&gt; of the 2nds matters at all beyond GMP.</p><p>I don&apos;t know if it matters or not.  But that&apos;s beside the point.  I<br/>said they&apos;re hard to find.  You haven&apos;t said how I should find them.</p><p>&gt;&gt;The point of the energy minimization is that the energy should go down<br/>&gt;&gt;with every step that gets you closer to the solution.<br/>&gt;<br/>&gt; What&apos;s the solution?</p><p>The scale with lowest energy.</p><p>&gt;&gt;All kinds of things are the same for rank 2. &nbsp;That doesn&apos;t mean<br/>&gt;&gt;they&apos;ll hold in higher ranks. &nbsp;I think being close to an equal<br/>&gt;&gt;temperament and having a regular pattern are the most important<br/>&gt;&gt;properties for automatically-generated scales.<br/>&gt;<br/>&gt; Why? &nbsp;But I thought we were talking about MOS generalizations.</p><p>Being close to an equal temperament and having regular pattern are<br/>both properties of MOS scales.  If somebody tunes up a new scale, it&apos;s<br/>easier to get the hang of if the intervals are close to equal.  It&apos;s<br/>also easier to understand if there&apos;s a regular pattern.</p><p>                  Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/20/2010 12:32:16 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 19 October 2010 23:33, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; GMP for rank 3 means 3 step sizes. &nbsp;I don&apos;t think the order<br/>&gt;&gt; of the 2nds matters at all beyond GMP.<br/>&gt;<br/>&gt; Wouldn&apos;t the simplest method be to simply come up with three step sizes, which is not difficult, and then construct your scales?</p><p>Yes, that&apos;s what we&apos;re talking about.  Constructing the scales.  Both<br/>coming up with the three step sizes and constructing the scales looks<br/>difficult from where I&apos;m sitting.  If you disagree, post your<br/>algorithm.</p><p>                            Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/20/2010 12:55:58 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt;&gt;All kinds of things are the same for rank 2.  That doesn&apos;t mean<br/>&gt;&gt;&gt;they&apos;ll hold in higher ranks.  I think being close to an equal<br/>&gt;&gt;&gt;temperament and having a regular pattern are the most important<br/>&gt;&gt;&gt;properties for automatically-generated scales.<br/>&gt;&gt;<br/>&gt;&gt; Why?  But I thought we were talking about MOS generalizations.<br/>&gt;<br/>&gt;Being close to an equal temperament and having regular pattern are<br/>&gt;both properties of MOS scales.</p><p>You know my motto: MOS IFF Myhill. I don&apos;t see where ETs or<br/>regular patterns come into it.  -Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/20/2010 1:14:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 20 October 2010 11:55, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; You know my motto: MOS IFF Myhill. I don&apos;t see where ETs or<br/>&gt; regular patterns come into it. &nbsp;-Carl</p><p>If you want a generalization of Myhill, fine.  Give me an algorithm<br/>for producing a generalization of Myhill.</p><p>                    Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/20/2010 1:37:41 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt; You know my motto: MOS IFF Myhill. I don&apos;t see where ETs or<br/>&gt;&gt; regular patterns come into it.  -Carl<br/>&gt;<br/>&gt;If you want a generalization of Myhill, fine.  Give me an algorithm<br/>&gt;for producing a generalization of Myhill.</p><p>I don&apos;t know much of anything about rank 3 temperaments, but I<br/>assume there&apos;s a period and two generators of known size.  If the<br/>problem is finding a scale of size N... we have a 2-D lattice of<br/>generators (ignoring the period), the possible factorizations<br/>of N into two positive integers and for each of those excepting<br/>{sqrt(N) sqrt(N)} two rectangles on this lattice of generators.<br/>Test all the rectangles for GMP and return those that have it,<br/>if any.  No?</p><p>We might start with {floor(sqrt(N) ceiling(sqrt(N)}, walk the first<br/>term down and stop on the first GMP scale we find.  -Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/20/2010 1:59:37 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 20 October 2010 12:37, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; I don&apos;t know much of anything about rank 3 temperaments, but I<br/>&gt; assume there&apos;s a period and two generators of known size. &nbsp;If the<br/>&gt; problem is finding a scale of size N... we have a 2-D lattice of<br/>&gt; generators (ignoring the period), the possible factorizations<br/>&gt; of N into two positive integers and for each of those excepting<br/>&gt; {sqrt(N) sqrt(N)} two rectangles on this lattice of generators.<br/>&gt; Test all the rectangles for GMP and return those that have it,<br/>&gt; if any. &nbsp;No?</p><p>Right, yes, that&apos;d probably work.  For any given period, you can<br/>choose an infinite number of generator pairs.  But you can define one<br/>of them to be orthogonal to the 3:1, the same way the period&apos;s defined<br/>to be orthogonal to the 2:1.  That&apos;s essentially the Hermite normal<br/>form.  You may want to reduce every generator to be within the period,<br/>and you still have other choices, but I&apos;m not sure they&apos;d affect your<br/>algorithm anyway.  So we can say there are two well known generators.</p><p>I&apos;m not sure what the sqrt(N) means.  There are going to be about N<br/>different scales you get from this, which is manageable.  Can we be<br/>sure that one will have the property we want?  That isn&apos;t clear to me.</p><p>This would only be a solution for rank 3 scales.  What it&apos;s doing is<br/>pushing the rank down by 1 through octave equivalence.  The general<br/>case of arbitrary ranks is still difficult.  But it isn&apos;t clear<br/>anybody&apos;s really interested in that case.</p><p>&gt; We might start with {floor(sqrt(N) ceiling(sqrt(N)}, walk the first<br/>&gt; term down and stop on the first GMP scale we find. &nbsp;-Carl</p><p>One thing about taking a generator orthogonal to 3:1 is that it<br/>specifies something like tetrachordal similarity.  It&apos;d be nice if our<br/>scales were automatically tetrachordal -- a bonus over the rank 2<br/>(MOS) case.  Perhaps that means taking the largest number of steps for<br/>the 3:1-orthogonal generator, rather than making them equal.  And<br/>without only taking that generator, which would give a lower rank<br/>solution.</p><p>                          Graham</p></div><h3>robert &#x3C;robertthomasmartin@yahoo.com&#x3E;</h3><span>10/20/2010 5:50:08 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I have added &quot;Commutators in the Special and General Linear Groups&quot; by Robert Charles Thompson (PhD thesis 1960) to the Files section but I will delete it if it is of no use to you. I also have files for:<br/>A Complete Set of Unitary Invariants for 3x3 Complex Matrices.<br/>Some Matrix Factorization Theorems 1.<br/>Some Matrix Factorization Theorems 2.<br/>The Matrix Cookbook.<br/>Algorithms for Matrix Canonical Forms.<br/>A Concise Guide to Hadamard Matrices.<br/>Some of which I can add or send to you if you think it might help.</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; On 20 October 2010 12:37, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; I don&apos;t know much of anything about rank 3 temperaments, but I<br/>&gt; &gt; assume there&apos;s a period and two generators of known size. &Acirc;&nbsp;If the<br/>&gt; &gt; problem is finding a scale of size N... we have a 2-D lattice of<br/>&gt; &gt; generators (ignoring the period), the possible factorizations<br/>&gt; &gt; of N into two positive integers and for each of those excepting<br/>&gt; &gt; {sqrt(N) sqrt(N)} two rectangles on this lattice of generators.<br/>&gt; &gt; Test all the rectangles for GMP and return those that have it,<br/>&gt; &gt; if any. &Acirc;&nbsp;No?<br/>&gt;<br/>&gt; Right, yes, that&apos;d probably work.  For any given period, you can<br/>&gt; choose an infinite number of generator pairs.  But you can define one<br/>&gt; of them to be orthogonal to the 3:1, the same way the period&apos;s defined<br/>&gt; to be orthogonal to the 2:1.  That&apos;s essentially the Hermite normal<br/>&gt; form.  You may want to reduce every generator to be within the period,<br/>&gt; and you still have other choices, but I&apos;m not sure they&apos;d affect your<br/>&gt; algorithm anyway.  So we can say there are two well known generators.<br/>&gt;<br/>&gt; I&apos;m not sure what the sqrt(N) means.  There are going to be about N<br/>&gt; different scales you get from this, which is manageable.  Can we be<br/>&gt; sure that one will have the property we want?  That isn&apos;t clear to me.<br/>&gt;<br/>&gt; This would only be a solution for rank 3 scales.  What it&apos;s doing is<br/>&gt; pushing the rank down by 1 through octave equivalence.  The general<br/>&gt; case of arbitrary ranks is still difficult.  But it isn&apos;t clear<br/>&gt; anybody&apos;s really interested in that case.<br/>&gt;<br/>&gt; &gt; We might start with {floor(sqrt(N) ceiling(sqrt(N)}, walk the first<br/>&gt; &gt; term down and stop on the first GMP scale we find. &Acirc;&nbsp;-Carl<br/>&gt;<br/>&gt; One thing about taking a generator orthogonal to 3:1 is that it<br/>&gt; specifies something like tetrachordal similarity.  It&apos;d be nice if our<br/>&gt; scales were automatically tetrachordal -- a bonus over the rank 2<br/>&gt; (MOS) case.  Perhaps that means taking the largest number of steps for<br/>&gt; the 3:1-orthogonal generator, rather than making them equal.  And<br/>&gt; without only taking that generator, which would give a lower rank<br/>&gt; solution.<br/>&gt;<br/>&gt;<br/>&gt;                           Graham<br/>&gt;</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/20/2010 11:00:43 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;I&apos;m not sure what the sqrt(N) means.</p><p>When sqrt(N) is an integer, there is a square rectangle and hence<br/>only one rectangle for that factorization.  All other factorizations<br/>have two rectangles, oblong in one axis or the other.</p><p>&gt;There are going to be about N different scales you get<br/>&gt;from this, which is manageable.  Can we be sure that one<br/>&gt;will have the property we want?  That isn&apos;t clear to me.</p><p>In the rank 2 case, not every N has a MOS.</p><p>&gt;This would only be a solution for rank 3 scales.  What it&apos;s doing<br/>&gt;is pushing the rank down by 1 through octave equivalence.  The<br/>&gt;general case of arbitrary ranks is still difficult.  But it isn&apos;t<br/>&gt;clear anybody&apos;s really interested in that case.</p><p>I think you&apos;re saying, if the interval of equivalence is a multiple<br/>of the period, we need to use 3-D.  That still should be tractable.<br/>In ranks &gt; 3 things start getting hairy, but no, I don&apos;t care about<br/>them (I don&apos;t even care about rank 3, but here I am).</p><p>&gt;&gt; We might start with {floor(sqrt(N) ceiling(sqrt(N)}, walk the<br/>&gt;&gt; first term down and stop on the first GMP scale we find.<br/>&gt;<br/>&gt;One thing about taking a generator orthogonal to 3:1 is that it<br/>&gt;specifies something like tetrachordal similarity.  It&apos;d be nice if<br/>&gt;our scales were automatically tetrachordal -- a bonus over the<br/>&gt;rank 2 (MOS) case.  Perhaps that means taking the largest number<br/>&gt;of steps for the 3:1-orthogonal generator, rather than making<br/>&gt;them equal.  And without only taking that generator, which would<br/>&gt;give a lower rank solution.</p><p>Can I really make the period orthogonal to 2:1 and one of the<br/>generators orthogonal to 3:1 at the same time?  That is a neat<br/>trick.  Yes, in that case perhaps oblong in 3 beats my suggestion<br/>of favoring near-squares.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/20/2010 12:30:41 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt; Wouldn&apos;t the simplest method be to simply come up with three step sizes, which is not difficult, and then construct your scales?<br/>&gt;<br/>&gt; Yes, that&apos;s what we&apos;re talking about.  Constructing the scales.  Both<br/>&gt; coming up with the three step sizes and constructing the scales looks<br/>&gt; difficult from where I&apos;m sitting.  If you disagree, post your<br/>&gt; algorithm.</p><p>Here&apos;s how I&apos;d start:</p><p>Take the 3x3 matrix with columns consisting of the 5-limit 26, 31, and 46 vals, and invert it. This gives three fractional monzos, which you then temper with the 17-limit portent temperament. If you don&apos;t like fractional monzos, you can use 2, 5 and 7, which gives actual monzos and the same result. Calling these c26, c31, and c46 then the three steps are c26+c46, c31+c46, c26+c31+c46. Using the pure octaves TOP-RMS, those step sizes are 27.1759, 21.5541, 32.8436, and the count for them is 15, 20, and 11.</p></div><h3>robert &#x3C;robertthomasmartin@yahoo.com&#x3E;</h3><span>10/20/2010 3:23:00 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I have taken the liberty of uploading all of these files to the Files section except Algorithms for Matrix Canonical Forms which is too large at 6MBs to fit. Let me know if you want this file and/or want me to delete any/all of the aforementioned files.</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;robert&quot; &lt;robertthomasmartin@...&gt; wrote:<br/>&gt;<br/>&gt; I have added &quot;Commutators in the Special and General Linear Groups&quot; by Robert Charles Thompson (PhD thesis 1960) to the Files section but I will delete it if it is of no use to you. I also have files for:<br/>&gt; A Complete Set of Unitary Invariants for 3x3 Complex Matrices.<br/>&gt; Some Matrix Factorization Theorems 1.<br/>&gt; Some Matrix Factorization Theorems 2.<br/>&gt; The Matrix Cookbook.<br/>&gt; Algorithms for Matrix Canonical Forms.<br/>&gt; A Concise Guide to Hadamard Matrices.<br/>&gt; Some of which I can add or send to you if you think it might help.<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; On 20 October 2010 12:37, Carl Lumma &lt;carl@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; &gt; I don&apos;t know much of anything about rank 3 temperaments, but I<br/>&gt; &gt; &gt; assume there&apos;s a period and two generators of known size. &Acirc;&nbsp;If the<br/>&gt; &gt; &gt; problem is finding a scale of size N... we have a 2-D lattice of<br/>&gt; &gt; &gt; generators (ignoring the period), the possible factorizations<br/>&gt; &gt; &gt; of N into two positive integers and for each of those excepting<br/>&gt; &gt; &gt; {sqrt(N) sqrt(N)} two rectangles on this lattice of generators.<br/>&gt; &gt; &gt; Test all the rectangles for GMP and return those that have it,<br/>&gt; &gt; &gt; if any. &Acirc;&nbsp;No?<br/>&gt; &gt;<br/>&gt; &gt; Right, yes, that&apos;d probably work.  For any given period, you can<br/>&gt; &gt; choose an infinite number of generator pairs.  But you can define one<br/>&gt; &gt; of them to be orthogonal to the 3:1, the same way the period&apos;s defined<br/>&gt; &gt; to be orthogonal to the 2:1.  That&apos;s essentially the Hermite normal<br/>&gt; &gt; form.  You may want to reduce every generator to be within the period,<br/>&gt; &gt; and you still have other choices, but I&apos;m not sure they&apos;d affect your<br/>&gt; &gt; algorithm anyway.  So we can say there are two well known generators.<br/>&gt; &gt;<br/>&gt; &gt; I&apos;m not sure what the sqrt(N) means.  There are going to be about N<br/>&gt; &gt; different scales you get from this, which is manageable.  Can we be<br/>&gt; &gt; sure that one will have the property we want?  That isn&apos;t clear to me.<br/>&gt; &gt;<br/>&gt; &gt; This would only be a solution for rank 3 scales.  What it&apos;s doing is<br/>&gt; &gt; pushing the rank down by 1 through octave equivalence.  The general<br/>&gt; &gt; case of arbitrary ranks is still difficult.  But it isn&apos;t clear<br/>&gt; &gt; anybody&apos;s really interested in that case.<br/>&gt; &gt;<br/>&gt; &gt; &gt; We might start with {floor(sqrt(N) ceiling(sqrt(N)}, walk the first<br/>&gt; &gt; &gt; term down and stop on the first GMP scale we find. &Acirc;&nbsp;-Carl<br/>&gt; &gt;<br/>&gt; &gt; One thing about taking a generator orthogonal to 3:1 is that it<br/>&gt; &gt; specifies something like tetrachordal similarity.  It&apos;d be nice if our<br/>&gt; &gt; scales were automatically tetrachordal -- a bonus over the rank 2<br/>&gt; &gt; (MOS) case.  Perhaps that means taking the largest number of steps for<br/>&gt; &gt; the 3:1-orthogonal generator, rather than making them equal.  And<br/>&gt; &gt; without only taking that generator, which would give a lower rank<br/>&gt; &gt; solution.<br/>&gt; &gt;<br/>&gt; &gt;<br/>&gt; &gt;                           Graham<br/>&gt; &gt;<br/>&gt;</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/20/2010 4:07:04 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>And I&apos;ve taken the liberty of moving them into a folder for you:</p><p><a href="http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/">http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/</a></p><p>Except the ones I deemed too large, which I deleted.</p><p>-Carl</p><p>Robert wrote:</p><p>&gt;I have taken the liberty of uploading all of these files to the Files<br/>&gt;section except Algorithms for Matrix Canonical Forms which is too<br/>&gt;large at 6MBs to fit. Let me know if you want this file and/or want me<br/>&gt;to delete any/all of the aforementioned files.<br/>&gt;<br/>&gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;robert&quot; &lt;robertthomasmartin@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; I have added &quot;Commutators in the Special and General Linear Groups&quot;<br/>&gt;&gt; by Robert Charles Thompson (PhD thesis 1960) to the Files section but<br/>&gt;&gt; I will delete it if it is of no use to you. I also have files for:<br/>&gt;&gt; A Complete Set of Unitary Invariants for 3x3 Complex Matrices.<br/>&gt;&gt; Some Matrix Factorization Theorems 1.<br/>&gt;&gt; Some Matrix Factorization Theorems 2.<br/>&gt;&gt; The Matrix Cookbook.<br/>&gt;&gt; Algorithms for Matrix Canonical Forms.<br/>&gt;&gt; A Concise Guide to Hadamard Matrices.<br/>&gt;&gt; Some of which I can add or send to you if you think it might help.<br/>&gt;</p></div><h3>robert &#x3C;robertthomasmartin@yahoo.com&#x3E;</h3><span>10/20/2010 4:55:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I thought you might have forgotten one so I added it because it was Part 1 of 2 Parts. So sorry. Do you want me to delete Part 1?</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; And I&apos;ve taken the liberty of moving them into a folder for you:<br/>&gt;<br/>&gt; <a href="http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/">http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/</a><br/>&gt;<br/>&gt; Except the ones I deemed too large, which I deleted.<br/>&gt;<br/>&gt; -Carl<br/>&gt;<br/>&gt; Robert wrote:<br/>&gt;<br/>&gt; &gt;I have taken the liberty of uploading all of these files to the Files<br/>&gt; &gt;section except Algorithms for Matrix Canonical Forms which is too<br/>&gt; &gt;large at 6MBs to fit. Let me know if you want this file and/or want me<br/>&gt; &gt;to delete any/all of the aforementioned files.<br/>&gt; &gt;<br/>&gt; &gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;robert&quot; &lt;robertthomasmartin@&gt; wrote:<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; I have added &quot;Commutators in the Special and General Linear Groups&quot;<br/>&gt; &gt;&gt; by Robert Charles Thompson (PhD thesis 1960) to the Files section but<br/>&gt; &gt;&gt; I will delete it if it is of no use to you. I also have files for:<br/>&gt; &gt;&gt; A Complete Set of Unitary Invariants for 3x3 Complex Matrices.<br/>&gt; &gt;&gt; Some Matrix Factorization Theorems 1.<br/>&gt; &gt;&gt; Some Matrix Factorization Theorems 2.<br/>&gt; &gt;&gt; The Matrix Cookbook.<br/>&gt; &gt;&gt; Algorithms for Matrix Canonical Forms.<br/>&gt; &gt;&gt; A Concise Guide to Hadamard Matrices.<br/>&gt; &gt;&gt; Some of which I can add or send to you if you think it might help.<br/>&gt; &gt;<br/>&gt;</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/20/2010 5:10:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>That&apos;s cool, thanks.  -Carl</p><p>At 04:55 PM 10/20/2010, you wrote:<br/>&gt;I thought you might have forgotten one so I added it because it was<br/>&gt;Part 1 of 2 Parts. So sorry. Do you want me to delete Part 1?<br/>&gt;<br/>&gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; And I&apos;ve taken the liberty of moving them into a folder for you:<br/>&gt;&gt;<br/>&gt;&gt; <a href="http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/">http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/</a><br/>&gt;&gt;<br/>&gt;&gt; Except the ones I deemed too large, which I deleted.<br/>&gt;&gt;<br/>&gt;&gt; -Carl<br/>&gt;&gt;<br/>&gt;&gt; Robert wrote:<br/>&gt;&gt;<br/>&gt;&gt; &gt;I have taken the liberty of uploading all of these files to the Files<br/>&gt;&gt; &gt;section except Algorithms for Matrix Canonical Forms which is too<br/>&gt;&gt; &gt;large at 6MBs to fit. Let me know if you want this file and/or want me<br/>&gt;&gt; &gt;to delete any/all of the aforementioned files.<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;robert&quot; &lt;robertthomasmartin@&gt; wrote:<br/>&gt;&gt; &gt;&gt;<br/>&gt;&gt; &gt;&gt; I have added &quot;Commutators in the Special and General Linear Groups&quot;<br/>&gt;&gt; &gt;&gt; by Robert Charles Thompson (PhD thesis 1960) to the Files section but<br/>&gt;&gt; &gt;&gt; I will delete it if it is of no use to you. I also have files for:<br/>&gt;&gt; &gt;&gt; A Complete Set of Unitary Invariants for 3x3 Complex Matrices.<br/>&gt;&gt; &gt;&gt; Some Matrix Factorization Theorems 1.<br/>&gt;&gt; &gt;&gt; Some Matrix Factorization Theorems 2.<br/>&gt;&gt; &gt;&gt; The Matrix Cookbook.<br/>&gt;&gt; &gt;&gt; Algorithms for Matrix Canonical Forms.<br/>&gt;&gt; &gt;&gt; A Concise Guide to Hadamard Matrices.<br/>&gt;&gt; &gt;&gt; Some of which I can add or send to you if you think it might help.<br/>&gt;&gt; &gt;<br/>&gt;&gt;</p></div><h3>robert &#x3C;robertthomasmartin@yahoo.com&#x3E;</h3><span>10/20/2010 5:57:50 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Ok. In all fairness I should point out that these papers are all totally beyond my understanding and maths ability. I came across them using keywords like matrix, matrices, lattice, unimodular etc and I uploaded them to my <a href="http://Box.net">Box.net</a> library which I share with 27 other persons. They might eventually appear at Jason&apos;s mega library at:<br/><a href="http://gfax.ch/files/Literature/music/">http://gfax.ch/files/Literature/music/</a><br/>If they do you might want to delete them from your Files section to create extra space.</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; That&apos;s cool, thanks.  -Carl<br/>&gt;<br/>&gt; At 04:55 PM 10/20/2010, you wrote:<br/>&gt; &gt;I thought you might have forgotten one so I added it because it was<br/>&gt; &gt;Part 1 of 2 Parts. So sorry. Do you want me to delete Part 1?<br/>&gt; &gt;<br/>&gt; &gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@&gt; wrote:<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; And I&apos;ve taken the liberty of moving them into a folder for you:<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; <a href="http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/">http://groups.yahoo.com/group/tuning-math/files/RobertThomasMartin/</a><br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Except the ones I deemed too large, which I deleted.<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; -Carl<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Robert wrote:<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; &gt;I have taken the liberty of uploading all of these files to the Files<br/>&gt; &gt;&gt; &gt;section except Algorithms for Matrix Canonical Forms which is too<br/>&gt; &gt;&gt; &gt;large at 6MBs to fit. Let me know if you want this file and/or want me<br/>&gt; &gt;&gt; &gt;to delete any/all of the aforementioned files.<br/>&gt; &gt;&gt; &gt;<br/>&gt; &gt;&gt; &gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;robert&quot; &lt;robertthomasmartin@&gt; wrote:<br/>&gt; &gt;&gt; &gt;&gt;<br/>&gt; &gt;&gt; &gt;&gt; I have added &quot;Commutators in the Special and General Linear Groups&quot;<br/>&gt; &gt;&gt; &gt;&gt; by Robert Charles Thompson (PhD thesis 1960) to the Files section but<br/>&gt; &gt;&gt; &gt;&gt; I will delete it if it is of no use to you. I also have files for:<br/>&gt; &gt;&gt; &gt;&gt; A Complete Set of Unitary Invariants for 3x3 Complex Matrices.<br/>&gt; &gt;&gt; &gt;&gt; Some Matrix Factorization Theorems 1.<br/>&gt; &gt;&gt; &gt;&gt; Some Matrix Factorization Theorems 2.<br/>&gt; &gt;&gt; &gt;&gt; The Matrix Cookbook.<br/>&gt; &gt;&gt; &gt;&gt; Algorithms for Matrix Canonical Forms.<br/>&gt; &gt;&gt; &gt;&gt; A Concise Guide to Hadamard Matrices.<br/>&gt; &gt;&gt; &gt;&gt; Some of which I can add or send to you if you think it might help.<br/>&gt; &gt;&gt; &gt;<br/>&gt; &gt;&gt;<br/>&gt;</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 12:00:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; Calling these c26, c31, and c46 then the three steps are c26+c46, c31+c46, c26+c31+c46. Using the pure octaves TOP-RMS, those step sizes are 27.1759, 21.5541, 32.8436, and the count for them is 15, 20, and 11.</p><p>You can then break apart the larger step in a MOS to get to this. For instance the valentine (31&amp;46) MOS is (sLL)^14 sLLL, and we could start by always breaking up the L in the same way.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 12:24:54 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; You can then break apart the larger step in a MOS to get to this. For instance the valentine (31&amp;46) MOS is (sLL)^14 sLLL, and we could start by always breaking up the L in the same way.<br/>&gt;</p><p>Sorry, the target number is 46, so I should have said start from the 31 note MOS, (Ls)^14 Lss, and break apart the 15 L steps to get 46 notes.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 12:39:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; You can then break apart the larger step in a MOS to get to this. For instance the valentine (31&amp;46) MOS is (sLL)^14 sLLL, and we could start by always breaking up the L in the same way.<br/>&gt; &gt;<br/>&gt;<br/>&gt; Sorry, the target number is 46, so I should have said start from the 31 note MOS, (Ls)^14 Lss, and break apart the 15 L steps to get 46 notes.</p><p>Doesn&apos;t work, as the counts for small, medium and large steps come out wrong.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/21/2010 9:55:44 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt; Graham wrote:<br/>&gt;<br/>&gt; &gt;I&apos;m not sure what the sqrt(N) means.<br/>&gt;<br/>&gt; When sqrt(N) is an integer, there is a square rectangle<br/>&gt; and hence only one rectangle for that factorization.  All<br/>&gt; other factorizations have two rectangles, oblong in one<br/>&gt; axis or the other.</p><p>I&apos;ve realized that these are looking very much like<br/>periodicity blocks.  So I&apos;m looking into them.  The<br/>archives promise an algorithm here:</p><p><a href="http://sonic-arts.org/td/erlich/intropblock3.htm">http://sonic-arts.org/td/erlich/intropblock3.htm</a></p><p>I don&apos;t see any reason why they can&apos;t be adapted from<br/>5-limit JI to arbitrary rank 3 temperaments, anyway.</p><p>&gt; &gt;There are going to be about N different scales you get<br/>&gt; &gt;from this, which is manageable.  Can we be sure that one<br/>&gt; &gt;will have the property we want?  That isn&apos;t clear to me.<br/>&gt;<br/>&gt; In the rank 2 case, not every N has a MOS.</p><p>Every N from d has an MOS.  They may not belong to the<br/>right temperament class.  The basis my software comes up<br/>with is bound to work, though, by definition.  Any<br/>unimodular transformation of it will also work, because it<br/>avoids contorsion.  That&apos;s why I&apos;m insisting on unimodular<br/>transformations for all ranks.</p><p>&gt; &gt;This would only be a solution for rank 3 scales.  What<br/>&gt; &gt;it&apos;s doing is pushing the rank down by 1 through octave<br/>&gt; &gt;equivalence.  The general case of arbitrary ranks is<br/>&gt; &gt;still difficult.  But it isn&apos;t clear anybody&apos;s really<br/>&gt; &gt;interested in that case.<br/>&gt;<br/>&gt; I think you&apos;re saying, if the interval of equivalence is<br/>&gt; a multiple of the period, we need to use 3-D.  That still<br/>&gt; should be tractable. In ranks &gt; 3 things start getting<br/>&gt; hairy, but no, I don&apos;t care about them (I don&apos;t even care<br/>&gt; about rank 3, but here I am).</p><p>No, the period is defined so that the interval of<br/>equivalence is a multiple of it.  So a rank 3 problem can<br/>always be reduced to 2-D, which is useful.  But a rank 4<br/>problem is still 3-D.  There&apos;s no general solution.</p><p>I put off rank 3 for a long time.  My website supports<br/>arbitrary ranks now because the algorithms generalize<br/>without much trouble.  It&apos;s time to look at the scales<br/>because Caleb is asking about them in another place.  I can<br/>see the argument for rank 4 being a good deal less<br/>interesting, but still, a good algorithm will generalize.<br/>I don&apos;t see why periodicity blocks wouldn&apos;t, provided they<br/>work properly with JI.</p><p>&gt; &gt;One thing about taking a generator orthogonal to 3:1 is<br/>&gt; &gt;that it specifies something like tetrachordal<br/>&gt; &gt;similarity.  It&apos;d be nice if our scales were<br/>&gt; &gt;automatically tetrachordal -- a bonus over the rank 2<br/>&gt; &gt;(MOS) case.  Perhaps that means taking the largest<br/>&gt; &gt;number of steps for the 3:1-orthogonal generator, rather<br/>&gt; &gt;than making them equal.  And without only taking that<br/>&gt; &gt;generator, which would give a lower rank solution.<br/>&gt;<br/>&gt; Can I really make the period orthogonal to 2:1 and one of<br/>&gt; the generators orthogonal to 3:1 at the same time?  That<br/>&gt; is a neat trick.  Yes, in that case perhaps oblong in 3<br/>&gt; beats my suggestion of favoring near-squares.</p><p>I should have said &quot;parallel&quot; one time there.  You can make<br/>one generator parallel to 2:1 and the other parallel to<br/>3:1.  The remaining generator is then orthogonal to both of<br/>them.  And, yes, it usually works.  Sometimes 3:1 is<br/>defined parallel to 2:1 so you have to drop down to the<br/>first independent prime.  You can recognize such cases<br/>because there are two leading zeros in the second row of<br/>the reduced mapping, as on my website.  The best example I<br/>can think of right now is this Mystery permutation:</p><p><a href="http://x31eq.com/cgi-bin/rt.cgi?ets=29+58+87&limit=17">http://x31eq.com/cgi-bin/rt.cgi?ets=29+58+87&limit=17</a></p><p>The Hermite generators would correspond to a step of<br/>29-equal, a tempered 5:1, and a tempered 17:1.</p><p>Note that there&apos;s also a happy band of rank 3 temperaments<br/>where the three Hermite generators are approximations to<br/>the primes 2, 3, and 5.  They&apos;re the equivalent of meantone<br/>and schismatic, which can be considered as Pythagorean<br/>extensions.  They have the same melodic structure as<br/>5-limit JI but allow you to bring in higher primes. You<br/>recognize them because the left hand square of the Hermite<br/>normal form is the identity matrix. Marvel is an example:</p><p><a href="http://x31eq.com/cgi-bin/rt.cgi?ets=19++22+31&limit=7">http://x31eq.com/cgi-bin/rt.cgi?ets=19++22+31&limit=7</a></p><p>                  Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 11:19:56 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; I&apos;ve realized that these are looking very much like<br/>&gt; periodicity blocks.  So I&apos;m looking into them.  The<br/>&gt; archives promise an algorithm here:<br/>&gt;<br/>&gt; <a href="http://sonic-arts.org/td/erlich/intropblock3.htm">http://sonic-arts.org/td/erlich/intropblock3.htm</a></p><p>I never finished the article, but there&apos;s also this:</p><p><a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a></p><p>&gt; I put off rank 3 for a long time.  My website supports<br/>&gt; arbitrary ranks now because the algorithms generalize<br/>&gt; without much trouble.  It&apos;s time to look at the scales<br/>&gt; because Caleb is asking about them in another place.</p><p>Rank three is really quite interesting. Hobbits were cooked up to supply one answer to the scale question, but obviously there&apos;s much more to be said.</p><p> I can<br/>&gt; see the argument for rank 4 being a good deal less<br/>&gt; interesting, but still, a good algorithm will generalize.<br/>&gt; I don&apos;t see why periodicity blocks wouldn&apos;t, provided they<br/>&gt; work properly with JI.</p><p>They do.</p><p>&gt; &gt; &gt;One thing about taking a generator orthogonal to 3:1 is</p><p>What do you two mean by &quot;orthogonal&quot; and parallel in this context? I&apos;ve been unable to understand your exchange on this topic.</p><p>&gt; Note that there&apos;s also a happy band of rank 3 temperaments<br/>&gt; where the three Hermite generators are approximations to<br/>&gt; the primes 2, 3, and 5.</p><p>A survey of happy temperaments for higher rank would be interesting, perhaps. In the 7-limit the temperaments tempering 36/35, 525/512, 64/63, 875/864, 126/125, 225/224, 5120/5103, 65625/65536 and 4375/4374 are happy. Of these, 64/63, 126/125, 225/224, 5120/5103 and 4375/4374 have been discussed and used. I&apos;ve proposed &quot;horwell&quot; as the name for the comma 65625/65536, and it seems worth looking at; and 36/35, 525/512 or 875/874 could be just the thing for some people.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/21/2010 11:48:31 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;I&apos;ve realized that these are looking very much like<br/>&gt;periodicity blocks.  So I&apos;m looking into them.  The archives<br/>&gt;promise an algorithm here:<br/>&gt;<br/>&gt;<a href="http://sonic-arts.org/td/erlich/intropblock3.htm">http://sonic-arts.org/td/erlich/intropblock3.htm</a><br/>&gt;<br/>&gt;I don&apos;t see any reason why they can&apos;t be adapted from<br/>&gt;5-limit JI to arbitrary rank 3 temperaments, anyway.</p><p>In fact we already know 5-limit blocks are related to MOS,<br/>through the Hypothesis.  But there the intention is to temper,<br/>so you look for small commas.  Here we are staying rank 3 so<br/>I think we want to look for GMP.</p><p>Alternatively we could untemper, find a good block, and<br/>then retemper it down to rank 3 by taking out the smallest<br/>comma each time.  I think that&apos;s like taking the commas<br/>of the temperament and leaving the three largest ones<br/>untempered.  Hm...</p><p>&gt;&gt; &gt;There are going to be about N different scales you get<br/>&gt;&gt; &gt;from this, which is manageable.  Can we be sure that one<br/>&gt;&gt; &gt;will have the property we want?  That isn&apos;t clear to me.<br/>&gt;&gt;<br/>&gt;&gt; In the rank 2 case, not every N has a MOS.<br/>&gt;<br/>&gt;Every N from d has an MOS.</p><p>What&apos;s d?</p><p>&gt;I should have said &quot;parallel&quot; one time there.  You can make<br/>&gt;one generator parallel to 2:1 and the other parallel to<br/>&gt;3:1.  The remaining generator is then orthogonal to both of<br/>&gt;them.  And, yes, it usually works.</p><p>Thanks.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 12:11:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt;Of these, 64/63, 126/125, 225/224, 5120/5103 and 4375/4374 have been discussed and used. I&apos;ve proposed &quot;horwell&quot; as the name for the comma 65625/65536, and it seems worth looking at; and 36/35, 525/512 or 875/874 could be just the thing for some people.</p><p>525/512 tends pretty flat, but 875/864 has quite an acceptable tuning. It&apos;s a sort of competitor with 126/125, in that both work along the 6/5 axis. Put the two together and you get keemun.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/21/2010 12:28:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; I never finished the article, but there&apos;s also this:<br/>&gt;<br/>&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a></p><p>I&apos;ve opened it in another tab.</p><p>&gt; Rank three is really quite interesting. Hobbits were<br/>&gt; cooked up to supply one answer to the scale question, but<br/>&gt; obviously there&apos;s much more to be said.</p><p>Hobbits as I understand them are harmonic objects that obey<br/>the mapping.  MOS scales are melodic objects that obey the<br/>mapping, and so have useful harmonic properties.</p><p>&gt;  I can<br/>&gt; &gt; see the argument for rank 4 being a good deal less<br/>&gt; &gt; interesting, but still, a good algorithm will<br/>&gt; &gt; generalize. I don&apos;t see why periodicity blocks<br/>&gt; &gt; wouldn&apos;t, provided they work properly with JI.<br/>&gt;<br/>&gt; They do.</p><p>Does that mean periodicity blocks of just intonations of<br/>arbitrary rank are guaranteed to have the generalized<br/>Myhill property?</p><p>&gt; &gt; &gt; &gt;One thing about taking a generator orthogonal to 3:1<br/>&gt; &gt; &gt; &gt;is<br/>&gt;<br/>&gt; What do you two mean by &quot;orthogonal&quot; and parallel in this<br/>&gt; context? I&apos;ve been unable to understand your exchange on<br/>&gt; this topic.</p><p>By &quot;parallel&quot; I mean what you&apos;d obviously expect: collinear<br/>in a Euclidean space, having a wedge product of zero, being<br/>linearly dependent.  By &quot;orthogonal&quot; I mean roughly the<br/>thing the wedge product gives you.  And certainly linearly<br/>independent.</p><p>This is my way out of the &quot;things like unison vectors&quot;<br/>conundrum.  I said that the equivalence interval looked a<br/>lot like a unison vector, and the reason is that it defines<br/>an orthogonality.  When you temper out a unison vector, you<br/>say that every collinear interval is to disappear, and so<br/>you keep that part of interval space that&apos;s orthogonal to<br/>it.  The algebra, either adjoints or wedge products,<br/>ensures this.  Octave-equivalent space is defined by the<br/>vectors orthogonal to the octave. When you define a<br/>period/generator pair, the period is parallel to the<br/>equivalence interval, and the generator orthogonal to it.<br/>The algebra is the same as for defining the equivalence<br/>interval to be a unison vector, but the common thread is<br/>orthogonality, not tempering out or being unisonous.</p><p>                        Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/21/2010 1:04:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; In fact we already know 5-limit blocks are related to MOS,<br/>&gt; through the Hypothesis.  But there the intention is to<br/>&gt; temper, so you look for small commas.  Here we are<br/>&gt; staying rank 3 so I think we want to look for GMP.</p><p>You don&apos;t need to temper a periodicity block.  They&apos;re used<br/>to find useful scales in just intonation.  The commas may<br/>be small but the chromatic unison vector needn&apos;t be.  It<br/>should be about the right size.</p><p>The unison vectors are steps in the scale, with the last<br/>one implied by the octave repetition.  The Fokker blocks<br/>are chosen to be good distributions of those steps.  That<br/>can directly translate to tempered scales once we know what<br/>step sizes we want.</p><p>&gt; Alternatively we could untemper, find a good block, and<br/>&gt; then retemper it down to rank 3 by taking out the smallest<br/>&gt; comma each time.  I think that&apos;s like taking the commas<br/>&gt; of the temperament and leaving the three largest ones<br/>&gt; untempered.  Hm...</p><p>No need.  There&apos;s nothing special about JI in the<br/>definitions of periodicity blocks that I can see.</p><p>&gt; &gt;&gt; In the rank 2 case, not every N has a MOS.<br/>&gt; &gt;<br/>&gt; &gt;Every N from d has an MOS.<br/>&gt;<br/>&gt; What&apos;s d?</p><p>It&apos;s the number of steps in the scale you&apos;re taking N<br/>from.  The diatonic scale is N=7 and d=5 or 12 or something<br/>else.  But not 31 which would give Mohajira.</p><p>                       Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/21/2010 1:34:05 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;The unison vectors are steps in the scale, with the last<br/>&gt;one implied by the octave repetition.  The Fokker blocks<br/>&gt;are chosen to be good distributions of those steps.  That<br/>&gt;can directly translate to tempered scales once we know what<br/>&gt;step sizes we want.</p><p>I thought the problem was to find a scale given a rank 3<br/>wedgie and a scale cardinality (N).</p><p>&gt;You don&apos;t need to temper a periodicity block.  They&apos;re used<br/>&gt;to find useful scales in just intonation.  The commas may<br/>&gt;be small but the chromatic unison vector needn&apos;t be.  It<br/>&gt;should be about the right size.</p><p>We figured out before that the &quot;chromatic&quot; vector must be<br/>larger than the &quot;commatic&quot; one for the block to be<br/>epimorphic.  By first finding a JI block in the primes of<br/>the temperament and then removing all but the three largest<br/>commas, I&apos;m betting we get GMP or something close to it.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/21/2010 1:34:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;This is my way out of the &quot;things like unison vectors&quot;<br/>&gt;conundrum.  I said that the equivalence interval looked a<br/>&gt;lot like a unison vector, and the reason is that it defines<br/>&gt;an orthogonality.  When you temper out a unison vector, you<br/>&gt;say that every collinear interval is to disappear, and so<br/>&gt;you keep that part of interval space that&apos;s orthogonal to<br/>&gt;it.  The algebra, either adjoints or wedge products,<br/>&gt;ensures this.  Octave-equivalent space is defined by the<br/>&gt;vectors orthogonal to the octave. When you define a<br/>&gt;period/generator pair, the period is parallel to the<br/>&gt;equivalence interval, and the generator orthogonal to it.<br/>&gt;The algebra is the same as for defining the equivalence<br/>&gt;interval to be a unison vector, but the common thread is<br/>&gt;orthogonality, not tempering out or being unisonous.</p><p>That&apos;s pretty cool.  -Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/21/2010 1:36:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; I never finished the article, but there&apos;s also this:<br/>&gt;<br/>&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a></p><p>I don&apos;t understand most of that, but I found this equation:</p><p>S[i] = floor((e1*i + a1)/P)*t1 + ... + floor((en*i +<br/>an)/P)*tn</p><p>I think the symbols are:</p><p>ek: number of the kth generators per octave<br/>P: number of notes in the scale per octave<br/>e1: same as P<br/>i: number of the note in the scale<br/>ak: arbitrary constants<br/>tk: size of the kth generator</p><p>As such, it looks like the algorithm I started using<br/>that I found wasn&apos;t working.  Maybe the difference is that<br/>I was looking for only one step going up at the same time.<br/>For rank 3, this gives three possibilities at each step:</p><p>2nd step goes up by 1, 3rd step stays the same<br/>2nd step stays the same, 3rd step goes up by 1<br/>2nd and 3rd steps both go up by 1</p><p>We know that the first step goes up by 1 each time.  So the<br/>third case, where both steps go up together, corresponds to<br/>the diatonic step, which isn&apos;t a unison vector.  At least,<br/>this describe the canonical example of the 5-limit<br/>based on a chromatic semitone and syntonic comma:</p><p>[0 0 0]<br/>[1 1 0]<br/>[2 1 1]<br/>[3 2 1]<br/>[4 3 2]<br/>[5 4 2]<br/>[6 4 3]<br/>[7 5 3]</p><p>So my question is: what&apos;s to stop both steps staying the<br/>same between two notes?  That looks inevitable if 2(k2+k3)<br/>&lt; k1.</p><p>                      Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 2:59:34 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt;  I can<br/>&gt; &gt; &gt; see the argument for rank 4 being a good deal less<br/>&gt; &gt; &gt; interesting, but still, a good algorithm will<br/>&gt; &gt; &gt; generalize. I don&apos;t see why periodicity blocks<br/>&gt; &gt; &gt; wouldn&apos;t, provided they work properly with JI.<br/>&gt; &gt;<br/>&gt; &gt; They do.<br/>&gt;<br/>&gt; Does that mean periodicity blocks of just intonations of<br/>&gt; arbitrary rank are guaranteed to have the generalized<br/>&gt; Myhill property?</p><p>Sorry, no.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 3:23:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; So my question is: what&apos;s to stop both steps staying the<br/>&gt; same between two notes?  That looks inevitable if 2(k2+k3)<br/>&gt; &lt; k1.</p><p>e1 represents the &quot;chroma&quot;, each step of which corresponds to a step of the corresponding equal temperaments.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/21/2010 4:09:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; I thought the problem was to find a scale given a rank 3<br/>&gt; wedgie and a scale cardinality (N).</p><p>Yes, what is the problem?  What I want to do is add scales<br/>to my website.  So on the page showing a regular<br/>temperament, there can be links to scales.  We can use any<br/>information on that page to find them.  Most useful is the<br/>matrix (Gene&apos;s icon I think) under &quot;Equal Temperament<br/>Mappings&quot;. This already gives us some choices for N and I<br/>don&apos;t think we need to worry about any others.</p><p>Note: these are the best possible equal temperaments to<br/>give the correct regular temperament without contorsion.<br/>So they&apos;re a non-arbitrary place to start.  If I want to<br/>offer other cardinalities, I know what to do, so let&apos;s only<br/>worry about the ones in that matrix.</p><p>So there are two problems now.  One is to turn the matrix<br/>of equal temperament mappings into one that describes the<br/>steps that are going to make up the scale we want.  That&apos;s<br/>what the unimodular transformations are for.  The other<br/>problem is to find the optimal distribution of those<br/>intervals, and that&apos;s what this sub-thread has been about.<br/>At that point, we know that N is correct relative to the<br/>given mappings.  Wedgies don&apos;t enter into it.</p><p>Now, this could be implemented as a method of a linear<br/>temperament object that takes N and returns a scale.  But<br/>that only needs to give sensible answers for certain values<br/>of N.  And, yes, it will fail to be sensible for some rank 2<br/>cases.  A 31 note scale from 7&amp;5 won&apos;t work, and I don&apos;t<br/>think it&apos;ll be an MOS.</p><p>&gt; &gt;You don&apos;t need to temper a periodicity block.  They&apos;re<br/>&gt; &gt;used to find useful scales in just intonation.  The<br/>&gt; &gt;commas may be small but the chromatic unison vector<br/>&gt; &gt;needn&apos;t be.  It should be about the right size.<br/>&gt;<br/>&gt; We figured out before that the &quot;chromatic&quot; vector must be<br/>&gt; larger than the &quot;commatic&quot; one for the block to be<br/>&gt; epimorphic.  By first finding a JI block in the primes of<br/>&gt; the temperament and then removing all but the three<br/>&gt; largest commas, I&apos;m betting we get GMP or something close<br/>&gt; to it.</p><p>If you want the three largest possible unison vectors (why<br/>are you calling them commas when they aren&apos;t tempered out)<br/>they can be defined without worrying about looking at all<br/>the primes.</p><p>I think I&apos;ve got the first step sorted out now.  So here&apos;s<br/>the idea:</p><p>I&apos;ll move to a periodicity block-style matrix because<br/>that&apos;s easiest to explain.  So we want the top row to be<br/>the mapping for N notes to the octave, which we have<br/>anyway.  The other mappings correspond to unison vectors.<br/>We want the total number of unison vectors in the scale to<br/>sum to less than N, which means the sum of the left hand<br/>column of the matrix should be less than 2N.</p><p>The row that doesn&apos;t correspond to a unison vector doesn&apos;t<br/>have a name that I know of.  So for this message I&apos;ll call<br/>it Gerald.</p><p>The other constraints are that the new matrix should be a<br/>unimodular transformation (by rows) of the old one and the<br/>resulting &quot;Step Tunings&quot; should always be positive.  I<br/>forgot that second one before.  It is important because you<br/>can&apos;t expect a sensible scale otherwise.</p><p>It&apos;s always safe to subtract one column from another<br/>provided the number of steps to the octave stays positive.<br/>This is one of the operations that&apos;s guaranteed not to<br/>alter the determinant. And reducing the number of steps<br/>means increasing the size of the steps, so the sizes won&apos;t<br/>become negative.</p><p>The first thing is to get the number of steps to the octave<br/>for each unison vector to be less than N.  You can do that<br/>by subtracting the relevant multiple of Gerald.  For<br/>example, if we want 46 notes from 31&amp;46&amp;72, we note that 72<br/>is larger than 46 and so replace it with 72 mod 46 which is<br/>72-46 = 26.</p><p>Now we need to reduce the unison vectors so that they total<br/>less than N to the octave.  To do this, subtract one from<br/>another as long as the condition isn&apos;t met.  I think it&apos;s<br/>best to keep the number of different steps to the octave as<br/>near as possible to be equal, so I&apos;ll say replace the<br/>most common step with the difference between the most and<br/>least common.  For rank 3, that&apos;s redundant, so for the<br/>example replace 31 with 31-26=5.  This gives us a 46&amp;26&amp;5<br/>scale.  In step sizes, that&apos;s 26&amp;15&amp;5.</p><p>At this point, we have as many unison vectors to the octave<br/>as we can get.  That&apos;s the same as having the smallest<br/>possible unison vectors.  But you suggested the largest<br/>possible ones, so we can carry on reducing.</p><p>26&amp;5 -&gt; 21&amp;5 -&gt; 16&amp;5 -&gt; 11&amp;5 -&gt; 6&amp;5 -&gt; 5&amp;1</p><p>Note that 15 got bypassed in this process.  So we&apos;re not<br/>visiting all possible equal temperaments.</p><p>The result is 5 of one unison vector, 1 of another, and the<br/>other 40 steps to be the same size.</p><p>I don&apos;t know if that makes sense, but I think the algorithm<br/>will work.</p><p>                         Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/21/2010 6:02:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;What I want to do is add scales<br/>&gt;to my website.  So on the page showing a regular<br/>&gt;temperament, there can be links to scales.</p><p>I&apos;m all for it!</p><p>I&apos;ll use this one from here out:</p><p><a href="http://x31eq.com/cgi-bin/rt.cgi?ets=22_19_12&error=5.0&limit=7&invariant=1_2_1_0_2_1_0_0_-5">http://x31eq.com/cgi-bin/rt.cgi?ets=22_19_12&error=5.0&limit=7&invariant=1_2_1_0_2_1_0_0_-5</a></p><p>I asked a while back for RESTful URIs based on wedgies,<br/>and I&apos;ll reiterate that now.</p><p>&gt;We can use any<br/>&gt;information on that page to find them.  Most useful is the<br/>&gt;matrix (Gene&apos;s icon I think) under &quot;Equal Temperament<br/>&gt;Mappings&quot;. This already gives us some choices for N and I<br/>&gt;don&apos;t think we need to worry about any others.<br/>&gt;Note: these are the best possible equal temperaments to<br/>&gt;give the correct regular temperament without contorsion.<br/>&gt;So they&apos;re a non-arbitrary place to start.</p><p>Best how?  Here are the patent vals N &lt; 100 that temper out<br/>225/224 (comma sequences are another thing I&apos;d add to your<br/>page before scales by the way):</p><p>(1 2 2 3)<br/>(2 3 5 6)<br/>(9 14 21 25)<br/>(10 16 23 28)<br/>(11 17 26 31)<br/>(12 19 28 34)<br/>(19 30 44 53)<br/>(20 32 46 56)<br/>(21 33 49 59)<br/>(22 35 51 62)<br/>(29 46 67 81)<br/>(31 49 72 87)<br/>(32 51 74 90)<br/>(33 52 77 93)<br/>(40 63 93 112)<br/>(41 65 95 115)<br/>(43 68 100 121)<br/>(44 70 102 124)<br/>(50 79 116 140)<br/>(51 81 118 143)<br/>(52 82 121 146)<br/>(53 84 123 149)<br/>(54 86 125 152)<br/>(60 95 139 168)<br/>(62 98 144 174)<br/>(63 100 146 177)<br/>(64 101 149 180)<br/>(72 114 167 202)<br/>(74 117 172 208)<br/>(75 119 174 211)<br/>(81 128 188 227)<br/>(82 130 190 230)<br/>(84 133 195 236)<br/>(85 135 197 239)<br/>(91 144 211 255)<br/>(93 147 216 261)<br/>(94 149 218 264)<br/>(96 152 223 270)</p><p>Your three are certainly in there.</p><p>I&apos;d give two scales, in .scl format, one for 5 &lt;= N &lt;= 10 and<br/>one for 11 &lt;= N &lt;= 100.  In each case, I&apos;d use the N from the<br/>logflat best val in that complexity range, do the &apos;rectangles<br/>with GMP&apos; thing, with the period parallel to 2 and a generator<br/>parallel to 3 as you suggested (are you already doing that for<br/>Generator Tunings?).</p><p>Failing that, an alternative is the JI block / unison vector<br/>approach I suggested, where the r largest UVs on the list are<br/>chromatic, r being the rank.  The resulting scale ought to be<br/>as small as possible if you start out with a list of UVs that<br/>are as simple as possible.  I don&apos;t know a list for marvel.<br/>Presumably one could start with its comma sequence<br/><a href="http://lumma.org/tuning/gws/commaseq.htm">http://lumma.org/tuning/gws/commaseq.htm</a><br/>and backfill it.</p><p>&gt;&gt; We figured out before that the &quot;chromatic&quot; vector must be<br/>&gt;&gt; larger than the &quot;commatic&quot; one for the block to be<br/>&gt;&gt; epimorphic.  By first finding a JI block in the primes of<br/>&gt;&gt; the temperament and then removing all but the three<br/>&gt;&gt; largest commas, I&apos;m betting we get GMP or something close<br/>&gt;&gt; to it.<br/>&gt;<br/>&gt;If you want the three largest possible unison vectors (why<br/>&gt;are you calling them commas when they aren&apos;t tempered out)</p><p>Sorry, chromas.</p><p>&gt;I think I&apos;ve got the first step sorted out now.  So here&apos;s<br/>&gt;the idea:<br/>&gt;<br/>&gt;I&apos;ll move to a periodicity block-style matrix because<br/>&gt;that&apos;s easiest to explain.  So we want the top row to be<br/>&gt;the mapping for N notes to the octave, which we have<br/>&gt;anyway.  The other mappings correspond to unison vectors.<br/>&gt;We want the total number of unison vectors in the scale to<br/>&gt;sum to less than N, which means the sum of the left hand<br/>&gt;column of the matrix should be less than 2N.</p><p>You lost me.  The number of UVs is pi(p) for a p-limit<br/>temperament, no?</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/21/2010 6:50:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;Presumably one could start with its comma sequence<br/>&gt; <a href="http://lumma.org/tuning/gws/commaseq.htm">http://lumma.org/tuning/gws/commaseq.htm</a><br/>&gt;and backfill it.</p><p>Looks like Gene&apos;s page</p><p><a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a></p><p>gives some good clues, but doesn&apos;t have all the<br/>ingredients.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 6:59:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; So there are two problems now.  One is to turn the matrix<br/>&gt; of equal temperament mappings into one that describes the<br/>&gt; steps that are going to make up the scale we want.</p><p>I&apos;ve not seen any responses to my posting on how to obtain these.</p><p>&gt; If you want the three largest possible unison vectors (why<br/>&gt; are you calling them commas when they aren&apos;t tempered out)</p><p>They *are* commas--they are commas of the val for the steps of the block. On the other hand they are not unisons and and are only vectors if you embed the monzos in a vector space, so &quot;unison vector&quot; is not very good terminology.</p><p>&gt; This gives us a 46&amp;26&amp;5<br/>&gt; scale.  In step sizes, that&apos;s 26&amp;15&amp;5.</p><p>I&apos;ll check on how the system I proposed works for 46&amp;26&amp;5.</p><p>&gt; Note that 15 got bypassed in this process.  So we&apos;re not<br/>&gt; visiting all possible equal temperaments.</p><p>Given that I showed 46&amp;31&amp;26 leads to an 11, 15, and 20 steps system, that should be clear.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 7:57:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Graham wrote:<br/>&gt;<br/>&gt; &gt;What I want to do is add scales<br/>&gt; &gt;to my website.  So on the page showing a regular<br/>&gt; &gt;temperament, there can be links to scales.<br/>&gt;<br/>&gt; I&apos;m all for it!</p><p>I&apos;ve started giving links to hobbit scales for some of the rank 3 temperaments on the xenwiki.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 7:58:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Looks like Gene&apos;s page<br/>&gt;<br/>&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a><br/>&gt;<br/>&gt; gives some good clues, but doesn&apos;t have all the<br/>&gt; ingredients.</p><p>Ingredients to do what?</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/21/2010 8:07:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Looks like Gene&apos;s page<br/>&gt;&gt;<br/>&gt;&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a><br/>&gt;&gt;<br/>&gt;&gt; gives some good clues, but doesn&apos;t have all the<br/>&gt;&gt; ingredients.<br/>&gt;<br/>&gt;Ingredients to do what?</p><p>Produce the UVs of a fokker block given a temperament<br/>of arbitrary rank.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 9:42:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; Looks like Gene&apos;s page<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a><br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; gives some good clues, but doesn&apos;t have all the<br/>&gt; &gt;&gt; ingredients.<br/>&gt; &gt;<br/>&gt; &gt;Ingredients to do what?<br/>&gt;<br/>&gt; Produce the UVs of a fokker block given a temperament<br/>&gt; of arbitrary rank.</p><p>What&apos;s a UV?</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/21/2010 9:48:29 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; &gt;Ingredients to do what?<br/>&gt;<br/>&gt; Produce the UVs of a fokker block given a temperament<br/>&gt; of arbitrary rank.</p><p>It occurs to me that UV could be short for that dubious term, &quot;unison vector&quot;. If so, the problem does not seem to be very well-defined, so you might expand on it a little. Will any Fokker block fitting the temperament and with the correct number of notes do?</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/22/2010 12:12:17 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed<br/>&gt; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; So there are two problems now.  One is to turn the<br/>&gt; &gt; matrix of equal temperament mappings into one that<br/>&gt; &gt; describes the steps that are going to make up the scale<br/>&gt; &gt; we want.<br/>&gt;<br/>&gt; I&apos;ve not seen any responses to my posting on how to<br/>&gt; obtain these.</p><p>Was that the string of postings that ended with a &quot;Doesn&apos;t<br/>work&quot;?</p><p>&gt; &gt; If you want the three largest possible unison vectors<br/>&gt; &gt; (why are you calling them commas when they aren&apos;t<br/>&gt; &gt; tempered out)<br/>&gt;<br/>&gt; They *are* commas--they are commas of the val for the<br/>&gt; steps of the block. On the other hand they are not<br/>&gt; unisons and and are only vectors if you embed the monzos<br/>&gt; in a vector space, so &quot;unison vector&quot; is not very good<br/>&gt; terminology.</p><p>It is a unison vector, which means it is unisonous.  So<br/>everything I said about them being scale steps was wrong.</p><p>It looks like the only constraint, then, is to get a<br/>mapping for N-et and some mappings for ETs less than N that<br/>are unimodular transformations of the original mappings.<br/>So this part is looking easy.  Am I missing anything?</p><p>The example of the diatonic has a left hand column 7, 5,<br/>3.  Because 5+3 is more than 7, that obviously doesn&apos;t do<br/>any harm.</p><p>For the portent example, that leaves 46&amp;31&amp;26, which does<br/>agree with one of your methods.</p><p>&gt; &gt; This gives us a 46&amp;26&amp;5<br/>&gt; &gt; scale.  In step sizes, that&apos;s 26&amp;15&amp;5.<br/>&gt;<br/>&gt; I&apos;ll check on how the system I proposed works for 46&amp;26&amp;5.</p><p>You could have a look, although it&apos;s not as interesting now.</p><p>&gt; &gt; Note that 15 got bypassed in this process.  So we&apos;re not<br/>&gt; &gt; visiting all possible equal temperaments.<br/>&gt;<br/>&gt; Given that I showed 46&amp;31&amp;26 leads to an 11, 15, and 20<br/>&gt; steps system, that should be clear.</p><p>I can see you say that, but not how you got it.</p><p>                              Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/22/2010 12:11:49 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt;&gt; Produce the UVs of a fokker block given a temperament<br/>&gt;&gt; of arbitrary rank.<br/>&gt;<br/>&gt;It occurs to me that UV could be short for that dubious term,<br/>&gt;&quot;unison vector&quot;.</p><p>Yessir.  You can see I catch flak no matter what I call them.</p><p>&gt;If so, the problem does not seem to be very well-defined, so<br/>&gt;you might expand on it a little. Will any Fokker block fitting the<br/>&gt;temperament and with the correct number of notes do?</p><p>I want a comma list that is a &quot;comma sequence&quot; with the front<br/>snapped on.  I think.</p><p>Maybe another way to say it is the TM-reduced basis of the<br/>temperament kernel, if the temperament were extended to rank 1.<br/>This page<br/><a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a><br/>seems to give a method for filling in the missing comma for<br/>a codimension n-1 temperament.  I would like to fill out three<br/>missing commas for a codimension n-3 temperament (marvel).</p><p>Does that make any sense?</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/22/2010 12:26:19 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt; I&apos;ve not seen any responses to my posting on how to<br/>&gt; &gt; obtain these.<br/>&gt;<br/>&gt; Was that the string of postings that ended with a &quot;Doesn&apos;t<br/>&gt; work&quot;?</p><p>No, the one before that.</p><p>&gt; It looks like the only constraint, then, is to get a<br/>&gt; mapping for N-et and some mappings for ETs less than N that<br/>&gt; are unimodular transformations of the original mappings.<br/>&gt; So this part is looking easy.  Am I missing anything?</p><p>Not that I can see.</p><p>&gt; &gt; &gt; This gives us a 46&amp;26&amp;5<br/>&gt; &gt; &gt; scale.  In step sizes, that&apos;s 26&amp;15&amp;5.<br/>&gt; &gt;<br/>&gt; &gt; I&apos;ll check on how the system I proposed works for 46&amp;26&amp;5.<br/>&gt;<br/>&gt; You could have a look, although it&apos;s not as interesting now.</p><p>Didn&apos;t lead to anything new.</p><p>&gt; &gt; Given that I showed 46&amp;31&amp;26 leads to an 11, 15, and 20<br/>&gt; &gt; steps system, that should be clear.<br/>&gt;<br/>&gt; I can see you say that, but not how you got it.</p><p>Which part are you talking about--the 11, 15, and 20 or the step sizes which go with them?</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/22/2010 12:36:11 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; &gt; &gt; Given that I showed 46&amp;31&amp;26 leads to an 11, 15, and<br/>&gt; &gt; &gt; 20 steps system, that should be clear.<br/>&gt; &gt;<br/>&gt; &gt; I can see you say that, but not how you got it.<br/>&gt;<br/>&gt; Which part are you talking about--the 11, 15, and 20 or<br/>&gt; the step sizes which go with them?</p><p>How you get from 46&amp;31&amp;26 to 11&amp;15&amp;20</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/22/2010 12:37:49 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; I asked a while back for RESTful URIs based on wedgies,<br/>&gt; and I&apos;ll reiterate that now.</p><p>You mean getting rid of the cgi-bin?  That&apos;s not likely to<br/>happen.  Why bring wedgies up?</p><p>&gt; &gt;We can use any<br/>&gt; &gt;information on that page to find them.  Most useful is<br/>&gt; &gt;the matrix (Gene&apos;s icon I think) under &quot;Equal Temperament<br/>&gt; &gt;Mappings&quot;. This already gives us some choices for N and I<br/>&gt; &gt;don&apos;t think we need to worry about any others.<br/>&gt; &gt;Note: these are the best possible equal temperaments to<br/>&gt; &gt;give the correct regular temperament without contorsion.<br/>&gt; &gt;So they&apos;re a non-arbitrary place to start.<br/>&gt;<br/>&gt; Best how?  Here are the patent vals N &lt; 100 that temper<br/>&gt; out 225/224 (comma sequences are another thing I&apos;d add to<br/>&gt; your page before scales by the way):</p><p>Best in terms of having the lowest badness.  What have<br/>patent vals got to do with anything?  What are comma<br/>sequences?</p><p>&gt; <a href="http://lumma.org/tuning/gws/commaseq.htm">http://lumma.org/tuning/gws/commaseq.htm</a> and backfill it.</p><p>Oh.  That looks complicated.</p><p>The best way of finding the scales looks like Paul Erlich&apos;s<br/>algorithm from the Gentle Introduction.  All I need to do<br/>is make the seeds more specific than a big chunk of the<br/>lattice.</p><p>&gt; &gt;I&apos;ll move to a periodicity block-style matrix because<br/>&gt; &gt;that&apos;s easiest to explain.  So we want the top row to be<br/>&gt; &gt;the mapping for N notes to the octave, which we have<br/>&gt; &gt;anyway.  The other mappings correspond to unison vectors.<br/>&gt; &gt;We want the total number of unison vectors in the scale<br/>&gt; &gt;to sum to less than N, which means the sum of the left<br/>&gt; &gt;hand column of the matrix should be less than 2N.<br/>&gt;<br/>&gt; You lost me.  The number of UVs is pi(p) for a p-limit<br/>&gt; temperament, no?</p><p>The number of distinct unison vectors.  But they aren&apos;t<br/>scale steps, so that paragraph was wrong.</p><p>                            Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/22/2010 1:05:18 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; &gt; &gt; Given that I showed 46&amp;31&amp;26 leads to an 11, 15, and<br/>&gt; &gt; &gt; &gt; 20 steps system, that should be clear.<br/>&gt; &gt; &gt;<br/>&gt; &gt; &gt; I can see you say that, but not how you got it.<br/>&gt; &gt;<br/>&gt; &gt; Which part are you talking about--the 11, 15, and 20 or<br/>&gt; &gt; the step sizes which go with them?<br/>&gt;<br/>&gt; How you get from 46&amp;31&amp;26 to 11&amp;15&amp;20<br/>&gt;</p><p>31+26-46 = 11<br/>46-31 = 15<br/>46-26 = 20</p><p>The main point is that 46 appears once and only once in each sum. 46 corresponds to the chroma; that is, it corresponds to a single scale step. 26 and 31 correspond to a commatic or zero step; and (31+26-46) + (46-31) + (46-26) = 46.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/22/2010 1:10:58 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt; I asked a while back for RESTful URIs based on wedgies,<br/>&gt;&gt; and I&apos;ll reiterate that now.<br/>&gt;<br/>&gt;You mean getting rid of the cgi-bin?  That&apos;s not likely to<br/>&gt;happen.  Why bring wedgies up?</p><p>1. The URL is too long<br/>2. There&apos;s no way to tell which temperament it points to<br/>3. I could never remember it</p><p>If you solve these, the cgi-bin is tolerable.  Wedgies<br/>uniquely identify temperaments and so are natural URI keys.</p><p>&gt;The best way of finding the scales looks like Paul Erlich&apos;s<br/>&gt;algorithm from the Gentle Introduction.  All I need to do<br/>&gt;is make the seeds more specific than a big chunk of the<br/>&gt;lattice.</p><p>I see an algorithm for turing UVs into a JI block.  Not the<br/>problem I think we&apos;re facing.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/22/2010 1:12:08 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>nel, if the temperament were extended to rank 1.<br/>&gt; This page<br/>&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a><br/>&gt; seems to give a method for filling in the missing comma for<br/>&gt; a codimension n-1 temperament.  I would like to fill out three<br/>&gt; missing commas for a codimension n-3 temperament (marvel).<br/>&gt;<br/>&gt; Does that make any sense?</p><p>Seems like the most straightforward way would be to get the commas from a val tempering out 225/224, or whatever comma you are thinking of, which has the right number of steps to the octave for the scale you want.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/22/2010 1:20:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; If you solve these, the cgi-bin is tolerable.  Wedgies<br/>&gt; uniquely identify temperaments and so are natural URI keys.</p><p>Graham has been using a Hermite reduction lately, I thought.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/22/2010 2:21:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; If you solve these, the cgi-bin is tolerable.  Wedgies<br/>&gt; &gt; uniquely identify temperaments and so are natural URI<br/>&gt; &gt; keys.<br/>&gt;<br/>&gt; Graham has been using a Hermite reduction lately, I<br/>&gt; thought.</p><p>Right, the &quot;invariant&quot; is a linearization of the Reduced<br/>Mapping, which looks like Hermite normal form.  The URLs<br/>aren&apos;t supposed to be hand-edited, but you could give it a<br/>try.  Please leave out the &quot;error&quot; term because that&apos;s to<br/>avoid inefficient calculations and you could specify<br/>even less efficient calculations if you get it wrong.</p><p>                     Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/22/2010 3:12:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt; Graham wrote:</p><p>&gt; &gt;The best way of finding the scales looks like Paul<br/>&gt; &gt;Erlich&apos;s algorithm from the Gentle Introduction.  All I<br/>&gt; &gt;need to do is make the seeds more specific than a big<br/>&gt; &gt;chunk of the lattice.<br/>&gt;<br/>&gt; I see an algorithm for turing UVs into a JI block.  Not<br/>&gt; the problem I think we&apos;re facing.</p><p>The UVs are in the adjoint of the matrix of mappings we<br/>start with.  I think it&apos;s possible to avoid the<br/>double-adjoint to get the &quot;inverse&quot; Paul talks about.<br/>Here&apos;s a Python method, which won&apos;t work standalone, and<br/>will have the indentation screwed up on the web interface.<br/>But, anyway, here it is:</p><p>    def periodicityBlock(self):<br/>        import matfunc<br/>        N = self.melody[0][0]<br/>        rank = len(self.melody)<br/>        mapping = matfunc.Matrix(self.melody)</p><p>        transform = matfunc.Matrix([[0]*rank]*rank)<br/>        transform[0][0] = 1<br/>        for i in range(1, rank):<br/>            transform[i][i] = N<br/>            transform[i][0] = -mapping[i][0]<br/>        cells = <a href="http://transform.tr">transform.tr</a>()*(1/N)</p><p>        def incell(vec):<br/>            for each in<br/>        matfunc.Matrix([vec]).mmul(cells)[0]: if not (0 &lt;=<br/>        each &lt;= 1): return False<br/>            return True</p><p>        octaves = [mapping[i][0] for i in range(rank)]</p><p>        def possibleVectors(i, ets):<br/>            if ets:<br/>                more = possibleVectors(i, ets[1:])<br/>                if (i*ets[0])%N == 0:<br/>                    return [[(i*ets[0])//N] + each for each<br/>        in more] lower = int(floor(i*ets[0]/N))<br/>                higher = int(ceil(i*ets[0]/N))<br/>                return ([[lower] + each for each in more] +<br/>                        [[higher] + each for each in more])<br/>            return [[]]</p><p>        for i in range(1,N+1):<br/>            yield filter(incell, possibleVectors(i,<br/>        octaves))[0]</p><p>I still get 4 step sizes for 46&amp;31&amp;26.  Also for 46&amp;15&amp;26.<br/>And I still get 3 step sizes for 46&amp;15&amp;5.</p><p>Here&apos;s the 17-limit 46&amp;31&amp;26 periodicity block:</p><p>32.862<br/>65.724<br/>87.290<br/>114.482<br/>136.048<br/>168.910<br/>184.805<br/>217.667<br/>250.529<br/>266.425<br/>299.287<br/>320.853<br/>348.044<br/>369.610<br/>402.473<br/>429.664<br/>451.230<br/>484.092<br/>499.987<br/>532.849<br/>554.416<br/>581.607<br/>603.173<br/>636.035<br/>663.226<br/>684.793<br/>717.655<br/>733.550<br/>766.412<br/>787.978<br/>815.170<br/>848.032<br/>869.598<br/>896.789<br/>918.355<br/>951.217<br/>967.113<br/>999.975<br/>1032.837<br/>1048.732<br/>1081.594<br/>1103.160<br/>1130.352<br/>1151.918<br/>1184.780<br/>1200.675</p><p>It looks like the 46&amp;31&amp;72 block is identical, so any<br/>choice of equal temperaments will do.</p><p>                      Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/22/2010 9:58:41 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; Here&apos;s the 17-limit 46&amp;31&amp;26 periodicity block:</p><p>&quot;The&quot; periodicty block?</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/22/2010 10:08:16 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed<br/>&gt; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Here&apos;s the 17-limit 46&amp;31&amp;26 periodicity block:<br/>&gt;<br/>&gt; &quot;The&quot; periodicty block?</p><p>The Fokker block.</p><p>                 Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/22/2010 10:59:49 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt;<br/>&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed<br/>&gt; &gt; &lt;gbreed@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; &gt; Here&apos;s the 17-limit 46&amp;31&amp;26 periodicity block:<br/>&gt; &gt;<br/>&gt; &gt; &quot;The&quot; periodicty block?<br/>&gt;<br/>&gt; The Fokker block.</p><p>I meant there&apos;s more than one of them.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/22/2010 12:25:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; This page<br/>&gt;&gt; <a href="http://xenharmonic.wikispaces.com/Fokker+blocks">http://xenharmonic.wikispaces.com/Fokker+blocks</a><br/>&gt;&gt; seems to give a method for filling in the missing comma for<br/>&gt;&gt; a codimension n-1 temperament.  I would like to fill out three<br/>&gt;&gt; missing commas for a codimension n-3 temperament (marvel).<br/>&gt;&gt;<br/>&gt;&gt; Does that make any sense?<br/>&gt;<br/>&gt;Seems like the most straightforward way would be to get the commas<br/>&gt;from a val tempering out 225/224, or whatever comma you are thinking<br/>&gt;of, which has the right number of steps to the octave for the<br/>&gt;scale you want.</p><p>Ok cool, so here&apos;s my suggestion.</p><p>Problem: Given a p-limit temperament T of rank R and a complexity<br/>cuttof N, return a generalized MOS scale for it with no more than<br/>N notes/octave.</p><p>Solution:</p><p>1. Find the TM-reduced basis for T.  Graham, can you<br/>add this to your site?</p><p>2. Find the logflat best val &lt; N which sends the commas<br/>of the TM-reduced basis to zero.</p><p>3. Find the TM-reduced basis of this val.</p><p>4. Use those commas to create a Fokker block, for instance<br/>with Paul&apos;s algorithm from the final installment of his<br/>Gentle Introduction.</p><p>5. Retune the lattice using the TOP-RMS &quot;Tuning map&quot;<br/>for T from Graham&apos;s site.</p><p>6. Your Fokker block should now make a scale with R unique<br/>step sizes in all interval classes (up to the period).<br/>Ok, maybe not, but I think it&apos;s worth a try.  You&apos;ll have<br/>to identify duplicate pitches after retuning the lattice,<br/>and you might have to detect rounding errors there...</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/22/2010 12:26:53 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;Right, the &quot;invariant&quot; is a linearization of the Reduced<br/>&gt;Mapping, which looks like Hermite normal form.  The URLs<br/>&gt;aren&apos;t supposed to be hand-edited,</p><p>Not RESTful.  Handslap for you, sir.  -Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/22/2010 12:31:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;The UVs are in the adjoint of the matrix of mappings we<br/>&gt;start with.</p><p>Does this wind up doing the same thing as what I just posted?</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/23/2010 1:06:16 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 22 October 2010 23:31, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt; Graham wrote:<br/>&gt;<br/>&gt;&gt;The UVs are in the adjoint of the matrix of mappings we<br/>&gt;&gt;start with.<br/>&gt;<br/>&gt; Does this wind up doing the same thing as what I just posted?</p><p>The UVs won&apos;t be TM-reduced.  I&apos;m not sure what criteria for mappings<br/>corresponds to Tenney reduction of intervals.  Maybe minimal scalar<br/>complexity (roughly).</p><p>You&apos;re also adding a load of commatic UVs, which don&apos;t contribute to<br/>the final scale.  They may affect the algebra before you temper them<br/>out.  I doubt they add any interesting properties.</p><p>                    Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/23/2010 1:27:33 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 22 October 2010 21:59, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt;&gt; The Fokker block.<br/>&gt;<br/>&gt; I meant there&apos;s more than one of them.</p><p>Then the context of my original message should have indicated which<br/>one I was talking about.</p><p>I thought there was generally only one Fokker block for a given set of<br/>unison vectors, following Paul&apos;s algorithm, but sometimes you get two<br/>notes that fit the extremes of the criteria and you need a tie-breaker<br/>rule.  There are different tunings, of course.</p><p>                    Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/23/2010 1:35:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; I thought there was generally only one Fokker block for a given set of<br/>&gt; unison vectors, following Paul&apos;s algorithm,</p><p>No, there are typically a lot of them.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/23/2010 1:42:58 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 23 October 2010 12:35, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; I thought there was generally only one Fokker block for a given set of<br/>&gt;&gt; unison vectors, following Paul&apos;s algorithm,<br/>&gt;<br/>&gt; No, there are typically a lot of them.</p><p>Are you going to explain how this paradoxical situation occurs, or<br/>shall we keep exchanging terse contradictions?</p><p>                      Graham</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/23/2010 3:17:38 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; On 23 October 2010 12:35, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt;&gt; I thought there was generally only one Fokker block for a given set of<br/>&gt; &gt;&gt; unison vectors, following Paul&apos;s algorithm,<br/>&gt; &gt;<br/>&gt; &gt; No, there are typically a lot of them.<br/>&gt;<br/>&gt; Are you going to explain how this paradoxical situation occurs, or<br/>&gt; shall we keep exchanging terse contradictions?</p><p>It&apos;s not a contradiction--you have a fundamental region, defined by a parallelepiped, which you can move without change of orientation to various positions. If you want a complete collection of the Fokker blocks, you are much better off adopting the method in the xenwiki article than messing around with this stuff, however.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/23/2010 3:49:37 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 23 October 2010 14:17, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; On 23 October 2010 12:35, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt;&gt; I thought there was generally only one Fokker block for a given set of<br/>&gt;&gt; &gt;&gt; unison vectors, following Paul&apos;s algorithm,<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt; No, there are typically a lot of them.<br/>&gt;&gt;<br/>&gt;&gt; Are you going to explain how this paradoxical situation occurs, or<br/>&gt;&gt; shall we keep exchanging terse contradictions?<br/>&gt;<br/>&gt; It&apos;s not a contradiction--you have a fundamental region, defined by a parallelepiped, which you can move without change of orientation to various positions. If you want a complete collection of the Fokker blocks, you are much better off adopting the method in the xenwiki article than messing around with this stuff, however.</p><p>There&apos;s nothing about moving in Paul&apos;s algorithm.  It uses a single<br/>block defined by the unison vectors.</p><p>Is the xenwiki algorithm equivalent to Paul&apos;s with moving<br/>parallelepipeds then?  It looks like what I was doing in the first<br/>place, with merging maximally even scales.</p><p>                           Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/23/2010 11:11:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;You&apos;re also adding a load of commatic UVs, which don&apos;t contribute to<br/>&gt;the final scale.  They may affect the algebra before you temper them<br/>&gt;out.  I doubt they add any interesting properties.</p><p>n = pi(p)<br/>r = rank</p><p>I don&apos;t think so.  I think I&apos;m keeping the same commatic UVs as<br/>the original temperament, and adding n - r new ones, which are<br/>all chromatic in the final scale.  That&apos;s the point.  The procedure<br/>finds the best chromatic UVs for the original commatic UVs.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/23/2010 11:14:10 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; There&apos;s nothing about moving in Paul&apos;s algorithm.  It uses a single<br/>&gt; block defined by the unison vectors.</p><p>I din&apos;t know what exactly you mean by &quot;Paul&apos;s algorithm&quot;, but he did discuss positioning the block somewhere. There&apos;s no positioning which has any claim to be special or better.</p><p>&gt; Is the xenwiki algorithm equivalent to Paul&apos;s with moving<br/>&gt; parallelepipeds then?</p><p>Yes.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/24/2010 1:57:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;I don&apos;t think so.  I think I&apos;m keeping the same commatic UVs as<br/>&gt;the original temperament, and adding n - r new ones,</p><p>Sorry, adding r - 1 new ones.</p><p>In the 5-limit meantone case, we get 2GMP (Myhill) from one<br/>commatic and one chromatic UV.  The latter is the difference<br/>between the L and s intervals in each interval class.</p><p>In the 7-limit marvel case, we&apos;re hoping for 3GMP from one<br/>commatic and two chromatic -- that&apos;d make sense because we<br/>need two chroma to separate L, m, and s.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/24/2010 2:37:43 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; I&apos;m not sure what criteria for mappings<br/>&gt;corresponds to Tenney reduction of intervals.  Maybe minimal scalar<br/>&gt;complexity (roughly).</p><p>Yes, that&apos;s the whole idea.  -Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/24/2010 3:31:32 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 24 October 2010 13:37, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;&gt; I&apos;m not sure what criteria for mappings<br/>&gt;&gt;corresponds to Tenney reduction of intervals. &nbsp;Maybe minimal scalar<br/>&gt;&gt;complexity (roughly).<br/>&gt;<br/>&gt; Yes, that&apos;s the whole idea. &nbsp;-Carl</p><p>So if you want vals of minimal complexity, you can look for them.  No<br/>need to minimize a larger set of unison vectors, some of them ghostly<br/>commas that you&apos;re going to throw away, in order to do it.</p><p>                        Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/24/2010 3:47:23 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 23 October 2010 22:14, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; There&apos;s nothing about moving in Paul&apos;s algorithm. &nbsp;It uses a single<br/>&gt;&gt; block defined by the unison vectors.<br/>&gt;<br/>&gt; I din&apos;t know what exactly you mean by &quot;Paul&apos;s algorithm&quot;, but he did discuss positioning the block somewhere. There&apos;s no positioning which has any claim to be special or better.</p><p>Then how you can be sure it gives multiple results?  Here&apos;s the link again:</p><p><a href="http://sonic-arts.org/td/erlich/intropblock3.htm">http://sonic-arts.org/td/erlich/intropblock3.htm</a></p><p>The unit cubes are defined as between 0 an 1.  That&apos;s probably where<br/>you could position things differently.  But he doesn&apos;t.  And that&apos;s<br/>the algorithm I&apos;m following (maybe not perfectly) and always said I<br/>was following.</p><p>&gt;&gt; Is the xenwiki algorithm equivalent to Paul&apos;s with moving<br/>&gt;&gt; parallelepipeds then?<br/>&gt;<br/>&gt; Yes.</p><p>S[i] = floor((e1*i + a1)/P)*t1 + ... + floor((en*i + an)/P)*tn</p><p>It looks like what I was originally using, and trying different<br/>parameters to minimize the number of distinct scale steps.  So mixing<br/>maximally even templates and periodicity blocks are the same<br/>generalization of MOS scales.  But they don&apos;t always have a<br/>generalization of Myhill&apos;s property.</p><p>Commatic unison vectors will disappear and not contribute to the<br/>result at all.  But maybe they imply a change in orientation for<br/>Paul&apos;s formula.  I&apos;ll have to ponder that.</p><p>Notice that all we need the temperament to give us in either case is:</p><p>1) The total number of steps to the octave.</p><p>2) The number of steps to the octave for each generating ET.</p><p>3) The tempered step size for each generating ET, as on the website.</p><p>The unison vectors are implied by this.</p><p>                              Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/24/2010 10:33:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt;&gt; I&apos;m not sure what criteria for mappings<br/>&gt;&gt;&gt;corresponds to Tenney reduction of intervals.  Maybe minimal scalar<br/>&gt;&gt;&gt;complexity (roughly).<br/>&gt;&gt;<br/>&gt;&gt; Yes, that&apos;s the whole idea.  -Carl<br/>&gt;<br/>&gt;So if you want vals of minimal complexity, you can look for them.  No<br/>&gt;need to minimize a larger set of unison vectors, some of them ghostly<br/>&gt;commas that you&apos;re going to throw away, in order to do it.</p><p>I have no idea what you mean.  I&apos;m not throwing away any commas.<br/>I&apos;m finding the natural chroma for the scale.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/25/2010 2:34:55 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 24 October 2010 21:33, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; I have no idea what you mean.  I&apos;m not throwing away any commas.<br/>&gt; I&apos;m finding the natural chroma for the scale.</p><p>The message I thought I was replying to says this:</p><p>&quot;Problem: Given a p-limit temperament T of rank R and a complexity<br/>cuttof N, return a generalized MOS scale for it with no more than<br/>N notes/octave.&quot;</p><p>So it looks like you don&apos;t have a scale.  You&apos;re trying to find a<br/>scale.  After that you said:</p><p>&quot;1. Find the TM-reduced basis for T.  Graham, can you<br/>add this to your site?&quot;</p><p>A TM-reduced basis for a temperament is a set of commatic unison<br/>vectors, isn&apos;t it?  They&apos;re commas you&apos;re going to throw away.  I said<br/>you don&apos;t need them.</p><p>To make things clear, here&apos;s the Python code for generating Fokker<br/>blocks according to Paul&apos;s algorithm:</p><p>from __future__ import division</p><p>def fokkerBlock(*octaves):<br/>    return zip(*[maximallyEven(octaves[0], j, -1) for j in octaves])</p><p>def maximallyEven(d, n, rotation=0):<br/>    &quot;&quot;&quot;A maximally even d from n scale.<br/>    Rotations from 1 to d should cover all possibilities.<br/>    &quot;&quot;&quot;<br/>    return [(i*n + n + rotation%d)//d for i in range(d)]</p><p>This is all you need to find scales with generalized Myhill&apos;s<br/>property.  There will be constraints on the valid tunings that relate<br/>to the mapping from JI.  But you don&apos;t need commatic unison vectors<br/>for that.  The commatic unison vectors completely disappear from the<br/>problem.</p><p>For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>fokkerBlock(46, 72, 31).  You can try different numbers until you get<br/>a scale you like.</p><p>Here&apos;s a function that verifies the result complies with Paul&apos;s condition:</p><p>def checkFokker(*octaves):<br/>    N = octaves[0]<br/>    for row in fokkerBlock(*octaves):<br/>        for j, octave in enumerate(octaves):<br/>            assert 0 &lt;= N*row[j] - row[0]*octave &lt; N</p><p>It may not be obvious that this is Paul&apos;s unit cell.  If Gene doesn&apos;t<br/>cover it, I might have to write it up.  But that&apos;s how you do it.</p><p>                   Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/25/2010 2:46:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&quot;1. Find the TM-reduced basis for T.  Graham, can you<br/>&gt;add this to your site?&quot;<br/>&gt;<br/>&gt;A TM-reduced basis for a temperament is a set of commatic unison<br/>&gt;vectors, isn&apos;t it?</p><p>I turn them into commatic unison vectors in a particular<br/>Fokker block setting, yes.  Anyway, TM-reduced bases are useful<br/>for more than this particular application.</p><p>&gt;To make things clear, here&apos;s the Python code for generating Fokker<br/>&gt;blocks according to Paul&apos;s algorithm:<br/>&gt;<br/>&gt;from __future__ import division<br/>&gt;<br/>&gt;def fokkerBlock(*octaves):<br/>&gt;    return zip(*[maximallyEven(octaves[0], j, -1) for j in octaves])<br/>&gt;<br/>&gt;def maximallyEven(d, n, rotation=0):<br/>&gt;    &quot;&quot;&quot;A maximally even d from n scale.<br/>&gt;    Rotations from 1 to d should cover all possibilities.<br/>&gt;    &quot;&quot;&quot;<br/>&gt;    return [(i*n + n + rotation%d)//d for i in range(d)]</p><p>Thanks!</p><p>&gt;This is all you need to find scales with generalized Myhill&apos;s<br/>&gt;property.</p><p>How so?  Can you find scales with GMP for arbitrary temperaments?</p><p>&gt;There will be constraints on the valid tunings that relate<br/>&gt;to the mapping from JI.  But you don&apos;t need commatic unison vectors<br/>&gt;for that.  The commatic unison vectors completely disappear from the<br/>&gt;problem.</p><p>The chromatic vectors are what we want, yes, but they depend<br/>on what the commatic vectors are.</p><p>&gt;For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>&gt;fokkerBlock(46, 72, 31).  You can try different numbers until you get<br/>&gt;a scale you like.</p><p>This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>input.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/25/2010 3:22:57 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 25 October 2010 13:46, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt;&gt;This is all you need to find scales with generalized Myhill&apos;s<br/>&gt;&gt;property.<br/>&gt;<br/>&gt; How so? &nbsp;Can you find scales with GMP for arbitrary temperaments?</p><p>What I meant is, if you want to find Fokker blocks with GMP, you can<br/>use this code.  I don&apos;t know how to do it.  But you can experiment<br/>with different octave sizes.</p><p>&gt;&gt;There will be constraints on the valid tunings that relate<br/>&gt;&gt;to the mapping from JI. &nbsp;But you don&apos;t need commatic unison vectors<br/>&gt;&gt;for that. &nbsp;The commatic unison vectors completely disappear from the<br/>&gt;&gt;problem.<br/>&gt;<br/>&gt; The chromatic vectors are what we want, yes, but they depend<br/>&gt; on what the commatic vectors are.</p><p>All contribution of the commatic vectors vanishes.  All you need to<br/>know is the tempered size of each unison vector that you don&apos;t temper<br/>out, and the number of them you have in an octave.</p><p>&gt;&gt;For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>&gt;&gt;fokkerBlock(46, 72, 31). &nbsp;You can try different numbers until you get<br/>&gt;&gt;a scale you like.<br/>&gt;<br/>&gt; This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>&gt; input.</p><p>The unison vectors are implicitly [0, 1, 0&gt; and [0, 0, 1&gt;.  For<br/>vectors in an arbitrary lattice, you transform them into the lattice<br/>where this is true.</p><p>                    Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/25/2010 10:04:43 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt;&gt;This is all you need to find scales with generalized Myhill&apos;s<br/>&gt;&gt;&gt;property.<br/>&gt;&gt;<br/>&gt;&gt; How so?  Can you find scales with GMP for arbitrary temperaments?<br/>&gt;<br/>&gt;What I meant is, if you want to find Fokker blocks with GMP, you can<br/>&gt;use this code.  I don&apos;t know how to do it.  But you can experiment<br/>&gt;with different octave sizes.</p><p>I don&apos;t know how either.  I looked at some 5-limit blocks (with<br/>two chroma) and they didn&apos;t have GMP.  They had 4, 3, or 2 sizes<br/>per interval class.  Like in majsyn3, the 2nds are</p><p>250/243, 25/24, 16/15, 27/25<br/>        ^      ^      ^<br/>     81/80  128/125  81/80</p><p>81/80 and (128/125 - 81/80) = 648/625 are the chroma.  We know<br/>if we temper one of them out we get a rank 2 scale, because<br/>there&apos;s only one chroma left to separate intervals per class.</p><p>My procedure first finds the ideal commas to complete a block<br/>in the p-limit along with the commas of the given temperament.<br/>Ideal in the sense that they result in a small block without<br/>much additional error (since they appear together in one of<br/>the best ETs).  Then I detemper the ET back to the commas of<br/>the given temperament, leaving the r - 1 chroma I found.  So<br/>for rank 3 marvel, there will be two chroma, capable of<br/>separating three interval sizes per class (though worryingly<br/>from the above, potentially capable of separating more).<br/>I&apos;d love to compute some examples but I don&apos;t have a procedure<br/>for finding TM-reduced bases for arbitrary temperaments.</p><p>&gt;&gt; The chromatic vectors are what we want, yes, but they depend<br/>&gt;&gt; on what the commatic vectors are.<br/>&gt;<br/>&gt;All contribution of the commatic vectors vanishes.</p><p>Nonsense.  They are tempering down the block just as in the<br/>rank 2 case and its celebrated Hypothesis.</p><p>&gt;All you need to know is the tempered size of each unison vector<br/>&gt;that you don&apos;t temper out, and the number of them you have in<br/>&gt;an octave.</p><p>Great, how are you going to find that?  We&apos;re not given the<br/>untempered UVs.  You keep solving a problem other than the<br/>one stated.</p><p>&gt;&gt;&gt;For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>&gt;&gt;&gt;fokkerBlock(46, 72, 31).  You can try different numbers until you get<br/>&gt;&gt;&gt;a scale you like.<br/>&gt;&gt;<br/>&gt;&gt; This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>&gt;&gt; input.<br/>&gt;<br/>&gt;The unison vectors are implicitly [0, 1, 0&gt; and [0, 0, 1&gt;.</p><p>I have no idea how you got that, nor do I particularly<br/>care.  What&apos;s the point creating some obfuscating notation<br/>like &quot;(7, 5, 3)&quot;?</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/25/2010 11:40:21 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; It may not be obvious that this is Paul&apos;s unit cell.  If Gene doesn&apos;t<br/>&gt; cover it, I might have to write it up.  But that&apos;s how you do it.</p><p>I don&apos;t read Python, alas.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/25/2010 11:42:37 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; &gt;For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>&gt; &gt;fokkerBlock(46, 72, 31).  You can try different numbers until you get<br/>&gt; &gt;a scale you like.<br/>&gt;<br/>&gt; This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>&gt; input.</p><p>Does it give the same blocks as in my Fokker block surveys?</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/25/2010 12:06:19 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; It may not be obvious that this is Paul&apos;s unit cell.  If Gene doesn&apos;t<br/>&gt;&gt; cover it, I might have to write it up.  But that&apos;s how you do it.<br/>&gt;<br/>&gt;I don&apos;t read Python, alas.</p><p>That&apos;s ok, all the action is clearly happening elsewhere<br/>in Graham&apos;s library, which, I&apos;m sure he&apos;ll be quick to point<br/>out, is available.  But that&apos;s not the same as posting an<br/>algorithm.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/25/2010 12:08:20 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt;&gt; This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>&gt;&gt; input.<br/>&gt;<br/>&gt;Does it give the same blocks as in my Fokker block surveys?</p><p>It&apos;s a simple algorithm, which I reckon would be very easy for<br/>you to implement:</p><p><a href="http://www.tonalsoft.com/enc/f/fokker-gentle-3.aspx">http://www.tonalsoft.com/enc/f/fokker-gentle-3.aspx</a></p><p>-C.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/25/2010 12:22:36 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; 81/80 and (128/125 - 81/80) = 648/625 are the chroma.</p><p>I thought they were the commas. A chroma would be, for instance, 16/15. Or so I thought.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/25/2010 12:26:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 12:22 PM 10/25/2010, you wrote:<br/>&gt;<br/>&gt;<br/>&gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; 81/80 and (128/125 - 81/80) = 648/625 are the chroma.<br/>&gt;<br/>&gt;I thought they were the commas. A chroma would be, for instance,<br/>&gt;16/15. Or so I thought.</p><p>A chroma or chromatic interval is an interval not in a scale,<br/>at least the way I use the term.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/26/2010 12:52:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 25 October 2010 22:42, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; &gt;For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>&gt;&gt; &gt;fokkerBlock(46, 72, 31). &nbsp;You can try different numbers until you get<br/>&gt;&gt; &gt;a scale you like.<br/>&gt;&gt;<br/>&gt;&gt; This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>&gt;&gt; input.<br/>&gt;<br/>&gt; Does it give the same blocks as in my Fokker block surveys?</p><p>What surveys?  It certainly should give the same blocks because it&apos;s<br/>pretty much an identical formula.  Here it is again:</p><p>S[i] = floor((e1*i + a1)/P)*t1 + ... + floor((en*i + an)/P)*tn</p><p>To match Paul, set ak=1-P, or re-write</p><p>S[i] = ceil(e1*i/P)*t1 + ... + ceil(en*i/P)*tn</p><p>                 Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/26/2010 2:15:23 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 25 October 2010 21:04, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; I don&apos;t know how either. &nbsp;I looked at some 5-limit blocks (with<br/>&gt; two chroma) and they didn&apos;t have GMP. &nbsp;They had 4, 3, or 2 sizes<br/>&gt; per interval class. &nbsp;Like in majsyn3, the 2nds are<br/>&gt;<br/>&gt; 250/243, 25/24, 16/15, 27/25<br/>&gt; &nbsp; &nbsp; &nbsp; &nbsp;^ &nbsp; &nbsp; &nbsp;^ &nbsp; &nbsp; &nbsp;^<br/>&gt; &nbsp; &nbsp; 81/80 &nbsp;128/125 &nbsp;81/80<br/>&gt;<br/>&gt; 81/80 and (128/125 - 81/80) = 648/625 are the chroma. &nbsp;We know<br/>&gt; if we temper one of them out we get a rank 2 scale, because<br/>&gt; there&apos;s only one chroma left to separate intervals per class.</p><p>Right, it looks difficult.  The rank 2 properties aren&apos;t all inherited.</p><p>&gt; My procedure first finds the ideal commas to complete a block<br/>&gt; in the p-limit along with the commas of the given temperament.<br/>&gt; Ideal in the sense that they result in a small block without<br/>&gt; much additional error (since they appear together in one of<br/>&gt; the best ETs). &nbsp;Then I detemper the ET back to the commas of<br/>&gt; the given temperament, leaving the r - 1 chroma I found. &nbsp;So<br/>&gt; for rank 3 marvel, there will be two chroma, capable of<br/>&gt; separating three interval sizes per class (though worryingly<br/>&gt; from the above, potentially capable of separating more).<br/>&gt; I&apos;d love to compute some examples but I don&apos;t have a procedure<br/>&gt; for finding TM-reduced bases for arbitrary temperaments.</p><p>I worked out a 46 note Portent example in Pari/GP last night.  First<br/>you need these functions:</p><p>get ratios(rows) = {<br/>    local(size);<br/>    size = matsize(rows);<br/>    vector(size[1], j, prod(i=1, size[2], prime(i)^rows[j,i]))<br/>}</p><p>complexity metric(plimit) = {<br/>    local(size, H, W);<br/>    size = primepi(plimit);<br/>    H = log(primes(size))/log(2);<br/>    W = matrix(size,size,i,j,(i==j)/H[i]);<br/>    W^2 / (H*W^2*H~)<br/>}</p><p>Then I define the Portent mapping like this:</p><p>portent = [46, 73, 107, 129, 159, 170, 188;31, 49, 72, 87, 107, 115,<br/>127;72, 114, 167, 202, 249, 266, 294]</p><p>Each think between semicolons is an equal temperament mapping, or val.<br/> This is a one liner.  GP won&apos;t like it unless you type it in one<br/>line.  It may not be the correct 17-limit Portent but it doesn&apos;t<br/>really matter.</p><p>You can extract the 46 note mapping like this:</p><p>h46 = portent[,1]</p><p>But there&apos;s an interesting feature of Pari that means it won&apos;t find<br/>the kernel (null space) of single column.  So this is how you do it:</p><p>uv46 = matkerint([46, 73, 107, 129, 159, 170, 188;0,0,0,0,0,0,0])~</p><p>Those seem to be returned in Hermite normal form, and the variant that<br/>makes most sense for ratio space vectors.  But what we really want is<br/>a minimal set.  Unfortunately, Pari doesn&apos;t have (that I can find) a<br/>function to reduce a lattice basis according to a quadratic form.  So<br/>we have to look for small vectors.  First, define the matrix for<br/>complexity:</p><p>invk = matadjoint(complexity metric(17))/matdet(complexity metric(17)</p><p>This is a roundabout way of specifying the complexity of a ratio space<br/>vector, but I happened to write the function for mappings first, so<br/>there.</p><p>The unison vectors we want come from this:</p><p>best46 = qfminim(uv46 * invk * uv46~, 430, 20, 2)[3]~ * uv46</p><p>There&apos;s a magic number &quot;430&quot; that happens to be the appropriate<br/>cutoff.  I found it by trial and error.  Future (or even present)<br/>versions of Pari might make it easier.</p><p>Anyway, I went through removing the most common vectors and checking<br/>if the kernel was still correct.  This is, I believe, the optimal set:</p><p>tuv46 = [-1, -2, -1, 1, 0, 1, 0; -1, 2, 0, -1, -1, 0, 1; 3, -3, -1, 0,<br/>0, 0, 1; 4, 0, -2, -1, 1, 0, 0; 2, -1, -1, 2, 0, -1, 0; -4, 1, -1, -1,<br/>1, 0, 1]</p><p>As ratios:</p><p> 91/90, 153/154, 136/135, 176/175, 196/195, 561/560</p><p>These come from get ratios(tuv46) which is why I gave you that function.</p><p>To get the unison vectors in terms of the original Portent basis:</p><p>planarUVs = tuv46 * portent</p><p>And the result is:</p><p>[0, 1, 1; 0, 0, -1; 0, 1, 1; 0, 0, 1; 0, 0, 1; 0, 0, 0]</p><p>The only independent vectors here note tempered out by Portent are<br/>[0,1,1] and [0,0,1].  So these will be the chromatic unison vectors<br/>for Portent.  The numbers of them to the octave will be 72 and<br/>31+72=103.  Pari/GP is also smart enough to calculate that:</p><p>tuv46 * portent * portent[1,]~</p><p>You can now call the Python function with 46, 103, 72 and find that<br/>the resulting scale has 4 distinct step sizes.</p><p>Simple unison vectors are clearly not giving simple mappings.  My<br/>suggestion that minimizing scalar complexity in one also minimizes it<br/>into the other is wrong.  I think what&apos;s really happening is that<br/>minimizing scalar complexity in the unison vectors minimizes scalar<br/>badness (error*complexity) in the mappings.  That follows from<br/>complexity and simple badness being dual in some sense I&apos;ll pretend to<br/>understand.</p><p>&gt;&gt;&gt; The chromatic vectors are what we want, yes, but they depend<br/>&gt;&gt;&gt; on what the commatic vectors are.<br/>&gt;&gt;<br/>&gt;&gt;All contribution of the commatic vectors vanishes.<br/>&gt;<br/>&gt; Nonsense. &nbsp;They are tempering down the block just as in the<br/>&gt; rank 2 case and its celebrated Hypothesis.</p><p>The block gets tempered the same way regardless of which commatic<br/>unison vectors you choose.  The only requirement is that they&apos;re<br/>tempered out by the temperament in question.</p><p>&gt;&gt;All you need to know is the tempered size of each unison vector<br/>&gt;&gt;that you don&apos;t temper out, and the number of them you have in<br/>&gt;&gt;an octave.<br/>&gt;<br/>&gt; Great, how are you going to find that? &nbsp;We&apos;re not given the<br/>&gt; untempered UVs. &nbsp;You keep solving a problem other than the<br/>&gt; one stated.</p><p>I find my mappings by looking at equal temperaments with low Cangwu<br/>badness.  The number of each in an octave is the number of steps to<br/>the octave.  Their tempered sizes come from a least squares<br/>optimization.</p><p>If your hunch is correct, you should be looking at equal temperaments<br/>with minimal scalar badness (error*complexity or 0-badness).  Although<br/>the scalar badness metric is only positive semidefinite, when you<br/>constrain it to a temperament lattice (like in the Pari examples I&apos;ve<br/>given) it becomes positive definite.  Pari is then happy to minimize<br/>it for you.</p><p>&gt;&gt;&gt;&gt;For a diatonic you do fokkerBlock(7, 5, 3), and for a Portent scale<br/>&gt;&gt;&gt;&gt;fokkerBlock(46, 72, 31). &nbsp;You can try different numbers until you get<br/>&gt;&gt;&gt;&gt;a scale you like.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; This isn&apos;t Paul&apos;s algorithm then, which takes UVs as its<br/>&gt;&gt;&gt; input.<br/>&gt;&gt;<br/>&gt;&gt;The unison vectors are implicitly [0, 1, 0&gt; and [0, 0, 1&gt;.<br/>&gt;<br/>&gt; I have no idea how you got that, nor do I particularly<br/>&gt; care. &nbsp;What&apos;s the point creating some obfuscating notation<br/>&gt; like &quot;(7, 5, 3)&quot;?</p><p>What does the notation matter?  You can re-write it to (fokkerBlock 7<br/>5 3) in your head if you prefer.  Python is what I happened to use to<br/>implement it.</p><p>                    Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/26/2010 10:49:14 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;portent = [46, 73, 107, 129, 159, 170, 188;31, 49, 72, 87, 107, 115,<br/>&gt;127;72, 114, 167, 202, 249, 266, 294]<br/>[snip]<br/>&gt;Simple unison vectors are clearly not giving simple mappings.  My<br/>&gt;suggestion that minimizing scalar complexity in one also minimizes it<br/>&gt;into the other is wrong.  I think what&apos;s really happening is that<br/>&gt;minimizing scalar complexity in the unison vectors minimizes scalar<br/>&gt;badness (error*complexity) in the mappings.  That follows from<br/>&gt;complexity and simple badness being dual in some sense I&apos;ll pretend to<br/>&gt;understand.</p><p>Why did you choose a 17-limit, 46-note example the first time<br/>out of the gate?  I can&apos;t follow half of what you&apos;re doing here,<br/>probably because you haven&apos;t explained it.  At any rate, if you<br/>worked examples like pajara, meantone, marvel in the 7-limit<br/>and actually posted the scales, maybe I&apos;d have a chance of<br/>convincing myself of something.</p><p>&gt;If your hunch is correct, you should be looking at equal temperaments<br/>&gt;with minimal scalar badness (error*complexity or 0-badness).</p><p>That is what my procedure says to do.</p><p>&gt;Although the scalar badness metric is only positive semidefinite,<br/>&gt;when you constrain it to a temperament lattice (like in the Pari<br/>&gt;examples I&apos;ve given) it becomes positive definite.  Pari is then<br/>&gt;happy to minimize it for you.</p><p>I don&apos;t need any of that for my procedure, just TM-reduction.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/26/2010 12:16:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; I don&apos;t need any of that for my procedure, just TM-reduction.</p><p>All three of us could take a specific small but interesting example, such as constructing an 11-note scale for starling using the starling val &lt;11 18 26 31|, and explaining things as best as possible.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/26/2010 3:01:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:<br/>&gt;&gt; I don&apos;t need any of that for my procedure, just TM-reduction.<br/>&gt;<br/>&gt;All three of us could take a specific small but interesting example,<br/>&gt;such as constructing an 11-note scale for starling using the starling<br/>&gt;val &lt;11 18 26 31|, and explaining things as best as possible.</p><p>What&apos;s the TM-reduced basis for the val?</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/26/2010 3:21:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Gene wrote:<br/>&gt; &gt;&gt; I don&apos;t need any of that for my procedure, just TM-reduction.<br/>&gt; &gt;<br/>&gt; &gt;All three of us could take a specific small but interesting example,<br/>&gt; &gt;such as constructing an 11-note scale for starling using the starling<br/>&gt; &gt;val &lt;11 18 26 31|, and explaining things as best as possible.<br/>&gt;<br/>&gt; What&apos;s the TM-reduced basis for the val?</p><p>{16/15, 49/45, 126/125}</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/26/2010 7:16:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; All three of us could take a specific small but interesting example, such as constructing an 11-note scale for starling using the starling val &lt;11 18 26 31|, and explaining things as best as possible.</p><p>Consider the Hermite normal form mapping/ikon for starling. This gives (tempered) 2, 3, and 5 as generators for the intervals of the temperament. In this subgroup, the &lt;11 18 26 31| val becomes &lt;11 18 26|. A basis for the commas is 16/15 and 3125/2916.</p><p>Now form a projection matrix by the following proceedure:</p><p>(1) Weight the monzos for 2, 16/15 and 3125/2916 by &lt;1 log2(3) log2(5)|; call these u1, u2, and u3.</p><p>(2) Take the matrix M whose rows are these weighted monzos, and find<br/>Q = M&grave;M, where M&grave; is the pseudoinverse. The projection matrix is now P = I - Q, where I is the identity matrix.</p><p>(3) Project u2 and u3 (u1 projects to zero) by v2 = u2.P, v3 = u3.P.</p><p>(4) v2 and v3 span a subspace of R^4, the 4-dimensional real Euclidean space with dot product norm, and define a lattice on this subspace. Find the Minkowski basis for this subspace, which consists of the projections of 16/15 and 15625/15552.</p><p>(5) If you take all 11 Fokker blocks for these commas, you find the transversal for the hobbit scale is one of them. But you don&apos;t need to worry about that; instead take just one such Fokker block, and for each scale step z, project z and find which of the nine choices z+-v2+-v3 is closest to the origin. Nine should be enough, but 25 would not unduly strain computing resources. The corresponding 5-limit interval is in the transversal for the hobbit.</p><p>Step five involves the problem of finding a lattice point closest to a given point, which in theory is NP-hard. In spite of your no doubt fervently held belief that P does not equal NP, we don&apos;t actually have a hard problem, since in rank three we are looking at a planar lattice, and we can&apos;t stack up very many commas without running over the boundries for a scale step.</p><p>By the way, the counterexample I thought I had to the claim that all hobbits come from a Minkowski basis in terms of the projection metric was a mistake, so I suppose I&apos;d better see if I can think of a proof.</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/26/2010 7:20:27 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; (5) If you take all 11 Fokker blocks for these commas, you find the transversal for the hobbit scale is one of them. But you don&apos;t need to worry about that; instead take just one such Fokker block, and for each scale step z, project z and find which of the nine choices z+-v2+-v3 is closest to the origin. Nine should be enough, but 25 would not unduly strain computing resources. The corresponding 5-limit interval is in the transversal for the hobbit.</p><p>I was assuming we&apos;d switched basis to 16/15 15625/15552 for v2 and v3; if we don&apos;t, we&apos;d better go with the 25.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/26/2010 9:16:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; What&apos;s the TM-reduced basis for the val?<br/>&gt;<br/>&gt; {16/15, 49/45, 126/125}</p><p>Thanks.  Just so there&apos;s no confusion, this is the problem<br/>I&apos;m solving:</p><p>&gt; Problem: Given a p-limit temperament T of rank R and a complexity<br/>&gt; cuttof N, return a generalized MOS scale for it with no more than<br/>&gt; N notes/octave.</p><p>We have</p><p>p = 7<br/>T = 126/125<br/>R = 3</p><p>and instead of a complexity cutoff to find a val, it&apos;s given.</p><p>Steps to solution, following<br/><a href="http://groups.yahoo.com/group/tuning-math/message/18248">http://groups.yahoo.com/group/tuning-math/message/18248</a></p><p>&gt; 1. Find the TM-reduced basis for T.</p><p>126/125</p><p>&gt; 2. Find the logflat best val &lt; N which sends the commas<br/>&gt; of the TM-reduced basis to zero.</p><p>Given.  &lt; 11 18 26 31 |</p><p>&gt; 3. Find the TM-reduced basis of this val.</p><p>(16/15, 49/45, 126/125)</p><p>&gt; 4. Use those commas to create a Fokker block, for instance<br/>&gt; with Paul&apos;s algorithm from the final installment of his<br/>&gt; Gentle Introduction.</p><p>| 4 -1 -1 0 &gt;<br/>| 0 -2 -1 2 &gt;<br/>| 1  2 -3 1 &gt;</p><p>ignoring 2...</p><p>| -1 -1 0 &gt;<br/>| -2 -1 2 &gt;<br/>|  2 -3 1 &gt;</p><p>check: (det3x3 &apos;((-1 -1 0) (-2 -1 2) (2 -3 1))) -&gt; -11  OK</p><p>Now we&apos;ll need the inverse.  Wolfram Alpha sez</p><p>(-5/11 -1/11 2/11)<br/>(-6/11 1/11 -2/11)<br/>(-8/11 5/11 1/11)</p><p>Now we transform a bunch of 3-5-7 lattice with this (I used a<br/>cube +/- 5 in each direction from the origin), get the unit cube,</p><p>((0 0 0) (10/11 2/11 7/11) (5/11 1/11 9/11) (9/11 4/11 3/11)<br/>(4/11 3/11 5/11) (3/11 5/11 1/11) (8/11 6/11 10/11) (7/11 8/11 6/11)<br/>(2/11 7/11 8/11) (6/11 10/11 2/11) (1/11 9/11 4/11))</p><p>transform back using the original matrix,</p><p>((0  0 0)<br/> (0 -3 1)<br/> (1 -3 1)<br/>(-1 -2 1)<br/> (0 -2 1)<br/>(-1 -1 1)<br/> (0 -4 2)<br/>(-1 -3 2)<br/> (0 -3 2)<br/>(-2 -2 2)<br/>(-1 -2 2))</p><p>and finally, translate by +3 in prime 5 and -1 in prime 7</p><p>((0  3 -1)<br/> (0  0 0)<br/> (1  0  0)<br/>(-1  1 0)<br/> (0  1  0)<br/>(-1  2  0)<br/> (0 -1  1)<br/>(-1  0  1)<br/> (0  0 1)<br/>(-2  1  1)<br/>(-1  1 1))</p><p>&gt; 5. Retune the lattice using the TOP-RMS &quot;Tuning map&quot;<br/>&gt; for T from Graham&apos;s site.</p><p><a href="http://x31eq.com/cgi-bin/rt.cgi?ets=27_19_12&error=4.715&limit=7&invariant=1_3_1_0_-2_1_0_0_-1">http://x31eq.com/cgi-bin/rt.cgi?ets=27_19_12&error=4.715&limit=7&invariant=1_3_1_0_-2_1_0_0_-1</a></p><p>(fucking URL)</p><p>says &lt; 1199.795 1900.927 2789.622 3367.214 |</p><p>I&apos;ll ignore the fact that the octave isn&apos;t pure -- its error<br/>is small relative to a 11-note scale so I should be OK.</p><p>79.7<br/>272.7<br/>275.2<br/>582.6<br/>585.1<br/>778.1<br/>892.6<br/>969.7<br/>1088.0<br/>1165.2<br/>2/1</p><p>&gt;6. Your Fokker block should now make a scale with R unique<br/>&gt;step sizes in all interval classes (up to the period).<br/>&gt;Ok, maybe not, but I think it&apos;s worth a try. You&apos;ll have<br/>&gt;to identify duplicate pitches after retuning the lattice,<br/>&gt;and you might have to detect rounding errors there...</p><p>Here&apos;s the part where I reveal that I&apos;m not producing an<br/>11-note scale at all.  I can&apos;t produce a cardinality to<br/>order.  I could conceivable try every size up to 100 and<br/>report the numbers I get out.</p><p>I&apos;ve got two pairs of dupes above, likely made further<br/>apart by the fact that the tuning I used was meant for<br/>tempered octaves.  I&apos;ll try reducing with Graham&apos;s octave<br/>instead of 1200 cents and make an educated guess about<br/>which ones to omit:</p><p>!<br/> starling[9] 7-limit rank 3 scale<br/> 9<br/>!<br/> 80.3<br/> 273.3<br/> 583.0<br/> 778.7<br/> 892.8<br/> 970.3<br/> 1088.5<br/> 1166.0<br/> 2/1<br/>!</p><p>It does not seem to have 3GMP, having what appears to be<br/>five kinds of 2nd, for starters.  It&apos;s possible I screwed<br/>up somewhere.  Hopefully someone will be kind enough to<br/>look this over.  Meanwhile, I see you&apos;ve (Gene) added<br/>&quot;Minkowski blocks&quot; to the wiki, including some for Starling...</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/26/2010 9:20:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>For the droves of people who are interested, here&apos;s the code<br/>I used...</p><p>;; --------------------------------------------------------------</p><p>;; Finds the determinant of a 3x3 matrix.</p><p>(define det3x3<br/>   (lambda (mat)<br/>      (let ((a (caar mat))<br/>            (b (cadar mat))<br/>            (c (caddar mat))<br/>            (d (caadr mat))<br/>            (e (cadadr mat))<br/>            (f (caddr (cadr mat)))<br/>            (g (caaddr mat))<br/>            (h (cadr (caddr mat)))<br/>            (i (caddr (caddr mat))))<br/>         (- (+ (* a e i) (* b f g) (* c d h))<br/>            (* c e g) (* a f h) (* b d i)))))</p><p>;; Multiplies a 3-column vector by a 3x3 matrix.</p><p>(define mult3x3<br/>   (lambda (vec mat)<br/>      (let ((a (car vec))<br/>            (b (cadr vec))<br/>            (c (caddr vec))<br/>            (d (caar mat))<br/>            (e (cadar mat))<br/>            (f (caddar mat))<br/>            (g (caadr mat))<br/>            (h (cadadr mat))<br/>            (i (caddr (cadr mat)))<br/>            (j (caaddr mat))<br/>            (k (cadr (caddr mat)))<br/>            (l (caddr (caddr mat))))<br/>         (list (+ (* a d) (* b g) (* c j))<br/>               (+ (* a e) (* b h) (* c k))<br/>               (+ (* a f) (* b i) (* c l))))))</p><p>;; Takes a list of numbers defining origin-centered radii for<br/>;; each lattice axis, and returns all monzos in the resulting<br/>;; lattice area.</p><p>(define lattice-ball<br/>   (lambda (power-rangers)<br/>      (letrec ((loop (lambda (ls)<br/>                        (if (null? (cdr ls))<br/>                           (map list (car ls))<br/>                           (matrixmap cons<br/>                              (car ls) (loop (cdr ls)))))))<br/>         (loop (map (lambda (x)<br/>                       (range (- x) x))<br/>                  power-rangers)))))</p><p>;; Takes a list of monzos and returns only those that are within<br/>;; a unit cube.</p><p>(define unit-ball<br/>   (lambda (monzos)<br/>      (map (lambda (x)<br/>              (if (and<br/>                     (&gt;= (car x) 0)<br/>                     (&lt; (car x) 1)<br/>                     (&gt;= (cadr x) 0)<br/>                     (&lt; (cadr x) 1)<br/>                     (&gt;= (caddr x) 0)<br/>                     (&lt; (caddr x) 1))<br/>                 x))<br/>         monzos)))</p><p>;; Tunes a list of monzos using val.</p><p>(define monzos-image<br/>   (lambda (val monzos)<br/>      (map (lambda (x)<br/>              (apply + (map * x val)))<br/>         monzos)))</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/26/2010 9:29:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; Now form a projection matrix by the following proceedure:<br/>&gt;<br/>&gt; (1) Weight the monzos for 2, 16/15 and 3125/2916 by &lt;1 log2(3) log2(5)|; call these u1, u2, and u3.</p><p>Sorry, I mean weight the monzos for 2 and 126/125! The matrix M has rows which are the weighted monzos for 2 and 126/125.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/26/2010 11:04:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt;&gt; (1) Weight the monzos for 2, 16/15 and 3125/2916 by &lt;1 log2(3)<br/>&gt;log2(5)|; call these u1, u2, and u3.<br/>&gt;<br/>&gt;Sorry, I mean weight the monzos for 2 and 126/125! The matrix M has<br/>&gt;rows which are the weighted monzos for 2 and 126/125.</p><p>That definitely sounds more interesting...  -Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/26/2010 11:18:56 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 26 October 2010 23:16, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; All three of us could take a specific small but interesting example, such as constructing an 11-note scale for starling using the starling val &lt;11 18 26 31|, and explaining things as best as possible.</p><p>The first question, of course, is &quot;what&apos;s starling&quot;?  I had to read<br/>the rest of the thread, and notice 126/125 mentioned.  So I fed it<br/>into my website, and a starling came out as the rank 3 result:</p><p><a href="http://x31eq.com/cgi-bin/rt.cgi?ets=27_19_12&error=4.715&limit=7&invariant=1_3_1_0_-2_1_0_0_-1">http://x31eq.com/cgi-bin/rt.cgi?ets=27_19_12&error=4.715&limit=7&invariant=1_3_1_0_-2_1_0_0_-1</a></p><p>(Yes, Carl, that&apos;s a URL.)</p><p>It doesn&apos;t have an 11 in it.  Finding a unimodular translation to an<br/>arbitrary scale is still something I consider hard.  And 11 isn&apos;t the<br/>difference between any of these scales.  At first, I decided to panic.<br/> Then I stuck 11 into the URL instead of 27, and this came out:</p><p>[&lt;&#x9;11&#x9;17&#x9;25&#x9;30&#x9;]<br/>&lt;&#x9;19&#x9;30&#x9;44&#x9;53&#x9;]<br/>&lt;&#x9;12&#x9;19&#x9;28&#x9;34&#x9;]&gt;</p><p><a href="http://x31eq.com/cgi-bin/rt.cgi?ets=11_19_12&limit=7&invariant=1_3_1_0_-2_1_0_0_-1">http://x31eq.com/cgi-bin/rt.cgi?ets=11_19_12&limit=7&invariant=1_3_1_0_-2_1_0_0_-1</a></p><p>Fortunately, there&apos;s no contorsion.  Unfortunately, it&apos;s the wrong<br/>mapping for 11.  I&apos;m tired after the previous panic, so I&apos;ll go with<br/>this anyway and not research the discrepancy.  I&apos;ll find the obvious<br/>11&amp;19&amp;12 scale.</p><p>At this point, my website has done most of the work.  Some of the<br/>steps weren&apos;t trivial, but I&apos;m not inclined to explain them now, so<br/>we&apos;ll treat it as a black box.  I could now use my Python function to<br/>find the scale structure, if I had a Python interpreter here.  As it<br/>is, I have Microsoft Office 2003, so I&apos;ll use Excel.</p><p>First, fill column A with the integers 1 to 11.  Cell B1 has the<br/>formula &quot;=INT((A1*19+10)/11)&quot;.  This should be the correct 19 from 11<br/>note maximally even scale using INT as a floor.  (Maybe Excel has a<br/>ceiling function, but never mind, this works)  Yes, I&apos;m being naughty<br/>and not leaving a row for headings.  Fill the column down with this.<br/>Cell C1 has the formula &quot;=INT((A1*12+10)/11)&quot; and I copied it for the<br/>rest of the column.</p><p>Here&apos;s the scale defined in steps of the different step generators:</p><p>1&#x9;2&#x9;2<br/>2&#x9;4&#x9;3<br/>3&#x9;6&#x9;4<br/>4&#x9;7&#x9;5<br/>5&#x9;9&#x9;6<br/>6&#x9;11&#x9;7<br/>7&#x9;13&#x9;8<br/>8&#x9;14&#x9;9<br/>9&#x9;16&#x9;10<br/>10&#x9;18&#x9;11<br/>11&#x9;19&#x9;12</p><p>The first note of the tuned scale is calculated in D1 as &quot;=A1*-14.906<br/>+ B1*59.517 + C1*19.412&quot;.  This is the scale in the previous three<br/>columns tuned according to the basis I copied from my website.  The<br/>result is:</p><p>142.952<br/>266.492<br/>390.032<br/>454.055<br/>577.595<br/>701.135<br/>824.675<br/>888.698<br/>1012.238<br/>1135.778<br/>1199.801</p><p>As a check, I added more notes, and a column to calculate the step<br/>sizes.  The formula for Cell E1 is &quot;=D2-D1&quot;.  The result is:</p><p>123.54<br/>123.54<br/>64.023<br/>123.54<br/>123.54<br/>123.54<br/>64.023<br/>123.54<br/>123.54<br/>64.023<br/>142.952<br/>123.54<br/>123.54<br/>64.023</p><p>I count 3 distinct step sizes.  One of about 124 cents, one of about<br/>64 cents, and one of about 143 cents.  The largest step is the first<br/>one (it isn&apos;t listed first because there&apos;s no tonic) which is<br/>consistent with the scales coming from a ceiling function.</p><p>                   Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/26/2010 11:42:04 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 26 October 2010 21:49, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; Why did you choose a 17-limit, 46-note example the first time<br/>&gt; out of the gate? &nbsp;I can&apos;t follow half of what you&apos;re doing here,<br/>&gt; probably because you haven&apos;t explained it. &nbsp;At any rate, if you<br/>&gt; worked examples like pajara, meantone, marvel in the 7-limit<br/>&gt; and actually posted the scales, maybe I&apos;d have a chance of<br/>&gt; convincing myself of something.</p><p>I chose it because it&apos;s the one Caleb asked about in another place.<br/>I&apos;m no trying to convince you of anything.  I&apos;m trying to find a<br/>simple way of adding scales to my website.</p><p>I thought I gave meantone as my first example of Pari.  I remember<br/>forgetting to mention unison vectors, so I decided to cover that in my<br/>next message in the thread.</p><p>I could, of course, do all kinds of examples if somebody asked me in a<br/>civil manner.</p><p>&gt;&gt;Although the scalar badness metric is only positive semidefinite,<br/>&gt;&gt;when you constrain it to a temperament lattice (like in the Pari<br/>&gt;&gt;examples I&apos;ve given) it becomes positive definite. &nbsp;Pari is then<br/>&gt;&gt;happy to minimize it for you.<br/>&gt;<br/>&gt; I don&apos;t need any of that for my procedure, just TM-reduction.</p><p>Great, how are you calculating it?  I can&apos;t, so I&apos;m using Pari to find<br/>short vectors.</p><p>                           Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 12:35:40 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;&gt; I don&apos;t need any of that for my procedure, just TM-reduction.<br/>&gt;<br/>&gt;Great, how are you calculating it?  I can&apos;t, so I&apos;m using Pari to find<br/>&gt;short vectors.</p><p>I asked Gene.  I&apos;ve got what looks like his maple code for it<br/>here, but it looks like they only work if you already have a basis<br/>to start.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 12:46:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; [&lt;&#x9;11&#x9;17&#x9;25&#x9;30&#x9;]<br/>&gt; &lt;&#x9;19&#x9;30&#x9;44&#x9;53&#x9;]<br/>&gt; &lt;&#x9;12&#x9;19&#x9;28&#x9;34&#x9;]&gt;<br/>&gt;<br/>&gt; <a href="http://x31eq.com/cgi-bin/rt.cgi?ets=11_19_12&limit=7&invariant=1_3_1_0_-2_1_0_0_-1">http://x31eq.com/cgi-bin/rt.cgi?ets=11_19_12&limit=7&invariant=1_3_1_0_-2_1_0_0_-1</a><br/>&gt;<br/>&gt; Fortunately, there&apos;s no contorsion.  Unfortunately, it&apos;s the wrong<br/>&gt; mapping for 11.  I&apos;m tired after the previous panic, so I&apos;ll go with<br/>&gt; this anyway and not research the discrepancy.  I&apos;ll find the obvious<br/>&gt; 11&amp;19&amp;12 scale.</p><p>Both &lt;11 17 25 30| and &lt;11 18 26 31| support starling, but the second one seems preferable in terms of tuning.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 1:03:28 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;transform back using the original matrix,<br/>&gt;((0  0 0)<br/>&gt; (0 -3 1)<br/>&gt; (1 -3 1)<br/>&gt;(-1 -2 1)<br/>&gt; (0 -2 1)<br/>&gt;(-1 -1 1)<br/>&gt; (0 -4 2)<br/>&gt;(-1 -3 2)<br/>&gt; (0 -3 2)<br/>&gt;(-2 -2 2)<br/>&gt;(-1 -2 2))<br/>&gt;and finally, translate by +3 in prime 5 and -1 in prime 7<br/>&gt;((0  3 -1)<br/>&gt; (0  0 0)<br/>&gt; (1  0  0)<br/>&gt;(-1  1 0)<br/>&gt; (0  1  0)<br/>&gt;(-1  2  0)<br/>&gt; (0 -1  1)<br/>&gt;(-1  0  1)<br/>&gt; (0  0 1)<br/>&gt;(-2  1  1)<br/>&gt;(-1  1 1))</p><p>I&apos;m going to try the &quot;minimax&quot; tuning suggested on the xenwiki,<br/>which I think is &lt; 1200 1901.955 2790.912 3368.826 |.<br/>That gives</p><p>!<br/> starling[11]<br/> 11<br/>!<br/> 79.869<br/> 203.91<br/> 266.871<br/> 390.912<br/> 577.914<br/> 657.783<br/> 701.955<br/> 888.957<br/> 968.826<br/> 1155.828<br/> 2/1<br/>!</p><p>Very different from what I got with Graham&apos;s tuning, but still<br/>doesn&apos;t have 3GMP.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 1:18:47 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;I&apos;m going to try the &quot;minimax&quot; tuning suggested on the xenwiki,<br/>&gt;which I think is &lt; 1200 1901.955 2790.912 3368.826 |.<br/>&gt;That gives<br/>&gt;<br/>&gt;!<br/>&gt; starling[11]<br/>&gt; 11<br/>&gt;!<br/>&gt; 79.869<br/>&gt; 203.91<br/>&gt; 266.871<br/>&gt; 390.912<br/>&gt; 577.914<br/>&gt; 657.783<br/>&gt; 701.955<br/>&gt; 888.957<br/>&gt; 968.826<br/>&gt; 1155.828<br/>&gt; 2/1<br/>&gt;!<br/>&gt;<br/>&gt;Very different from what I got with Graham&apos;s tuning,</p><p>Probably because I made a mistake tuning the monzos before.<br/>Here&apos;s Graham&apos;s tuning, or something similar:</p><p>!<br/> starling[11], x31eq tuning<br/> 11<br/>!<br/> 78.932<br/> 202.472<br/> 266.492<br/> 390.032<br/> 577.592<br/> 656.524<br/> 701.132<br/> 888.695<br/> 967.624<br/> 1155.187<br/> 1199.795<br/>!</p><p>-C.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 11:22:36 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Right, so this is my answer</p><p>&gt;&gt;!<br/>&gt;&gt; starling[11]<br/>&gt;&gt; 11<br/>&gt;&gt;!<br/>&gt;&gt; 79.869<br/>&gt;&gt; 203.91<br/>&gt;&gt; 266.871<br/>&gt;&gt; 390.912<br/>&gt;&gt; 577.914<br/>&gt;&gt; 657.783<br/>&gt;&gt; 701.955<br/>&gt;&gt; 888.957<br/>&gt;&gt; 968.826<br/>&gt;&gt; 1155.828<br/>&gt;&gt; 2/1<br/>&gt;&gt;!</p><p>The reason it didn&apos;t shrink like I thought at first is that<br/>126/125 is in the basis for both the temperament and the val,<br/>so it winds up being a block UV.  But I think the number of<br/>steps should still be reduced with respect to JI.<br/>So here&apos;s JI:</p><p>!<br/> {16/15, 49/45, 126/125} Fokker block<br/> 11<br/>!<br/> 25/24<br/> 125/112<br/> 7/6<br/> 5/4<br/> 7/5<br/> 35/24<br/> 3/2<br/> 5/3<br/> 7/4<br/> 35/18<br/> 2/1<br/>!</p><p>This has mean variety 7 according to Scala, whereas the<br/>scale above has mean variety 5.6.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 11:59:15 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt;  Then I stuck 11 into the URL instead of 27, and this came out:<br/>&gt;<br/>&gt; [&lt;&#x9;11&#x9;17&#x9;25&#x9;30&#x9;]<br/>&gt; &lt;&#x9;19&#x9;30&#x9;44&#x9;53&#x9;]<br/>&gt; &lt;&#x9;12&#x9;19&#x9;28&#x9;34&#x9;]&gt;</p><p>Generators corresponding to these are [81/80, 405/392, 686/675]. These have the property that they give a step of 1 with the associated val, and 0 with the other two. Let&apos;s call these 1/c1, c2, and c3, so that the generator for 11 is 80/81.</p><p>&gt; Here&apos;s the scale defined in steps of the different step generators:<br/>&gt;<br/>&gt; 1&#x9;2&#x9;2<br/>&gt; 2&#x9;4&#x9;3<br/>&gt; 3&#x9;6&#x9;4<br/>&gt; 4&#x9;7&#x9;5<br/>&gt; 5&#x9;9&#x9;6<br/>&gt; 6&#x9;11&#x9;7<br/>&gt; 7&#x9;13&#x9;8<br/>&gt; 8&#x9;14&#x9;9<br/>&gt; 9&#x9;16&#x9;10<br/>&gt; 10&#x9;18&#x9;11<br/>&gt; 11&#x9;19&#x9;12</p><p>Using the successive rows of this as exponents, we obtain the following scale:</p><p>49/45, 7/6, 5/4, 35/27, 25/18, 125/84, 625/392, 625/378, 3125/1764,<br/>15625/8232, 15625/7938</p><p>Reducing this modulo 126/125 gives this:</p><p>49/45, 7/6, 5/4, 35/27, 7/5, 3/2, 45/28, 5/3, 9/5, 27/14, 2</p><p>This is a 7-limit transversal for the scale. Replacing 7 with 125/18 in this scale gives this:</p><p>3125/2916, 125/108, 5/4, 625/486, 25/18, 3/2, 81/50,<br/>5/3, 9/5, 243/125, 2</p><p>This is the unique 5-limit transversal for the scale.</p><p>If we take &lt;11 17 25 30| and reduce it to the 5-limit as &lt;11 17 25|, we obtain a comma basis {25/24, 729/640}. This is not only the Tenney-Minkowski basis, but the Minkowski basis for the projected lattice. There are 11 Fokker blocks (modulo transposition) for this lattice basis, and Graham&apos;s scale is not one of them. So we are looking at a distinct approach, even account for the change in the val. You can get an idea of just how different they are by looking at the lattices in Scala. Here is Graham&apos;s transversal:</p><p>! graham.scl<br/>Graham&apos;s 5-limit transversal<br/>11<br/>!<br/>3125/2916<br/>125/108<br/>5/4<br/>625/486<br/>25/18<br/>3/2<br/>81/50<br/>5/3<br/>9/5<br/>243/125<br/>2</p><p>Here is mine:</p><p>! star11a.scl<br/>!<br/>Star11a hobbit block = prehobbit11<br/> 11<br/>!<br/> 25/24<br/> 144/125<br/> 6/5<br/> 5/4<br/> 25/18<br/> 36/25<br/> 8/5<br/> 5/3<br/> 125/72<br/> 48/25<br/> 2/1</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 12:36:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; !<br/>&gt;  {16/15, 49/45, 126/125} Fokker block</p><p>Substituting 125/18 for 7 in the above gives {16/15, 3125/2916, 1} so it isn&apos;t the same Fokker block as my {16/15, 15625/15552}. However, I&apos;d guess that fairly often the two methods would converge on the same answer.</p><p>Doing the same substitution on the 7-limit scale itself yields</p><p>! carl.scl<br/>Carl&apos;s 5-limit transversal<br/>11<br/>!<br/>25/24<br/>9/8<br/>125/108<br/>5/4<br/>25/18<br/>625/432<br/>3/2<br/>5/3<br/>125/72<br/>625/324<br/>2</p><p>You might amuse yourself by looking at the lattice in Scala.</p><p>&gt; This has mean variety 7 according to Scala, whereas the<br/>&gt; scale above has mean variety 5.6.</p><p>Like a lot of the statistics Scala comes out with, I don&apos;t know what that means.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 1:18:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; This has mean variety 7 according to Scala, whereas the<br/>&gt;&gt; scale above has mean variety 5.6.<br/>&gt;<br/>&gt;Like a lot of the statistics Scala comes out with, I don&apos;t know what<br/>&gt;that means.</p><p>Probably the single most important property of scales 10/oct<br/>and smaller: the average number of sizes per interval class.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 1:53:10 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; This has mean variety 7 according to Scala, whereas the<br/>&gt; &gt;&gt; scale above has mean variety 5.6.<br/>&gt; &gt;<br/>&gt; &gt;Like a lot of the statistics Scala comes out with, I don&apos;t know what<br/>&gt; &gt;that means.<br/>&gt;<br/>&gt; Probably the single most important property of scales 10/oct<br/>&gt; and smaller: the average number of sizes per interval class.</p><p>Sounded like it might be. Dividing by the number scale steps would make sense.</p><p>I don&apos;t think that property is nearly as important as propriety, by the way. Why is it such a big deal?</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 2:13:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:<br/>&gt;&gt; Probably the single most important property of scales 10/oct<br/>&gt;&gt; and smaller: the average number of sizes per interval class.<br/>[snip]<br/>&gt;I don&apos;t think that property is nearly as important as propriety, by<br/>&gt;the way. Why is it such a big deal?</p><p>It seems to be readily audible.  ET and rank 2 scales are much<br/>easier to learn to sing.  Even when it comes to the subtle<br/>differences from playing Bach WTC in meantone while avoiding<br/>wolves, as you did years ago, the problem (for me and a couple<br/>others I played them for) is melodic irregularity.</p><p>Propriety is important, but one can always feature proper subsets<br/>in a composition.  There&apos;s also the issue of the magnitude of<br/>impropriety (in cents) being arbitrarily small.  (That&apos;s solved<br/>by using Lumma impropriety, available in Scala show data.)</p><p>It&apos;s true that things like 5-ET and 6-ET are a bit *too* regular<br/>(as addressed by Rothenberg efficiency, there is no way to tell<br/>where you are)... so I think that rank 2 really is the sweet<br/>spot, at least for generalized-diatonic music.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 3:07:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; It&apos;s true that things like 5-ET and 6-ET are a bit *too* regular<br/>&gt; (as addressed by Rothenberg efficiency, there is no way to tell<br/>&gt; where you are)... so I think that rank 2 really is the sweet<br/>&gt; spot, at least for generalized-diatonic music.</p><p>I like some irregularity, and judging by comments I&apos;ve heard about circulating temperaments, I am far from alone in that.</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 3:23:22 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt;&gt; It&apos;s true that things like 5-ET and 6-ET are a bit *too* regular<br/>&gt;&gt; (as addressed by Rothenberg efficiency, there is no way to tell<br/>&gt;&gt; where you are)... so I think that rank 2 really is the sweet<br/>&gt;&gt; spot, at least for generalized-diatonic music.<br/>&gt;<br/>&gt; I like some irregularity, and judging by comments I&apos;ve heard about<br/>&gt; circulating temperaments, I am far from alone in that.</p><p>Music written for well temperaments tends to sound good in them,<br/>ditto meantone[12].  There&apos;s a small contingent of folks who<br/>claim to like well temperament better than 12-ET for all music,<br/>and in most cases I think they&apos;re attached to the story and<br/>can&apos;t actually hear what they claim to be hearing.  Most models<br/>of discordance say it falls off faster than linearly with error,<br/>and that would explain why we don&apos;t just use strict JI in the<br/>first place.  For the record, I think your Brahms etc. retunings<br/>in grail etc. sound interesting but awful.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 3:30:40 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>For the record, I think your Brahms etc. retunings<br/>&gt; in grail etc. sound interesting but awful.</p><p>That was when I was exploring the somewhat crazed idea of replacing some thirds with 14/11 or 9/7 versions. What did you think of the Brahms in Valotti recently posted?</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/27/2010 4:03:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; For the record, I think your Brahms etc. retunings<br/>&gt;&gt; in grail etc. sound interesting but awful.<br/>&gt;<br/>&gt;That was when I was exploring the somewhat crazed idea of replacing<br/>&gt;some thirds with 14/11 or 9/7 versions. What did you think of the<br/>&gt;Brahms in Valotti recently posted?</p><p>I didn&apos;t listen, but I wouldn&apos;t be surprised if it sounded good.<br/>For one thing, Valotti is a mild (1/6-comma) WT and if it was a<br/>symphony, those generally stick close to home so it could<br/>conceivably work very well.  But any improvement over ET to my<br/>ears would be from the improve consonance, not melodic<br/>irregularity (which may be undetectable).</p><p>Hey, you renamed Septimal Star &quot;Music For Your Ears&quot;... what gives?</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/27/2010 4:16:39 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; Hey, you renamed Septimal Star &quot;Music For Your Ears&quot;... what gives?</p><p>That was the original name.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/28/2010 12:19:36 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; Both &lt;11 17 25 30| and &lt;11 18 26 31| support starling,<br/>&gt; but the second one seems preferable in terms of tuning.</p><p>Well, there you go.  The first one has lower TOP-RMS error,<br/>and therefore scores better on any reasonable badness<br/>measure I know, and particularly the one I use to choose my<br/>default mappings.  So you&apos;ve got me there.</p><p>I&apos;m reunited with my Python interpreter now, though, so I<br/>got this sorted out.  I tried the new mapping with<br/>different subsets of the old one, and found that 11&amp;27&amp;12<br/>works.  Here&apos;s the standard printout:</p><p>Starling</p><p>mapping by steps:<br/>[&lt;11, 18, 26, 31],<br/> &lt;27, 43, 63, 76],<br/> &lt;12, 19, 28, 34]&gt;</p><p>step tunings:<br/>&lt;-29.704, 74.314, -39.995] cents</p><p>reduced mapping:<br/>[&lt;1, 0, 0, -1],<br/> &lt;0, 1, 0, -2],<br/> &lt;0, 0, 1, 3]&gt;</p><p>tuning map:<br/>[1199.795, 1900.927, 2789.622, 3367.214&gt; cents</p><p>scalar complexity: 0.099<br/>RMS weighted error: 0.840 cents/octave<br/>max weighted error: 1.425 cents/octave</p><p>The scale is</p><p>113.248<br/>192.177<br/>345.420<br/>424.349<br/>577.593<br/>656.522<br/>809.765<br/>888.694<br/>1041.937<br/>1120.866<br/>1199.795</p><p>It still has 3 interval sizes.  This is the pattern of<br/>steps it&apos;s based on:</p><p>[(1, 3, 2), (2, 5, 3), (3, 8, 4), (4, 10, 5), (5, 13, 6),<br/>(6, 15, 7), (7, 18, 8), (8, 20, 9), (9, 23, 10), (10, 25,<br/>11), (11, 27, 12)]</p><p>If there&apos;s something wrong with that I&apos;ll have to look into<br/>it tomorrow.</p><p>                           Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/28/2010 1:25:01 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;The scale is<br/>&gt;<br/>&gt;113.248<br/>&gt;192.177<br/>&gt;345.420<br/>&gt;424.349<br/>&gt;577.593<br/>&gt;656.522<br/>&gt;809.765<br/>&gt;888.694<br/>&gt;1041.937<br/>&gt;1120.866<br/>&gt;1199.795<br/>&gt;<br/>&gt;It still has 3 interval sizes.</p><p>That last one you posted had more than 3, and this<br/>one has more than that: 4.8.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/28/2010 1:34:35 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; &gt;It still has 3 interval sizes.<br/>&gt;<br/>&gt; That last one you posted had more than 3, and this<br/>&gt; one has more than that: 4.8.</p><p>Step sizes, sorry.  Does it match what you were doing?<br/>I&apos;ll have to get some sleep before I go through and check.</p><p>                    Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/28/2010 2:27:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; &gt;It still has 3 interval sizes.<br/>&gt;&gt;<br/>&gt;&gt; That last one you posted had more than 3, and this<br/>&gt;&gt; one has more than that: 4.8.<br/>&gt;<br/>&gt;Step sizes, sorry.  Does it match what you were doing?</p><p>I don&apos;t know about the method, the result is different,<br/>since mine had mean variety 5.6.</p><p>Gene&apos;s still &apos;winning&apos; with 3.2.  So here&apos;s the part where<br/>I ask Gene to post the mean variety of the scale his method<br/>produces for starling at every cardinality from 5-100/oct,<br/>in hopes a pattern emerges.</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/28/2010 2:52:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; Gene&apos;s still &apos;winning&apos; with 3.2.  So here&apos;s the part where<br/>&gt; I ask Gene to post the mean variety of the scale his method<br/>&gt; produces for starling at every cardinality from 5-100/oct,<br/>&gt; in hopes a pattern emerges.</p><p>The pattern which would emerge is that I would go nuts. What about a smaller list?</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/28/2010 2:57:35 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Gene&apos;s still &apos;winning&apos; with 3.2.  So here&apos;s the part where<br/>&gt;&gt; I ask Gene to post the mean variety of the scale his method<br/>&gt;&gt; produces for starling at every cardinality from 5-100/oct,<br/>&gt;&gt; in hopes a pattern emerges.<br/>&gt;<br/>&gt;The pattern which would emerge is that I would go nuts. What about a<br/>&gt;smaller list?</p><p>I thought you&apos;d automated everything!</p><p>-Carl</p></div><h3>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>10/28/2010 6:00:26 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; I thought you&apos;d automated everything!</p><p>No, but I suppose if Graham wanted to use any method it would need to be automated. In this case, that would mean automating the Minkowski basis algorithm to get the Minkowski block, and then automate finding the hobbit starting from a Minkowski block scale. Then for your problem, automate finding the mean variety. From the examples I&apos;ve already worked, I have:</p><p>7: 3<br/>8: 3.42857<br/>9: 3<br/>11: 3.2<br/>12: 3.09091<br/>15: 3.14286<br/>16: 3.46667<br/>17: 4.625<br/>19: 3.44444</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/28/2010 11:26:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:</p><p>&gt; No, but I suppose if Graham wanted to use any method it<br/>&gt; would need to be automated. In this case, that would mean<br/>&gt; automating the Minkowski basis algorithm to get the<br/>&gt; Minkowski block, and then automate finding the hobbit<br/>&gt; starting from a Minkowski block scale. Then for your<br/>&gt; problem, automate finding the mean variety. From the<br/>&gt; examples I&apos;ve already worked, I have:</p><p>I hope I don&apos;t need a Minkowski basis algorithm because I<br/>don&apos;t have one.  What I could do is find the TLLL-reduced<br/>vals (Tenney-weighted LLL-reduced ET mappings) and define a<br/>new metric that makes them perfectly orthogonal.  This will<br/>be very close to your projection inspired metric but has the<br/>advantage that it&apos;s suitable for LLL reduction.</p><p>                              Graham</p></div><h3>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>10/29/2010 1:20:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt;&gt; I thought you&apos;d automated everything!<br/>&gt;<br/>&gt;No, but I suppose if Graham wanted to use any method it would need to<br/>&gt;be automated. In this case, that would mean automating the Minkowski<br/>&gt;basis algorithm to get the Minkowski block, and then automate finding<br/>&gt;the hobbit starting from a Minkowski block scale. Then for your<br/>&gt;problem, automate finding the mean variety. From the examples I&apos;ve<br/>&gt;already worked, I have:</p><p>Mean variety is really easy, like, 5 lines of scheme.<br/>You&apos;re on your own for the other stuff!</p><p>&gt;7: 3<br/>&gt;8: 3.42857<br/>&gt;9: 3<br/>&gt;11: 3.2<br/>&gt;12: 3.09091<br/>&gt;15: 3.14286<br/>&gt;16: 3.46667<br/>&gt;17: 4.625<br/>&gt;19: 3.44444</p><p>Thanks.  It&apos;s not for sure that 7 and 9 have 3GMP, but it<br/>seems likely.  I wonder if this has anything to do with the<br/>badness of the best vals beginning as above that send 126/125<br/>to zero...</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>10/29/2010 11:01:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed<br/>&gt; &lt;gbreed@...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; [&lt;&#x9;11&#x9;17&#x9;25&#x9;30&#x9;]<br/>&gt; &gt; &lt;&#x9;19&#x9;30&#x9;44&#x9;53&#x9;]<br/>&gt; &gt; &lt;&#x9;12&#x9;19&#x9;28&#x9;34&#x9;]&gt;<br/>&gt;<br/>&gt; Generators corresponding to these are [81/80, 405/392,<br/>&gt; 686/675]. These have the property that they give a step<br/>&gt; of 1 with the associated val, and 0 with the other two.<br/>&gt; Let&apos;s call these 1/c1, c2, and c3, so that the generator<br/>&gt; for 11 is 80/81.</p><p>That&apos;s it.</p><p>&gt; If we take &lt;11 17 25 30| and reduce it to the 5-limit as<br/>&gt; &lt;11 17 25|, we obtain a comma basis {25/24, 729/640}.<br/>&gt; This is not only the Tenney-Minkowski basis, but the<br/>&gt; Minkowski basis for the projected lattice. There are 11<br/>&gt; Fokker blocks (modulo transposition) for this lattice<br/>&gt; basis, and Graham&apos;s scale is not one of them. So we are<br/>&gt; looking at a distinct approach, even account for the<br/>&gt; change in the val. You can get an idea of just how<br/>&gt; different they are by looking at the lattices in Scala.</p><p>Er, yes, because you found ratios for my unison vectors<br/>above: 405/392 and 686/675.  These new ratios translate to<br/>my basis as [0,1,1&gt; and [0,3,2&gt;.  Of course they won&apos;t give<br/>the same Fokker block as [0,1,0&gt; and [0,0,1&gt;.  Why would<br/>you expect them to?</p><p>                                 Graham</p></div>