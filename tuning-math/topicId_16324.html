<a href="/tuning-math">back to list</a><h1>a*x + b*y = n</h1><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/22/2007 12:15:10 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>This eqation, for fixed integers a, b, n and integer variables x and y<br/>is the simplest of all Diophantine equations, but it is important and<br/>relevant in particular to the notation issue.</p><p>We assume a and b are nonzero and relatively prime. Then a solution to</p><p>a*x + b*y = 1</p><p>can be found via continued fractions. We can reduce to the case where a<br/>and b are positive. Consider a/b on the bth level of the Farey sequence.<br/>Then we get a1/b1 &lt; a/b &lt; a2/b2, with (a1+a2)/(b1+b2) = a/b, and<br/>a*b1 - b*a1 = 1, -a*b2 + b*a2 = 1. Moreover, if a*u + b*v = 1 for<br/>particular values u and v, then a*(n*u) + b*(n*v) = n for particular<br/>values n*u and n*v. Hence, we may always obtain a particular solution<br/>to a*x + b*y = n. Since a*b - b*a = 0, the general solution can be<br/>obtained as x = n*u + m*b, y = n*v - m*a for arbitary integer m.</p><p>Note that this means we can fix mod b residue classes for x, or mod a<br/>residue classes for y.</p><p>For example, let&apos;s consider a generator g=7, and a period h=12. Now one<br/>the Faery sequence, or from continued fractions, we find that<br/>4/7 &lt; 7/12 &lt; 3/5. So we can find particular solutions to 7*x + 12*y=1<br/>as as 7*(-5)+12*3 = 1 or 7*7-12*4=1. So for instance, a general<br/>solution to 7*x+12*y=1 is x=12*m-5, y=-7*m+3. Suppose we want to<br/>restrict g to a gamut running from -3 to +8, corresponding to Eb to G#,<br/>then we must enforce -3 &lt;= 12*m-5 &lt; 8, which has the single solution<br/>m=1, x=7. These special solutions, restricted to a gamut, can easily be<br/>computed using the floor and mod functions; for example -5 mod 12 = 7,<br/>floor((8-7)/12) = 0, so x=7 and therefore m = (5+7)/12 = 1.</p><p>Now suppose instead g=7 and h=6, and we are looking at mod 12 (midi<br/>style) note numbers in terms of pajara. Now the gamut consists not of<br/>12 notes but of six. There&apos;s a project under way to get &quot;LT&quot; notation<br/>working for Scala, and I think to do that we should specify not only<br/>generator and period (g and h), but the gamut range also, which should<br/>be h consecutive integers. I hope Manuel finds these observations<br/>useful.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/22/2007 2:13:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:</p><p>&gt; There&apos;s a project under way to get &quot;LT&quot; notation<br/>&gt; working for Scala, and I think to do that we should specify not<br/>only<br/>&gt; generator and period (g and h), but the gamut range also, which<br/>should<br/>&gt; be h consecutive integers.</p><p>I suspect people don&apos;t need any help here, but here&apos;s how to find<br/>g*x + h*y = n, with x restricted to a gamut a &lt;= x &lt;= b of h<br/>consectutive integers. If mod(u, v) is u mod v reduced to the range<br/>0 ... v-1, then x = mod(n/g + a, h)-a will be congruent to n/g mod h,<br/>and will lie in the gamut range. Then g*x will be congruent to n mod<br/>h, and y = (n-g*x)/h will be an integer. You now have x.y in LT<br/>notation.</p><p>mod(w/g, h) can be found since g is prime to h. In particular, the<br/>inverse gi = mod(1/g, h), such that gi * g is congruent to 1 mod h,<br/>is computable by the Euclidean algorithm/continued fraction stuff<br/>mentioned before. Then mod(w/g, h) is mod(gi*w, h).</p><p>Hence, if we have a generator g and a period h, and want to reduce to<br/>LT form, all we need to make the answer unique is to supply a, the<br/>lower limit of the gamut. Input g, h, and a, and Scala or some other<br/>program is in a position to output a unique x.y, generator.period,<br/>value corresponding to any integer n.</p></div><h3>Manuel Op de Coul &#x3C;manuel.op.de.coul@eon-benelux.com&#x3E;</h3><span>3/23/2007 9:22:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:</p><p>&gt; Hence, if we have a generator g and a period h, and want to reduce to<br/>&gt; LT form, all we need to make the answer unique is to supply a, the<br/>&gt; lower limit of the gamut. Input g, h, and a, and Scala or some other<br/>&gt; program is in a position to output a unique x.y, generator.period,<br/>&gt; value corresponding to any integer n.</p><p>Gene, thanks. I added the lower bound for the gamut to the LT notation<br/>parameters (SET LT_PARS). I also fixed a problem with the midi to .seq<br/>conversion (EXAMPLE/CREATE/SCALE) in combination with this notation.<br/>So please have a look, and thanks again for the test work.</p><p>Manuel</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/23/2007 1:42:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Manuel Op de Coul&quot;<br/>&lt;manuel.op.de.coul@...&gt; wrote:</p><p>&gt; Gene, thanks. I added the lower bound for the gamut to the LT notation<br/>&gt; parameters (SET LT_PARS). I also fixed a problem with the midi to .seq<br/>&gt; conversion (EXAMPLE/CREATE/SCALE) in combination with this notation.<br/>&gt; So please have a look, and thanks again for the test work.</p><p>Great news! I&apos;ll get on it.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/23/2007 2:13:09 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Manuel Op de Coul&quot;<br/>&lt;manuel.op.de.coul@...&gt; wrote:</p><p>&gt; Gene, thanks. I added the lower bound for the gamut to the LT notation<br/>&gt; parameters (SET LT_PARS).</p><p>When I ran SET LT_PARS just now in 2.23r, it asked for generator and<br/>division, not generator, period, gamut. Also, what does setting the<br/>octave do?</p></div>