<a href="/tuning-math">back to list</a><h1>A simpler approach to working with affine spaces</h1><h3><a id=20660 href="#20660">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/18/2012 2:27:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>This is a much simpler approach to handling affine spaces. It&apos;s<br/>actually the original thing I was doing before I got mixed up with<br/>homogeneous coordinates. This is both topologically simpler than the<br/>representation I was talking about before and lets you do more stuff<br/>that&apos;s related to regular temperaments than homogeneous coordinates<br/>do.</p><p>If A^n_R is an affine space defined over R, then we can embed A^n into<br/>R^(n+1). The embedding is given by (a,b,c,...)  |---&gt;  |a b c ... 1&gt;,<br/>where the former is a point and the latter is a vector. We&apos;re not<br/>considering the points in this latter space to be homogeneous - we&apos;re<br/>just embedding A^n into the affine subspace of R^(n+1) indexed by |a b<br/>c ... 1&gt;. I&apos;ll call the last coordinate &quot;w&quot; to keep up with the usual<br/>convention for homogeneous coordinates.</p><p>In general, if you subtract two vectors representing points, you get<br/>something of the form |a b c ... 0&gt;. As vectors of the form |a b c ...<br/>1&gt; represent points, so do vectors of the form |a b c ... 0&gt; represent<br/>the difference of points. These vectors make both intuitive and<br/>algebraic sense as the representation of vectors existing as the<br/>difference between affine points in the original space.</p><p>This lets us represent affine transformations on A^n as linear<br/>transformations on R^(n+1) in exactly the same way that they&apos;re<br/>represented with homogeneous coordinates. The only real difference is<br/>that, if you want to sum points together, you have to be careful to<br/>explicitly make sure that the sum you&apos;re taking is actually an affine<br/>combination of the points. If you don&apos;t this, you&apos;ll end up with<br/>something that&apos;s off of the embedded representation of A^n and hence<br/>which doesn&apos;t represent a point. That&apos;s not to say that vectors off of<br/>the representation of A^n can&apos;t be very useful; you just need to<br/>remember that they aren&apos;t representing points.</p><p>Additionally, and more relevant to our purposes, this approach allows<br/>us to represent affine spans in A^n as linear spans in R^(n+1), or<br/>more precisely the intersection of a linear span in R^(n+1) and the<br/>subset of R^(n+1) in which A^n is embedded. You can do so by making a<br/>matrix like this, which represents the affine hull of 3/2 and 40/27</p><p>[-1 1 0 1]<br/>[3 -3 1 1]</p><p>If we put this matrix in column-reversed hermite form, defined as<br/>fliplr(hermiteForm(fliplr(matrix))), we get</p><p>[-1 1 0 1]<br/>[4 -4 1 0]</p><p>Note that the bottom row has w=0, which means it&apos;s a vector. This<br/>makes it easy to see that the affine hull of 3/2 and 40/27 is the<br/>subspace spanned by 81/80, translated from the origin to 3/2. In<br/>general, it becomes trivially easy to represent an affine span as the<br/>translation of a linear span this way.</p><p>In fact, not only does this let us represent an affine span, but it<br/>lets us represent an affine lattice coset as well, if we consider the<br/>matrix to represent the set of all Z-linear combinations of its rows,<br/>and hence the set of all Z-affine combinations of its represented<br/>points.</p><p>You&apos;ll note that things like [-2 2 0 2], which aren&apos;t points, are in<br/>the row space of the above matrix. What we really care about are the<br/>set of all vectors of the form [x y z 1]. Again, we obtain this set by<br/>taking the intersection of the linear span and the affine subspace in<br/>which A^n is embedded. This serves as a very useful alternative to the<br/>more typical operation of dividing through homogeneously and simply<br/>renormalizing so that w=1 - considering all scalar multiples of<br/>vectors to be equal in this way destroys the nice representation of<br/>vectors that we have above.</p><p>-Mike</p></div><h3><a id=20662 href="#20662">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>5/18/2012 5:15:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; This is a much simpler approach to handling affine spaces. It&apos;s<br/>&gt; actually the original thing I was doing before I got mixed up with<br/>&gt; homogeneous coordinates.</p><p>Congratulations!</p></div><h3><a id=20663 href="#20663">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/18/2012 5:21:53 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, May 18, 2012 at 8:15 PM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; This is a much simpler approach to handling affine spaces. It&apos;s<br/>&gt; &gt; actually the original thing I was doing before I got mixed up with<br/>&gt; &gt; homogeneous coordinates.<br/>&gt;<br/>&gt; Congratulations!</p><p>OK! We&apos;re on the same page then? No more ambiguity? I can get back to<br/>Bosanquet positive temperaments and such?</p><p>-Mike</p></div><h3><a id=20664 href="#20664">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/18/2012 5:56:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>LOL, still cracking up at this response, btw. :)</p><p>-Mike</p><p>On Fri, May 18, 2012 at 8:15 PM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; This is a much simpler approach to handling affine spaces. It&apos;s<br/>&gt; &gt; actually the original thing I was doing before I got mixed up with<br/>&gt; &gt; homogeneous coordinates.<br/>&gt;<br/>&gt; Congratulations!</p></div><h3><a id=20666 href="#20666">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>5/18/2012 8:53:35 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; OK! We&apos;re on the same page then? No more ambiguity? I can get back to<br/>&gt; Bosanquet positive temperaments and such?</p><p> Yes, you need to explain what the point of finding an affine hull is.</p></div><h3><a id=20667 href="#20667">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/18/2012 9:01:28 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, May 18, 2012 at 11:53 PM, genewardsmith<br/>&lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; OK! We&apos;re on the same page then? No more ambiguity? I can get back to<br/>&gt; &gt; Bosanquet positive temperaments and such?<br/>&gt;<br/>&gt; Yes, you need to explain what the point of finding an affine hull is.</p><p>This question makes no sense to me at all. This is like asking what<br/>the point of finding a subspace is. There are obviously many points.</p><p>-Mike</p></div><h3><a id=20668 href="#20668">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/18/2012 10:08:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Are you saying the music-theoretic applications of finding affine<br/>hulls of things? What was wrong with the last application I mentioned,<br/>finding generators for temperaments?</p><p>-Mike</p><p>On Sat, May 19, 2012 at 12:01 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; On Fri, May 18, 2012 at 11:53 PM, genewardsmith<br/>&gt; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt;&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; &gt; OK! We&apos;re on the same page then? No more ambiguity? I can get back to<br/>&gt;&gt; &gt; Bosanquet positive temperaments and such?<br/>&gt;&gt;<br/>&gt;&gt; Yes, you need to explain what the point of finding an affine hull is.<br/>&gt;<br/>&gt; This question makes no sense to me at all. This is like asking what<br/>&gt; the point of finding a subspace is. There are obviously many points.</p></div><h3><a id=20669 href="#20669">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>5/18/2012 11:04:12 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>You know, I&apos;ve come to the conclusion that there&apos;s basically no<br/>possible way to &quot;win&quot; this latest challenge to be &quot;mathematically<br/>rigorous&quot; or what have you. If I post the idea first, you complain<br/>that I didn&apos;t take time to mathematically define everything<br/>rigorously. If I then take the time to actually do that, you complain<br/>that I&apos;m now not posting something that&apos;s related to music.</p><p>This is apparently even true retroactively, even though I&apos;d already<br/>posted the conceptual idea first (and explained it on IRC, and posted<br/>three applications and two coordinate systems).</p><p>If there&apos;s any part of me that is a mathematician, it&apos;s telling me<br/>that there&apos;s no possible way to win. I&apos;m just going to plow ahead<br/>anyway and post things in an order that seems sensible.</p><p>-Mike</p><p>On Sat, May 19, 2012 at 1:08 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; Are you saying the music-theoretic applications of finding affine<br/>&gt; hulls of things? What was wrong with the last application I mentioned,<br/>&gt; finding generators for temperaments?<br/>&gt;<br/>&gt; -Mike<br/>&gt;<br/>&gt;<br/>&gt; On Sat, May 19, 2012 at 12:01 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;&gt; On Fri, May 18, 2012 at 11:53 PM, genewardsmith<br/>&gt;&gt; &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt;&gt;&gt; wrote:<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; &gt; OK! We&apos;re on the same page then? No more ambiguity? I can get back to<br/>&gt;&gt;&gt; &gt; Bosanquet positive temperaments and such?<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; Yes, you need to explain what the point of finding an affine hull is.<br/>&gt;&gt;<br/>&gt;&gt; This question makes no sense to me at all. This is like asking what<br/>&gt;&gt; the point of finding a subspace is. There are obviously many points.</p></div><h3><a id=20672 href="#20672">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>5/19/2012 9:14:31 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; Are you saying the music-theoretic applications of finding affine<br/>&gt; hulls of things? What was wrong with the last application I mentioned,<br/>&gt; finding generators for temperaments?</p><p>Describe it, using your new approach.</p></div><h3><a id=20674 href="#20674">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>5/19/2012 9:22:20 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; You know, I&apos;ve come to the conclusion that there&apos;s basically no<br/>&gt; possible way to &quot;win&quot; this latest challenge to be &quot;mathematically<br/>&gt; rigorous&quot; or what have you.</p><p>In your lexicon &quot;congratulations&quot; is an indication of disapproval? You&apos;ve now explained what you are doing in a way which makes sense. Having done that, you can explain what to do with it in a way which makes sense. Why is that a problem?</p></div>