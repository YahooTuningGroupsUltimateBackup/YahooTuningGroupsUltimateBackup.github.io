<a href="/tuning-math">back to list</a><h1>Calculating Commas from a Wedgie</h1><h3><a id=6613 href="#6613">ðŸ”—</a>paulhjelmstad &#x3C;paul.hjelmstad@us.ing.com&#x3E;</h3><span>8/1/2003 8:08:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I realize that my inquiry was buried in a reply before. I&apos;ve been<br/>studying the Grassman Algebra &quot;book&quot; and just have a question about<br/>this explanation from Dr. Gene Ward Smith. (Whenever Gene or someone<br/>gets a chance THANKS)</p><p>[Gene writes}</p><p>Let p = 2^u1 3^u2 5^u3 7^u4 and q = 2^v1 3^v2 5^v3 7^v4, then</p><p>p ^ q = [u3*v4-v3*u4,u4*v2-v4*u2,u2*v3-v2*u3,u1*v2-v1*u2,<br/>u1*v3-v1*u3,u1*v4-v1*u4]</p><p>Let r be the mapping to primes of an equal temperament given<br/>by r = [u1, u2, u3, u4], and s be given by [v1, v2, v3, v4]. This<br/>means r has u1 notes to the octave, u2 notes in the approximation of<br/>3, and so forth; hence [12, 19, 28, 24] would be the usual 12-equal,<br/>and [31, 49, 72, 87] the usual 31-et. The wedge now is</p><p>r ^ s = [u1*v2-v1*u2,u1*v3-v1*u3,u1*v4-v1*u4,u3*v4-v3*u4,<br/>u4*v2-u2*v4,u2*v3-v2*u3]</p><p>Whether we&apos;ve computed in terms of commas or ets, the wedge product<br/>of the linear temperament is exactly the same, up to sign.</p><p>If the wedgie is [u1,u2,u3,u4,u5,u6] then we have commas given by</p><p>2^u6 3^(-u2) 5^u1<br/>2^u5 3^u3 7^(-u1)<br/>2^u4 5^(-u3) 7^u2<br/>3^u4 5^u5 7^u6</p><p>I see that the wedgie was calculated from the two commas or ets, but<br/>here (at the end of Gene&apos;s message) we also have 4 commas derived<br/>from the wedgie, how does this work? How are the particular commas<br/>above derived from that particular wedgie. Thanks</p><p>Paul</p></div><h3><a id=6615 href="#6615">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>8/1/2003 9:45:18 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;paulhjelmstad&quot;<br/>&lt;paul.hjelmstad@u...&gt; wrote:<br/>writes}</p><p>&gt; If the wedgie is [u1,u2,u3,u4,u5,u6] then we have commas given by<br/>&gt; 2^u6 3^(-u2) 5^u1<br/>&gt; 2^u5 3^u3 7^(-u1)<br/>&gt; 2^u4 5^(-u3) 7^u2<br/>&gt; 3^u4 5^u5 7^u6<br/>&gt;<br/>&gt; I see that the wedgie was calculated from the two commas or ets,<br/>but<br/>&gt; here (at the end of Gene&apos;s message) we also have 4 commas derived<br/>&gt; from the wedgie, how does this work? How are the particular commas<br/>&gt; above derived from that particular wedgie. Thanks<br/>&gt;<br/>&gt; Paul</p><p>Let&apos;s look at some of my Maple code</p><p>print(a7int);</p><p>This gives the product of two intervals (written as monzos) &quot;down&quot; to<br/>a 7-limit wedgie</p><p>proc(r, s)<br/>    [r[3]*s[4] - s[3]*r[4], r[4]*s[2] - r[2]*s[4], -r[3]*s[2] + r[2]*s<br/>[3],<br/>    r[1]*s[4] - s[1]*r[4], r[3]*s[1] - r[1]*s[3], -r[2]*s[1] + r[1]*s<br/>[2]]<br/>end proc</p><p>print(a7val);</p><p>This gives the product of two vals up to a 7-limit wedgie</p><p>proc(r, s)<br/>    [-r[2]*s[1] + r[1]*s[2], r[1]*s[3] - r[3]*s[1], r[1]*s[4] - s[1]*r<br/>[4],<br/>    -r[3]*s[2] + r[2]*s[3], r[2]*s[4] - r[4]*s[2], r[3]*s[4] - s[3]*r<br/>[4]]<br/>end proc</p><p>print(a7down);</p><p>This gives the product of a wedgie and an interval &quot;down&quot; to a val</p><p>proc(x, w)<br/>    2^(x[4]*w[4] - x[5]*w[3] + x[6]*w[2])*<br/>    3^(-x[2]*w[4] + x[3]*w[3] - x[6]*w[1])*<br/>    5^(x[1]*w[4] - x[3]*w[2] + x[5]*w[1])*<br/>    7^(-x[1]*w[3] + x[2]*w[2] - w[1]*x[4])<br/>end proc</p><p>print(a7up);</p><p>This gives the product of a wedgie and a val &quot;up&quot; to an interval</p><p>proc(l, w)<br/>    [l[3]*w[4] + l[2]*w[3] + l[1]*w[2], l[5]*w[4] + w[3]*l[4] - w[1]*l<br/>[1],<br/>    w[4]*l[6] - l[4]*w[2] - l[2]*w[1], -w[3]*l[6] - l[5]*w[2] - l[3]*w<br/>[1]]<br/>end proc</p><p>We want to find commas belonging to a wedgie whose factors contain<br/>only three out of the possible four primes. However, we can&apos;t use any<br/>6-vector of integers as a wedgie, since a wedgie is a &quot;blade&quot;, or<br/>wedge product. As such it satisfies an algebraic condition<br/>(&quot;Pfaffian&quot; is zero) which, rather than dealing with, I will get<br/>around by taking the product of two intervals, and then taking a<br/>further product and solving for the condition that the resulting val<br/>is zero.</p><p>Wedge product up of two monzos:<br/>u := a7int([x1,x2,x3,x4], [y1,y2,y3,y4]);</p><p>u := [x3 y4 - y3 x4, x4 y2 - x2 y4, -x3 y2 + x2 y3, x1 y4 - y1 x4,</p><p>    x3 y1 - x1 y3, -x2 y1 + x1 y2]</p><p>Wedge product up of this with a monzo having its &quot;7&quot; coefficient zero:<br/>v := a7down(u, [a,b,c,0]);</p><p>v := [(x4 y2 - x2 y4) c + (x3 y4 - y3 x4) b,</p><p>    c (x1 y4 - y1 x4) - a (x3 y4 - y3 x4),</p><p>    -(x1 y4 - y1 x4) b - (x4 y2 - x2 y4) a,</p><p>    -c (-x2 y1 + x1 y2) - (x3 y1 - x1 y3) b - (-x3 y2 + x2 y3) a]</p><p>Now solve for a, b, and c:<br/>solve(convert(v,set), {a,b,c});</p><p>                 c (x1 y4 - y1 x4)      (-x4 y2 + x2 y4) c<br/>            {a = -----------------, b = ------------------, c = c}<br/>                   x3 y4 - y3 x4          x3 y4 - y3 x4</p><p>By comparison with &quot;u&quot; above, we see we can clear denominators and<br/>set a = x1 y4 - y1 x4 = u[4], b = x2 y4 - y2 x4 = -u[2], c = x3y4 -<br/>y3 x4 = u[1]. Hence 2^u[4] 3^(-u[2]) 5^u[1] is a 7-free comma<br/>belonging to the wedgie u. The same calculation works for 2, 3, and 5-<br/>free commas, and for other types of wedgies.</p></div><h3><a id=6616 href="#6616">ðŸ”—</a>Graham Breed &#x3C;graham@microtonal.co.uk&#x3E;</h3><span>8/1/2003 11:51:51 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>paulhjelmstad wrote:</p><p>&gt; Let r be the mapping to primes of an equal temperament given<br/>&gt; by r = [u1, u2, u3, u4], and s be given by [v1, v2, v3, v4]. This<br/>&gt; means r has u1 notes to the octave, u2 notes in the approximation of &gt; 3, and so forth; hence [12, 19, 28, 24] would be the usual 12-equal, &gt; and [31, 49, 72, 87] the usual 31-et. The wedge now is</p><p>That&apos;s the second time I&apos;ve seen you post the wrong val for 12-equal. It should be [12, 19, 28, 34].  You&apos;ll get a strange pair of unison vectors from the vals you posted!</p><p>                          Graham</p></div><h3><a id=6618 href="#6618">ðŸ”—</a>paulhjelmstad &#x3C;paul.hjelmstad@us.ing.com&#x3E;</h3><span>8/1/2003 12:30:05 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &lt;gwsmith@s...&gt;<br/>wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;paulhjelmstad&quot;<br/>&gt; &lt;paul.hjelmstad@u...&gt; wrote:<br/>&gt; writes}</p><p>&gt; We want to find commas belonging to a wedgie whose factors contain<br/>&gt; only three out of the possible four primes. However, we can&apos;t use<br/>any<br/>&gt; 6-vector of integers as a wedgie, since a wedgie is a &quot;blade&quot;, or<br/>&gt; wedge product. As such it satisfies an algebraic condition<br/>&gt; (&quot;Pfaffian&quot; is zero) which, rather than dealing with, I will get<br/>&gt; around by taking the product of two intervals, and then taking a<br/>&gt; further product and solving for the condition that the resulting<br/>val<br/>&gt; is zero.<br/>&gt;<br/>&gt; Wedge product up of two monzos:<br/>&gt; u := a7int([x1,x2,x3,x4], [y1,y2,y3,y4]);<br/>&gt;<br/>&gt; u := [x3 y4 - y3 x4, x4 y2 - x2 y4, -x3 y2 + x2 y3, x1 y4 - y1 x4,<br/>&gt;<br/>&gt;     x3 y1 - x1 y3, -x2 y1 + x1 y2]<br/>&gt;<br/>&gt; Wedge product up of this with a monzo having its &quot;7&quot; coefficient<br/>zero:<br/>&gt; v := a7down(u, [a,b,c,0]);<br/>&gt;<br/>&gt; v := [(x4 y2 - x2 y4) c + (x3 y4 - y3 x4) b,<br/>&gt;<br/>&gt;     c (x1 y4 - y1 x4) - a (x3 y4 - y3 x4),<br/>&gt;<br/>&gt;     -(x1 y4 - y1 x4) b - (x4 y2 - x2 y4) a,<br/>&gt;<br/>&gt;     -c (-x2 y1 + x1 y2) - (x3 y1 - x1 y3) b - (-x3 y2 + x2 y3) a]</p><p>Not sure why this last product has three terms. I get<br/>-[u6]c-[u5]b-[u3]a, obviously. What motivates the choices of [un]in<br/>this wedge product?</p><p>&gt; Now solve for a, b, and c:<br/>&gt; solve(convert(v,set), {a,b,c});<br/>&gt;<br/>&gt;<br/>&gt;                  c (x1 y4 - y1 x4)      (-x4 y2 + x2 y4) c<br/>&gt;             {a = -----------------, b = ------------------, c = c}<br/>&gt;                    x3 y4 - y3 x4          x3 y4 - y3 x4<br/>&gt;<br/>&gt; By comparison with &quot;u&quot; above, we see we can clear denominators and<br/>&gt; set a = x1 y4 - y1 x4 = u[4], b = x2 y4 - y2 x4 = -u[2], c = x3y4 -<br/>&gt; y3 x4 = u[1]. Hence 2^u[4] 3^(-u[2]) 5^u[1] is a 7-free comma<br/>&gt; belonging to the wedgie u. The same calculation works for 2, 3, and<br/>5-<br/>&gt; free commas, and for other types of wedgies.</p><p>I&apos;ll take your word for this part. Hey thanks for the explanation,<br/>really appreciate it.</p></div><h3><a id=6652 href="#6652">ðŸ”—</a>paulhjelmstad &#x3C;paul.hjelmstad@us.ing.com&#x3E;</h3><span>8/4/2003 10:40:08 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;paulhjelmstad&quot;<br/>&lt;paul.hjelmstad@u...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;gwsmith@s...&gt;<br/>&gt; wrote:<br/>&gt; &gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;paulhjelmstad&quot;<br/>&gt; &gt; &lt;paul.hjelmstad@u...&gt; wrote:<br/>&gt; &gt; writes}<br/>&gt; &gt; &gt;<br/>&gt; &gt; Wedge product up of this with a monzo having its &quot;7&quot; coefficient<br/>&gt; zero:<br/>&gt; &gt; v := a7down(u, [a,b,c,0]);<br/>&gt; &gt;<br/>&gt; &gt; v := [(x4 y2 - x2 y4) c + (x3 y4 - y3 x4) b,<br/>&gt; &gt;<br/>&gt; &gt;     c (x1 y4 - y1 x4) - a (x3 y4 - y3 x4),<br/>&gt; &gt;<br/>&gt; &gt;     -(x1 y4 - y1 x4) b - (x4 y2 - x2 y4) a,<br/>&gt; &gt;<br/>&gt; &gt;     -c (-x2 y1 + x1 y2) - (x3 y1 - x1 y3) b - (-x3 y2 + x2 y3) a]<br/>&gt;<br/>&gt; Not sure why this last product has three terms. I get<br/>&gt; -[u6]c-[u5]b-[u3]a, obviously. What motivates the choices of [un]in<br/>&gt; this wedge product?</p><p>Figured it out. This is beautiful stuff...</p></div>