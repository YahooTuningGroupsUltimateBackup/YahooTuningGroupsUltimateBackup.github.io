<a href="/tuning-math">back to list</a><h1>A question about generalized patent vals</h1><h3><a id=19962 href="#19962">ðŸ”—</a>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>11/4/2011 12:05:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>...with possible application to questions about infinite vals.</p><p>A generalized patent val is similar to a patent val except that you can start from an arbitrary rank-1 scale rather than only equal divisions of the pure octave. Basically all you do is use an arbitrary real number instead of an integer EDO number. As an example, v(17.00) is &lt;17 27 39 48|, the ordinary patent val for 17edo, but v(17.02) is &lt;17 27 40 48|, the well-known 17c val that tempers out 81/80.</p><p>Now, a funny thing happens when you consider a val such as v(12) in the 13 limit (&lt;12 19 28 34 42 44|). The TE tuning map for this 13-limit equal temperament has 99.7336 cent steps, so it divides 2/1 into 12.032 equal parts rather than 12.</p><p>But v(12.032) is a different val, &lt;12 19 28 34 42 45| instead of &lt;12 19 28 34 42 44|! (12f instead of 12p)</p><p>In other words, the generalized patent val for the optimum TE tuning is not the same as the patent val we started with. The original patent val v(12) did not agree with its own optimum tuning!</p><p>My question is, if we iterate this process:</p><p>1. Find the optimum TE tuning for an equal temperament.<br/>2. Find the generalized patent val for that tuning.<br/>3. If this val is different from the one we used in step 1, return to step 1 and repeat with the new equal temperament.</p><p>does it always eventually terminate? Are we always able to find some generalized patent val that is *consistent with* its own optimum tuning? (I hereby dub such vals &quot;TE self-consistent vals&quot;. Replace TE with any other optimized tuning and you get a variant definition.)</p><p>I&apos;m pretty sure the answer is &quot;yes&quot;, because the steps of the tuning should either always shrink, or always grow, so there can&apos;t be a cycle, and it seems unlikely that there could be an infinite sequence of different vals if there are no cycles.</p><p>The really big question, though, is if this still works for infinite-limit vals.</p><p>Keenan</p></div><h3><a id=19969 href="#19969">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>11/4/2011 5:01:34 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;Keenan Pepper&quot; &lt;keenanpepper@...&gt; wrote:</p><p>&gt; does it always eventually terminate? Are we always able to find<br/>&gt; some generalized patent val that is *consistent with* its own<br/>&gt; optimum tuning? (I hereby dub such vals &quot;TE self-consistent vals&quot;.<br/>&gt; Replace TE with any other optimized tuning and you get a variant<br/>&gt; definition.)</p><p>Clearly there is one val that has lowest error.  Being rank 1,<br/>it will have a step size and thus a real-number division of<br/>the octave.  But I don&apos;t see why this val must be patent<br/>with respect to that division.  Nor really, the importance<br/>of the &quot;patent&quot; property in the scheme of things.</p><p>-Carl</p></div><h3><a id=19970 href="#19970">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>11/4/2011 5:43:20 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Nov 4, 2011 at 8:01 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; &quot;Keenan Pepper&quot; &lt;keenanpepper@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; does it always eventually terminate? Are we always able to find<br/>&gt; &gt; some generalized patent val that is *consistent with* its own<br/>&gt; &gt; optimum tuning? (I hereby dub such vals &quot;TE self-consistent vals&quot;.<br/>&gt; &gt; Replace TE with any other optimized tuning and you get a variant<br/>&gt; &gt; definition.)<br/>&gt;<br/>&gt; Clearly there is one val that has lowest error. Being rank 1,<br/>&gt; it will have a step size and thus a real-number division of<br/>&gt; the octave. But I don&apos;t see why this val must be patent<br/>&gt; with respect to that division.</p><p>I don&apos;t think he&apos;s suggesting to call the lowest-error val the<br/>&quot;patent&quot; one, just seeing if there&apos;s ever a case where the TE error<br/>optimization will suggest a fractional val that, if rounded off and<br/>TE-optimized again, yields a different val such that this process will<br/>continue forever in an infinite cycle.</p><p>&gt; Nor really, the importance<br/>&gt; of the &quot;patent&quot; property in the scheme of things.</p><p>It&apos;s useful solely because it&apos;s easy to compute. It allows us to use<br/>shorthand like 17d, 23cd, whatever, and know what that&apos;s shorthand for<br/>with a minimum of computation. If on the other hand these letters<br/>specified alterations from the val &lt;17 x y z l m n o p ...| which is<br/>lowest in TE-error, then we&apos;d have to first work out which val that<br/>is. And if we ever come up with a newer algorithm for error that isn&apos;t<br/>TE-based, we&apos;d have quite a conundrum on our hands.</p><p>It would be useful, when dealing with infinite vals, to be able to<br/>have an easily computable function to specify a certain val. Then we<br/>can just say that the val is that function, and rather than looking at<br/>vals as finite sequences of coefficients, we just look at whole<br/>functions. Infinite patent vals are about the most easily computable<br/>functions that there are - whether or not they&apos;ll be useful in tuning<br/>is a whole different story.</p><p>I suppose the real holy grail is to algebraically work out the TE<br/>error calculation for an infinite val, and then differentiate that and<br/>solve for 0 to find the global minimum, and then reduce that to a<br/>single function. (I&apos;m tempted to say that it&apos;d be a &quot;linear functional<br/>in a Hilbert space,&quot; but I fear the wrath of Keenan Pepper if I throw<br/>that term around.)</p><p>-Mike</p></div><h3><a id=19977 href="#19977">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>11/5/2011 2:55:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike wrote:</p><p>&gt;&gt; Clearly there is one val that has lowest error. Being rank 1,<br/>&gt;&gt; it will have a step size and thus a real-number division of<br/>&gt;&gt; the octave. But I don&apos;t see why this val must be patent<br/>&gt;&gt; with respect to that division.<br/>&gt;<br/>&gt;I don&apos;t think he&apos;s suggesting to call the lowest-error val the<br/>&gt;&quot;patent&quot; one, just seeing if there&apos;s ever a case where the TE error<br/>&gt;optimization will suggest a fractional val that, if rounded off and<br/>&gt;TE-optimized again, yields a different val such that this process will<br/>&gt;continue forever in an infinite cycle.</p><p>Right, that&apos;s what I said.  It&apos;s equivalent to asking if you are<br/>guaranteed to find the best val for a whole-number octave division N<br/>by choosing from the patent vals for every real-number division M,<br/>N-0.5 &lt; M &lt;= N+0.5 the one with least error.  Actually I believe<br/>Graham addressed this question when I asked him once... if only I<br/>could remember any of the unusual words in his answer...</p><p>&gt;&gt; Nor really, the importance<br/>&gt;&gt; of the &quot;patent&quot; property in the scheme of things.<br/>&gt;<br/>&gt;It&apos;s useful solely because it&apos;s easy to compute.</p><p>I just meant, I don&apos;t see the significance of the above question.</p><p>&gt;I suppose the real holy grail is to algebraically work out the TE<br/>&gt;error calculation for an infinite val, and then differentiate that and<br/>&gt;solve for 0 to find the global minimum, and then reduce that to a<br/>&gt;single function.</p><p>That would be nice.  I don&apos;t think you&apos;ll like differentiating<br/>it though, at least not with TE error, which AFAIK doesn&apos;t<br/>converge as primes are added.</p><p>-Carl</p></div><h3><a id=19978 href="#19978">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>11/5/2011 3:31:44 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:</p><p>&gt; Right, that&apos;s what I said.  It&apos;s equivalent to asking if<br/>&gt; you are guaranteed to find the best val for a<br/>&gt; whole-number octave division N by choosing from the<br/>&gt; patent vals for every real-number division M, N-0.5 &lt; M<br/>&gt; &lt;= N+0.5 the one with least error.  Actually I believe<br/>&gt; Graham addressed this question when I asked him once...<br/>&gt; if only I could remember any of the unusual words in his<br/>&gt; answer...</p><p>Well, let&apos;s think about what I might have said then.  One<br/>thing is that, for the optimal mapping with its optimal<br/>scale stretch, the weighted RMS error will match the TE<br/>error.  (Or at least be very close.  I forget.)  If some<br/>other mapping has a lower error, then the first one can&apos;t<br/>have been optimal.  So we have a proof by contradiction.<br/>The only problem is that the octave divisions might be<br/>different.  For equal temperaments with goodness beyond<br/>some point you can probably quantify it&apos;ll be impossible for<br/>them to have such a large octave stretch that it&apos;d be in<br/>danger of rounding off the wrong way.</p><p>                      Graham</p></div><h3><a id=19979 href="#19979">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>11/5/2011 5:20:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt;Well, let&apos;s think about what I might have said then.  One<br/>&gt;thing is that, for the optimal mapping with its optimal<br/>&gt;scale stretch, the weighted RMS error will match the TE<br/>&gt;error.  (Or at least be very close.  I forget.)  If some<br/>&gt;other mapping has a lower error, then the first one can&apos;t<br/>&gt;have been optimal.  So we have a proof by contradiction.<br/>&gt;The only problem is that the octave divisions might be<br/>&gt;different.  For equal temperaments with goodness beyond<br/>&gt;some point you can probably quantify it&apos;ll be impossible for<br/>&gt;them to have such a large octave stretch that it&apos;d be in<br/>&gt;danger of rounding off the wrong way.</p><p>Not sure what you&apos;re saying here... I don&apos;t think the<br/>particular error function is at issue.  If I&apos;ve understood<br/>correctly, the question is whether there&apos;s some optimal val<br/>that isn&apos;t patent with respect to a fractional division of<br/>the octave.</p><p>Consider the usual patent val where the octave division is<br/>a whole number.  Let&apos;s call incrementing or decrementing one<br/>of the prime mappings &quot;flipping&quot; it.  All the other primes<br/>will flip before the octave, since the octave is smallest<br/>gets a zero-error start.  That is, compressing or expanding<br/>the octave by at most 0.5 will flip all the other primes.</p><p>But can we flip only one prime and be selective about it?<br/>Consider this:</p><p>oct  p1   pn<br/>120  194  762  -&gt; JI in 120-ET<br/>12.0 19.4 76.2 -&gt; 12-ET<br/>12   19   76   -&gt; rounded</p><p>To improve this val let&apos;s say we need to flip p1 but not p2,<br/>since p1 is worse.  Alpha tells me that leads to</p><p>508/51 &lt; x &lt; 388/39</p><p>which is false.  So it doesn&apos;t look like we can flip p1<br/>without flipping p2.</p><p>Also, consider decrementing while incrementing another.<br/>Doesn&apos;t seem like we can do that by compressing or<br/>stretching the octave.</p><p>-Carl</p></div><h3><a id=19980 href="#19980">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>11/5/2011 5:22:04 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:<br/>&gt;Also, consider decrementing while incrementing another.<br/>&gt;Doesn&apos;t seem like we can do that by compressing or<br/>&gt;stretching the octave.</p><p>That was meant to be &quot;decrementing one prime while&quot;.</p><p>-Carl</p></div><h3><a id=19982 href="#19982">ðŸ”—</a>Keenan Pepper &#x3C;keenanpepper@gmail.com&#x3E;</h3><span>11/5/2011 7:20:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt; Not sure what you&apos;re saying here... I don&apos;t think the<br/>&gt; particular error function is at issue.  If I&apos;ve understood<br/>&gt; correctly, the question is whether there&apos;s some optimal val<br/>&gt; that isn&apos;t patent with respect to a fractional division of<br/>&gt; the octave.</p><p>No, this was not the original question I was asking. I can&apos;t understand most of the posts in this thread because they&apos;re obviously addressing a different question than the one I intended.</p><p>See the new thread I started (Complete list of TOP self-consistent vals up to 120) for some results related to my intended question.</p><p>Keenan</p></div><h3><a id=19995 href="#19995">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>11/6/2011 11:43:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Nov 5, 2011 at 5:55 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; Mike wrote:<br/>&gt;<br/>&gt; &gt;I don&apos;t think he&apos;s suggesting to call the lowest-error val the<br/>&gt; &gt;&quot;patent&quot; one, just seeing if there&apos;s ever a case where the TE error<br/>&gt; &gt;optimization will suggest a fractional val that, if rounded off and<br/>&gt; &gt;TE-optimized again, yields a different val such that this process will<br/>&gt; &gt;continue forever in an infinite cycle.<br/>&gt;<br/>&gt; Right, that&apos;s what I said. It&apos;s equivalent to asking if you are<br/>&gt; guaranteed to find the best val for a whole-number octave division N<br/>&gt; by choosing from the patent vals for every real-number division M,<br/>&gt; N-0.5 &lt; M &lt;= N+0.5 the one with least error. Actually I believe<br/>&gt; Graham addressed this question when I asked him once... if only I<br/>&gt; could remember any of the unusual words in his answer...</p><p>It&apos;s very difficult for me to see how this is related; could you<br/>perhaps show how?</p><p>-Mike</p></div><h3><a id=20017 href="#20017">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>11/10/2011 4:04:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:</p><p>&gt;But can we flip only one prime and be selective about it?<br/>&gt;Consider this:<br/>&gt;<br/>&gt;oct  p1   pn<br/>&gt;120  194  762  -&gt; JI in 120-ET<br/>&gt;12.0 19.4 76.2 -&gt; 12-ET<br/>&gt;12   19   76   -&gt; rounded<br/>&gt;<br/>&gt;To improve this val let&apos;s say we need to flip p1 but not p2,<br/>&gt;since p1 is worse.  Alpha tells me that leads to<br/>&gt;508/51 &lt; x &lt; 388/39<br/>&gt;which is false.  So it doesn&apos;t look like we can flip p1<br/>&gt;without flipping p2 [by changing the size of the octave].</p><p>That&apos;s unweighted of course.  It may be that this &apos;prime size<br/>rounding effect&apos; is cancelled out or overpowered by Tenney<br/>weighting.  If fact, since ET step size is also logarithmic,<br/>it may be exactly cancelled...</p><p>-Carl</p></div>