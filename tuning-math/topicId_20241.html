<a href="/tuning-math">back to list</a><h1>Question about LLL reduction</h1><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/22/2012 9:26:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Every rank-2 temperament comes in three index-1 contorted forms. For<br/>example, meantone gives you the thing that&apos;s like 5-limit injera, the<br/>thing that&apos;s like 5-limit semaphore, and the thing that&apos;s like 5-limit<br/>mohajira. These can be viewed as 81/80-temperings of three different<br/>&quot;contorted JI lattices,&quot; given by the following bases, which I&apos;ll call<br/>&quot;unreduced&quot; bases:</p><p>UNREDUCED BASES<br/>&quot;Injera&quot;: {sqrt(2/1), 3/2, 81/80} - &lt;[1/2 0 0&gt; [-1 1 0&gt; [-4 4 -1&gt;]<br/>&quot;Semaphore&quot;: {2/1, sqrt(4/3), 81/80} - &lt;[1 0 0&gt; [1 -1/2 0&gt; [0 0 1&gt;]<br/>&quot;Mohajira&quot;: {2/1, sqrt(3/2), 81/80} - &lt;[1 0 0&gt; [-1/2 1/2 0&gt; [0 0 1&gt;]</p><p>I wanted to get a reduced basis for each of these lattices. The first<br/>two are simple enough to figure out mentally, and I only wrote the<br/>full version above to show a full derivation of what I&apos;m doing. The<br/>&quot;reduced&quot; bases which LLL spits out, and which anyone who thinks about<br/>it will clearly see, are the following</p><p>REDUCED BASES<br/>&quot;Injera&quot;: {sqrt(2/1), 3/1, 5/1} - &lt;|1/2 0 0&gt; |0 1 0&gt; |0 0 1&gt;]<br/>&quot;Semaphore&quot;: {2/1, sqrt(3/1), 5/1} - &lt;|1 0 0&gt; |0 1/2 0&gt; |0 0 1&gt;]</p><p>But, for some reason, LLL spits the same thing out for &quot;mohajira&quot; that<br/>it does for &quot;semaphore&quot;!</p><p>&quot;Mohajira&quot;: {2/1, sqrt(3/1), 5/1} - &lt;|1 0 0&gt; |0 1/2 0&gt; |0 0 1&gt;] - ?</p><p>Why the heck is it doing this? My input vectors for &quot;mohajira&quot; were |1<br/>0 0&gt;, |-1/2 1/2 0&gt;, and |0 0 1&gt;. There is no way to get to the vector<br/>|0 1/2 0&gt;, which is what LLL keeps spitting out, from an integer<br/>combination of those vectors. I declared the matrix in Maple using<br/>only rationals, so it ought to be performing proper rational<br/>arithmetic from this.</p><p>What gives?</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/22/2012 9:55:00 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Never mind, I figured it out: Maple&apos;s LLL routine takes a Matrix as<br/>input, but assumes the -row- vectors are the basis vectors you&apos;re<br/>trying to minimize. In my case, out of force of habit, I had input the<br/>monzos as column vectors.</p><p>This is what it spits out now:</p><p>REDUCED BASES<br/>&quot;Injera&quot;: {sqrt(2/1), 3/1, 5/1} - &lt;|1/2 0 0&gt; |0 1 0&gt; |0 0 1&gt;]<br/>&quot;Semaphore&quot;: {2/1, sqrt(3/1), 5/1} - &lt;|1 0 0&gt; |0 1/2 0&gt; |0 0 1&gt;]<br/>&quot;Mohajira&quot;: {sqrt(3/2), sqrt(6/1), 5/1} - &lt;|-1/2 1/2 0&gt; |1/2 1/2 0&gt; |0 0 1&gt;]</p><p>Strange choice of basis for the last thing, but that&apos;s what you get.<br/>It all works out a bit nicer if you use Hermite normal form on the<br/>inverse transposed matrix and then inverse transpose again at the end.</p><p>-Mike</p><p>On Mon, Jan 23, 2012 at 12:26 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; Every rank-2 temperament comes in three index-1 contorted forms. For<br/>&gt; example, meantone gives you the thing that&apos;s like 5-limit injera, the<br/>&gt; thing that&apos;s like 5-limit semaphore, and the thing that&apos;s like 5-limit<br/>&gt; mohajira. These can be viewed as 81/80-temperings of three different<br/>&gt; &quot;contorted JI lattices,&quot; given by the following bases, which I&apos;ll call<br/>&gt; &quot;unreduced&quot; bases:<br/>&gt;<br/>&gt; UNREDUCED BASES<br/>&gt; &quot;Injera&quot;: {sqrt(2/1), 3/2, 81/80} - &lt;[1/2 0 0&gt; [-1 1 0&gt; [-4 4 -1&gt;]<br/>&gt; &quot;Semaphore&quot;: {2/1, sqrt(4/3), 81/80} - &lt;[1 0 0&gt; [1 -1/2 0&gt; [0 0 1&gt;]<br/>&gt; &quot;Mohajira&quot;: {2/1, sqrt(3/2), 81/80} - &lt;[1 0 0&gt; [-1/2 1/2 0&gt; [0 0 1&gt;]<br/>&gt;<br/>&gt; I wanted to get a reduced basis for each of these lattices. The first<br/>&gt; two are simple enough to figure out mentally, and I only wrote the<br/>&gt; full version above to show a full derivation of what I&apos;m doing. The<br/>&gt; &quot;reduced&quot; bases which LLL spits out, and which anyone who thinks about<br/>&gt; it will clearly see, are the following<br/>&gt;<br/>&gt; REDUCED BASES<br/>&gt; &quot;Injera&quot;: {sqrt(2/1), 3/1, 5/1} - &lt;|1/2 0 0&gt; |0 1 0&gt; |0 0 1&gt;]<br/>&gt; &quot;Semaphore&quot;: {2/1, sqrt(3/1), 5/1} - &lt;|1 0 0&gt; |0 1/2 0&gt; |0 0 1&gt;]<br/>&gt;<br/>&gt; But, for some reason, LLL spits the same thing out for &quot;mohajira&quot; that<br/>&gt; it does for &quot;semaphore&quot;!<br/>&gt;<br/>&gt; &quot;Mohajira&quot;: {2/1, sqrt(3/1), 5/1} - &lt;|1 0 0&gt; |0 1/2 0&gt; |0 0 1&gt;] - ?<br/>&gt;<br/>&gt; Why the heck is it doing this? My input vectors for &quot;mohajira&quot; were |1<br/>&gt; 0 0&gt;, |-1/2 1/2 0&gt;, and |0 0 1&gt;. There is no way to get to the vector<br/>&gt; |0 1/2 0&gt;, which is what LLL keeps spitting out, from an integer<br/>&gt; combination of those vectors. I declared the matrix in Maple using<br/>&gt; only rationals, so it ought to be performing proper rational<br/>&gt; arithmetic from this.<br/>&gt;<br/>&gt; What gives?<br/>&gt;<br/>&gt; -Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/23/2012 4:30:48 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Mon, Jan 23, 2012 at 7:00 AM, genewardsmith<br/>&lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Every rank-2 temperament comes in three index-1 contorted forms.<br/>&gt;<br/>&gt; My problems with this posting start with the first sentence, where you introduce an idea you don&apos;t define.</p><p>Um, the above was actually a typo, it should say index-2. But I&apos;ve<br/>defined the word &quot;index&quot; before. Actually, I think Keenan defined it.<br/>See here:</p><p><a href="http://tech.dir.groups.yahoo.com/group/tuning-math/message/19414">http://tech.dir.groups.yahoo.com/group/tuning-math/message/19414</a></p><p>If it&apos;s not clear, I&apos;ll define it again, specifically for contorsion<br/>this time. For this definition, let a &quot;contemperament&quot; be the thing<br/>that&apos;s like a temperament but with contorsion, and let the &quot;reduced<br/>temperament&quot; of a contemperament be the temperament that results if<br/>you get rid of the contorsion.</p><p>Note that a temperament or a contemperament can be defined by a<br/>collection of vals, which define a Bravais lattice. I&apos;ll call this the<br/>&quot;val lattice&quot; for a temperament or a contemperament, and note that it<br/>uniquely defines an instance of either. Then a contemperament&apos;s &quot;index<br/>of contorsion,&quot; or &quot;index&quot; for short, is equal to the volume of the<br/>unit cell of its val lattice, divided by the volume of the unit cell<br/>of the val lattice of its reduced temperament.</p><p>&gt; What do the fractional vals you use mean?</p><p>Look at the thing I called &quot;semaphore&quot; in scare quotes before, which<br/>is basically 5-limit meantone with the generator for 3/1 split in<br/>half. If you want to draw out the lattice of the resulting<br/>contemperament, one basis is to have an axis representing 2/1, and the<br/>other axis representing an interval not mapped by JI, but two of which<br/>give you 4/3.</p><p>Now throw in 81/80, as a third axis. A nicely reduced basis for this<br/>lattice is given by 2/1, 5/1, and another thing which is undefined,<br/>but two of which is 3/1. We can represent the third by the monzo |0<br/>0.5 0&gt;, and note that the &quot;semaphore&quot;-esque meantone contemperament is<br/>what results if you 81/80 temper this contorted JI lattice. I don&apos;t<br/>know what to call this so I&apos;ll call it a &quot;contorted JI lattice&quot; for<br/>now.</p><p>There are two things about this which I think are notable:<br/>1) If you contort a temperament by an index of 2, the volume of the<br/>unit cell of its val lattice doubles.<br/>2) If you contort a temperament by an index of 2, the volume of the<br/>unit cell of the &quot;JI&quot; lattice gets cut in half.</p><p>So after reading up a fair amount on Bravais lattices, this reciprocal<br/>relationship means that some notion of the &quot;reciprocal lattice&quot; is<br/>involved here, which might be useful in studying the properties of<br/>contemperaments. I&apos;d like to say that this has something to do with<br/>Pontryagin duality, but every time I think I understand the Wikipedia<br/>article on it, there&apos;s another Wikipedia article somewhere else that<br/>uses the term in a totally different manner.</p><p>Anyway, that&apos;s about it. I don&apos;t have anything concrete, because I&apos;m<br/>still playing around with it. All I needed to keep poking around was<br/>to get my LLL routine fixed, and it&apos;s working now.</p><p>-Mike</p></div>