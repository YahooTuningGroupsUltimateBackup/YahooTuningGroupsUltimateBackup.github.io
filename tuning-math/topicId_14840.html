<a href="/tuning-math">back to list</a><h1>weighted error -- on the way to a test</h1><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/23/2006 4:20:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Here&apos;s a start at a synthetic test of tenney-weighted error.<br/>I show chords, then unweighted max, mad, and rms error.<br/>Anybody care to:</p><p>1. Check these numbers?<br/>2. Supply numbers for TOP error per Paul Erlich&apos;s &apos;Middle Path&apos; paper?</p><p>I hope at least the last group will differ on weighted error.</p><p>(0 386 702 969) JI</p><p>(0 381 702 964) 2 flat by 5 ((5 max)<br/>                             (3.3333333333333335 mad)<br/>                             (4.08248290463863 rms))<br/>(0 386 697 964) 2 flat by 5 &quot; &quot;<br/>(0 381 697 969) 2 flat by 5 &quot; &quot;</p><p>(0 391 702 974) 2 sharp by 5 &quot; &quot;<br/>(0 386 707 974) 2 sharp by 5 &quot; &quot;<br/>(0 391 707 969) 2 sharp by 5 &quot; &quot;</p><p>(0 376 702 959) 2 flat by 10 ((10 max)<br/>                              (6.666666666666667 mad)<br/>                              (8.16496580927726 rms))<br/>(0 386 692 959) 2 flat by 10 &quot; &quot;<br/>(0 376 692 969) 2 flat by 10 &quot; &quot;</p><p>(0 396 702 979) 2 sharp by 10 &quot; &quot;<br/>(0 386 712 979) 2 sharp by 10 &quot; &quot;<br/>(0 396 712 969) 2 sharp by 10 &quot; &quot;</p><p>(0 386 709 962) 1 sharp, 1 flat by 7 ((14 max)<br/>                                      (7.0 mad)<br/>                                      (8.082903768654761 rms))<br/>(0 393 695 969) 1 sharp, 1 flat by 7 &quot; &quot;<br/>(0 386 695 976) 1 flat, 1 sharp by 7 &quot; &quot;<br/>(0 379 709 969) 1 flat, 1 sharp by 7 &quot; &quot;</p><p>(0 386 702 984) 1 sharp by 15 ((15 max) (7.5 mad) (10.606601717798213 rms))<br/>(0 386 702 954) 1 flat by 15 &quot; &quot;<br/>(0 386 717 969) 1 sharp by 15 &quot; &quot;<br/>(0 386 687 969) 1 flat by 15 &quot; &quot;</p><p>-Carl</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>5/23/2006 7:03:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt; Here&apos;s a start at a synthetic test of tenney-weighted error.<br/>&gt; I show chords, then unweighted max, mad, and rms error.<br/>&gt; Anybody care to:<br/>&gt;<br/>&gt; 1. Check these numbers?<br/>&gt; 2. Supply numbers for TOP error per Paul Erlich&apos;s &apos;Middle Path&apos; paper?</p><p>What does this have to do with TOP error?</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/23/2006 8:00:00 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Here&apos;s a start at a synthetic test of tenney-weighted error.<br/>&gt;&gt; I show chords, then unweighted max, mad, and rms error.<br/>&gt;&gt; Anybody care to:<br/>&gt;&gt;<br/>&gt;&gt; 1. Check these numbers?<br/>&gt;&gt; 2. Supply numbers for TOP error per Paul Erlich&apos;s &apos;Middle Path&apos; paper?<br/>&gt;<br/>&gt;What does this have to do with TOP error?</p><p>I want to compare them.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/24/2006 3:19:29 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt; Here&apos;s a start at a synthetic test of tenney-weighted error.<br/>&gt; I show chords, then unweighted max, mad, and rms error.<br/>&gt; Anybody care to:<br/>&gt; &gt; 1. Check these numbers?<br/>&gt; 2. Supply numbers for TOP error per Paul Erlich&apos;s &apos;Middle Path&apos; paper?<br/>&gt; &gt; I hope at least the last group will differ on weighted error.<br/>&gt; &gt; (0 386 702 969) JI</p><p>max 0.313713864834<br/>rms 0.208766112031<br/>mad 0.177602176774<br/>top 0.0985642891599<br/>twrms 0.0861018914155</p><p>As a control, because you&apos;re expecting a lot more precision out than you put in.</p><p>The max, rms and mad are functions of the errors in the notes you gave, relative to 4:5:6</p><p>TWRMS is the Tenney-weighted optimal prime root mean squared wrror.  So like TOP but with RMS instead of max-abs.</p><p>Plain errors are in cents and weighted errors are in cents/octave</p><p>&gt; (0 381 702 964) 2 flat by 5 ((5 max)<br/>&gt;                              (3.3333333333333335 mad)<br/>&gt;                              (4.08248290463863 rms))</p><p>max 5.31371386483<br/>rms 4.14435170677<br/>mad 3.39487315619<br/>top 1.15953358819<br/>twrms 0.986861379617</p><p>&gt; (0 386 697 964) 2 flat by 5 &quot; &quot;</p><p>0.0 386.0 697.0 964.0<br/>max 4.95500086539<br/>rms 3.99749184755<br/>mad 3.36487373312<br/>top 1.49760923907<br/>twrms 1.22353308374</p><p>&gt; (0 381 697 969) 2 flat by 5 &quot; &quot;</p><p>0.0 381.0 697.0 969.0<br/>max 5.31371386483<br/>rms 4.19594634422<br/>mad 3.48093608703<br/>top 1.59617336461<br/>twrms 1.35156824478</p><p>&gt; (0 391 702 974) 2 sharp by 5 &quot; &quot;</p><p>0.0 391.0 702.0 974.0<br/>max 5.17409353087<br/>rms 4.03048990112<br/>mad 3.30179293355<br/>top 0.994093404941<br/>twrms 0.898616298064</p><p>&gt; (0 386 707 974) 2 sharp by 5 &quot; &quot;</p><p>0.0 386.0 707.0 974.0<br/>max 5.17409353087<br/>rms 4.17618951212<br/>mad 3.51093551011<br/>top 1.65697032957<br/>twrms 1.36110426315</p><p>&gt; (0 391 707 969) 2 sharp by 5 &quot; &quot;</p><p>0.0 391.0 707.0 969.0<br/>max 5.04499913461<br/>rms 3.97674919863<br/>mad 3.30179293355<br/>top 1.55840621716<br/>twrms 1.28585816192</p><p>&gt; (0 376 702 959) 2 flat by 10 ((10 max)<br/>&gt;                               (6.666666666666667 mad)<br/>&gt;                               (8.16496580927726 rms))</p><p>max 10.3137138648<br/>rms 8.22441804522<br/>mad 6.72820648952<br/>top 2.23925091432<br/>twrms 1.92835976115</p><p>&gt; (0 386 692 959) 2 flat by 10 &quot; &quot;</p><p>max 9.95500086539<br/>rms 8.07772444357<br/>mad 6.69820706645<br/>top 3.08113543955<br/>twrms 2.51972045101</p><p>&gt; (0 376 692 969) 2 flat by 10 &quot; &quot;</p><p>0.0 376.0 692.0 969.0<br/>max 10.3137138648<br/>rms 8.27657426059<br/>mad 6.81426942037<br/>top 3.17969905812<br/>twrms 2.67248321154</p><p>&gt; (0 396 702 979) 2 sharp by 10 &quot; &quot;</p><p>0.0 396.0 702.0 979.0<br/>max 10.1740935309<br/>rms 8.11045299165<br/>mad 6.63512626688<br/>top 2.06801347549<br/>twrms 1.8337494104</p><p>&gt; (0 386 712 979) 2 sharp by 10 &quot; &quot;</p><p>0.0 386.0 712.0 979.0<br/>max 10.1740935309<br/>rms 8.2565651288<br/>mad 6.84426884344<br/>top 3.22805640272<br/>twrms 2.64674500148</p><p>&gt; (0 396 712 969) 2 sharp by 10 &quot; &quot;</p><p>0.0 396.0 712.0 969.0<br/>max 10.0449991346<br/>rms 8.05722150753<br/>mad 6.63512626688<br/>top 3.12949280503<br/>twrms 2.59504241897</p><p>&gt; (0 386 709 962) 1 sharp, 1 flat by 7 ((14 max)<br/>&gt;                                       (7.0 mad)<br/>&gt;                                       (8.082903768654761 rms))</p><p>0.0 386.0 709.0 962.0<br/>max 7.04499913461<br/>rms 5.66637533528<br/>mad 4.72820648952<br/>top 3.43528624684<br/>twrms 2.8568925315</p><p>This one&apos;s very different!</p><p>&gt; (0 393 695 969) 1 sharp, 1 flat by 7 &quot; &quot;</p><p>0.0 393.0 695.0 969.0<br/>max 6.95500086539<br/>rms 5.57101929262<br/>mad 4.60512684381<br/>top 3.63615730219<br/>twrms 2.99308426419</p><p>&gt; (0 386 695 976) 1 flat, 1 sharp by 7 &quot; &quot;</p><p>0.0 386.0 695.0 976.0<br/>max 7.17409353088<br/>rms 5.77171469081<br/>mad 4.81426942037<br/>top 3.47444343365<br/>twrms 2.86008182373</p><p>&gt; (0 379 709 969) 1 flat, 1 sharp by 7 &quot; &quot;</p><p>0.0 379.0 709.0 969.0<br/>max 7.31371386483<br/>rms 5.8638079738<br/>mad 4.84426884344<br/>top 3.79532436109<br/>twrms 3.11161939905</p><p>&gt; (0 386 702 984) 1 sharp by 15 ((15 max) (7.5 mad) (10.606601717798213 rms))</p><p>0.0 386.0 702.0 984.0<br/>max 15.1740935309<br/>rms 8.76267759297<br/>mad 5.17760217677<br/>top 2.76404579287<br/>twrms 2.57022909998</p><p>&gt; (0 386 702 954) 1 flat by 15 &quot; &quot;</p><p>0.0 386.0 702.0 954.0<br/>max 14.8259064691<br/>rms 8.56169655972<br/>mad 5.06153982286<br/>top 2.66056585073<br/>twrms 2.46897181605</p><p>&gt; (0 386 717 969) 1 sharp by 15 &quot; &quot;</p><p>0.0 386.0 717.0 969.0<br/>max 15.0449991346<br/>rms 8.68870385245<br/>mad 5.17760217677<br/>top 4.795028329<br/>twrms 4.48092505528</p><p>&gt; (0 386 687 969) 1 flat by 15 &quot; &quot;</p><p>0.0 386.0 687.0 969.0<br/>max 14.9550008654<br/>rms 8.63675818484<br/>mad 5.1476027537<br/>top 4.76740396362<br/>twrms 4.44317053554</p><p>                Graham</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/24/2006 7:35:44 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; (0 386 702 969) JI<br/>&gt;<br/>&gt;max 0.313713864834<br/>&gt;rms 0.208766112031<br/>&gt;mad 0.177602176774<br/>&gt;top 0.0985642891599<br/>&gt;twrms 0.0861018914155<br/>&gt;<br/>&gt;As a control,</p><p>Yes, that&apos;s good.</p><p>&gt;because you&apos;re expecting a lot more precision out than you<br/>&gt;put in.</p><p>One doesn&apos;t have to consider that &quot;JI&quot; in fact.  It&apos;s just another<br/>chord in the test, which will be ranked by listeners and by the<br/>error functions.</p><p>&gt;The max, rms and mad are functions of the errors in the notes you gave,<br/>&gt;relative to 4:5:6</p><p>What else would they be?</p><p>&gt;TWRMS is the Tenney-weighted optimal prime root mean squared wrror.<br/>&gt;So like TOP but with RMS instead of max-abs.<br/>&gt;<br/>&gt;Plain errors are in cents and weighted errors are in cents/octave</p><p>I&apos;m confused.  First, are these dyadic measures, and second, where<br/>are octaves coming from?  Bear in mind that I totally forget how<br/>Paul calculates TOP error in his paper (he was doing prime-limit<br/>tunings, not chords, I guess...).  I&apos;ve misplaced my copy and I<br/>was up hunting for it last night in this mess of boxes to no avail.</p><p>&gt;&gt; (0 381 702 964) 2 flat by 5 ((5 max)<br/>&gt;&gt;                              (3.3333333333333335 mad)<br/>&gt;&gt;                              (4.08248290463863 rms))<br/>&gt;<br/>&gt;max 5.31371386483</p><p>This is relative to JI, then, not to the chord called &quot;JI&quot;<br/>at the top.</p><p>&gt;rms 4.14435170677<br/>&gt;mad 3.39487315619<br/>&gt;top 1.15953358819<br/>&gt;twrms 0.986861379617</p><p>So I can&apos;t quite tell if my numbers were right, but it looks<br/>like they were.  Whatever we do, we have to get TOP and TWRMS<br/>in the same units as the others.</p><p>&gt;&gt; (0 386 709 962) 1 sharp, 1 flat by 7 ((14 max)<br/>&gt;&gt;                                       (7.0 mad)<br/>&gt;&gt;                                       (8.082903768654761 rms))<br/>&gt;<br/>&gt;0.0 386.0 709.0 962.0<br/>&gt;max 7.04499913461</p><p>Are you doing dyadic (pairwise)?  Because 7:6 should be<br/>about 14 cents flat here.</p><p>&gt;&gt; (0 393 695 969) 1 sharp, 1 flat by 7 &quot; &quot;<br/>&gt;<br/>&gt;0.0 393.0 695.0 969.0<br/>&gt;max 6.95500086539</p><p>Ditto 6:5.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/24/2006 8:07:10 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:</p><p>&gt;&gt;The max, rms and mad are functions of the errors in the notes you gave, &gt;&gt;relative to 4:5:6<br/>&gt; &gt; What else would they be?</p><p>4:5:6:7 rather.  I could take errors of all intervals within the chord.   I could extrapolate to a full 7-limit tuning, and take the errors of that, which should give the same result.  I could extrapolate to the 9-limit, which would be different.  I could take some other tuning as the target, even.</p><p>&gt;&gt;TWRMS is the Tenney-weighted optimal prime root mean squared wrror.<br/>&gt;&gt;So like TOP but with RMS instead of max-abs.<br/>&gt;&gt;<br/>&gt;&gt;Plain errors are in cents and weighted errors are in cents/octave<br/>&gt; &gt; I&apos;m confused.  First, are these dyadic measures, and second, where<br/>&gt; are octaves coming from?  Bear in mind that I totally forget how<br/>&gt; Paul calculates TOP error in his paper (he was doing prime-limit<br/>&gt; tunings, not chords, I guess...).  I&apos;ve misplaced my copy and I<br/>&gt; was up hunting for it last night in this mess of boxes to no avail.</p><p>The unweighted measures are dyadic relative to the root.</p><p>The prime tunings are extrapolated assuming pure octaves, and then the whole scale stretch is optimized.  I suppose I could do that differently as well but it&apos;s tricky.</p><p>The TOP error is valid for a whole prime limit, and can be calculated from any sufficient subset.  I assume this one will do.  My calculation is much easier given the primes because then the sizes match the weighting.  So that&apos;s how I did it.</p><p>&gt;&gt;&gt;(0 381 702 964) 2 flat by 5 ((5 max)<br/>&gt;&gt;&gt;                             (3.3333333333333335 mad)<br/>&gt;&gt;<br/>&gt;&gt;max 5.31371386483<br/>&gt; &gt; &gt; This is relative to JI, then, not to the chord called &quot;JI&quot;<br/>&gt; at the top.</p><p>Yes.</p><p>&gt;&gt;rms 4.14435170677<br/>&gt;&gt;mad 3.39487315619<br/>&gt;&gt;top 1.15953358819<br/>&gt;&gt;twrms 0.986861379617<br/>&gt; &gt; &gt; So I can&apos;t quite tell if my numbers were right, but it looks<br/>&gt; like they were.  Whatever we do, we have to get TOP and TWRMS<br/>&gt; in the same units as the others.</p><p>You can&apos;t, because they&apos;re weighted.</p><p>&gt;&gt;&gt;(0 386 709 962) 1 sharp, 1 flat by 7 ((14 max)<br/>&gt;&gt;&gt;                                      (7.0 mad)<br/>&gt;&gt;&gt;                                      (8.082903768654761 rms))<br/>&gt;&gt;<br/>&gt;&gt;0.0 386.0 709.0 962.0<br/>&gt;&gt;max 7.04499913461<br/>&gt; &gt; &gt; Are you doing dyadic (pairwise)?  Because 7:6 should be<br/>&gt; about 14 cents flat here.</p><p>No, no 7:6</p><p>&gt;&gt;&gt;(0 393 695 969) 1 sharp, 1 flat by 7 &quot; &quot;<br/>&gt;&gt;<br/>&gt;&gt;0.0 393.0 695.0 969.0<br/>&gt;&gt;max 6.95500086539<br/>&gt; &gt; &gt; Ditto 6:5.</p><p>Indeed.</p><p>               Graham</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/24/2006 8:18:06 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;Plain errors are in cents and weighted errors are in cents/octave<br/>&gt;&gt;<br/>&gt;&gt; I&apos;m confused.  First, are these dyadic measures, and second, where<br/>&gt;&gt; are octaves coming from?  Bear in mind that I totally forget how<br/>&gt;&gt; Paul calculates TOP error in his paper (he was doing prime-limit<br/>&gt;&gt; tunings, not chords, I guess...).  I&apos;ve misplaced my copy and I<br/>&gt;&gt; was up hunting for it last night in this mess of boxes to no avail.<br/>//<br/>&gt;The prime tunings are extrapolated assuming pure octaves, and then the<br/>&gt;whole scale stretch is optimized.  I suppose I could do that differently<br/>&gt;as well but it&apos;s tricky.<br/>&gt;<br/>&gt;The TOP error is valid for a whole prime limit, and can be calculated<br/>&gt;from any sufficient subset.  I assume this one will do.  My calculation<br/>&gt;is much easier given the primes because then the sizes match the<br/>&gt;weighting.  So that&apos;s how I did it.</p><p>I guess I&apos;ll have to wait until I find that paper.</p><p>&gt;&gt;&gt;rms 4.14435170677<br/>&gt;&gt;&gt;mad 3.39487315619<br/>&gt;&gt;&gt;top 1.15953358819<br/>&gt;&gt;&gt;twrms 0.986861379617<br/>&gt;&gt;<br/>&gt;&gt;<br/>&gt;&gt; So I can&apos;t quite tell if my numbers were right, but it looks<br/>&gt;&gt; like they were.  Whatever we do, we have to get TOP and TWRMS<br/>&gt;&gt; in the same units as the others.<br/>&gt;<br/>&gt;You can&apos;t, because they&apos;re weighted.</p><p>I guess you&apos;re right.  I realize it isn&apos;t necessary though, since<br/>they&apos;ll be used to make separate rankings, that will be compared<br/>against the experimental ranking.</p><p>&gt;&gt; This is relative to JI, then, not to the chord called &quot;JI&quot;<br/>&gt;&gt; at the top.<br/>&gt;<br/>&gt;Yes.</p><p>Then the chords themselves should be recalculated to lie<br/>equidistant on either side of the contral (in that case, exact JI).<br/>I just thought it&apos;d be easier with round cents.</p><p>&gt;&gt;&gt;&gt;(0 386 709 962) 1 sharp, 1 flat by 7 ((14 max)<br/>&gt;&gt;&gt;&gt;                                      (7.0 mad)<br/>&gt;&gt;&gt;&gt;                                      (8.082903768654761 rms))<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;0.0 386.0 709.0 962.0<br/>&gt;&gt;&gt;max 7.04499913461<br/>&gt;&gt;<br/>&gt;&gt;<br/>&gt;&gt; Are you doing dyadic (pairwise)?  Because 7:6 should be<br/>&gt;&gt; about 14 cents flat here.<br/>&gt;<br/>&gt;No, no 7:6</p><p>?</p><p>-Carl</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>5/24/2006 11:17:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:</p><p>&gt; Bear in mind that I totally forget how<br/>&gt; Paul calculates TOP error in his paper (he was doing prime-limit<br/>&gt; tunings, not chords, I guess...).  I&apos;ve misplaced my copy and I<br/>&gt; was up hunting for it last night in this mess of boxes to no avail.</p><p>What is it you want TOP error of?</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/24/2006 11:33:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Bear in mind that I totally forget how<br/>&gt;&gt; Paul calculates TOP error in his paper (he was doing prime-limit<br/>&gt;&gt; tunings, not chords, I guess...).  I&apos;ve misplaced my copy and I<br/>&gt;&gt; was up hunting for it last night in this mess of boxes to no avail.<br/>&gt;<br/>&gt;What is it you want TOP error of?</p><p>The chords in question.  I can think of several ways to do it,<br/>such as weighting each dyad&apos;s error by its log(TenneyHeight), but<br/>I thought I&apos;d re-read Paul&apos;s approach for inspiration before<br/>committing to anything.</p><p>Graham claims he can find the associated TOP tuning and give<br/>the TOP error of that.  But for some reason I&apos;m not 100% if<br/>that&apos;s what he&apos;s given me, what &quot;cents per octave&quot; means, etc.</p><p>Any suggestions?</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/25/2006 6:20:10 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt;&gt;&gt;Bear in mind that I totally forget how<br/>&gt;&gt;&gt;Paul calculates TOP error in his paper (he was doing prime-limit<br/>&gt;&gt;&gt;tunings, not chords, I guess...).  I&apos;ve misplaced my copy and I<br/>&gt;&gt;&gt;was up hunting for it last night in this mess of boxes to no avail.<br/>&gt;&gt;<br/>&gt;&gt;What is it you want TOP error of?<br/>&gt; &gt; The chords in question.  I can think of several ways to do it,<br/>&gt; such as weighting each dyad&apos;s error by its log(TenneyHeight), but<br/>&gt; I thought I&apos;d re-read Paul&apos;s approach for inspiration before<br/>&gt; committing to anything.</p><p>You can&apos;t have the TOP error of a chord, at least the chords you gave. The current definition of &quot;TOP&quot; is either</p><p>Tenney OPtimal</p><p>or</p><p>Tempered Octaves, Please!</p><p>Well, within what parameters are we supposed to optimize your chords? And how can we temper the octaves when there are no octaves!?</p><p>Weighting each dyad n/d by log(n*d) (with n/d in its lowest terms) will give you the weighted error.  You can then get a max weighted error, rms weighted error, mean weighted error, etc.  You can&apos;t talk about TOP unless you have a consistent, regular tuning for all intervals within the prime limit.</p><p>(Error here as absolute value of deviation)</p><p>Paul&apos;s approach in the paper is to give a quote from tuning-math...</p><p>&gt; Graham claims he can find the associated TOP tuning and give<br/>&gt; the TOP error of that.  But for some reason I&apos;m not 100% if<br/>&gt; that&apos;s what he&apos;s given me, what &quot;cents per octave&quot; means, etc.</p><p>I can reconstruct the regular temperament (or whatever it is) by assuming the octaves are pure, and then stretch them to get the TOP. But that&apos;s probably not what you want.</p><p>&quot;Cents per octave&quot; are the units Paul uses in the paper, and so I use for consistency.  He doesn&apos;t call them that, but he doesn&apos;t call them anything.  It means you take the error in cents, and the weighting in octaves.  So for n*d it&apos;s |1200*log2(n/d) - actual_interval_size_in_cents| / log2(n*d).  The top is cents and the bottom is octaves.</p><p>It&apos;s easy to show this by dimensional analysis.  n*d is a frequency ratio.  1200*log2(n/d) is a pitch difference in cents.  log2(n/d) is a pitch difference in octaves.  log(n/d) = log(n) - log(d) so log(n) and log(d) must have the same units as log(n/d).  Therefore log2(n) and log2(d) must have units of octaves.  log(n*d) = log(n) + log(d). log(n*d) must have the same units as log(n) and log(d).  Therefore log2(n*d) must have units of octaves.  Therefore log2(TenneyHeight) has dimensions of octaves and Paul&apos;s TOP has dimensions of cents per octave, whether he intended it or not.</p><p>It makes some sense.  Two octaves will have twice the error of one octave.  So as octaves share in the tempering, this gives you some idea of how the overall tempering compares to the tempering of that octave. a TOP error of 1 cent/octave is as bad as the octave being 1 cent out of tune, according to the Tenny weighting.  Other intervals will tend to be more out of tune, so the TOP error in cents/octave is lower than the unweighted errors.</p><p>How bad will the error in 5/4 be?  Well, the Tenney height of 5/4 is 5*4=20.  That&apos;s somewhere between 16 and 32, and so between 4 and 5 octaves above whatever 1 is.  That means you can expect the error of 5/4 to be 4 and a bit times the average (of whatever kind) weighted error in cents/octave.</p><p>If the error and the weighting have the same units, the TOP error becomes dimensionless.  This is theoretically simple but gives a small number that doesn&apos;t mean much.  Hence we use cents/octave instead for public consumption.</p><p>More in my forthcoming monograph on weighted errors and complexities I suppose :P</p><p>&gt; Any suggestions?</p><p>Stick to weighted errors, which you seem to know how to do.  They&apos;re fiddly for me because I&apos;m set up for temperaments, not chords.</p><p>              Graham</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/25/2006 9:24:48 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Well, within what parameters are we supposed to optimize your chords?<br/>&gt;And how can we temper the octaves when there are no octaves!?<br/>&gt;<br/>&gt;Weighting each dyad n/d by log(n*d) (with n/d in its lowest terms) will<br/>&gt;give you the weighted error.  You can then get a max weighted error, rms<br/>&gt;weighted error, mean weighted error, etc.  You can&apos;t talk about TOP<br/>&gt;unless you have a consistent, regular tuning for all intervals within<br/>&gt;the prime limit.</p><p>Yes, the weighted error is sufficient.  My original message<br/>said &quot;tenney-weighted error&quot;.  I suppose both mean and rms<br/>would be useful, though they may not give different rankings.</p><p>&gt;&gt; Graham claims he can find the associated TOP tuning and give<br/>&gt;&gt; the TOP error of that.  But for some reason I&apos;m not 100% if<br/>&gt;&gt; that&apos;s what he&apos;s given me, what &quot;cents per octave&quot; means, etc.<br/>&gt;<br/>&gt;I can reconstruct the regular temperament (or whatever it is) by<br/>&gt;assuming the octaves are pure, and then stretch them to get the TOP.<br/>&gt;But that&apos;s probably not what you want.</p><p>Ah.  No, I don&apos;t think so.</p><p>&gt;&quot;Cents per octave&quot; are the units Paul uses in the paper, and so I use<br/>&gt;for consistency.  He doesn&apos;t call them that, but he doesn&apos;t call them<br/>&gt;anything.  It means you take the error in cents, and the weighting in<br/>&gt;octaves.  So for n*d it&apos;s |1200*log2(n/d) -<br/>&gt;actual_interval_size_in_cents| / log2(n*d).  The top is cents and the<br/>&gt;bottom is octaves.</p><p>Yes, it&apos;s a good point.  Perhaps ATE is the answer.</p><p>&gt;If the error and the weighting have the same units, the TOP error<br/>&gt;becomes dimensionless.  This is theoretically simple but gives a small<br/>&gt;number that doesn&apos;t mean much.  Hence we use cents/octave instead for<br/>&gt;public consumption.</p><p>Referring to ATE?</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/25/2006 7:53:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt; This is relative to JI, then, not to the chord called &quot;JI&quot;<br/>&gt;&gt;&gt; at the top.<br/>&gt;&gt;<br/>&gt;&gt;Yes.<br/>&gt;<br/>&gt;Then the chords themselves should be recalculated to lie<br/>&gt;equidistant on either side of the contral (in that case, exact JI).<br/>&gt;I just thought it&apos;d be easier with round cents.</p><p>In order to do weighted error with &quot;round cents&quot;, one has<br/>to know which identities are being approximated.  Even though<br/>we know in this case they&apos;re 4 5 6 7, it was a dumb idea to<br/>round the central chord.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/25/2006 8:00:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&quot;Cents per octave&quot; are the units Paul uses in the paper, and so I use<br/>&gt;&gt;for consistency.  He doesn&apos;t call them that, but he doesn&apos;t call them<br/>&gt;&gt;anything.  It means you take the error in cents, and the weighting in<br/>&gt;&gt;octaves.  So for n*d it&apos;s |1200*log2(n/d) -<br/>&gt;&gt;actual_interval_size_in_cents| / log2(n*d).  The top is cents and the<br/>&gt;&gt;bottom is octaves.<br/>&gt;<br/>&gt;Yes, it&apos;s a good point.  Perhaps ATE is the answer.</p><p>Can anybody tell me if these are the mean dyadic<br/>tenney-weighted and Absolute TOP Errors of 4:5:6:7<br/>in 12-equal?</p><p>(3.858075562602391 tenney-weighted)<br/>(0.0032150629688353274 ate)</p><p>-Carl</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>5/25/2006 11:22:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:</p><p>&gt; Can anybody tell me if these are the mean dyadic<br/>&gt; tenney-weighted and Absolute TOP Errors of 4:5:6:7<br/>&gt; in 12-equal?<br/>&gt;<br/>&gt; (3.858075562602391 tenney-weighted)<br/>&gt; (0.0032150629688353274 ate)</p><p>Why don&apos;t you give some definitions?</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>5/25/2006 11:40:44 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 11:22 PM 5/25/2006, you wrote:<br/>&gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:<br/>&gt;<br/>&gt;&gt; Can anybody tell me if these are the mean dyadic<br/>&gt;&gt; tenney-weighted and Absolute TOP Errors of 4:5:6:7<br/>&gt;&gt; in 12-equal?<br/>&gt;&gt;<br/>&gt;&gt; (3.858075562602391 tenney-weighted)<br/>&gt;&gt; (0.0032150629688353274 ate)<br/>&gt;<br/>&gt;Why don&apos;t you give some definitions?</p><p>The top number is supposed to be the mean of<br/>log2(n*d)/error-in-cents for all dyads in<br/>4:5:6:7 (not octave-equivalent).</p><p>The bottom number is supposed to be<br/>log_[n*d](error-as-factor) for the same dyads<br/>(this was, after all, your idea).</p><p>-Carl</p></div>