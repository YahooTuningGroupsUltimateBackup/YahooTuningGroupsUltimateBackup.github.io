<a href="/tuning-math">back to list</a><h1>Subgroup matrices, tmonzos and tvals, tmappings and smappings</h1><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>6/12/2012 2:20:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Some new terminology:<br/>tmonzo - element of a tempered interval space, short for &quot;tempered monzo&quot;<br/>tval - linear functional on a tempered interval space, short for &quot;tempered val&quot;<br/>tmapping - mapping matrix taking in monzos and outputting tmonzos, the<br/>usual mapping matrix<br/>smapping - mapping matrix taking in vals and outputting svals, the new<br/>sort of mapping matrix I&apos;ll define now</p><p>This will all be explained further below.</p><p>Using the convention that monzos are columns and vals are rows, then<br/>mapping matrices, or what I called &quot;tmapping&quot;s above, take in monzos<br/>from the right and spit out tempered monzos, which are what I called<br/>tmonzos. Tmappings take in a set of monzos, defining an equivalence<br/>relation on them such that monzos are equivalent if they differ by an<br/>element in the null space of the matrix, and spitting out a tmonzo,<br/>which denotes what the monzos map to under the mapping. For instance,</p><p>[1 1 0]<br/>[0 1 4]</p><p>takes in |0 1 0&gt; and spits out |-1 1&gt;, the former being a monzo and<br/>the latter being a tmonzo. The things I called &quot;tvals&quot; are entries</p><p>Another interesting sort of matrix one in which the columns are<br/>monzos, and which take in vals from the left. Such a matrix would<br/>define an equivalence relation on vals in the same sense that<br/>tempering defines an equivalence relation on monzos. For instance,<br/>consider this mapping matrix, which is what I called an &quot;smapping&quot;:</p><p>[1  0]<br/>[0 -1]<br/>[0  1]</p><p>The monzos in this matrix represent 2/1 and 5/3, respectively.<br/>Multiplying this by a val on the left, such as &lt;12 19 28|, yields the<br/>new val &lt;12 9|, which you&apos;ll note is also the 2.5/3 mapping for 12p.<br/>These matrices take in one or more vals, evaluate them at the monzos<br/>which are the columns of the matrix, and output a sval on the<br/>appropriate subgroup. Any set of vals will map to the same sval if<br/>their mappings on the subgroup defined by the columns of the smatrix<br/>are identical.</p><p>Furthermore, any nonsquare smapping will have a non-trivial left null<br/>space, which defines an equivalence relation on vals. In the case of<br/>the above matrix, the null space is &lt;0 1 1|, which tells you that (for<br/>instance, &lt;12 19 28| and &lt;12 20 29| map to the same thing under the<br/>smapping, and they are indeed identical on the 2.5/3 subgroup.</p><p>Intuitively, one can think of the result of &quot;tempering out a val&quot; to<br/>be a subgroup, in the same sense that &quot;tempering out a monzo&quot; leads to<br/>a temperament.</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>6/12/2012 2:42:46 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Tue, Jun 12, 2012 at 5:20 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; Intuitively, one can think of the result of &quot;tempering out a val&quot; to<br/>&gt; be a subgroup, in the same sense that &quot;tempering out a monzo&quot; leads to<br/>&gt; a temperament.</p><p>Interestingly, for any tmapping matrix of full row rank, there will be<br/>at least one smapping matrix which maps to the identity under the<br/>tmapping. For instance, given the tmapping</p><p>[1 1 0]<br/>[0 1 4]</p><p>then the smapping</p><p>[1 -1]<br/>[0  1]<br/>[0  0]</p><p>Indeed maps to the identity under the tmapping above. This means that<br/>the above tmapping takes monzos of the form k*|1 0 0&gt; + l*|-1 1 0&gt; and<br/>maps them to |k l&gt; under the tmapping.</p><p>While one might be tempted to say that the above tmapping thus<br/>&quot;represents the 2.3/2 subgroup,&quot; or &quot;sends 2.3.5 monzos to 2.3/2<br/>monzos,&quot; 2.3/2 is only one of infinitely many smappings which map to<br/>the identity under the tmapping. For instance, here&apos;s another one</p><p>[1  3]<br/>[0 -3]<br/>[0  1]</p><p>This smapping, representing 2.40/27, also maps to the identity under<br/>the above tmapping. In general, all smappings of the form<br/>[(2/1)*(81/80)^n, (3/2)*(81/80)^m] will also map to the identity under<br/>the above tmapping.</p><p>This is more than just a fancy way of saying that there&apos;s an infinite<br/>number of sets of generators for meantone. In general, it also means<br/>that while smappings are nice for taking in vals and spitting out<br/>svals, there is in general no analogous mapping matrix which will send<br/>monzos to smonzos - tmappings don&apos;t quite fit this bill (unless the<br/>tmapping is square and nonsingular). This is because nonsquare<br/>matrices have a nontrivial nullspace, and as such have an infinite set<br/>of &quot;inverse&quot; matrices which map to the identity under the matrix.</p><p>Thus, for any nonsquare tmapping matrix which takes in monzos of some<br/>JI group and purports to spit out smonzos on some subgroup, I can find<br/>an infinite other set of valid subgroups of the original JI group<br/>which map to the same thing as your chosen subgroup under the<br/>tmapping. In fact, you can even say that the tmapping represents the<br/>equivalence class of all such smappings which map to the identity, if<br/>you like. (You can, of course, always use the tmapping which is the<br/>pseudoinverse of your smapping and claim it represents the subgroup<br/>specified by the smapping.)</p><p>The reverse is generally not true for smappings: they really do map<br/>from group to subgroup in a unique and canonical way. In other words,<br/>for any smapping, vals will map to the same thing if and only if they<br/>really do agree on the subgroup specified by the columns of the<br/>matrix. If the smapping isn&apos;t of full column rank, there will be an<br/>infinite set of tmappings which reduce to the same thing on the<br/>subgroup.</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>6/12/2012 3:13:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Tue, Jun 12, 2012 at 5:42 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; The reverse is generally not true for smappings: they really do map<br/>&gt; from group to subgroup in a unique and canonical way. In other words,<br/>&gt; for any smapping, vals will map to the same thing if and only if they<br/>&gt; really do agree on the subgroup specified by the columns of the<br/>&gt; matrix. If the smapping isn&apos;t of full column rank, there will be an<br/>&gt; infinite set of tmappings which reduce to the same thing on the<br/>&gt; subgroup.</p><p>We can formulate a few regular temperament ideas this way. For<br/>instance, say we want to find the best 7-limit extension for meantone.<br/>We start with the meantone mapping matrix</p><p>[&lt;1 1 0|, &lt;0 1 4|]</p><p>and then we envision it as the product of a higher-limit extended<br/>mapping matrix E, and a smapping S. So</p><p>E * [|1 0 0 0&gt;, |0 1 0 0|, |0 0 1 0&gt;] = [&lt;1 1 0|, &lt;0 1 4|]</p><p>There are an infinite set of E which fit the bill, which state that<br/>there are an infinite set of mapping matrices which agree with<br/>meantone on the 2.3.5 subgroup. This is just a fancy way of saying<br/>that there&apos;s an infinite set of mapping matrices which are 7-limit<br/>extensions of meantone. We can pick an element out of this set in the<br/>usual way, e.g. by minimizing some sort of &quot;badness&quot; function of E.</p><p>More interestingly, we can consider any mapping matrix M to be the<br/>product of an infinite-limit extended mapping matrix E and an infinite<br/>smapping S, the former of which is like a &quot;no-limit&quot; extension of<br/>meantone, and the latter of which maps from no-limit vals to svals on<br/>a finite subgroup:</p><p>E*S = M</p><p>The thing I called &quot;superbadness&quot; would then be some sort of function<br/>of S and M. One could also look for the matrix E which minimizes some<br/>other function and fits the bill.</p><p>-Mike</p></div>