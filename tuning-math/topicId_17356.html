<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math Alternatives to TOP weighting for 7- and higher-limit temperaments?</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>Alternatives to TOP weighting for 7- and higher-limit temperaments?</h1><h3><a id=17356 href="#17356">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>5/25/2008 6:45:26 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>TOP is a theoretically nice measure for optimization, but it has limitations especially when dealing with the &quot;less accurate&quot; temperaments. The problem boils down to the fact that intervals like 7/4, 11/8, 9/7, 13/11, and so on are more musically useful than the 7/1, 11/1, 13/1 intervals that TOP is optimized for. Theoretically it makes sense that the error in 7/1 should be similar to the error of 6/1 or 8/1, but in practice, 7/1 and 4/1 can frequently have errors in opposite directions, so the musically useful 7/4 is worse than either of them.</p><p>So it might make sense for purpose of badness estimation and tuning optimization to look at a different basis for the prime intervals and a different set of weights. A simple matrix multiply can convert the temperament to a different set of prime vectors, e.g.:</p><p>|  1  0  0  0 |     | 1   0 |   | 1   0 |<br/>| -1  1  0  0 |     | 2  -1 |   | 1  -1 |<br/>| -2  0  1  0 |  X  | 4  -4 | = | 2  -4 |<br/>| -2  0  0  1 |     | 7 -10 |   | 5 -10 |</p><p>Now we have 7-limit meantone remapped to use the prime intervals 2/1 [1, 0, 0, 0&gt;, 3/2 [-1, 1, 0, 0&gt;, 5/4 [-2, 0, 1, 0&gt;, and 7/4 [-2, 0, 0, 1&gt;. We can find the unweighted TOP-RMS using the pseudoinverse technique, which gives us a period of 1202.03 cents and a generator of 504.14 cents. The weighted TOP-RMS can also be calculated, but the question is what weights should be used?</p><p>One possibility is to use the base 2 logarithms of the new prime vectors: 1, 0.58, 0.32, 0.81. This gives us a period off 1204.39 cents and a generator of 505.44 cents. The problem with this is clear: it gives higher priority to the accuracy of the smallest interval (5/4 in this case), at the expense of the larger intervals, particularly the octave.</p><p>It might work out better to use the base 2 logs of the original primes: 1, 1.58, 2.32, 2.81, especially considering the importance of the octave. The generators are 1200.91 and 503.51 cents. Or you could arbitrarily weight them: 1.0, 2.0, 3.0, 4.0 (generators: 1200.59, 503.33).</p><p>The real test is what happens when you try a problematic temperament, like sharptone [&lt;1, 2, 4, 4], &lt;0, -1, -4, -3]&gt;. The errors in this are such that a 4:5:6:7 sounds like an added 6th chord (21/20 is tempered out). But the TOP-RMS tuning (1204.75, 501.84) doesn&apos;t look that bad. Unfortunately, the remapped sharptone [&lt;1, 1, 2, 2], &lt;0, -1, -4, -3]&gt;, with TOP-RMS generators of (1203.01, 498.03), isn&apos;t much better.</p><p>So it seems like it&apos;s back to trying out temperaments by ear to find flaws that aren&apos;t apparent from the usual badness scores (sharptone has a reasonably good badness, yet as a 7-limit temperament it&apos;s hardly usable). And if temperaments like beep and sharptone are too highly rated, there may also be overlooked temperaments that for one reason or another don&apos;t look good with the usual badness scores. So it would be nice to find a better measure of badness, since tuning up and trying hundreds of temperaments by ear can be very time-consuming.</p></div><h3><a id=17357 href="#17357">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/25/2008 7:26:16 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; TOP is a theoretically nice measure for optimization, but it has &gt; limitations especially when dealing with the &quot;less accurate&quot; &gt; temperaments. The problem boils down to the fact that intervals like &gt; 7/4, 11/8, 9/7, 13/11, and so on are more musically useful than the 7/1, &gt; 11/1, 13/1 intervals that TOP is optimized for. Theoretically it makes &gt; sense that the error in 7/1 should be similar to the error of 6/1 or &gt; 8/1, but in practice, 7/1 and 4/1 can frequently have errors in opposite &gt; directions, so the musically useful 7/4 is worse than either of them.</p><p>So 7/1 and 4/1 have errors in the opposite direction.  Fine.   Let&apos;s say 4/1 is sharp and 7/1 flat.  The result is that 7/4 is very flat.  Well, you can stretch the octave to compensate -- but that means octaves become very sharp!</p><p>TOP implicitly considers all those intervals by optimizing the scale stretch.  I don&apos;t see a problem that needs to be solved by choosing different prime intervals.  That can run into problems as well.  If you optimize for 7/4 and 2/1 then it implies that 16/7 and 7/1 are equally important.  Is that what you want?</p><p>                        Graham</p></div><h3><a id=17360 href="#17360">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>5/26/2008 12:22:39 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:<br/>&gt; Herman Miller wrote:<br/>&gt;&gt; TOP is a theoretically nice measure for optimization, but it has &gt;&gt; limitations especially when dealing with the &quot;less accurate&quot; &gt;&gt; temperaments. The problem boils down to the fact that intervals like &gt;&gt; 7/4, 11/8, 9/7, 13/11, and so on are more musically useful than the 7/1, &gt;&gt; 11/1, 13/1 intervals that TOP is optimized for. Theoretically it makes &gt;&gt; sense that the error in 7/1 should be similar to the error of 6/1 or &gt;&gt; 8/1, but in practice, 7/1 and 4/1 can frequently have errors in opposite &gt;&gt; directions, so the musically useful 7/4 is worse than either of them.<br/>&gt; &gt; So 7/1 and 4/1 have errors in the opposite direction.  Fine. &gt;   Let&apos;s say 4/1 is sharp and 7/1 flat.  The result is that &gt; 7/4 is very flat.  Well, you can stretch the octave to &gt; compensate -- but that means octaves become very sharp!</p><p>Yes, that&apos;s a sign of a temperament that isn&apos;t suitable for close 7-limit harmony. You may be able to work around those limitations by suitable spacing, but it may not be worth the effort. If you&apos;re interested in harmony, intervals less than the size of an octave will be commonplace. A badness score that gives more weight to the intervals around the size of an octave might be a better guide to finding good temperaments.</p><p>&gt; TOP implicitly considers all those intervals by optimizing &gt; the scale stretch.  I don&apos;t see a problem that needs to be &gt; solved by choosing different prime intervals.  That can run &gt; into problems as well.  If you optimize for 7/4 and 2/1 then &gt; it implies that 16/7 and 7/1 are equally important.  Is that &gt; what you want?</p><p>7/1 might occur in widely-spaced chords (e.g. 1:3:5:7) but the 7 is so far above the low notes that the accuracy of the 7:5 may have more of an effect on the perception of the chord. 16/7 could occur in an inversion of a 7th chord (e.g. 7:10:12:16), although here too, the inner intervals may be more critical. 7-limit is a bit of a borderline case since the 7/1 is still a potentially useful interval, but ranking 16/7 as important as 7/1 doesn&apos;t seem to be much of a flaw.</p><p>When you start looking at 11- and higher-limit temperaments, the problems get worse. Neutral seconds and thirds are critical to the 11-limit character, but the exact tuning of 11/1 is less likely to be of interest.</p><p>It&apos;s likely that 2/1, 3/2, 5/4, 7/4, 11/8, etc. aren&apos;t the best alternatives to 2/1, 3/1, 5/1, 7/1, 11/1. Other possibilities might include:</p><p>2/1, 3/2, 5/3, 7/5, 11/7, 13/11, 17/13, ... (ratios of adjacent primes)<br/>2/1, 3/2, 5/4, 7/6, 11/10, 13/12, 17/16, ... (superparticular ratios)</p></div><h3><a id=17365 href="#17365">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/26/2008 11:21:14 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; Graham Breed wrote:<br/>&gt;&gt; Herman Miller wrote:<br/>&gt;&gt;&gt; TOP is a theoretically nice measure for optimization, but it has &gt;&gt;&gt; limitations especially when dealing with the &quot;less accurate&quot; &gt;&gt;&gt; temperaments. The problem boils down to the fact that intervals like &gt;&gt;&gt; 7/4, 11/8, 9/7, 13/11, and so on are more musically useful than the 7/1, &gt;&gt;&gt; 11/1, 13/1 intervals that TOP is optimized for. Theoretically it makes &gt;&gt;&gt; sense that the error in 7/1 should be similar to the error of 6/1 or &gt;&gt;&gt; 8/1, but in practice, 7/1 and 4/1 can frequently have errors in opposite &gt;&gt;&gt; directions, so the musically useful 7/4 is worse than either of them.<br/>&gt;&gt; So 7/1 and 4/1 have errors in the opposite direction.  Fine. &gt;&gt;   Let&apos;s say 4/1 is sharp and 7/1 flat.  The result is that &gt;&gt; 7/4 is very flat.  Well, you can stretch the octave to &gt;&gt; compensate -- but that means octaves become very sharp!<br/>&gt; &gt; Yes, that&apos;s a sign of a temperament that isn&apos;t suitable for close &gt; 7-limit harmony. You may be able to work around those limitations by &gt; suitable spacing, but it may not be worth the effort. If you&apos;re &gt; interested in harmony, intervals less than the size of an octave will be &gt; commonplace. A badness score that gives more weight to the intervals &gt; around the size of an octave might be a better guide to finding good &gt; temperaments.</p><p>But as long as you can optimize the scale stretch it doesn&apos;t make any difference.  It&apos;s the scale stretch that balances small and large intervals.</p><p>&gt;&gt; TOP implicitly considers all those intervals by optimizing &gt;&gt; the scale stretch.  I don&apos;t see a problem that needs to be &gt;&gt; solved by choosing different prime intervals.  That can run &gt;&gt; into problems as well.  If you optimize for 7/4 and 2/1 then &gt;&gt; it implies that 16/7 and 7/1 are equally important.  Is that &gt;&gt; what you want?<br/>&gt; &gt; 7/1 might occur in widely-spaced chords (e.g. 1:3:5:7) but the 7 is so &gt; far above the low notes that the accuracy of the 7:5 may have more of an &gt; effect on the perception of the chord. 16/7 could occur in an inversion &gt; of a 7th chord (e.g. 7:10:12:16), although here too, the inner intervals &gt; may be more critical. 7-limit is a bit of a borderline case since the &gt; 7/1 is still a potentially useful interval, but ranking 16/7 as &gt; important as 7/1 doesn&apos;t seem to be much of a flaw.</p><p>If 5/4 and 3/2 are prime intervals, you&apos;ll also have 6/5 with equal weight to 15/4.  Maybe that&apos;s a problem.</p><p>&gt; When you start looking at 11- and higher-limit temperaments, the &gt; problems get worse. Neutral seconds and thirds are critical to the &gt; 11-limit character, but the exact tuning of 11/1 is less likely to be of &gt; interest.</p><p>What problems?</p><p>Are you interested in the tuning or the badness of the temperament class?  Either way I don&apos;t think it matters.  See</p><p><a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a></p><p>They results for Farey and Tenney limits are very similar, so the size of the intervals doesn&apos;t really matter.  But I do propose a measure with a free parameter to take account of the interval size that you could look into further.</p><p>&gt; It&apos;s likely that 2/1, 3/2, 5/4, 7/4, 11/8, etc. aren&apos;t the best &gt; alternatives to 2/1, 3/1, 5/1, 7/1, 11/1. Other possibilities might include:<br/>&gt; &gt; 2/1, 3/2, 5/3, 7/5, 11/7, 13/11, 17/13, ... (ratios of adjacent primes)<br/>&gt; 2/1, 3/2, 5/4, 7/6, 11/10, 13/12, 17/16, ... (superparticular ratios)</p><p>And how about complexity?  That makes more sense with prime intervals equal to prime numbers.</p><p>                   Graham</p></div><h3><a id=17369 href="#17369">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>5/27/2008 6:18:05 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:<br/>&gt; But as long as you can optimize the scale stretch it doesn&apos;t &gt; make any difference.  It&apos;s the scale stretch that balances &gt; small and large intervals.</p><p>Well, there are two variables (the generator sizes), so I don&apos;t see how adjusting one variable (a scale stretch) is going to account for all the possibilities. Sharptone could be a case where TOP-MAX is less misleading than TOP-RMS -- the TOP-MAX octave is 1214.253642 cents, which is pretty stretched. Adjusting the generator can improve the 7/4 at the cost of the 5/4. Actually sharptone is a pretty messed-up temperament in the first place: 7/5 is equivalent to 4/3. No matter what you do with it, you won&apos;t get a reasonable 4:5:6:7.</p><p>&gt;&gt;&gt; TOP implicitly considers all those intervals by optimizing &gt;&gt;&gt; the scale stretch.  I don&apos;t see a problem that needs to be &gt;&gt;&gt; solved by choosing different prime intervals.  That can run &gt;&gt;&gt; into problems as well.  If you optimize for 7/4 and 2/1 then &gt;&gt;&gt; it implies that 16/7 and 7/1 are equally important.  Is that &gt;&gt;&gt; what you want?<br/>&gt;&gt; 7/1 might occur in widely-spaced chords (e.g. 1:3:5:7) but the 7 is so &gt;&gt; far above the low notes that the accuracy of the 7:5 may have more of an &gt;&gt; effect on the perception of the chord. 16/7 could occur in an inversion &gt;&gt; of a 7th chord (e.g. 7:10:12:16), although here too, the inner intervals &gt;&gt; may be more critical. 7-limit is a bit of a borderline case since the &gt;&gt; 7/1 is still a potentially useful interval, but ranking 16/7 as &gt;&gt; important as 7/1 doesn&apos;t seem to be much of a flaw.<br/>&gt; &gt; If 5/4 and 3/2 are prime intervals, you&apos;ll also have 6/5 &gt; with equal weight to 15/4.  Maybe that&apos;s a problem.</p><p>True. Well, I&apos;m not so concerned about the weight of 15/4 as long as I can look at a number and have a reasonable idea how good the basic n-limit consonances might be. I might have a temperament with a reasonable tuning of 7/4, or one with a 7/4 that&apos;s 5.6 times as far off as the tuning of the octave. I don&apos;t care that its 7/1 is only 2.8 times as bad, but the 7/2 may be of some interest.</p><p>&gt;&gt; When you start looking at 11- and higher-limit temperaments, the &gt;&gt; problems get worse. Neutral seconds and thirds are critical to the &gt;&gt; 11-limit character, but the exact tuning of 11/1 is less likely to be of &gt;&gt; interest.<br/>&gt; &gt; What problems?</p><p>You can&apos;t tell whether an 11-limit temperament has reasonable neutral intervals or not. You can end up with a so-called 11-limit temperament with an 11/8 that sounds more like 7/5 or 4/3. That means you have to test each temperament by ear. Which you should probably do anyway, once you have a few candidates that look interesting, but it takes time to set each one up and test it.</p><p>&gt; Are you interested in the tuning or the badness of the &gt; temperament class?  Either way I don&apos;t think it matters.  See<br/>&gt; &gt; <a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a><br/>&gt; &gt; They results for Farey and Tenney limits are very similar, &gt; so the size of the intervals doesn&apos;t really matter.  But I &gt; do propose a measure with a free parameter to take account &gt; of the interval size that you could look into further.<br/>&gt; &gt;&gt; It&apos;s likely that 2/1, 3/2, 5/4, 7/4, 11/8, etc. aren&apos;t the best &gt;&gt; alternatives to 2/1, 3/1, 5/1, 7/1, 11/1. Other possibilities might include:<br/>&gt;&gt;<br/>&gt;&gt; 2/1, 3/2, 5/3, 7/5, 11/7, 13/11, 17/13, ... (ratios of adjacent primes)<br/>&gt;&gt; 2/1, 3/2, 5/4, 7/6, 11/10, 13/12, 17/16, ... (superparticular ratios)<br/>&gt; &gt; And how about complexity?  That makes more sense with prime &gt; intervals equal to prime numbers.</p><p>What I want from a complexity measurement is an indication of how big a block I might need in a tuning table or on a generalized keyboard.</p></div><h3><a id=17370 href="#17370">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/29/2008 8:10:52 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; Graham Breed wrote:<br/>&gt;&gt; But as long as you can optimize the scale stretch it doesn&apos;t &gt;&gt; make any difference.  It&apos;s the scale stretch that balances &gt;&gt; small and large intervals.<br/>&gt; &gt; Well, there are two variables (the generator sizes), so I don&apos;t see how &gt; adjusting one variable (a scale stretch) is going to account for all the &gt; possibilities. Sharptone could be a case where TOP-MAX is less &gt; misleading than TOP-RMS -- the TOP-MAX octave is 1214.253642 cents, &gt; which is pretty stretched. Adjusting the generator can improve the 7/4 &gt; at the cost of the 5/4. Actually sharptone is a pretty messed-up &gt; temperament in the first place: 7/5 is equivalent to 4/3. No matter what &gt; you do with it, you won&apos;t get a reasonable 4:5:6:7.</p><p>Yes, there are two variables, so you can choose one of them to be the scale stretch and the other to be the octave-equivalent generator.  The scale stretch has the most impact on large intervals, and none at all as intervals approach a unison.  As all primes are used with the same frequency for all sizes of intervals (you could call this a fractal) you can ignore the scale stretch and only optimize for infinitely small intervals.  That gives you a value for the generator.  Then you optimize the scale stretch to get the larger intervals to work out.</p><p>Alternatively, optimize for the prime intervals.  It&apos;ll give pretty much the same results.</p><p>TOP-max will obviously have no problems with the choice of intervals because it gives exactly the same result for any set of intervals that includes a basis.</p><p>So is this sharptone?</p><p>5/12</p><p>1204.750 cents period<br/> 501.839 cents generator</p><p>mapping by period and generator:<br/>&lt;1, 2, 4, 4]<br/>&lt;0, -1, -4, -3]</p><p>mapping by steps:<br/>&lt;5, 8, 12, 14]<br/>&lt;7, 11, 16, 19]</p><p>scalar complexity: 0.626<br/>RMS weighted error: 11.653 cents/octave<br/>max weighted error: 19.713 cents/octave</p><p>The true TOP-max error is 14.3 cents/octave.  Not much different from the TOP-RMS really.  The TOP-RMS favors 2 and 3 at the expense of 5 and 7.</p><p>&gt; True. Well, I&apos;m not so concerned about the weight of 15/4 as long as I &gt; can look at a number and have a reasonable idea how good the basic &gt; n-limit consonances might be. I might have a temperament with a &gt; reasonable tuning of 7/4, or one with a 7/4 that&apos;s 5.6 times as far off &gt; as the tuning of the octave. I don&apos;t care that its 7/1 is only 2.8 times &gt; as bad, but the 7/2 may be of some interest.</p><p>Why do you care about the errors relative to the octave? The error in the optimal octave gives you an idea of how the errors in the primes are distributed for pure octaves.  It&apos;s the absolute errors that matter and the absolute weighted errors of the primes give you an idea of the errors of other intervals.</p><p>&gt;&gt;&gt; When you start looking at 11- and higher-limit temperaments, the &gt;&gt;&gt; problems get worse. Neutral seconds and thirds are critical to the &gt;&gt;&gt; 11-limit character, but the exact tuning of 11/1 is less likely to be of &gt;&gt;&gt; interest.<br/>&gt;&gt; What problems?<br/>&gt; &gt; You can&apos;t tell whether an 11-limit temperament has reasonable neutral &gt; intervals or not. You can end up with a so-called 11-limit temperament &gt; with an 11/8 that sounds more like 7/5 or 4/3. That means you have to &gt; test each temperament by ear. Which you should probably do anyway, once &gt; you have a few candidates that look interesting, but it takes time to &gt; set each one up and test it.</p><p>What&apos;s so special about neutral intervals?</p><p>&gt;&gt;&gt; It&apos;s likely that 2/1, 3/2, 5/4, 7/4, 11/8, etc. aren&apos;t the best &gt;&gt;&gt; alternatives to 2/1, 3/1, 5/1, 7/1, 11/1. Other possibilities might include:<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; 2/1, 3/2, 5/3, 7/5, 11/7, 13/11, 17/13, ... (ratios of adjacent primes)<br/>&gt;&gt;&gt; 2/1, 3/2, 5/4, 7/6, 11/10, 13/12, 17/16, ... (superparticular ratios)<br/>&gt;&gt; And how about complexity?  That makes more sense with prime &gt;&gt; intervals equal to prime numbers.<br/>&gt; &gt; What I want from a complexity measurement is an indication of how big a &gt; block I might need in a tuning table or on a generalized keyboard.</p><p>For what intervals?  The simple badness formula assumes the same intervals with the same weights for both error and complexity.</p><p>                     Graham</p></div><h3><a id=17371 href="#17371">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>5/30/2008 5:51:26 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:<br/>&gt; TOP-max will obviously have no problems with the choice of &gt; intervals because it gives exactly the same result for any &gt; set of intervals that includes a basis.</p><p>Right, which is why I&apos;m considering alternatives for weighting.</p><p>&gt; So is this sharptone?<br/>&gt; &gt; 5/12<br/>&gt; &gt; 1204.750 cents period<br/>&gt;   501.839 cents generator<br/>&gt; &gt; mapping by period and generator:<br/>&gt; &lt;1, 2, 4, 4]<br/>&gt; &lt;0, -1, -4, -3]<br/>&gt; &gt; mapping by steps:<br/>&gt; &lt;5, 8, 12, 14]<br/>&gt; &lt;7, 11, 16, 19]</p><p>That&apos;s the one.</p><p>&gt; scalar complexity: 0.626<br/>&gt; RMS weighted error: 11.653 cents/octave<br/>&gt; max weighted error: 19.713 cents/octave<br/>&gt; &gt; The true TOP-max error is 14.3 cents/octave.  Not much &gt; different from the TOP-RMS really.  The TOP-RMS favors 2 and &gt; 3 at the expense of 5 and 7.</p><p>Also not much worse than dimisept [&lt;4, 6, 9, 11], &lt;0, 1, 1, 1]&gt; with 13.7 cents/octave. But dimisept has a much better 7/4 (28.23 cents sharp, as opposed to 68.52 cents flat). The 4:5:6:7 in flattone sounds like the open strings of a ukulele.</p><p>&gt;&gt; True. Well, I&apos;m not so concerned about the weight of 15/4 as long as I &gt;&gt; can look at a number and have a reasonable idea how good the basic &gt;&gt; n-limit consonances might be. I might have a temperament with a &gt;&gt; reasonable tuning of 7/4, or one with a 7/4 that&apos;s 5.6 times as far off &gt;&gt; as the tuning of the octave. I don&apos;t care that its 7/1 is only 2.8 times &gt;&gt; as bad, but the 7/2 may be of some interest.<br/>&gt; &gt; Why do you care about the errors relative to the octave? &gt; The error in the optimal octave gives you an idea of how the &gt; errors in the primes are distributed for pure octaves.  It&apos;s &gt; the absolute errors that matter and the absolute weighted &gt; errors of the primes give you an idea of the errors of other &gt; intervals.</p><p>I don&apos;t understand what you mean by &quot;the errors relative to the octave&quot;. The TOP weighting is biased against intervals like 7/4 or 9/7, while it tries to optimize widely spaced intervals like 13/1 (which are less critical because of the size of the interval: any harmonics of the lower note that might beat are likely to be weak enough to not be a problem). What I&apos;m looking for is a weighting that gives priority to intervals with the numerator and denominator closer together in the harmonic series: 9/7 or 13/11 for instance.</p><p>&gt;&gt;&gt;&gt; When you start looking at 11- and higher-limit temperaments, the &gt;&gt;&gt;&gt; problems get worse. Neutral seconds and thirds are critical to the &gt;&gt;&gt;&gt; 11-limit character, but the exact tuning of 11/1 is less likely to be of &gt;&gt;&gt;&gt; interest.<br/>&gt;&gt;&gt; What problems?<br/>&gt;&gt; You can&apos;t tell whether an 11-limit temperament has reasonable neutral &gt;&gt; intervals or not. You can end up with a so-called 11-limit temperament &gt;&gt; with an 11/8 that sounds more like 7/5 or 4/3. That means you have to &gt;&gt; test each temperament by ear. Which you should probably do anyway, once &gt;&gt; you have a few candidates that look interesting, but it takes time to &gt;&gt; set each one up and test it.<br/>&gt; &gt; What&apos;s so special about neutral intervals?</p><p>They&apos;re characteristic of the 11-limit sound. Without that you just have what sounds like a 5- or 7-limit temperament.</p><p>&gt;&gt;&gt;&gt; It&apos;s likely that 2/1, 3/2, 5/4, 7/4, 11/8, etc. aren&apos;t the best &gt;&gt;&gt;&gt; alternatives to 2/1, 3/1, 5/1, 7/1, 11/1. Other possibilities might include:<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt; 2/1, 3/2, 5/3, 7/5, 11/7, 13/11, 17/13, ... (ratios of adjacent primes)<br/>&gt;&gt;&gt;&gt; 2/1, 3/2, 5/4, 7/6, 11/10, 13/12, 17/16, ... (superparticular ratios)<br/>&gt;&gt;&gt; And how about complexity?  That makes more sense with prime &gt;&gt;&gt; intervals equal to prime numbers.<br/>&gt;&gt; What I want from a complexity measurement is an indication of how big a &gt;&gt; block I might need in a tuning table or on a generalized keyboard.<br/>&gt; &gt; For what intervals?  The simple badness formula assumes the &gt; same intervals with the same weights for both error and &gt; complexity.</p><p>A similar set of intervals: roughly (x + y) / x where y is relatively small (&lt; x? &lt; 2x?) and x &lt; the prime limit of the temperament.</p></div><h3><a id=17372 href="#17372">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/30/2008 11:29:58 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; Graham Breed wrote:<br/>&gt;&gt; TOP-max will obviously have no problems with the choice of &gt;&gt; intervals because it gives exactly the same result for any &gt;&gt; set of intervals that includes a basis.<br/>&gt; &gt; Right, which is why I&apos;m considering alternatives for weighting.</p><p>You want to change it *because* it works fine already?</p><p>&gt;&gt; So is this sharptone?<br/>&gt;&gt;<br/>&gt;&gt; 5/12<br/>&gt;&gt;<br/>&gt;&gt; 1204.750 cents period<br/>&gt;&gt;   501.839 cents generator<br/>&gt;&gt;<br/>&gt;&gt; mapping by period and generator:<br/>&gt;&gt; &lt;1, 2, 4, 4]<br/>&gt;&gt; &lt;0, -1, -4, -3]<br/>&gt;&gt;<br/>&gt;&gt; mapping by steps:<br/>&gt;&gt; &lt;5, 8, 12, 14]<br/>&gt;&gt; &lt;7, 11, 16, 19]<br/>&gt; &gt; That&apos;s the one.<br/>&gt; &gt;&gt; scalar complexity: 0.626<br/>&gt;&gt; RMS weighted error: 11.653 cents/octave<br/>&gt;&gt; max weighted error: 19.713 cents/octave<br/>&gt;&gt;<br/>&gt;&gt; The true TOP-max error is 14.3 cents/octave.  Not much &gt;&gt; different from the TOP-RMS really.  The TOP-RMS favors 2 and &gt;&gt; 3 at the expense of 5 and 7.<br/>&gt; &gt; Also not much worse than dimisept [&lt;4, 6, 9, 11], &lt;0, 1, 1, 1]&gt; with &gt; 13.7 cents/octave. But dimisept has a much better 7/4 (28.23 cents &gt; sharp, as opposed to 68.52 cents flat). The 4:5:6:7 in flattone sounds &gt; like the open strings of a ukulele.</p><p>Dimisept has 4.9 cents TOP-RMS error (5.9 cents TOP-max).</p><p>&gt;&gt;&gt; True. Well, I&apos;m not so concerned about the weight of 15/4 as long as I &gt;&gt;&gt; can look at a number and have a reasonable idea how good the basic &gt;&gt;&gt; n-limit consonances might be. I might have a temperament with a &gt;&gt;&gt; reasonable tuning of 7/4, or one with a 7/4 that&apos;s 5.6 times as far off &gt;&gt;&gt; as the tuning of the octave. I don&apos;t care that its 7/1 is only 2.8 times &gt;&gt;&gt; as bad, but the 7/2 may be of some interest.<br/>&gt;&gt; Why do you care about the errors relative to the octave? &gt;&gt; The error in the optimal octave gives you an idea of how the &gt;&gt; errors in the primes are distributed for pure octaves.  It&apos;s &gt;&gt; the absolute errors that matter and the absolute weighted &gt;&gt; errors of the primes give you an idea of the errors of other &gt;&gt; intervals.<br/>&gt; &gt; I don&apos;t understand what you mean by &quot;the errors relative to the octave&quot;. &gt; The TOP weighting is biased against intervals like 7/4 or 9/7, while it &gt; tries to optimize widely spaced intervals like 13/1 (which are less &gt; critical because of the size of the interval: any harmonics of the lower &gt; note that might beat are likely to be weak enough to not be a problem). &gt; What I&apos;m looking for is a weighting that gives priority to intervals &gt; with the numerator and denominator closer together in the harmonic &gt; series: 9/7 or 13/11 for instance.</p><p>You&apos;re talking about the error of 7/4 as a function of the error of the octave.  I don&apos;t think that&apos;s at all relevant.</p><p>You keep talking about this bias but don&apos;t give any evidence.  I&apos;ve used standard deviations to give priority to small intervals and found it barely makes a difference.</p><p>&gt;&gt;&gt;&gt;&gt; When you start looking at 11- and higher-limit temperaments, the &gt;&gt;&gt;&gt;&gt; problems get worse. Neutral seconds and thirds are critical to the &gt;&gt;&gt;&gt;&gt; 11-limit character, but the exact tuning of 11/1 is less likely to be of &gt;&gt;&gt;&gt;&gt; interest.<br/>&gt;&gt;&gt;&gt; What problems?<br/>&gt;&gt;&gt; You can&apos;t tell whether an 11-limit temperament has reasonable neutral &gt;&gt;&gt; intervals or not. You can end up with a so-called 11-limit temperament &gt;&gt;&gt; with an 11/8 that sounds more like 7/5 or 4/3. That means you have to &gt;&gt;&gt; test each temperament by ear. Which you should probably do anyway, once &gt;&gt;&gt; you have a few candidates that look interesting, but it takes time to &gt;&gt;&gt; set each one up and test it.<br/>&gt;&gt; What&apos;s so special about neutral intervals?<br/>&gt; &gt; They&apos;re characteristic of the 11-limit sound. Without that you just have &gt; what sounds like a 5- or 7-limit temperament.</p><p>Yes, and as 11-limit intervals, why are they uniquely being neglected?</p><p>&gt;&gt;&gt;&gt;&gt; It&apos;s likely that 2/1, 3/2, 5/4, 7/4, 11/8, etc. aren&apos;t the best &gt;&gt;&gt;&gt;&gt; alternatives to 2/1, 3/1, 5/1, 7/1, 11/1. Other possibilities might include:<br/>&gt;&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;&gt; 2/1, 3/2, 5/3, 7/5, 11/7, 13/11, 17/13, ... (ratios of adjacent primes)<br/>&gt;&gt;&gt;&gt;&gt; 2/1, 3/2, 5/4, 7/6, 11/10, 13/12, 17/16, ... (superparticular ratios)<br/>&gt;&gt;&gt;&gt; And how about complexity?  That makes more sense with prime &gt;&gt;&gt;&gt; intervals equal to prime numbers.<br/>&gt;&gt;&gt; What I want from a complexity measurement is an indication of how big a &gt;&gt;&gt; block I might need in a tuning table or on a generalized keyboard.<br/>&gt;&gt; For what intervals?  The simple badness formula assumes the &gt;&gt; same intervals with the same weights for both error and &gt;&gt; complexity.<br/>&gt; &gt; A similar set of intervals: roughly (x + y) / x where y is relatively &gt; small (&lt; x? &lt; 2x?) and x &lt; the prime limit of the temperament.</p><p>With those superparticular prime intervals you get 14/13 as equal in complexity to 91/72.  I don&apos;t buy that.</p><p>                  Graham</p></div><h3><a id=17373 href="#17373">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>5/31/2008 12:12:26 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:<br/>&gt; Herman Miller wrote:<br/>&gt;&gt; Graham Breed wrote:<br/>&gt;&gt;&gt; TOP-max will obviously have no problems with the choice of &gt;&gt;&gt; intervals because it gives exactly the same result for any &gt;&gt;&gt; set of intervals that includes a basis.<br/>&gt;&gt; Right, which is why I&apos;m considering alternatives for weighting.<br/>&gt; &gt; You want to change it *because* it works fine already?</p><p>&quot;Fine&quot; is a matter of opinion. It has its uses, but it also can be misleading. Not &quot;change&quot;, but looking for alternatives for specific purposes that TOP doesn&apos;t seem very well suited for.</p><p>&gt;&gt;&gt; The true TOP-max error is 14.3 cents/octave.  Not much &gt;&gt;&gt; different from the TOP-RMS really.  The TOP-RMS favors 2 and &gt;&gt;&gt; 3 at the expense of 5 and 7.<br/>&gt;&gt; Also not much worse than dimisept [&lt;4, 6, 9, 11], &lt;0, 1, 1, 1]&gt; with &gt;&gt; 13.7 cents/octave. But dimisept has a much better 7/4 (28.23 cents &gt;&gt; sharp, as opposed to 68.52 cents flat). The 4:5:6:7 in flattone sounds &gt;&gt; like the open strings of a ukulele.<br/>&gt; &gt; Dimisept has 4.9 cents TOP-RMS error (5.9 cents TOP-max).</p><p>Oops, I was looking at the wrong file. I&apos;ve been messing around with my temperament program and made a couple of lists with wrong data.</p><p>&gt; You&apos;re talking about the error of 7/4 as a function of the &gt; error of the octave.  I don&apos;t think that&apos;s at all relevant.</p><p>I&apos;m interested in the error of 7/4 in cents, in case that wasn&apos;t clear. Nothing to do with octaves. Let&apos;s go back to the original point. 7/4 is a musically useful interval; it occurs in numerous chords including 4:5:6:7. 7/5 and 7/6 are also important, but 7/1 is of more marginal importance. The differences are even more apparent in 11- and higher limits.</p><p>&gt; You keep talking about this bias but don&apos;t give any &gt; evidence.  I&apos;ve used standard deviations to give priority to &gt; small intervals and found it barely makes a difference.</p><p>7/4 is considered as a product of 2^-2 * 7^1, so it can be way more inaccurate than an interval such as 5/2. 7/5 and 7/6 have even worse scores according to TOP weighting based on complexity. 7/6 has the same complexity as 14/3, 21/2, and 42/1. While 14/3 may be of some use, I think it&apos;s safe to assume that 7/6 is more important.</p><p>&gt;&gt;&gt; What&apos;s so special about neutral intervals?<br/>&gt;&gt; They&apos;re characteristic of the 11-limit sound. Without that you just have &gt;&gt; what sounds like a 5- or 7-limit temperament.<br/>&gt; &gt; Yes, and as 11-limit intervals, why are they uniquely being Nothing unique about them. The problem just gets worse with each higher limit.</p><p>&gt; With those superparticular prime intervals you get 14/13 as &gt; equal in complexity to 91/72.  I don&apos;t buy that.</p><p>Weight, not complexity. Certainly it would be nice to have similar weights for 13/12 and 14/13. It might end up being necessary to calculate the errors of all the superparticular intervals, not just the primes....</p></div><h3><a id=17375 href="#17375">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>6/1/2008 7:58:29 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:</p><p>&gt; I&apos;m interested in the error of 7/4 in cents, in case that wasn&apos;t clear. &gt; Nothing to do with octaves. Let&apos;s go back to the original point. 7/4 is &gt; a musically useful interval; it occurs in numerous chords including &gt; 4:5:6:7. 7/5 and 7/6 are also important, but 7/1 is of more marginal &gt; importance. The differences are even more apparent in 11- and higher limits.</p><p>The error of the 7/4 is determined by the error in the 7/1 and the error in the 2/1 -- the octave.  Make those errors small and the error in 7/4 is bound to be small.  That&apos;s the point of prime weighting and I don&apos;t see any problems with it.</p><p>&gt;&gt; You keep talking about this bias but don&apos;t give any &gt;&gt; evidence.  I&apos;ve used standard deviations to give priority to &gt;&gt; small intervals and found it barely makes a difference.<br/>&gt; &gt; 7/4 is considered as a product of 2^-2 * 7^1, so it can be way more &gt; inaccurate than an interval such as 5/2. 7/5 and 7/6 have even worse &gt; scores according to TOP weighting based on complexity. 7/6 has the same &gt; complexity as 14/3, 21/2, and 42/1. While 14/3 may be of some use, I &gt; think it&apos;s safe to assume that 7/6 is more important.</p><p>Yes, and 9/4 can never be more accurate than 3/2.  The weighting is generally proportional to the complexity.  You can try different weightings for a finite set of intervals if you like -- and I&apos;ve done it.  With enough intervals it doesn&apos;t actually matter much what the weighting is any more than it matters which intervals you chose (as long as it&apos;s a reasonable rule and you let a lot of them through).</p><p>I&apos;ve done Farey limits, so you can exclude the 14/3.  They don&apos;t make much difference to the results.</p><p>&gt;&gt;&gt;&gt; What&apos;s so special about neutral intervals?<br/>&gt;&gt;&gt; They&apos;re characteristic of the 11-limit sound. Without that you just have &gt;&gt;&gt; what sounds like a 5- or 7-limit temperament.<br/>&gt;&gt; Yes, and as 11-limit intervals, why are they uniquely being &gt; &gt; Nothing unique about them. The problem just gets worse with each higher &gt; limit.</p><p>What problem?  I still don&apos;t see a problem.</p><p>&gt;&gt; With those superparticular prime intervals you get 14/13 as &gt;&gt; equal in complexity to 91/72.  I don&apos;t buy that.<br/>&gt; &gt; Weight, not complexity. Certainly it would be nice to have similar &gt; weights for 13/12 and 14/13. It might end up being necessary to &gt; calculate the errors of all the superparticular intervals, not just the &gt; primes....</p><p>I said the weight has to match the complexity for the simple badness to work.</p><p>                    Graham</p></div><h3><a id=17376 href="#17376">ðŸ”—</a>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>6/1/2008 7:49:59 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:<br/>&gt; Herman Miller wrote:<br/>&gt; &gt;&gt; I&apos;m interested in the error of 7/4 in cents, in case that wasn&apos;t clear. &gt;&gt; Nothing to do with octaves. Let&apos;s go back to the original point. 7/4 is &gt;&gt; a musically useful interval; it occurs in numerous chords including &gt;&gt; 4:5:6:7. 7/5 and 7/6 are also important, but 7/1 is of more marginal &gt;&gt; importance. The differences are even more apparent in 11- and higher limits.<br/>&gt; &gt; The error of the 7/4 is determined by the error in the 7/1 &gt; and the error in the 2/1 -- the octave.  Make those errors &gt; small and the error in 7/4 is bound to be small.  That&apos;s the &gt; point of prime weighting and I don&apos;t see any problems with it.</p><p>If you don&apos;t care about the error of the 7/1, there doesn&apos;t seem to be much point in optimizing for it. You might as well determine the error of the 7/1 by the error in the 7/4 and the error in the 2/1. Any chord containing a 7/1 is likely to have other notes between the 1 and the 7; if those smaller intervals (e.g. 3/1, 5/3, 7/5 in a 1:3:5:7 chord) are optimized for error, the overall chord should be fine.</p><p>&gt;&gt;&gt; You keep talking about this bias but don&apos;t give any &gt;&gt;&gt; evidence.  I&apos;ve used standard deviations to give priority to &gt;&gt;&gt; small intervals and found it barely makes a difference.<br/>&gt;&gt; 7/4 is considered as a product of 2^-2 * 7^1, so it can be way more &gt;&gt; inaccurate than an interval such as 5/2. 7/5 and 7/6 have even worse &gt;&gt; scores according to TOP weighting based on complexity. 7/6 has the same &gt;&gt; complexity as 14/3, 21/2, and 42/1. While 14/3 may be of some use, I &gt;&gt; think it&apos;s safe to assume that 7/6 is more important.<br/>&gt; &gt; Yes, and 9/4 can never be more accurate than 3/2.  The &gt; weighting is generally proportional to the complexity.  You &gt; can try different weightings for a finite set of intervals &gt; if you like -- and I&apos;ve done it.  With enough intervals it &gt; doesn&apos;t actually matter much what the weighting is any more &gt; than it matters which intervals you chose (as long as it&apos;s a &gt; reasonable rule and you let a lot of them through).</p><p>Who said anything about 9/4? Finding an appropriate set of intervals and weightings is what I was originally looking for. Where to draw the line is another question ... clearly you get different errors and different optimized generators for different sets of intervals, which is one of the advantages of TOP. What I want from an alternative error measure is a second opinion.</p><p>&gt; I&apos;ve done Farey limits, so you can exclude the 14/3.  They &gt; don&apos;t make much difference to the results.<br/>&gt; &gt;&gt;&gt;&gt;&gt; What&apos;s so special about neutral intervals?<br/>&gt;&gt;&gt;&gt; They&apos;re characteristic of the 11-limit sound. Without that you just have &gt;&gt;&gt;&gt; what sounds like a 5- or 7-limit temperament.<br/>&gt;&gt;&gt; Yes, and as 11-limit intervals, why are they uniquely being &gt;&gt; Nothing unique about them. The problem just gets worse with each higher &gt;&gt; limit.<br/>&gt; &gt; What problem?  I still don&apos;t see a problem.</p><p>Say you want to write a piece of music in an 11-limit temperament. Instead, what you intend to be heard as 11-limit intervals (say, 11/9 or 11/8) are so sharp or so flat that they sound like different intervals entirely. You might choose a different tuning or even a different temperament if you have an error score based on intervals more similar to the ones you&apos;re intending to use.</p><p>&gt;&gt;&gt; With those superparticular prime intervals you get 14/13 as &gt;&gt;&gt; equal in complexity to 91/72.  I don&apos;t buy that.<br/>&gt;&gt; Weight, not complexity. Certainly it would be nice to have similar &gt;&gt; weights for 13/12 and 14/13. It might end up being necessary to &gt;&gt; calculate the errors of all the superparticular intervals, not just the &gt;&gt; primes....<br/>&gt; &gt; I said the weight has to match the complexity for the simple &gt; badness to work.</p><p>The badness might need to be a different function of error and complexity, right. By whatever measure of error and complexity you pick, it should be possible to find the few best temperaments (what I&apos;m calling the gold medal temperaments, the ones lower in error than all less complex temperaments) and use those to evaluate the rest.</p></div><h3><a id=17969 href="#17969">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>7/5/2010 6:05:26 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:</p><p>&gt; We can find the unweighted TOP-RMS using the pseudoinverse technique,<br/>&gt; which gives us a period of 1202.03 cents and a generator of 504.14<br/>&gt; cents. The weighted TOP-RMS can also be calculated, but the question is<br/>&gt; what weights should be used?</p><p>I forget what we were calling TOP-RMS back then, which unfortunately doesn&apos;t seem to be what we are calling TOP-RMS now. But the true, authentic Graham version of TOP-RMS can also be computed using pseudoinverses. If we take a matrix M whose rows are weighted vals derived by weighting the rows of what Graham on the temperament finder website calls &quot;Reduced Mapping&quot; or any similar mapping to generators, then JIP.pseudoinverse(M) will give the tuning of the generators.</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            