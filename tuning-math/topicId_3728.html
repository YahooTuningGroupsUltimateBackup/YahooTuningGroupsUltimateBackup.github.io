<a href="/tuning-math">back to list</a><h1>Standardising temperament mappings</h1><h3>David C Keenan &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>3/14/2002 6:21:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene and Graham are using different ways of presenting both the basis<br/>vector for a temperament and its mapping matrix. This makes it tedious to<br/>compare temperaments generated by their respective algorithms. We should<br/>standardise. The standard should be based on other long-standing standards<br/>or conventions or be otherwise defensible, particularly if we are going to<br/>publish.</p><p>We should consider equal temperaments and planar temperaments as well as<br/>the current linear temperaments, and we need to consider both octave-based<br/>and non-octave-based tuning systems.</p><p>I see the following issues which need to be addressed in the following order.<br/>1. Standardising the basis vector<br/> a. What units to use for generators<br/>    (cents vs decimal octaves vs rational octaves)<br/> b. Choosing a canonical ordering of the generators<br/> c. How to determine a canonical set of generators<br/>2. Standardising the mapping matrix<br/>3. Standardising the format for flattening the mapping matrix</p><p>Here&apos;s my take on these issues:</p><p>1a. What units to use for generators</p><p>While octaves make good sense within a program for calculating<br/>temperaments, I think it&apos;s clear that either cents or rational octaves will<br/>be better understood by most readers. Since a basis nearly always includes<br/>a generator whose optimum value can&apos;t be exprtessed as a simple rational<br/>fraction of an octave, it seems cents should be the standard unit. We might<br/>however want to include supplementary information when the cents do not<br/>make it obvious that there are say exactly 19 generators (or periods) to<br/>the octave, even though this information will also be buried in the map<br/>matrix.</p><p>1b. Choosing a canonical ordering of the generators</p><p>This can&apos;t really be addressed independenlty of 1c. &quot;How to determine a<br/>canonical set of generators&quot;. But something has to come first in this text.</p><p>It seems obvious that the canonical basis for an equal temperament (or more<br/>generally an EDn where n represents an interval of equivalence) is its step<br/>size (its period), which is the smallest generator that generates n. n is<br/>usually the lowest prime approximated by the EDn. The generator is always a<br/>whole number division of n.</p><p>So it seems obvious to me that the first generator to be listed for a<br/>linear temperament should be the one that generates only the lowest prime<br/>(usually 2). We sometimes distinguish this generator by calling it the<br/>&quot;period&quot;, particularly when we consider it to be generating an &quot;interval of<br/>equivalence&quot; (usually at least an approximate octave, but the tritave 1:3<br/>also has a following). In this case we consider that the number of pitches<br/>and their spacing _within_ a single interval-of-equivalence is what<br/>constitutes the scale, and we consider the number of<br/>intervals-of-equivalence provided on any given instrument to be a detail<br/>irrelevant to our calculations.</p><p>When we come to planar temperaments, it seems even more obvious that the<br/>first generator should relate to the lowest used prime (usu. 2), then the<br/>next generator should be related to the next higher prime (usu. 3) and the<br/>last generator will give the rest.</p><p>1c. How to determine a canonical set of generators.</p><p>This has been partly assumed above. I suggest a generator is first found<br/>that generates only the lowest prime (but note that in some cases the<br/>interval of equivalence may not be related to the lowest prime, e.g. a<br/>tritave-based scale that includes some ratios of 2) and it should be the<br/>smallest such generator, which means that it will always be a whole-number<br/>division of (the approximation of) that lowest prime. Then the next<br/>generator is only what is needed to generate the next prime (in conjunction<br/>with the first generator if necessary). i.e. we are aiming for a triangular<br/>map matrix (an accepted canonical form). But in the end the last generator<br/>has to pick up all the remaining primes.</p><p>At each step the generator given should be the smallest that will do the<br/>job. So at least in the case of a linear temperament, the second generator<br/>will always be less than half the first generator (or period).</p><p>Graham currently gives the proposed canonical generators in the proposed<br/>order but does not give the first generator (period) in cents. Gene gives<br/>both in cents, but not in the proposed order and the generators are not<br/>always the smallest that will do the job.</p><p>Note that a different choice of basis vector (generators) will lead to a<br/>different mapping matrix and make comparison tedious.</p><p>2. Standardising the mapping matrix</p><p>Consider a planar 7-limit temperament described by this set of approximations:</p><p>lg(2) ~= gen0*p2 + gen1*g2 + gen2*h2<br/>lg(3) ~= gen0*p3 + gen1*g3 + gen2*h3<br/>lg(5) ~= gen0*p5 + gen1*g5 + gen2*h5<br/>lg(7) ~= gen0*p7 + gen1*g7 + gen2*h7</p><p>where lg(x) = ln(x)/ln(2)*1200, i.e. the primes in cents, and<br/>gen0, gen1, gen2 are the generators in cents, and<br/>p2, p3, g2, g3 etc are the integer coefficients.</p><p>I&apos;ve used &quot;p&quot;s for the gen0 coefficients to remind us that this is the<br/>generator we sometimes distinguish by calling it the period.</p><p>There are various ways to express this in matrix form depending on whether<br/>our vectors are rows or columns. Since it is much easier to deal with row<br/>vectors in text, I propose we use:</p><p>[If you&apos;re viewing this from Yahoo&apos;s dumb web interface, you&apos;ll need to<br/>click either Reply, or Message index then Expand Messages, to see it<br/>formatted properly.]</p><p>[lg(2) lg(3) lg(5) lg(7)] ~=</p><p>[gen0 gen1 gen2]  [p2 p3 p5 p7]<br/>                  [g2 g3 g5 g7]<br/>                  [h2 h3 h5 h7]</p><p>The canonical choice and ordering of generators should always result in the<br/>lower triangle being all zeros, as follows.</p><p>[gen0 gen1 gen2]  [p2 p3 p5 p7]<br/>                  [0  g3 g5 g7]<br/>                  [0  0  h5 h7]</p><p>An equal temperament looks like</p><p>[lg(2) lg(3) lg(5) lg(7)] ~=</p><p>[gen0]  [p2 p3 p5 p7]</p><p>3. Standardising the format for flattening the mapping matrix</p><p>For 7-limit linear temperaments</p><p>[lg(2) lg(3) lg(5) lg(7)] ~=</p><p>[gen0 gen1]  [p2 p3 p5 p7]<br/>             [0  g3 g5 g7]</p><p>we currently have flattenings:</p><p>Gene<br/>[[0, g3, g5, g7], [p2, p3, p5, p7]]</p><p>Graham<br/>[(p2, 0), (p3, g3), (p5, g5), (p7, g7)]</p><p>The most obvious flattening of the above matrix is neither of these. I<br/>suggest we use:</p><p>[[p2 p3 p5 p7] [0 g3 g5 g7]]</p><p>(Why not omit the &quot;,&quot;s?)</p><p>It is particularly easy to find the most important information in this<br/>format. The number of periods per octave (p2) is at the start and the<br/>numbers of generators in the other primes are at the end. These are the<br/>only factors that affect the complexity of an octave-equivalent tuning. In<br/>fact, in the common case of an octave period, we often abbreviate the map<br/>to just [g3 g5 g7].</p><p>Can anyone see any problem with these proposals? If not, I&apos;d appreciate it<br/>if Graham and Gene would both implement them, where they haven&apos;t already.</p><p>Regards,<br/>-- Dave Keenan<br/>Brisbane, Australia<br/><a href="http://uq.net.au/~zzdkeena">http://uq.net.au/~zzdkeena</a></p></div><h3>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>3/14/2002 7:13:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., David C Keenan &lt;d.keenan@u...&gt; wrote:</p><p>&gt; Gene and Graham are using different ways of presenting both the basis<br/>&gt; vector for a temperament and its mapping matrix.</p><p>I wish I had checked what Graham did before coding, but I am inclined to think I want a different standard mapping anyway, since I have what seems like a good, general method convention suitable for planar and higher temperaments also.</p><p>&gt; I see the following issues which need to be addressed in the following order.<br/>&gt; 1. Standardising the basis vector</p><p>What&apos;s the basis vector?</p></div><h3>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>3/14/2002 7:26:30 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., David C Keenan &lt;d.keenan@u...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Gene and Graham are using different ways of presenting both the<br/>basis<br/>&gt; &gt; vector for a temperament and its mapping matrix.<br/>&gt;<br/>&gt; I wish I had checked what Graham did before coding, but I am<br/>inclined to think I want a different standard mapping anyway, since I<br/>have what seems like a good, general method convention suitable for<br/>planar and higher temperaments also.<br/>&gt;<br/>&gt; &gt; I see the following issues which need to be addressed in the<br/>following order.<br/>&gt; &gt; 1. Standardising the basis vector<br/>&gt;<br/>&gt; What&apos;s the basis vector?</p><p>The list of generators. Sorry.</p></div><h3>graham@microtonal.co.uk</h3><span>3/15/2002 5:02:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:3.0.6.32.20020314182114.00b2f6f0@uq.net.au">3.0.6.32.20020314182114.00b2f6f0@uq.net.au</a>&gt;<br/>David C Keenan wrote:</p><p>&gt; 1a. What units to use for generators<br/>&gt;<br/>&gt; While octaves make good sense within a program for calculating<br/>&gt; temperaments, I think it&apos;s clear that either cents or rational octaves<br/>&gt; will<br/>&gt; be better understood by most readers. Since a basis nearly always<br/>&gt; includes<br/>&gt; a generator whose optimum value can&apos;t be exprtessed as a simple rational<br/>&gt; fraction of an octave, it seems cents should be the standard unit. We<br/>&gt; might<br/>&gt; however want to include supplementary information when the cents do not<br/>&gt; make it obvious that there are say exactly 19 generators (or periods) to<br/>&gt; the octave, even though this information will also be buried in the map<br/>&gt; matrix.</p><p>Yes, that all sounds right.  I&apos;m tempted to say that the period size in<br/>cents should be the supplement if the &quot;octave&quot; size in cents and number of<br/>divisions thereof are known.  But it doesn&apos;t really matter as both things<br/>are there.</p><p>&gt; So it seems obvious to me that the first generator to be listed for a<br/>&gt; linear temperament should be the one that generates only the lowest<br/>&gt; prime<br/>&gt; (usually 2). We sometimes distinguish this generator by calling it the<br/>&gt; &quot;period&quot;, particularly when we consider it to be generating an<br/>&gt; &quot;interval of<br/>&gt; equivalence&quot; (usually at least an approximate octave, but the tritave<br/>&gt; 1:3<br/>&gt; also has a following). In this case we consider that the number of<br/>&gt; pitches<br/>&gt; and their spacing _within_ a single interval-of-equivalence is what<br/>&gt; constitutes the scale, and we consider the number of<br/>&gt; intervals-of-equivalence provided on any given instrument to be a detail<br/>&gt; irrelevant to our calculations.</p><p>So you mean (periodSize, generatorSize) for this datum?</p><p>&gt; 1c. How to determine a canonical set of generators.<br/>&gt;<br/>&gt; This has been partly assumed above. I suggest a generator is first found<br/>&gt; that generates only the lowest prime (but note that in some cases the<br/>&gt; interval of equivalence may not be related to the lowest prime, e.g. a<br/>&gt; tritave-based scale that includes some ratios of 2) and it should be the<br/>&gt; smallest such generator, which means that it will always be a<br/>&gt; whole-number<br/>&gt; division of (the approximation of) that lowest prime. Then the next<br/>&gt; generator is only what is needed to generate the next prime (in<br/>&gt; conjunction<br/>&gt; with the first generator if necessary). i.e. we are aiming for a<br/>&gt; triangular<br/>&gt; map matrix (an accepted canonical form). But in the end the last<br/>&gt; generator<br/>&gt; has to pick up all the remaining primes.</p><p>That assumes the &quot;primes&quot; are in order, and the first identified as an<br/>equivalence interval.  What should we do for things like<br/>tritave-equivalent scales?  It does make sense to always list the primes<br/>in the same order.</p><p>&gt; At each step the generator given should be the smallest that will do the<br/>&gt; job. So at least in the case of a linear temperament, the second<br/>&gt; generator<br/>&gt; will always be less than half the first generator (or period).</p><p>...</p><p>&gt; Note that a different choice of basis vector (generators) will lead to a<br/>&gt; different mapping matrix and make comparison tedious.</p><p>I&apos;d prefer to choose a generator less than the period such that the first<br/>element of the map is positive.  That&apos;s much more robust.  It means the<br/>scale can be identified by the mapping-by-generators and the number of<br/>periods to an octave, with the generator and octave sizes as almost free<br/>parameters.</p><p>&gt; There are various ways to express this in matrix form depending on<br/>&gt; whether<br/>&gt; our vectors are rows or columns. Since it is much easier to deal with<br/>&gt; row<br/>&gt; vectors in text, I propose we use:<br/>&gt;<br/>&gt; [If you&apos;re viewing this from Yahoo&apos;s dumb web interface, you&apos;ll need to<br/>&gt; click either Reply, or Message index then Expand Messages, to see it<br/>&gt; formatted properly.]<br/>&gt;<br/>&gt; [lg(2) lg(3) lg(5) lg(7)] ~=<br/>&gt;<br/>&gt; [gen0 gen1 gen2]  [p2 p3 p5 p7]<br/>&gt;                   [g2 g3 g5 g7]<br/>&gt;                   [h2 h3 h5 h7]</p><p>I&apos;d prefer that the other way around, so that the units are always to the<br/>right of the values.  i.e.</p><p>[-1 1][lg(2) lg(3)] = 0.585 octaves = 702 cents</p><p>instead of</p><p>[lg(2) lg(3)][-1 1] = octaves 0.585 = cents 702</p><p>For that to work with matrix multiplication, [lg(2) lg(3)] would have to<br/>be transposed, and there&apos;s a knock-on effect with the mapping.</p><p>I much prefer listing octaves first, because then they can be indexed as<br/>zero and the octave-equivalent case uses indices from 1.</p><p>&gt; The most obvious flattening of the above matrix is neither of these. I<br/>&gt; suggest we use:<br/>&gt;<br/>&gt; [[p2 p3 p5 p7] [0 g3 g5 g7]]<br/>&gt;<br/>&gt; (Why not omit the &quot;,&quot;s?)</p><p>Actually, that&apos;s how I used to do it, but I won&apos;t re-write the program so<br/>it works naturally again.  Those &quot;,&quot;s are because I&apos;m using Python&apos;s<br/>default stringification of sequences.  Some versions used Numeric arrays,<br/>so no commas.  I&apos;m going to have to write a proper HTML formatting routine<br/>anyway, so I can tackle this as part of that.  Should be a good project<br/>for the weekend if we&apos;re agreed.</p><p>                    Graham</p></div><h3>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>3/15/2002 7:00:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., graham@m... wrote:<br/>&gt; In-Reply-To: &lt;3.0.6.32.20020314182114.00b2f6f0@u...&gt;<br/>&gt; David C Keenan wrote:<br/>&gt; So you mean (periodSize, generatorSize) for this datum?</p><p>Yes.</p><p>&gt; That assumes the &quot;primes&quot; are in order, and the first identified as<br/>an<br/>&gt; equivalence interval.  What should we do for things like<br/>&gt; tritave-equivalent scales?  It does make sense to always list the<br/>primes<br/>&gt; in the same order.</p><p>Ah yes. Thanks for reminding me. I forgot to make it explicit that I<br/>always want the primes to be ordered from smallest to largest<br/>(from left to right or top to bottom).</p><p>For tritave-equivalent scales having no ratios of even numbers,<br/>there&apos;s no problem. If it has 2s in it I&apos;d say the canonical matrix<br/>should still put the 2s first. However there&apos;s nothing to stop you<br/>_also_ giving a non-canonical one where you order it 3, 2, 5, 7  to<br/>put the interval of equivalence first, so long as you make this<br/>explicit. It&apos;s probably a good idea to make the &quot;target&quot;(?) vector<br/>(list of logs of primes) explicit anyway, particularly when we start<br/>doing things like 2, 5, 7.</p><p>&gt; &gt; At each step the generator given should be the smallest that will<br/>do the<br/>&gt; &gt; job. So at least in the case of a linear temperament, the second<br/>&gt; &gt; generator<br/>&gt; &gt; will always be less than half the first generator (or period).<br/>...<br/>&gt; I&apos;d prefer to choose a generator less than the period such that the<br/>first<br/>&gt; element of the map is positive.  That&apos;s much more robust.  It means<br/>the<br/>&gt; scale can be identified by the mapping-by-generators and the number<br/>of<br/>&gt; periods to an octave, with the generator and octave sizes as almost<br/>free<br/>&gt; parameters.</p><p>I don&apos;t understand what you mean by &quot;more robust&quot;. Whatever<br/>conventions we settle on to give a unique form will allow an<br/>octave-based temperament to be identified by the mapping-by-generators<br/>and the number of periods to an octave. Why would my proposal of<br/>generator less than half period, fail to do this.</p><p>Your program currently agrees with my proposal. It always gives a<br/>generator less than half the period. Are you proposing to change that?</p><p>I assume you understood I meant &quot;smallest with GCD(row) = 1&quot;, so no<br/>degeneracy.</p><p>&gt; &gt; There are various ways to express this in matrix form depending on<br/>&gt; &gt; whether<br/>&gt; &gt; our vectors are rows or columns. Since it is much easier to deal<br/>with<br/>&gt; &gt; row<br/>&gt; &gt; vectors in text, I propose we use:<br/>&gt; &gt;<br/>&gt; &gt; [If you&apos;re viewing this from Yahoo&apos;s dumb web interface, you&apos;ll<br/>need to<br/>&gt; &gt; click either Reply, or Message index then Expand Messages, to see<br/>it<br/>&gt; &gt; formatted properly.]<br/>&gt; &gt;<br/>&gt; &gt; [lg(2) lg(3) lg(5) lg(7)] ~=<br/>&gt; &gt;<br/>&gt; &gt; [gen0 gen1 gen2]  [p2 p3 p5 p7]<br/>&gt; &gt;                   [g2 g3 g5 g7]<br/>&gt; &gt;                   [h2 h3 h5 h7]<br/>&gt;<br/>&gt; I&apos;d prefer that the other way around, so that the units are always<br/>to the<br/>&gt; right of the values.  i.e.<br/>&gt;<br/>&gt; [-1 1][lg(2) lg(3)] = 0.585 octaves = 702 cents<br/>&gt;<br/>&gt; instead of<br/>&gt;<br/>&gt; [lg(2) lg(3)][-1 1] = octaves 0.585 = cents 702<br/>&gt;<br/>&gt; For that to work with matrix multiplication, [lg(2) lg(3)] would<br/>have to<br/>&gt; be transposed, and there&apos;s a knock-on effect with the mapping.</p><p>Well yes, and the effect is that _everything_ has to be transposed.<br/>All the vectors will be colums and the matrix will be higher than it<br/>is wide.</p><p>I&apos;m quite used to using row vectors carrying units and coming _before_<br/>the transformation matrix in computer graphics. The vectors may be in<br/>pixels or millimeters but it doesn&apos;t seem at all strange to put the<br/>thing to be transformed first, followed by the desired transformation.<br/>As in</p><p>[x&apos; y&apos; z&apos; 1] = [x y z 1] [ cos(a) sin(a) 0 0]<br/>                         [-sin(a) cos(a) 0 0]<br/>                         [  0      0     1 0]<br/>                         [  0      0     0 1]</p><p>(Rotation of a point about the z axis thru an angle a). This is<br/>straight out of a textbook.</p><p>It seems Gene agrees with me on this. The only problem I have with his<br/>format is that he&apos;s been puting the period (or fractional-octave<br/>generator) last. (and the minimum generator size thing)</p><p>&gt; I much prefer listing octaves first, because then they can be<br/>indexed as<br/>&gt; zero and the octave-equivalent case uses indices from 1.</p><p>At least you and I agree on that.</p><p>&gt; &gt; The most obvious flattening of the above matrix is neither of<br/>these. I<br/>&gt; &gt; suggest we use:<br/>&gt; &gt;<br/>&gt; &gt; [[p2 p3 p5 p7] [0 g3 g5 g7]]<br/>&gt; &gt;<br/>&gt; &gt; (Why not omit the &quot;,&quot;s?)<br/>&gt;<br/>&gt; Actually, that&apos;s how I used to do it, but I won&apos;t re-write the<br/>program so<br/>&gt; it works naturally again.</p><p>How can this flattening be &quot;natural&quot; to you if you would have the<br/>mapping matrix be higher than it is wide? But I guess I shouldn&apos;t<br/>complain if you agree with me on the flattening. :-)</p><p>&gt;  Those &quot;,&quot;s are because I&apos;m using Python&apos;s<br/>&gt; default stringification of sequences.</p><p>Fair enough.</p></div><h3>graham@microtonal.co.uk</h3><span>3/15/2002 7:27:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a6t29j+cdq0@eGroups.com">a6t29j+cdq0@eGroups.com</a>&gt;<br/>dkeenanuqnetau wrote:</p><p>&gt; I don&apos;t understand what you mean by &quot;more robust&quot;. Whatever<br/>&gt; conventions we settle on to give a unique form will allow an<br/>&gt; octave-based temperament to be identified by the mapping-by-generators<br/>&gt; and the number of periods to an octave. Why would my proposal of<br/>&gt; generator less than half period, fail to do this.</p><p>The generator might get larger, in which case it would be incorrectly<br/>described.  If you set the first non-zero element of the generator mapping<br/>to be positive, the mapping is uniquely described regardless of the size<br/>of the generator.</p><p>Actually, it looks like I use this convention when comparing temperaments<br/>for equivalence, but not for display.</p><p>&gt; Your program currently agrees with my proposal. It always gives a<br/>&gt; generator less than half the period. Are you proposing to change that?</p><p>The one for generating linear temperaments from equal temperaments does.<br/>But the one for generating linear temperaments from unison vectors<br/>doesn&apos;t.  Some generators are a lot bigger than the period because they<br/>become larger on optimization.  So I&apos;ll have to change that program to<br/>adjust the mapping after optimization.</p><p>&gt; I assume you understood I meant &quot;smallest with GCD(row) = 1&quot;, so no<br/>&gt; degeneracy.</p><p>Um what if there&apos;s contorsion?</p><p>&gt; &gt; Actually, that&apos;s how I used to do it, but I won&apos;t re-write the<br/>&gt; program so<br/>&gt; &gt; it works naturally again.<br/>&gt;<br/>&gt; How can this flattening be &quot;natural&quot; to you if you would have the<br/>&gt; mapping matrix be higher than it is wide? But I guess I shouldn&apos;t<br/>&gt; complain if you agree with me on the flattening. :-)</p><p>It&apos;s natural for the program because it holds the mapping as a list of<br/>pairs.  It used to be a pair of lists, which makes it easier to do some<br/>multiplications.  This way, it can be generated by looping through the<br/>primes and adding pairs.  Also, it&apos;s consistent with how I&apos;ve always done<br/>the mapping by step sizes.  So I won&apos;t be changing the library&apos;s internal<br/>format, but can change the display the CGI uses.</p><p>                    Graham</p></div><h3>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>3/15/2002 8:01:09 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., graham@m... wrote:<br/>&gt; In-Reply-To: &lt;a6t29j+cdq0@e...&gt;<br/>&gt; dkeenanuqnetau wrote:<br/>&gt;<br/>&gt; &gt; I don&apos;t understand what you mean by &quot;more robust&quot;. Whatever<br/>&gt; &gt; conventions we settle on to give a unique form will allow an<br/>&gt; &gt; octave-based temperament to be identified by the<br/>mapping-by-generators<br/>&gt; &gt; and the number of periods to an octave. Why would my proposal of<br/>&gt; &gt; generator less than half period, fail to do this.<br/>&gt;<br/>&gt; The generator might get larger, in which case it would be<br/>incorrectly<br/>&gt; described.  If you set the first non-zero element of the generator<br/>mapping<br/>&gt; to be positive, the mapping is uniquely described regardless of the<br/>size<br/>&gt; of the generator.</p><p>You seem to be talking about what your program is doing internally.<br/>I don&apos;t care about that. I&apos;m talking about what we present to people,<br/>irrespective of how it is generated. The important thing to me, is<br/>what will be most immediately meaningful or useful to musicians or<br/>composers. If your optimiser comes out with a generator that is<br/>between 0.5 and 1 period you can always subtract it from the period,<br/>or if it is between 1 and 1.5 periods you can subtract a period from<br/>it etc., and adjust the matrix accordingly.</p><p>But the questions is, &quot;Is this the most meaningful generator?&quot;. It<br/>could be argued for example in Pajara/Paultone that a generator which<br/>is a fourth or fifth may be more meaningful than the one of 108 cents.<br/>But it isn&apos;t clear to me how you would generalise that to cases where<br/>there isn&apos;t a fourth or fifth among the possible generator values. It<br/>just looks too messy to me.</p><p>However Gene seems like he might be favouring a fourth when one exists<br/>in such cases. What rule are you using there Gene?</p><p>&gt; The one for generating linear temperaments from equal temperaments<br/>does.<br/>&gt; But the one for generating linear temperaments from unison vectors<br/>&gt; doesn&apos;t.  Some generators are a lot bigger than the period because<br/>they<br/>&gt; become larger on optimization.  So I&apos;ll have to change that program<br/>to<br/>&gt; adjust the mapping after optimization.</p><p>OK.</p><p>&gt; &gt; I assume you understood I meant &quot;smallest with GCD(row) = 1&quot;, so<br/>no<br/>&gt; &gt; degeneracy.<br/>&gt;<br/>&gt; Um what if there&apos;s contorsion?</p><p>I&apos;m still confused about that.</p><p>...<br/>&gt;So I won&apos;t be changing the library&apos;s<br/>internal<br/>&gt; format, but can change the display the CGI uses.</p><p>Sure.</p><p>But don&apos;t bother changing anything yet. One point is to have the same<br/>format from both you and Gene, and Gene is still thinking about it.</p></div>