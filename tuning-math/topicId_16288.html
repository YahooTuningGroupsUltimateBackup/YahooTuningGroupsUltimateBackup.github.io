<a href="/tuning-math">back to list</a><h1>Notating regular temperament commas</h1><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/18/2007 7:17:35 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>So far the approach I&apos;ve been taking for notating (chromatic) commas in a regular temperament is to check the existing Sagittal symbols in the appropriate range that map to the appropriate number of generators, and pick the simplest possibility that fits (without accents if possible). That seems to work pretty well for most temperaments. But what would the ideal notation for a particular temperament look like, if you could have symbols for any comma you need?</p><p>One approach would be to take the set of all commas that map to the desired generator and pick the simplest one, by some measure of complexity. This is pretty easy to do in the 5- and 7-limit cases, by first finding any comma that works, then adding and subtracting the vanishing commas until all of the commas you find are more complex. I think that general approach might work for higher limits, but how can you be sure that you&apos;ve found the best one? Is there a better way to do this?</p><p>It&apos;s true that the simplest comma might not be the one that&apos;s closest to the tempered comma size for any optimal tuning, but it&apos;s more likely to be close enough to the right size over a range of possible tunings, and also more likely to be needed for other temperaments. There might be some other comma that would be the second-choice comma for a wider range of temperaments, but not a first choice for any of them. But finding the simplest comma itself is enough of a challenge for now.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/18/2007 10:45:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:</p><p>&gt; One approach would be to take the set of all commas that map to the<br/>&gt; desired generator and pick the simplest one, by some measure of<br/>&gt; complexity.</p><p>I take it you mean all commas that map to n generator steps. But how do<br/>you pick you n?</p></div><h3>Dave Keenan &#x3C;d.keenan@bigpond.net.au&#x3E;</h3><span>3/19/2007 6:23:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:<br/>&gt;<br/>&gt; So far the approach I&apos;ve been taking for notating (chromatic) commas in<br/>&gt; a regular temperament is to check the existing Sagittal symbols in the<br/>&gt; appropriate range that map to the appropriate number of generators, and<br/>&gt; pick the simplest possibility that fits (without accents if possible).</p><p>An excellent approach.</p><p>&gt; That seems to work pretty well for most temperaments. But what would<br/>the<br/>&gt; ideal notation for a particular temperament look like, if you could<br/>have<br/>&gt; symbols for any comma you need?</p><p>Don&apos;t worry. It will never happen. :-)</p><p>Once we have a list of _all_ sagittally notatable commas able to be<br/>ordered by some kind of popularity/complexity/badness measure, and<br/>also by untempered size. Then you can apply your original method to that.</p><p>&gt; One approach would be to take the set of all commas that map to the<br/>&gt; desired generator and pick the simplest one, by some measure of<br/>&gt; complexity. This is pretty easy to do in the 5- and 7-limit cases, by<br/>&gt; first finding any comma that works, then adding and subtracting the<br/>&gt; vanishing commas until all of the commas you find are more complex. I<br/>&gt; think that general approach might work for higher limits, but how can<br/>&gt; you be sure that you&apos;ve found the best one? Is there a better way to do<br/>&gt; this?</p><p>My brain hurts. :-)</p><p>&gt;<br/>&gt; It&apos;s true that the simplest comma might not be the one that&apos;s<br/>closest to<br/>&gt; the tempered comma size for any optimal tuning, but it&apos;s more likely to<br/>&gt; be close enough to the right size over a range of possible tunings, and<br/>&gt; also more likely to be needed for other temperaments. There might be<br/>&gt; some other comma that would be the second-choice comma for a wider<br/>range<br/>&gt; of temperaments, but not a first choice for any of them. But finding<br/>the<br/>&gt; simplest comma itself is enough of a challenge for now.</p><p>Agreed.</p></div><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/19/2007 6:54:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:<br/>&gt; &gt;&gt; One approach would be to take the set of all commas that map to the &gt;&gt; desired generator and pick the simplest one, by some measure of &gt;&gt; complexity. &gt; &gt; I take it you mean all commas that map to n generator steps. But how do &gt; you pick you n?</p><p>Pick a tuning (e.g. TOP or TOP-RMS) and calculate the possible MOS scales. (Alternatively, all intervals under a maximum comma size.)</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>3/19/2007 8:11:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt; One approach would be to take the set of all commas that map to the<br/>&gt;&gt;&gt; desired generator and pick the simplest one, by some measure of<br/>&gt;&gt;&gt; complexity.<br/>&gt;&gt;<br/>&gt;&gt; I take it you mean all commas that map to n generator steps. But how do<br/>&gt;&gt; you pick you n?<br/>&gt;<br/>&gt;Pick a tuning (e.g. TOP or TOP-RMS) and calculate the possible MOS<br/>&gt;scales. (Alternatively, all intervals under a maximum comma size.)</p><p>Seems like a roundabout way to get the commas.  Since good commas<br/>make good temperaments, one would hope this procedure would spit<br/>out good commas.  Why not just search commas directly?</p><p>Aside from badness, there&apos;s the bit about bridging and<br/>square/triangular numbers being especially useful for *chromatic*<br/>commas (for instance some of Paul E. and Kalle A.&apos;s work),<br/>which means they&apos;re especially useful for notation.....</p><p>-Carl</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/19/2007 8:44:13 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@...&gt; wrote:</p><p>&gt; Seems like a roundabout way to get the commas.  Since good commas<br/>&gt; make good temperaments, one would hope this procedure would spit<br/>&gt; out good commas.  Why not just search commas directly?</p><p>But of course, those commas map to zero generator ateps.<br/>Herman&apos;s idea considers the fact that the generators are likely going<br/>to be tempered.</p></div><h3>Dave Keenan &#x3C;d.keenan@bigpond.net.au&#x3E;</h3><span>3/19/2007 9:38:21 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Dave Keenan&quot; &lt;d.keenan@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@&gt; wrote:<br/>&gt; &gt; That seems to work pretty well for most temperaments. But what would<br/>&gt; the<br/>&gt; &gt; ideal notation for a particular temperament look like, if you could<br/>&gt; have<br/>&gt; &gt; symbols for any comma you need?<br/>&gt;<br/>&gt; Don&apos;t worry. It will never happen. :-)<br/>&gt;<br/>&gt; Once we have a list of _all_ sagittally notatable commas able to be<br/>&gt; ordered by some kind of popularity/complexity/badness measure, and<br/>&gt; also by untempered size. Then you can apply your original method to<br/>that.</p><p>Duh. Now I get it. You&apos;re talking about doing this to _figure_out_<br/>which ones _should_ be sagitally notatable. Sorry.</p><p>-- Dave K</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/20/2007 12:13:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:</p><p>&gt; But of course, those commas map to zero generator ateps.<br/>&gt; Herman&apos;s idea considers the fact that the generators are likely going<br/>&gt; to be tempered.</p><p>Let&apos;s look at this in practice.</p><p>Meantone: we have MOS of size 5, 7, 12, 19 and 31. We can find the 3-<br/>limit commas associated to each of these, and then reduce via 81/80 or<br/>81/80 and 126/125 to get a 5- resp 7-limit comma. This gives:</p><p>5-limit</p><p>5: 16/15<br/>7: 25/24<br/>12: 125/128<br/>19: 3125/3072<br/>31: 390625/393216</p><p>7-limit</p><p>5: 16/15<br/>7: 21/20<br/>19: 35/36<br/>31: 1029/1024</p><p>If we use seven nominals, we don&apos;t actually use the 3^5 comma, but the<br/>3^7 is our sharp-flat symbol, or chromatic semitone. The 3^12 symbol is<br/>the diesis symbol which gets suggested a lot, and the 3^19 and 3^31<br/>symbols are for rather extreme notational situations.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/20/2007 5:18:45 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:</p><p>&gt; Let&apos;s look at this in practice.</p><p>Here are more examples, where symbols not deriving from a Tenney-MOS<br/>are marked with an asterisk. If you push a temperament to a<br/>complexity level beyond what seems to make sense for its tuning<br/>accuracy, you can get some cheesy symbols appearing, which we can see<br/>in the case of beep for instance. Note also, for what it is worth,<br/>that Pajara[34] is a Tenney-MOS.</p><p>ennealimmal &lt;&lt;18 27 18 1 -22 -34||<br/>period 27/25</p><p>2: 49/48<br/>3: 126/125<br/>*5: 81/80<br/>8: 225/224<br/>11: 5120/5103<br/>19: 32805/32768<br/>*30: 33554432/33480783<br/>49: 1099511627776/1098337086315</p><p>pajara &lt;&lt;2 -4 -4 -11 -12 2||<br/>period 7/5</p><p>2: 8/7<br/>*3: 7/6<br/>4: 10/9<br/>5: 25/24<br/>6: 36/35<br/>11: 245/243<br/>17: 4375/4374</p><p>magic &lt;&lt;5 1 12 -10 5 25||</p><p>3: 28/27<br/>*4: 6/5<br/>*7: 7/6<br/>*10: 9/8<br/>*13: 27/25<br/>*16: 21/20<br/>19: 49/48<br/>22: 50/49<br/>41: 1029/1024</p><p>beep &lt;2 3 1 0 -4 -6|</p><p>4: 9/8<br/>5: 16/15<br/>9: 128/125<br/>*13: 1125/1024<br/>*22: 140625/131072<br/>*31: 17578125/16777216<br/>40: 2197265625/2147483648</p><p>mothra &lt;&lt;3 12 -1 12 -10 -36||</p><p>5: 49/48<br/>6: 9/8<br/>11: 54/49<br/>16: 15/14<br/>21: 25/24<br/>26: 50/49<br/>31: 126/125</p></div><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/20/2007 6:02:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &gt; &lt;genewardsmith@...&gt; wrote:<br/>&gt; &gt;&gt; But of course, those commas map to zero generator ateps.<br/>&gt;&gt; Herman&apos;s idea considers the fact that the generators are likely going &gt;&gt; to be tempered.<br/>&gt; &gt; Let&apos;s look at this in practice.<br/>&gt; &gt; Meantone: we have MOS of size 5, 7, 12, 19 and 31. We can find the 3-<br/>&gt; limit commas associated to each of these, and then reduce via 81/80 or &gt; 81/80 and 126/125 to get a 5- resp 7-limit comma. This gives:<br/>&gt; &gt; &gt; 5-limit<br/>&gt; &gt; 5: 16/15<br/>&gt; 7: 25/24<br/>&gt; 12: 125/128<br/>&gt; 19: 3125/3072<br/>&gt; 31: 390625/393216<br/>&gt; &gt; 7-limit<br/>&gt; &gt; 5: 16/15<br/>&gt; 7: 21/20 12: 36/35<br/>19: 49/48 ?</p><p>&gt; 19: 35/36<br/>&gt; 31: 1029/1024<br/>&gt; &gt; If we use seven nominals, we don&apos;t actually use the 3^5 comma, but the &gt; 3^7 is our sharp-flat symbol, or chromatic semitone. The 3^12 symbol is &gt; the diesis symbol which gets suggested a lot, and the 3^19 and 3^31 &gt; symbols are for rather extreme notational situations.</p><p>That&apos;s more or less the idea. You could add 50- and 81-note MOS for smaller commas to notate, and add an 11-limit comma (e.g. 385/384) to the set of commas you&apos;re tempering out for an 11-limit version of meantone. Is there an easy way to find the reduced n-limit commas?</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/20/2007 7:50:39 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:</p><p>&gt; Is there an easy way to find the reduced n-limit commas?</p><p>I use LLL followed brute force.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/20/2007 11:06:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:</p><p>I had a bug which Herman caught in my new, imporved Tenney reducer<br/>algorithm. Here is a corrected version:</p><p>ennealimmal &lt;&lt;18 27 18 1 -22 -34||<br/>period 27/25</p><p>2: 49/48<br/>3: 126/125<br/>*5: 81/80<br/>8: 225/224<br/>11: 3136/3125<br/>19: 32805/32768<br/>*30: 29360128/29296875<br/>49: 274877906944/274658203125</p><p>pajara &lt;&lt;2 -4 -4 -11 -12 2||<br/>period 7/5</p><p>2: 8/7<br/>*3: 7/6<br/>4: 10/9<br/>5: 25/24<br/>6: 36/35<br/>11: 245/243<br/>17: 4375/4374</p><p>magic &lt;&lt;5 1 12 -10 5 25||</p><p>3: 25/24<br/>*4: 6/5<br/>*7: 7/6<br/>*10: 9/8<br/>*13: 27/25<br/>*16: 21/20<br/>19: 49/48<br/>22: 50/49<br/>41: 1029/1024</p><p>beep &lt;2 3 1 0 -4 -6|</p><p>4: 9/8<br/>5: 16/15<br/>9: 128/125<br/>*13: 1125/1024<br/>*22: 140625/131072<br/>*31: 17578125/16777216<br/>40: 2197265625/2147483648</p><p>mothra &lt;&lt;3 12 -1 12 -10 -36||</p><p>5: 36/35<br/>*6: 9/8<br/>*11: 35/32<br/>*16: 15/14<br/>*21: 25/24<br/>26: 50/49<br/>31: 126/125</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/20/2007 11:19:30 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:</p><p>&gt; That&apos;s more or less the idea. You could add 50- and 81-note MOS for<br/>&gt; smaller commas to notate, and add an 11-limit comma (e.g. 385/384) to<br/>&gt; the set of commas you&apos;re tempering out for an 11-limit version of<br/>&gt; meantone.</p><p>50 is not a Tenney-MOS, so the comma you get (16807/16384) is not<br/>actually smaller than 1029/1024.</p><p>As for adding in 385/384, it also makes sense to add in 99/98 instead.<br/>If we add in 385/384, we get 99/98 for the 31-symbol now. The 50-symbol<br/>becomes one for 245/242. It&apos;s still the case that 99/98&lt;245/242, but 50<br/>comes closer, which makes sense since meanpop inclines slightly to the<br/>flat side of 31. If we add in 99/98 instead, 50 gets an uninspiring<br/>1331/1280, whereas 31 is gifted with 121/120. 43, which gets 864/847,<br/>actually does better.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/20/2007 11:49:39 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Gene Ward Smith&quot;<br/>&lt;genewardsmith@...&gt; wrote:</p><p>&gt; As for adding in 385/384, it also makes sense to add in 99/98<br/>instead.<br/>&gt; If we add in 385/384, we get 99/98 for the 31-symbol now. The 50-<br/>symbol<br/>&gt; becomes one for 245/242. It&apos;s still the case that 99/98&lt;245/242,<br/>but 50<br/>&gt; comes closer, which makes sense since meanpop inclines slightly to<br/>the<br/>&gt; flat side of 31. If we add in 99/98 instead, 50 gets an uninspiring<br/>&gt; 1331/1280, whereas 31 is gifted with 121/120. 43, which gets<br/>864/847,<br/>&gt; actually does better.</p><p>Adding 385/384, 81 gets a 12005/11979 symbol, and is a Tenney MOS.<br/>Similarly, adding in 99/98 gives 74 65536/65219, which makes it a<br/>Tenney-MOS.</p><p>Tenney-MOS associated equal temperaments, on the large size, give a<br/>purely algebraic method for coming up with a tuning. It seems to work<br/>pretty well. However, there&apos;s a question of when to stop: I went up<br/>to 205-edo with septimal meantone without finding a Tenney-MOS to<br/>beat 31.</p><p>Some Tenney-MOS tunings: 31 for meantone, 34 for pajara (NB George!),<br/>612 for ennealimmal, 41 for magic, 9 (and 40 if you want to push) for<br/>beep, 31 for mothra. Of course, where to stop is a question, but<br/>perhaps if you go up ten times as far and find nothing you can call<br/>it quits. Note, by the way, that the method automatically gives you<br/>not just an edo, but a val, which can be found by solving a linear<br/>system but is more easily found via the interior product of the<br/>wedgie with symbol-comma.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/21/2007 12:25:34 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:</p><p>&gt; Tenney-MOS associated equal temperaments, on the large size, give a &gt; purely algebraic method for coming up with a tuning. It seems to work &gt; pretty well. However, there&apos;s a question of when to stop: I went up &gt; to 205-edo with septimal meantone without finding a Tenney-MOS to &gt; beat 31.<br/>&gt; &gt; Some Tenney-MOS tunings: 31 for meantone, 34 for pajara (NB George!), &gt; 612 for ennealimmal, 41 for magic, 9 (and 40 if you want to push) for &gt; beep, 31 for mothra. Of course, where to stop is a question, but &gt; perhaps if you go up ten times as far and find nothing you can call &gt; it quits. Note, by the way, that the method automatically gives you &gt; not just an edo, but a val, which can be found by solving a linear &gt; system but is more easily found via the interior product of the &gt; wedgie with symbol-comma.</p><p>How about stopping at the square root of (complexity over error)?  Where complexity and error are either both standard deviations, or scalar complexity and TOP-RMS error.</p><p>I think your interior product will be identical to the solution of the linear system.</p><p>                      Graham</p></div><h3>Dave Keenan &#x3C;d.keenan@bigpond.net.au&#x3E;</h3><span>3/21/2007 5:10:36 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Herman, Gene, Carl and Graham,</p><p>This is good stuff. Please keep it up.</p><p>I look forward to a roughly ranked list of (at least) 11-limit<br/>notational commas at the end of it.</p><p>Gene,</p><p>I understand George is already making good use of your earlier list of<br/>over 300 commas. Thanks.</p><p>-- Dave K</p></div><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/21/2007 8:45:36 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:<br/>&gt; &gt;&gt; Is there an easy way to find the reduced n-limit commas?<br/>&gt; &gt; I use LLL followed brute force.</p><p>This one?</p><p><a href="https://openaccess.leidenuniv.nl/dspace/handle/1887/3810">https://openaccess.leidenuniv.nl/dspace/handle/1887/3810</a></p><p>I take it that there isn&apos;t an easy way, then? :-)</p><p>(Unless you know a free/open source implementation of this in C or C++ that I can use...)</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/21/2007 9:43:41 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; Gene Ward Smith wrote:<br/>&gt; &gt;&gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt;<br/>&gt;&gt;&gt;Is there an easy way to find the reduced n-limit commas?<br/>&gt;&gt;<br/>&gt;&gt;I use LLL followed brute force.<br/>&gt; &gt; This one?<br/>&gt; &gt; <a href="https://openaccess.leidenuniv.nl/dspace/handle/1887/3810">https://openaccess.leidenuniv.nl/dspace/handle/1887/3810</a></p><p>Oh, cool link!  I&apos;ll have a look at this because they&apos;re supposed to use equal temperaments as an example.</p><p>&gt; I take it that there isn&apos;t an easy way, then? :-)<br/>&gt; &gt; (Unless you know a free/open source implementation of this in C or C++ &gt; that I can use...)</p><p>Here&apos;s my Python.  I think it&apos;s correct, and I checked it against some other implementation, but not exhaustively.  I can&apos;t spot anything that should be too difficult to re-write in C++.  It requires a rational number library (which I wrote myself) but surely such things exist.</p><p>Remember to view in such a way as to preserve leading whitespace.  The meat&apos;s in the first two functions.</p><p>import operator<br/>from rational import Rational</p><p>def reduction(f, show=0):<br/>  &quot;&quot;&quot;from von zur Gathen &amp; Gerhard p.452&quot;&quot;&quot;</p><p>  n = len(f)<br/>  g = rationalize(f)<br/>  gstar, m = GSO(g)<br/>  half = Rational(1,2)</p><p>  i=1 # indexing from zero<br/>  while i&lt;n:<br/>    if show:<br/>      print i<br/>      print g<br/>      print m<br/>      print gstar<br/>      print<br/>    for j in range(i-1, -1, -1): # from i-1 to 0<br/>      multiplier = int(half-m[i][j])<br/>      # the algorithm says round off and then subtract<br/>      # negating, then rounding and adding does, however,<br/>      # give the correct result<br/>      for k in range(n):<br/>        g[i][k] = g[i][k] + multiplier*g[j][k]<br/>      if show:<br/>        print j, multiplier, m[i][j]<br/>        print g<br/>        print<br/>      gstar, m = GSO(g) # indentation?</p><p>    if i&gt;0 and innerProduct(<br/>            gstar[i-1],<br/>            gstar[i-1]<br/>        ) &gt; 2*innerProduct(<br/>            gstar[i],<br/>            gstar[i]):<br/>      g[i-1], g[i] = g[i], g[i-1]<br/>      gstar, m = GSO(g)<br/>      i = i - 1<br/>    else:<br/>      i = i + 1<br/>  return deRationalize(g)</p><p>def GSO(basis):<br/>  &quot;&quot;&quot;<br/>  Gram-Schmidt orthogonalization<br/>  returns the Gramian matrix and<br/>  the other thing as a pair</p><p>  &quot;&quot;&quot;<br/>  n = len(basis)<br/>  f = rationalize(basis)</p><p>  m = []<br/>  gramian = []<br/>  for i in range(n):<br/>    row = []<br/>    for j in range(i):<br/>      row.append(<br/>          innerProduct(f[i], gramian[j]) /<br/>          innerProduct(gramian[j], gramian[j]))<br/>    m.append(row + [1] + [0]*(len(f)-i-1))</p><p>    row = list(f[i])<br/>    gramian.append(row)<br/>    for j in range(i):<br/>      multiplier = m[i][j]<br/>      for k in range(n):<br/>        row[k] = row[k] - multiplier * gramian[j][k]</p><p>  return gramian, m</p><p>def isOrthogonal(matrix):<br/>  for i in range(len(matrix)-1):<br/>    for j in range(i+1, len(matrix)):<br/>      if innerProduct(matrix[i], matrix[j]):<br/>        return 0<br/>  return 1</p><p>def innerProduct(u, v):<br/>  return reduce(operator.add,<br/>      map(operator.mul, u, v))</p><p>def rationalize(f):<br/>  g = []<br/>  for vector in f:<br/>    row = []<br/>    g.append(row)<br/>    for element in vector:<br/>      if isinstance(element, Rational):<br/>        row.append(element)<br/>      else:<br/>        row.append(Rational(long(element), 1L))<br/>  return g</p><p>def deRationalize(f):<br/>  g = []<br/>  for vector in f:<br/>    row = []<br/>    g.append(row)<br/>    for element in vector:<br/>      if isinstance(element, Rational) and element.d==1:<br/>        try:<br/>          row.append(int(element))<br/>        except OverflowError:<br/>          row.append(long(element))<br/>      else:<br/>        row.append(element)<br/>  return g</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/21/2007 10:39:26 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt;&gt;I use LLL followed brute force.<br/>&gt; &gt;<br/>&gt; &gt; This one?<br/>&gt; &gt;<br/>&gt; &gt; <a href="https://openaccess.leidenuniv.nl/dspace/handle/1887/3810">https://openaccess.leidenuniv.nl/dspace/handle/1887/3810</a></p><p>The lattice reduction algorithm which the factoring algorithm makes<br/>use of:</p><p><a href="http://en.wikipedia.org/wiki/Lenstra-Lenstra-Lov%C3%">http://en.wikipedia.org/wiki/Lenstra-Lenstra-Lov%C3%</a><br/>A1sz_lattice_reduction_algorithm</p><p><a href="http://tinyurl.com/3bn74k">http://tinyurl.com/3bn74k</a></p><p>&gt; Oh, cool link!  I&apos;ll have a look at this because they&apos;re supposed<br/>to use<br/>&gt; equal temperaments as an example.</p><p>They do?? I read it a long time ago, but don&apos;t recall that.</p><p>Aside from Graham&apos;s routine, the Wikipedia article tells of some<br/>other places to find it.</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/22/2007 6:55:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt;&gt;Oh, cool link!  I&apos;ll have a look at this because they&apos;re supposed &gt; &gt; to use &gt; &gt;&gt;equal temperaments as an example.<br/>&gt; &gt; &gt; They do?? I read it a long time ago, but don&apos;t recall that.</p><p>Well, not here that I can see.  Modern Computer Algebra describes it, and I thought the reference was to the LLL paper.  I can check in the summer...</p><p>                 Graham</p></div><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/22/2007 7:43:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene Ward Smith wrote:<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt; &gt;&gt;&gt;&gt; I use LLL followed brute force.<br/>&gt;&gt;&gt; This one?<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; <a href="https://openaccess.leidenuniv.nl/dspace/handle/1887/3810">https://openaccess.leidenuniv.nl/dspace/handle/1887/3810</a><br/>&gt; &gt; The lattice reduction algorithm which the factoring algorithm makes &gt; use of:<br/>&gt; &gt; <a href="http://en.wikipedia.org/wiki/Lenstra-Lenstra-Lov%C3%">http://en.wikipedia.org/wiki/Lenstra-Lenstra-Lov%C3%</a><br/>&gt; A1sz_lattice_reduction_algorithm<br/>&gt; &gt; <a href="http://tinyurl.com/3bn74k">http://tinyurl.com/3bn74k</a><br/>&gt; &gt;&gt; Oh, cool link!  I&apos;ll have a look at this because they&apos;re supposed &gt; to use &gt;&gt; equal temperaments as an example.<br/>&gt; &gt; They do?? I read it a long time ago, but don&apos;t recall that.<br/>&gt; &gt; Aside from Graham&apos;s routine, the Wikipedia article tells of some &gt; other places to find it. That&apos;s where I found the link. Well, it looks like a lot of trouble for just a list of commas, but if I find the time someday I might look into it.</p><p>I thought of an alternative way of evaluating commas: start with a pre-generated list of as many commas within the size range as you think you might need in order to find the interesting ones (say 100,000), in sorted order of complexity. Then for each temperament, map each of the commas into the temperament until you find a comma for each of the MOS sizes you&apos;re looking for. (You probably won&apos;t need to check all or even a large number of your existing list of commas for most temperaments). Or you could just include any comma that maps to a positive step size, regardless of whether the scale with that number of steps is an MOS.</p></div><h3>Dave Keenan &#x3C;d.keenan@bigpond.net.au&#x3E;</h3><span>4/20/2007 1:15:40 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>It looks as though my post quoted below was the kiss of death for this<br/>thread. :-)</p><p>So I&apos;m just summarising here all the notational commas that got a<br/>mention, without any attempt to rank them (or remove all duplicates).<br/>I think it will be easy to give all but a few extremely complex ones<br/>their own sagittal symbols. Any more you want to add, post &apos;em here soon.</p><p>I don&apos;t think very many temperaments got examined.</p><p>16/15<br/>25/24<br/>125/128<br/>3125/3072<br/>390625/393216<br/>21/20<br/>35/36<br/>1029/1024<br/>3^7 comma<br/>3^12 comma<br/>3^19 comma<br/>3^31 comma<br/>27/25<br/>49/48<br/>126/125<br/>81/80<br/>225/224<br/>3136/3125<br/>32805/32768<br/>29360128/29296875<br/>274877906944/274658203125<br/>7/5<br/>8/7<br/>7/6<br/>10/9<br/>25/24<br/>36/35<br/>245/243<br/>4375/4374<br/>25/24<br/>6/5<br/>7/6<br/>9/8<br/>27/25<br/>21/20<br/>49/48<br/>50/49<br/>1029/1024<br/>9/8<br/>16/15<br/>128/125<br/>1125/1024<br/>140625/131072<br/>17578125/16777216<br/>2197265625/2147483648<br/>36/35<br/>35/32<br/>15/14<br/>126/125<br/>385/384<br/>99/98<br/>245/242<br/>1331/1280<br/>121/120<br/>864/847<br/>12005/11979<br/>65536/65219</p><p>-- Dave Keenan</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Dave Keenan&quot; &lt;d.keenan@...&gt; wrote:<br/>&gt;<br/>&gt; Hi Herman, Gene, Carl and Graham,<br/>&gt;<br/>&gt; This is good stuff. Please keep it up.<br/>&gt;<br/>&gt; I look forward to a roughly ranked list of (at least) 11-limit<br/>&gt; notational commas at the end of it.<br/>&gt;<br/>&gt; Gene,<br/>&gt;<br/>&gt; I understand George is already making good use of your earlier list of<br/>&gt; over 300 commas. Thanks.<br/>&gt;<br/>&gt; -- Dave K<br/>&gt;</p></div>