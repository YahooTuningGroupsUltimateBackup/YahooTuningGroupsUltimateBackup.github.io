<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math rationalize</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>rationalize</h1><h3><a id=12497 href="#12497">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/25/2005 11:32:34 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>This has probably been discussed here before... I&apos;m looking<br/>for a method to find the rational with the lowest Tenney height<br/>within n cents of an irrational target.  My recollection is<br/>that Brun&apos;s algorithm does this, but that Gene said there<br/>are better ways...</p><p>-Carl</p></div><h3><a id=12498 href="#12498">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/25/2005 2:11:22 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote...</p><p>&gt;This has probably been discussed here before... I&apos;m looking<br/>&gt;for a method to find the rational with the lowest Tenney height<br/>&gt;within n cents of an irrational target.  My recollection is<br/>&gt;that Brun&apos;s algorithm does this, but that Gene said there<br/>&gt;are better ways...</p><p>Here&apos;s some scheme that attempts this by interating mediants.<br/>I think this is the same as traversing the Stern-Brocott tree.<br/>Is this the same as Brun&apos;s algorithm?  Does it give correct answers?</p><p>-Carl</p><p>;; Returns the mediant of two fractions.</p><p>(define middle<br/>   (lambda (left right)<br/>      (if (not (and (exact? left) (exact? right)))<br/>         &apos;inputerror<br/>         (/ (+ (numerator left) (numerator right))<br/>            (+ (denominator left) (denominator right))))))</p><p>;; Returns the simplest rational within a given factor (range) of<br/>;; target, where complexity is defined as numerator*denominator<br/>;; and 1 &lt; range &lt; target.</p><p>(define gear<br/>   (lambda (target range)<br/>      (letrec<br/>         ((loop (lambda (left right target range)<br/>                   (let ((mediant (middle left right)))<br/>                      (if (&lt;= (/ (max mediant target)<br/>                                 (min mediant target)) range)<br/>                         mediant<br/>                         (loop<br/>                            (if (&lt; mediant target) mediant left)<br/>                            (if (&gt; mediant target) mediant right)<br/>                            target<br/>                            range))))))<br/>         (if (or (&lt;= range 1) (&gt;= range target))<br/>            &apos;inpur<br/>            (loop<br/>               (inexact-&gt;exact (floor (/ target range)))<br/>               (inexact-&gt;exact (ceiling (* target range)))<br/>               target<br/>               range)))))</p></div><h3><a id=12507 href="#12507">ðŸ”—</a>Paul Erlich &#x3C;perlich@aya.yale.edu&#x3E;</h3><span>8/26/2005 1:10:09 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@l...&gt; wrote:</p><p>&gt; This has probably been discussed here before... I&apos;m looking<br/>&gt; for a method to find the rational with the lowest Tenney height<br/>&gt; within n cents of an irrational target.  My recollection is<br/>&gt; that Brun&apos;s algorithm does this, but that Gene said there<br/>&gt; are better ways...<br/>&gt;<br/>&gt; -Carl</p><p>Euclid&apos;s algorithm should get you there, because lowest Tenney height<br/>is the same as lowest denominator as long as you&apos;re focusing on a small<br/>enough neighborhood . . . I don&apos;t think there&apos;s a Brun algorithm for<br/>two-term ratios which is distinct from Euclid&apos;s algorithm.</p></div><h3><a id=12542 href="#12542">ðŸ”—</a>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>8/27/2005 12:38:29 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 01:10 PM 8/26/2005, you wrote:<br/>&gt;--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@l...&gt; wrote:<br/>&gt;&gt; This has probably been discussed here before... I&apos;m looking<br/>&gt;&gt; for a method to find the rational with the lowest Tenney height<br/>&gt;&gt; within n cents of an irrational target.  My recollection is<br/>&gt;&gt; that Brun&apos;s algorithm does this, but that Gene said there<br/>&gt;&gt; are better ways...<br/>&gt;&gt;<br/>&gt;&gt; -Carl<br/>&gt;<br/>&gt;Euclid&apos;s algorithm should get you there,</p><p>I know of this as a method for finding the gcd of two terms.<br/>How can it be used to do the above?</p><p>&gt;because lowest Tenney height is the same as lowest denominator<br/>&gt;as long as you&apos;re focusing on a small enough neighborhood . . .</p><p>How small would that have to be?</p><p>-Carl</p></div><h3><a id=12543 href="#12543">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>8/27/2005 3:55:01 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;ekin@l...&gt; wrote:<br/>&gt; At 01:10 PM 8/26/2005, you wrote:</p><p>&gt; &gt;Euclid&apos;s algorithm should get you there,<br/>&gt;<br/>&gt; I know of this as a method for finding the gcd of two terms.<br/>&gt; How can it be used to do the above?</p><p>Euclid&apos;s method is closely connected to continued fractions, and hence<br/>to convergents and semiconvergents.</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            