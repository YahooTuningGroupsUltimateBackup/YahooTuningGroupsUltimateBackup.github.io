<a href="/tuning-math">back to list</a><h1>algorithm sought</h1><h3><a id=2647 href="#2647">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 11:34:17 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>All;</p><p>I&apos;m looking for a way to generate all chords of a<br/>given card. in a given odd limit.  The tonality<br/>diamond is easy, but I want ASSs too.  According<br/>to Graham, there aren&apos;t that many, so I could just<br/>dope them in.  Naturally, this is unacceptable. :)<br/>Besides, while I trust Graham, I can&apos;t divine from<br/>his presentation a proof that his method catches<br/>all the ASSs, so to speak.</p><p>So far, I can think of no better method than brute<br/>force... building up the chords by 2nds, and removing<br/>those that break the odd-limit at each iteration.<br/>Can anyone do better?</p><p>-Carl</p></div><h3><a id=2648 href="#2648">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/14/2002 12:20:46 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; I&apos;m looking for a way to generate all chords of a<br/>&gt; given card. in a given odd limit.  The tonality<br/>&gt; diamond is easy, but I want ASSs too.  According<br/>&gt; to Graham, there aren&apos;t that many, so I could just<br/>&gt; dope them in.  Naturally, this is unacceptable. :)<br/>&gt; Besides, while I trust Graham, I can&apos;t divine from<br/>&gt; his presentation a proof that his method catches<br/>&gt; all the ASSs, so to speak.</p><p>Brute force sounds like a good way to be sure you are getting everything you want. Is the problem a limit on your computing power?</p></div><h3><a id=2649 href="#2649">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 12:40:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; I&apos;m looking for a way to generate all chords of a<br/>&gt;&gt; given card. in a given odd limit.  The tonality<br/>&gt;&gt; diamond is easy, but I want ASSs too.  According<br/>&gt;&gt; to Graham, there aren&apos;t that many, so I could just<br/>&gt;&gt; dope them in.  Naturally, this is unacceptable. :)<br/>&gt;&gt; Besides, while I trust Graham, I can&apos;t divine from<br/>&gt;&gt; his presentation a proof that his method catches<br/>&gt;&gt; all the ASSs, so to speak.<br/>&gt;<br/>&gt;Brute force sounds like a good way to be sure you are<br/>&gt;getting everything you want. Is the problem a limit on<br/>&gt;your computing power?</p><p>I don&apos;t have a scheme compiler, so, yes, it will be.<br/>At limit n, there are on the order of n^2 dyads, and<br/>at card k, there will be (n^2)^k untested chords, and<br/>the test will cost an average of (k^2)/2, or something.</p><p>-Carl</p></div><h3><a id=2658 href="#2658">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 3:07:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;I&apos;m looking for a way to generate all chords of a<br/>&gt;&gt;given card. in a given odd limit.  The tonality<br/>&gt;&gt;diamond is easy, but I want ASSs too.  According<br/>&gt;&gt;to Graham, there aren&apos;t that many, so I could just<br/>&gt;&gt;dope them in.  Naturally, this is unacceptable. :)<br/>&gt;&gt;Besides, while I trust Graham, I can&apos;t divine from<br/>&gt;&gt;his presentation a proof that his method catches<br/>&gt;&gt;all the ASSs, so to speak.<br/>&gt;<br/>&gt;Brute force sounds like a good way to be sure you<br/>&gt;are getting everything you want. Is the problem a<br/>&gt;limit on your computing power?</p><p>Anyway, Gene, what I was thinking... under the<br/>dyadic definition, all n-limit chords must be<br/>connected on the n-limit lattice, and must have<br/>a Hahn-diameter of 1.  See:</p><p><a href="http://library.wustl.edu/~manynote/music.html">http://library.wustl.edu/~manynote/music.html</a></p><p>There ought to be a geometric way to find these<br/>structures...</p><p>-Carl</p></div><h3><a id=2660 href="#2660">ðŸ”—</a>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>1/14/2002 3:52:10 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; Anyway, Gene, what I was thinking... under the<br/>&gt; dyadic definition, all n-limit chords must be<br/>&gt; connected on the n-limit lattice, and must have<br/>&gt; a Hahn-diameter of 1.  See:<br/>&gt;<br/>&gt; <a href="http://library.wustl.edu/~manynote/music.html">http://library.wustl.edu/~manynote/music.html</a><br/>&gt;<br/>&gt; There ought to be a geometric way to find these<br/>&gt; structures...</p><p>Does this have to work for temperaments or only rational scales?</p></div><h3><a id=2662 href="#2662">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 4:17:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Does this have to work for temperaments or only rational scales?</p><p>Paul H. applied it to temperaments, and scales.  I&apos;m using it<br/>to define n-limit chords (rational only).  Did I make a mistake?<br/>Part of the difficulty for me is, the smallest ASSs are 9-limit,<br/>and that requires more than 3 dimensions.</p><p>-Carl</p></div><h3><a id=2663 href="#2663">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 4:26:53 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Paul H. applied it to temperaments, and scales.  I&apos;m using it<br/>&gt; to define n-limit chords (rational only).  Did I make a mistake?</p><p>To put it another way: every note in the chord must be connected<br/>to every other note by exactly one lattice link.  In the brute-<br/>force method, the huge majority of chords will later fail the<br/>test.  Why not generate them directly by searching the lattice?<br/>There&apos;s got to be some graph theory somewhere that will do this.</p><p>-Carl</p></div><h3><a id=2664 href="#2664">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/14/2002 4:39:50 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; Paul H. applied it to temperaments, and scales.  I&apos;m using it<br/>&gt; to define n-limit chords (rational only).  Did I make a mistake?<br/>&gt; Part of the difficulty for me is, the smallest ASSs are 9-limit,<br/>&gt; and that requires more than 3 dimensions.</p><p>I would work in 3-dimensions for the 9-limit, and just make 3 half the size of 5 or 7. In other words,</p><p>||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)</p><p>would be the length of 3^a 5^b 7^c. Everything in a radius of 2 of anything will be consonant.</p></div><h3><a id=2665 href="#2665">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 4:53:19 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Paul H. applied it to temperaments, and scales.  I&apos;m using it<br/>&gt;&gt;to define n-limit chords (rational only).  Did I make a mistake?</p><p>Turns out _diameter_ is already graph-theory terminology, and it<br/>is the term we want.</p><p>I&apos;m afraid I didn&apos;t keep the URL for the source of:</p><p>&quot;Let G be a graph and v be a vertex of G. The eccentricity of the<br/>vertex v is the maximum distance from v to any vertex. That is,<br/>e(v)=max{d(v,w):w in V(G)}.&quot;</p><p>&quot;The diameter of G is the maximum eccentricity among the vertices<br/>of G. Thus, diameter(G)=max{e(v):v in V(G)}.&quot;</p><p>The &quot;radius&quot; of G is the minimum eccentricity.</p><p>-Carl</p></div><h3><a id=2669 href="#2669">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/14/2002 10:23:05 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Paul H. applied it to temperaments, and scales.  I&apos;m using it<br/>&gt;&gt;to define n-limit chords (rational only).  Did I make a mistake?<br/>&gt;&gt;Part of the difficulty for me is, the smallest ASSs are 9-limit,<br/>&gt;&gt;and that requires more than 3 dimensions.<br/>&gt;<br/>&gt;I would work in 3-dimensions for the 9-limit, and just make 3 half<br/>&gt;the size of 5 or 7. In other words,<br/>&gt;<br/>&gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt;<br/>&gt;would be the length of 3^a 5^b 7^c. Everything in a radius of 2 of<br/>&gt;anything will be consonant.</p><p>Thanks, Gene.  I _really_ can&apos;t visualize this, but perhaps it<br/>will provide a general method for finding the chords I seek.<br/>Would everything still hold if I used 4 dimensions and kept all<br/>edges the same length?  By gods, I can&apos;t figure out where you&apos;re<br/>getting the coefficients here.  And what are the double pipes?<br/>Not abs. -- there&apos;s a sqrt on the other side...  I confess I<br/>don&apos;t know the distance formula for triangular plots.  I could<br/>derrive it with trig. . . nope, it&apos;s a mess, &apos;cause there are many<br/>different triangles involved in the different diagonals.  So I<br/>guess I would use the standard Euclidean distance, but I need to<br/>know how to get delta(x) and delta(y) off a triagular lattice.</p><p>-Carl</p></div><h3><a id=2676 href="#2676">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/15/2002 4:34:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a20hs9+7sd3@eGroups.com">a20hs9+7sd3@eGroups.com</a>&gt;<br/>Gene:</p><p>&gt; &gt;I would work in 3-dimensions for the 9-limit, and just make 3 half<br/>&gt; &gt;the size of 5 or 7. In other words,<br/>&gt; &gt;<br/>&gt; &gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt; &gt;<br/>&gt; &gt;would be the length of 3^a 5^b 7^c. Everything in a radius of 2 of<br/>&gt; &gt;anything will be consonant.</p><p>Carl:<br/>&gt; Thanks, Gene.  I _really_ can&apos;t visualize this, but perhaps it<br/>&gt; will provide a general method for finding the chords I seek.<br/>&gt; Would everything still hold if I used 4 dimensions and kept all<br/>&gt; edges the same length?  By gods, I can&apos;t figure out where you&apos;re<br/>&gt; getting the coefficients here.  And what are the double pipes?<br/>&gt; Not abs. -- there&apos;s a sqrt on the other side...  I confess I<br/>&gt; don&apos;t know the distance formula for triangular plots.  I could<br/>&gt; derrive it with trig. . . nope, it&apos;s a mess, &apos;cause there are many<br/>&gt; different triangles involved in the different diagonals.  So I<br/>&gt; guess I would use the standard Euclidean distance, but I need to<br/>&gt; know how to get delta(x) and delta(y) off a triagular lattice.</p><p>The double pipes are simply for the Euclidean distance.  I think the<br/>triangular generalisation is like this:</p><p>Set the x axis to be constant.  The y axis is then the 5:4 direction.  To<br/>get distances, first convert to new axes</p><p>x&apos; = x + y cos(theta)<br/>y&apos; = y sin(theta)</p><p>where theta is the angle between the x and y axis, 90 degrees for a square<br/>lattice or 60 degrees for equilateral triangles.  The Euclidean distance<br/>is simply sqrt((x&apos;)**2 + (y&apos;)**2).</p><p>I did work out the general, multidimensional case, but I don&apos;t have the<br/>result to hand.  Probably, something like</p><p>x&apos; = x + y*cos(theta) + z*cos(theta)<br/>y&apos; = y*sin(theta) + z*cos(theta)<br/>z&apos; = z*sin(phi)</p><p>will work.  I don&apos;t know how to get from theta, the angle between axes, to<br/>phi, the angle between the z axis and the x-y plane.  Certainly not in<br/>general.</p><p>Oh, for the algorithm, trying all combinations of consonances above the<br/>tonic should work.  That&apos;ll be O(n**m) where m is the number of notes in<br/>the chord, but shouldn&apos;t be a problem for the kind of numbers we&apos;re<br/>talking about.  A more efficient way would be to use the general method<br/>for ASSes I give on the web page, but you said you don&apos;t trust that.</p><p>                       Graham</p></div><h3><a id=2679 href="#2679">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 9:51:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Graham,</p><p>&gt;The double pipes are simply for the Euclidean distance.</p><p>Thanks!</p><p>&gt;I think the triangular generalisation is like this:<br/>&gt;<br/>&gt;Set the x axis to be constant.  The y axis is then the 5:4<br/>&gt;direction.  To get distances, first convert to new axes<br/>&gt;<br/>&gt; x&apos; = x + y cos(theta)<br/>&gt; y&apos; = y sin(theta)<br/>&gt;<br/>&gt;where theta is the angle between the x and y axis, 90 degrees<br/>&gt;for a square lattice or 60 degrees for equilateral triangles.<br/>&gt;The Euclidean distance is simply sqrt((x&apos;)**2 + (y&apos;)**2).</p><p>Sweet!  I&apos;ll see if I can play with this in the coming week.</p><p>&gt;I did work out the general, multidimensional case, but I don&apos;t<br/>&gt;have the result to hand.  Probably, something like<br/>&gt;<br/>&gt; x&apos; = x + y*cos(theta) + z*cos(theta)<br/>&gt; y&apos; = y*sin(theta) + z*cos(theta)<br/>&gt; z&apos; = z*sin(phi)<br/>&gt;<br/>&gt;will work.  I don&apos;t know how to get from theta, the angle between<br/>&gt;axes, to phi, the angle between the z axis and the x-y plane.<br/>&gt;Certainly not in general.</p><p>Can&apos;t it always just be 60 degrees?  There is that point where<br/>this is no longer the closest packing -- that&apos;s bad I presume...<br/>Paul once posted something from Mathworld...</p><p>&quot;The analog of face-centered cubic packing is the densest lattice<br/>packing in 4- and 5-D. In 8-D, the densest lattice packing is made<br/>up of two copies of face-centered cubic. In 6- and 7-D, the densest<br/>lattice packings are cross sections of the 8-D case. In 24-D, the<br/>densest packing appears to be the Leech Lattice.&quot;</p><p>&gt;Oh, for the algorithm, trying all combinations of consonances<br/>&gt;above the tonic should work.  That&apos;ll be O(n**m) where m is the<br/>&gt;number of notes in the chord, but shouldn&apos;t be a problem for the<br/>&gt;kind of numbers we&apos;re talking about.</p><p>What&apos;s the double-star?  Combinations of notes or intervals?<br/>Notes gives you CPSs, and intervals don&apos;t get all the chords<br/>because some chords contain more than one instance of an<br/>interval.  Plus, order matters, at least for lists of 2nds,<br/>so we wind up with the procedure I described when complaining<br/>about my lack of a scheme compiler.</p><p>&gt;A more efficient way would be to use the general method for<br/>&gt;ASSes I give on the web page, but you said you don&apos;t trust that.</p><p>I trust it, but I don&apos;t understand it.  So I can&apos;t _really_<br/>trust it.</p><p>-Carl</p></div><h3><a id=2681 href="#2681">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 10:17:41 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Wait a minute.  Gene, what are you using to generate all the<br/>chords (magic and otherwise) in 31-tET, on the main list?</p><p>-Carl</p></div><h3><a id=2684 href="#2684">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 12:45:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; Can&apos;t it always just be 60 degrees?  There is that point where<br/>&gt; this is no longer the closest packing -- that&apos;s bad I presume...<br/>&gt; Paul once posted something from Mathworld...</p><p>That&apos;s exactly what I&apos;ve been talking about and presenting for the last few months!</p><p>For the 5-limit, it is</p><p>||3^a 5^b|| = sqrt(a^2 + ab + b^2)</p><p>For the 7-limit</p><p>||3^a 5^b 7^c|| = sqrt(a^2 + b^2 + c^2 + ab + ac + bc)</p><p>Beyond that we need to decide if 3 stays the same size as 5, 7, and 11, or is half as long.</p><p>&gt; &quot;The analog of face-centered cubic packing is the densest lattice<br/>&gt; packing in 4- and 5-D. In 8-D, the densest lattice packing is made<br/>&gt; up of two copies of face-centered cubic. In 6- and 7-D, the densest<br/>&gt; lattice packings are cross sections of the 8-D case. In 24-D, the<br/>&gt; densest packing appears to be the Leech Lattice.&quot;</p><p>Forget the densest packing, we want the packing corresponding to octave classes of intervals. There&apos;s a lot of great mathematics in the above if you ever get interested in pure math, though. :)</p></div><h3><a id=2686 href="#2686">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 12:56:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; Wait a minute.  Gene, what are you using to generate all the<br/>&gt; chords (magic and otherwise) in 31-tET, on the main list?</p><p>Pute brute force, using a routine which steps through all the partions of 31 and tests them. In the case of 72, there are five million or so and I will probably need to do something different if I do it.</p></div><h3><a id=2687 href="#2687">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 1:09:18 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Wait a minute.  Gene, what are you using to generate all the<br/>&gt;&gt;chords (magic and otherwise) in 31-tET, on the main list?<br/>&gt;<br/>&gt;Pute brute force, using a routine which steps through all the<br/>&gt;partions of 31 and tests them. In the case of 72, there are<br/>&gt;five million or so and I will probably need to do something<br/>&gt;different if I do it.</p><p>Sorry to cross-list things here, but I assume you get magic<br/>chords just because you define the edges in degrees of the<br/>tempered system in the beginning... leaving you no easy way<br/>to get only the magic chords at the end.  The posts have<br/>been great, but it&apos;s a lot of work to figure out which ones<br/>are magic, even with the ratios.</p><p>On finding all the non-magic chords, Graham has a point.<br/>Looking at all the &quot;faces&quot; of the Euler genus has potential.<br/>Actually, I fully expect Dave Keenan to just pull something<br/>out of his hat here.  How&apos;s it going Dave!  Back from your<br/>trip to the coast (was it?).  How was it!  I&apos;m glad you seem<br/>to be able to balance your list involvement lately.  Looks<br/>like I&apos;ve slipped back in to total addiction, for the time<br/>being.</p><p>-Carl</p></div><h3><a id=2691 href="#2691">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 1:35:21 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Paul H. applied it to temperaments, and scales.  I&apos;m using it<br/>&gt; &gt; to define n-limit chords (rational only).  Did I make a mistake?<br/>&gt; &gt; Part of the difficulty for me is, the smallest ASSs are 9-limit,<br/>&gt; &gt; and that requires more than 3 dimensions.<br/>&gt;<br/>&gt; I would work in 3-dimensions for the 9-limit, and just make 3 half<br/>the size of 5 or 7. In other words,<br/>&gt;<br/>&gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt;<br/>&gt; would be the length of 3^a 5^b 7^c. Everything in a radius of 2 of<br/>&gt; anything will be consonant.</p><p>What happens to 9:5 and 9:7?</p></div><h3><a id=2692 href="#2692">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 1:40:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Can&apos;t it always just be 60 degrees?  There is that point where<br/>&gt;&gt;this is no longer the closest packing -- that&apos;s bad I presume...<br/>&gt;&gt;Paul once posted something from Mathworld...<br/>&gt;<br/>&gt;That&apos;s exactly what I&apos;ve been talking about and presenting for<br/>&gt;the last few months!</p><p>Wow, sorry I&apos;ve been so dense.  There&apos;s a big hole in my algebra<br/>where polynomials of degree &gt;2 should be.  I was amazed in 10th<br/>grade when my questions about cubic and higher polynomials were<br/>explicitly dismissed, and I haven&apos;t had algebra since.</p><p>&gt;For the 5-limit, it is<br/>&gt;<br/>&gt; ||3^a 5^b|| = sqrt(a^2 + ab + b^2)<br/>&gt;<br/>&gt; For the 7-limit<br/>&gt;<br/>&gt; ||3^a 5^b 7^c|| = sqrt(a^2 + b^2 + c^2 + ab + ac + bc)</p><p>Is there a post where the derivation for this is given?</p><p>&gt;Beyond that we need to decide if 3 stays the same size as 5, 7,<br/>&gt;and 11, or is half as long.</p><p>You can expect me to become completely confused when dealing<br/>with prime limits.  I&apos;ve spent all my time thinking in odd-limits,<br/>and frankly I think all the stuff having to do with music supports<br/>this.  Why bother with different lengths -- unless you&apos;re trying<br/>to weight for consonance, which is a different matter?  It is true<br/>that log(n) lengths unifies the taxicab metric for odd- and prime-<br/>limits.  I understand that.  But I still want to visualize my<br/>9-edges apart from my 3-edges.  Musically, I don&apos;t care if the<br/>polynomials are easier to factor with prime coefficients.  I want<br/>the option of keeping my lengths unweighted, and thinking in the<br/>9-limit.  Can your distance stuff be adapted to odd limits?</p><p>&gt;Forget the densest packing, we want the packing corresponding to<br/>&gt;octave classes of intervals.</p><p>What does this mean?</p><p>-Carl</p></div><h3><a id=2698 href="#2698">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 1:57:29 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; &gt;For the 5-limit, it is<br/>&gt; &gt;<br/>&gt; &gt; ||3^a 5^b|| = sqrt(a^2 + ab + b^2)<br/>&gt; &gt;<br/>&gt; &gt; For the 7-limit<br/>&gt; &gt;<br/>&gt; &gt; ||3^a 5^b 7^c|| = sqrt(a^2 + b^2 + c^2 + ab + ac + bc)<br/>&gt;<br/>&gt; Is there a post where the derivation for this is given?<br/>&gt;<br/>&gt; &gt;Beyond that we need to decide if 3 stays the same size as 5, 7,<br/>&gt; &gt;and 11, or is half as long.<br/>&gt;<br/>&gt; You can expect me to become completely confused when dealing<br/>&gt; with prime limits.</p><p>Gene is talking about odd limits, just as we are. He&apos;s just<br/>attempting to capture them in a Euclidean lattice with prime axes.<br/>I&apos;m concerned that this won&apos;t always work -- Gene, perhaps you could<br/>post the implied lengths for</p><p>1:3<br/>1:5<br/>3:5<br/>1:7<br/>3:7<br/>5:7<br/>1:9<br/>5:9<br/>7:9<br/>1:11<br/>3:11<br/>5:11<br/>7:11<br/>9:11</p><p>etc. (up to whatever odd limit you could see yourself being<br/>interested in).</p></div><h3><a id=2704 href="#2704">ðŸ”—</a>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>1/15/2002 3:06:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; On finding all the non-magic chords, Graham has a point.<br/>&gt; Looking at all the &quot;faces&quot; of the Euler genus has potential.<br/>&gt; Actually, I fully expect Dave Keenan to just pull something<br/>&gt; out of his hat here.</p><p>Sorry, nothing in my hat but bird poop.</p><p>&gt; How&apos;s it going Dave!  Back from your<br/>&gt; trip to the coast (was it?).  How was it!</p><p>It was a coral cay on the Great Barrier Reef. Human population 40,<br/>bird population 40,000.</p><p>&gt; I&apos;m glad you seem<br/>&gt; to be able to balance your list involvement lately.  Looks<br/>&gt; like I&apos;ve slipped back in to total addiction, for the time<br/>&gt; being.</p><p>Thanks for the encouragment. Just say no. ;-)</p></div><h3><a id=2706 href="#2706">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 3:37:47 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dave, perhaps you can help with this Kees lattice business. It&apos;s pure<br/>math, but Gene appears to have no interest in it. It seems to me that<br/>we should be able, based on Kees&apos;s lattice with a &apos;taxicab&apos; metric,<br/>be able to define an error function so that the optimal temperament<br/>according to that error function, which tempers out the small<br/>interval n:d, should have an error proportional to</p><p>|n-d|/(d*log(d))</p><p>I&apos;ve shown that our usual RMS error function works for this within<br/>about a factor of 2, based on ten examples with an extremely wide<br/>range of n and d values. But we should be able to do much better.</p><p>Also, a &apos;complexity&apos; measure similar to the &apos;gens&apos; ones we&apos;ve been<br/>using, but defined appropriately, should turn out to be proportional<br/>to</p><p>log(d)</p><p>I&apos;ve shown that our usual RMS &apos;gens&apos; measure works for this within<br/>about a factor of 2, based on the same ten examples. But we should be<br/>able to do much better.</p></div><h3><a id=2708 href="#2708">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 3:56:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; &gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt; &gt;<br/>&gt; &gt; would be the length of 3^a 5^b 7^c. Everything in a radius of 2 of<br/>&gt; &gt; anything will be consonant.</p><p>&gt; What happens to 9:5 and 9:7?</p><p>||9/5|| = ||3^2 5^(-)|| = sqrt(4+4+0-4+0+0) = 2</p><p>||9/7|| = ||3^2 7^(-1)|| = sqrt(4+0+4+0-4+0) = 2</p><p>Hence both 9/5 and 9/7 are consonant with 1.</p></div><h3><a id=2709 href="#2709">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 4:11:26 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; &gt; &gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt; &gt; &gt;<br/>&gt; &gt; &gt; would be the length of 3^a 5^b 7^c. Everything in a radius of 2<br/>of<br/>&gt; &gt; &gt; anything will be consonant.<br/>&gt;<br/>&gt; &gt; What happens to 9:5 and 9:7?<br/>&gt;<br/>&gt; ||9/5|| = ||3^2 5^(-)|| = sqrt(4+4+0-4+0+0) = 2<br/>&gt;<br/>&gt; ||9/7|| = ||3^2 7^(-1)|| = sqrt(4+0+4+0-4+0) = 2<br/>&gt;<br/>&gt; Hence both 9/5 and 9/7 are consonant with 1.</p><p>I&apos;m very impressed, Gene! And there&apos;s a Euclidean model for this?<br/>Will it break down in, say, the 15-limit?</p></div><h3><a id=2710 href="#2710">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 4:12:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;would be the length of 3^a 5^b 7^c. Everything in a radius of 2<br/>&gt;&gt;&gt;of anything will be consonant.<br/>&gt;&gt;<br/>&gt;&gt;What happens to 9:5 and 9:7?<br/>&gt;<br/>&gt; ||9/5|| = ||3^2 5^(-)|| = sqrt(4+4+0-4+0+0) = 2<br/>&gt;<br/>&gt; ||9/7|| = ||3^2 7^(-1)|| = sqrt(4+0+4+0-4+0) = 2<br/>&gt;<br/>&gt;Hence both 9/5 and 9/7 are consonant with 1.</p><p>But they should have the same distance from 1 as 3/2,<br/>or any other tonality-diamond pitch, no?</p><p>-Carl</p></div><h3><a id=2713 href="#2713">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 4:59:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; &gt;&gt;&gt; ||3^a 5^b 7^c|| = sqrt(a^2 + 4b^2 + 4c^2 + 2ab + 2ac + 4bc)<br/>&gt; &gt;&gt;&gt;<br/>&gt; &gt;&gt;&gt;would be the length of 3^a 5^b 7^c. Everything in a radius of 2<br/>&gt; &gt;&gt;&gt;of anything will be consonant.<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt;What happens to 9:5 and 9:7?<br/>&gt; &gt;<br/>&gt; &gt; ||9/5|| = ||3^2 5^(-)|| = sqrt(4+4+0-4+0+0) = 2<br/>&gt; &gt;<br/>&gt; &gt; ||9/7|| = ||3^2 7^(-1)|| = sqrt(4+0+4+0-4+0) = 2<br/>&gt; &gt;<br/>&gt; &gt;Hence both 9/5 and 9/7 are consonant with 1.<br/>&gt;<br/>&gt; But they should have the same distance from 1 as 3/2,<br/>&gt; or any other tonality-diamond pitch, no?</p><p>Why? Certainly if we were picky about it, we&apos;d want a precise length<br/>to be associated with each interval, and whether these are equal or<br/>un-equal, we&apos;d almost certainly be in non-Euclidean space pretty<br/>fast. But Gene has simply found a handy mathematical formula for<br/>asking the binary question &quot;is a certain interval o-limit consonant&quot; -<br/>- that was the context in which he brought this up.</p><p>&gt;<br/>&gt; -Carl</p></div><h3><a id=2716 href="#2716">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 5:50:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; I&apos;m concerned that this won&apos;t always work -- Gene, perhaps you could<br/>&gt; post the implied lengths for</p><p>As I said, you need to decide for anything above the 7-limit what to do about prime powers.</p><p>Here are 7-limit lengths:</p><p>&gt; 1:3<br/>&gt; 1:5<br/>&gt; 3:5<br/>&gt; 1:7<br/>&gt; 3:7<br/>&gt; 5:7</p><p>All one.</p><p>Now let us suppose ||3||=1 and ||5||=||7||=||9||=||11||=2, then</p><p>&gt; 1:9<br/>&gt; 5:9<br/>&gt; 7:9<br/>&gt; 1:11</p><p>All 2.</p><p>&gt; 3:11</p><p>sqrt(3)</p><p>&gt; 5:11<br/>&gt; 7:11<br/>&gt; 9:11</p><p>All 2.</p></div><h3><a id=2717 href="#2717">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 6:06:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; I&apos;m very impressed, Gene! And there&apos;s a Euclidean model for this?</p><p>This is based on a positive-definite quadratic form, so it *is* a Euclidean model.</p><p>&gt; Will it break down in, say, the 15-limit?</p><p>Let o be an odd limit, and suppose q_i are the largest odd prime powers for each prime &lt;= o. We may write any &quot;2-unit&quot; rational number (meaning one with odd numerator and denominator) uniquely in the form</p><p>r = q_1^e_1 ... q_k^e_k.</p><p>Then if we define a quadratic form on the exponents by</p><p>A(r) = \sum_{i &lt;= j} e_i e_j</p><p>we have</p><p>A(q_i) = 1,</p><p>A(q_i/q_j) = 1</p><p>Since the number of coefficients of A is k choose 2, this defines A uniquely.</p><p>We then can define the canonical o-limit length of any 2-unit rational number, and therefore of any octave equivalence class, by</p><p>||r|| = sqrt(A(r))</p><p>Since A is positive definite (it is in fact a well-known such form in mathematics) it defines a Euclidean distance.</p><p>If we like, we may adjust matters by multiplying through by the lcm of the exponents of the largest prime powers, so as to be able to work with integers.</p><p>This sort of thing is what I meant when I said I came upon hexanies and the like geometrically. This metric is useful partly because two octave equivalence classes separated by a distance of one or less are o-consonant, and by a distance of greater than one are o-dissonant.</p></div><h3><a id=2718 href="#2718">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 6:22:10 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;&gt;What happens to 9:5 and 9:7?<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; ||9/5|| = ||3^2 5^(-)|| = sqrt(4+4+0-4+0+0) = 2<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; ||9/7|| = ||3^2 7^(-1)|| = sqrt(4+0+4+0-4+0) = 2<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;Hence both 9/5 and 9/7 are consonant with 1.<br/>&gt;&gt;<br/>&gt;&gt;But they should have the same distance from 1 as 3/2,<br/>&gt;&gt;or any other tonality-diamond pitch, no?<br/>&gt;<br/>&gt;Why? Certainly if we were picky about it, we&apos;d want a precise<br/>&gt;length to be associated with each interval, and whether these are<br/>&gt;equal or un-equal, we&apos;d almost certainly be in non-Euclidean space<br/>&gt;pretty fast. But Gene has simply found a handy mathematical<br/>&gt;formula for asking the binary question &quot;is a certain interval<br/>&gt;o-limit consonant&quot; - that was the context in which he brought this<br/>&gt;up.</p><p>Okay, I guess I was just thinking too taxicab-ish.  But I&apos;m a<br/>long way from understanding this stuff.  What can it do that<br/>a taxicab metric can&apos;t?</p><p>-Carl</p></div><h3><a id=2719 href="#2719">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 7:21:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; &gt;&gt;&gt;Hence both 9/5 and 9/7 are consonant with 1.<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt;But they should have the same distance from 1 as 3/2,<br/>&gt; &gt;&gt;or any other tonality-diamond pitch, no?</p><p>In fact, ||3/2|| = 1, not 2.</p><p>&gt; &gt;Why? Certainly if we were picky about it, we&apos;d want a precise<br/>&gt; &gt;length to be associated with each interval, and whether these are<br/>&gt; &gt;equal or un-equal, we&apos;d almost certainly be in non-Euclidean space<br/>&gt; &gt;pretty fast.</p><p>No, everthing gets a length and it is all Euclidean.</p><p>&gt; Okay, I guess I was just thinking too taxicab-ish.  But I&apos;m a<br/>&gt; long way from understanding this stuff.  What can it do that<br/>&gt; a taxicab metric can&apos;t?</p><p>It&apos;s not trying to be a consonance measure; what it does is the same kind of stuff as the lattice diagrams with triangles and tetrahedra and what not. These are called the &quot;root lattices&quot; A2 and A3, and have corresponding bilinear forms or &quot;Gram matrices&quot;; it can be generalized to An but then we need to decide what to do about the prime power problem. My o-limit quadratic forms correspond to lattices which are unions of translates of An.</p><p>By taking things a certain fixed distance from points, we get various kinds of things such as diamonds, hexanies and so forth; I was starting to explain this once but got the impression people understood it in their own way. One nice thing about the lattice point of view is that these things can be enumerated via theta functions, which may be worth explaining. This is all also connected to the transformation groups Robert and I were playing with.</p></div><h3><a id=2722 href="#2722">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2002 9:16:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;But they should have the same distance from 1 as 3/2,<br/>&gt;&gt;or any other tonality-diamond pitch, no?<br/>&gt;<br/>&gt; In fact, ||3/2|| = 1, not 2.</p><p>This was my objection.</p><p>&gt;&gt;Why? Certainly if we were picky about it, we&apos;d want a precise<br/>&gt;&gt;length to be associated with each interval, and whether these<br/>&gt;&gt;are equal or un-equal, we&apos;d almost certainly be in non-Euclidean<br/>&gt;&gt;space pretty fast.<br/>&gt;<br/>&gt; No, everthing gets a length and it is all Euclidean.</p><p>I wouldn&apos;t think we&apos;d need to break any of the the Euclidean<br/>axioms, either way.  If you define anything &gt; 3-D non-Euclidean,<br/>then...</p><p>&gt;&gt;Okay, I guess I was just thinking too taxicab-ish.  But I&apos;m a<br/>&gt;&gt;long way from understanding this stuff.  What can it do that<br/>&gt;&gt;a taxicab metric can&apos;t?<br/>&gt;<br/>&gt;It&apos;s not trying to be a consonance measure; what it does is the<br/>&gt;same kind of stuff as the lattice diagrams with triangles and<br/>&gt;tetrahedra and what not. These are called the &quot;root lattices&quot; A2<br/>&gt;and A3, and have corresponding bilinear forms or &quot;Gram matrices&quot;;<br/>&gt;it can be generalized to An but then we need to decide what to do<br/>&gt;about the prime power problem. My o-limit quadratic forms<br/>&gt;correspond to lattices which are unions of translates of An.</p><p>What&apos;s the problem?</p><p>&gt;By taking things a certain fixed distance from points, we get<br/>&gt;various kinds of things such as diamonds, hexanies and so forth;<br/>&gt;I was starting to explain this once but got the impression people<br/>&gt;understood it in their own way. One nice thing about the lattice<br/>&gt;point of view is that these things can be enumerated via theta<br/>&gt;functions, which may be worth explaining. This is all also<br/>&gt;connected to the transformation groups Robert and I were playing<br/>&gt;with.</p><p>For radius r, what determines what you get?  Wether you start on<br/>a vertex or not, etc.?  I believe your stuff works, but I&apos;m not<br/>clear on how to use it to turn out what I want.</p><p>-Carl</p></div><h3><a id=2724 href="#2724">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/15/2002 11:16:41 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; I wouldn&apos;t think we&apos;d need to break any of the the Euclidean<br/>&gt; axioms, either way.  If you define anything &gt; 3-D non-Euclidean,<br/>&gt; then...</p><p>Please don&apos;t do that! &quot;Euclidean&quot; means, more or less, affine R^n with inner product--it has R^n as a vector space as a model.</p><p>&gt; What&apos;s the problem?</p><p>Is 9 the same length as 7, or twice as long?</p><p>&gt; For radius r, what determines what you get?  Wether you start on<br/>&gt; a vertex or not, etc.?</p><p>Right--it&apos;s what the center is--a vertex, a face, and edge, a &quot;deep hole&quot; center such as the center of the octahedron, or what have you.</p></div><h3><a id=2727 href="#2727">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/16/2002 4:54:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a21q6u+hlkj@eGroups.com">a21q6u+hlkj@eGroups.com</a>&gt;<br/>Me:<br/>&gt; &gt;I did work out the general, multidimensional case, but I don&apos;t<br/>&gt; &gt;have the result to hand.  Probably, something like<br/>&gt; &gt;<br/>&gt; &gt; x&apos; = x + y*cos(theta) + z*cos(theta)<br/>&gt; &gt; y&apos; = y*sin(theta) + z*cos(theta)<br/>&gt; &gt; z&apos; = z*sin(phi)<br/>&gt; &gt;<br/>&gt; &gt;will work.  I don&apos;t know how to get from theta, the angle between<br/>&gt; &gt;axes, to phi, the angle between the z axis and the x-y plane.<br/>&gt; &gt;Certainly not in general.</p><p>Carl:<br/>&gt; Can&apos;t it always just be 60 degrees?  There is that point where<br/>&gt; this is no longer the closest packing -- that&apos;s bad I presume...<br/>&gt; Paul once posted something from Mathworld...</p><p>That&apos;s what Gene seems to have done, so go with that.  I was thinking of<br/>the general case with a free parameter that can be set to give either<br/>triangular or rectangular lattice, or anything in between.</p><p>Me:<br/>&gt; &gt;Oh, for the algorithm, trying all combinations of consonances<br/>&gt; &gt;above the tonic should work.  That&apos;ll be O(n**m) where m is the<br/>&gt; &gt;number of notes in the chord, but shouldn&apos;t be a problem for the<br/>&gt; &gt;kind of numbers we&apos;re talking about.</p><p>Carl:<br/>&gt; What&apos;s the double-star?  Combinations of notes or intervals?<br/>&gt; Notes gives you CPSs, and intervals don&apos;t get all the chords<br/>&gt; because some chords contain more than one instance of an<br/>&gt; interval.  Plus, order matters, at least for lists of 2nds,<br/>&gt; so we wind up with the procedure I described when complaining<br/>&gt; about my lack of a scheme compiler.</p><p>** is Fortran for exponentiation.  Actually, that formula&apos;s wrong, but<br/>probably isn&apos;t important anyway.  The number of consonances is more<br/>significant than the number of notes in the chords.</p><p>I&apos;m guessing notes (that is, intervals relative to the 1/1) will give a<br/>more manageable calculation.  That also means it is the usual combinations<br/>algorithm, which I posted before in Python, and should be easier in<br/>Scheme.</p><p>Example: 5-limit</p><p>Consonances are 1/1, 5/4, 6/5, 4/3, 3/2, 8/5, 5/3.  1/1 is redundant, so<br/>take all pairs of the others.</p><p>1/1 5/4 6/5 contains an interval of 25:24, so throw it out.</p><p>1/1 5/4 4/3 contains an interval of 16:15, so throw it out.</p><p>1/1 5/4 3/2 is consonant</p><p>1/1 5/4 8/5 contains, what, 32:25?  So throw that out.</p><p>1/1 5/4 5/3 is consonant</p><p>1/1 6/5 4/3 contains an interval of 10:9, so throw it out.</p><p>and so on.</p><p>The consonance checking is also a combinations problem: take each pair of<br/>notes.  You can also exclude the 1/1, because everything&apos;s consonant<br/>relative to that, so we&apos;re only choosing 1 from 1 in the 5-limit.</p><p>These calculations are laborious to do by hand, but shouldn&apos;t be a problem<br/>for a computer.</p><p>                Graham</p></div><h3><a id=2729 href="#2729">ðŸ”—</a>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>1/16/2002 7:27:22 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; Dave, perhaps you can help with this Kees lattice business. It&apos;s<br/>pure<br/>&gt; math, but Gene appears to have no interest in it. It seems to me<br/>that<br/>&gt; we should be able, based on Kees&apos;s lattice with a &apos;taxicab&apos; metric,<br/>&gt; be able to define an error function so that<br/>...</p><p>Sorry. No time. But here&apos;s how I&apos;d approach it. Set up a spreadsheet<br/>with the ten examples in 10 rows. Columns would be n and d of ratio to<br/>be tempered out, and for each (octave-equivalent) interval the error<br/>in cents and the number of generators required, then the errror and<br/>gens functions of n and d that you propose. Then I&apos;d try a weighted<br/>rms error and a weighted rms gens where the weights can be changed for<br/>each interval (indep. wts for err and gens). I&apos;d calculate the<br/>least-squares difference between the weighted rms results and your<br/>proposed functions of n and d. Then I&apos;d fool around with the error<br/>weights to minimise the error in the errors and fool around with the<br/>gens weights to minimise the error in the gens. I hope this makes<br/>sense.</p></div><h3><a id=2734 href="#2734">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/16/2002 11:39:50 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Carl:<br/>&gt;&gt; Can&apos;t it always just be 60 degrees?  There is that point where<br/>&gt;&gt; this is no longer the closest packing -- that&apos;s bad I presume...<br/>&gt;&gt; Paul once posted something from Mathworld...<br/>&gt;<br/>&gt;That&apos;s what Gene seems to have done, so go with that.  I was<br/>&gt;thinking of the general case with a free parameter that can be<br/>&gt;set to give either triangular or rectangular lattice, or anything<br/>&gt;in between.</p><p>Okay.  Thanks for the follow-up.</p><p>&gt;I&apos;m guessing notes (that is, intervals relative to the 1/1) will<br/>&gt;give a more manageable calculation.</p><p>...than intervals.  You&apos;re probably right.  It seems to get around<br/>the problem of having more than one instance of the same thing,<br/>turing n^2 into n!.  But for my ultimate purpose, I&apos;ll need to<br/>consider all inversions if I use notes, which I think turns it<br/>back into n^2.</p><p>&gt;That also means it is the usual combinations algorithm, which I<br/>&gt;posted before in Python, and should be easier in Scheme.</p><p>I didn&apos;t see your python post, but here&apos;s the scheme:</p><p>(define combo<br/>  (lambda (k ls)<br/>     (if (zero? k)<br/>        (list (list))<br/>        (if (null? ls)<br/>           (list)<br/>           (append (combo k (cdr ls))<br/>              (map (lambda (y) (cons (car ls) y))<br/>                 (combo (sub1 k) (cdr ls))))))))</p><p>You can&apos;t count lines of code in scheme like you can in<br/>a block-structured imperitive language.  And comparing<br/>expressions -- () pairs -- to # of lines isn&apos;t fair.  Frankly,<br/>I don&apos;t no how they measure algorithms in scheme, but I&apos;ll<br/>bet egg&apos;s benedict you can&apos;t get more compact than this,<br/>considering this exposes some of the actual operations on<br/>the UTM tape (car and cdr).</p><p>&gt;The consonance checking is also a combinations problem: take each<br/>&gt;pair of notes.  You can also exclude the 1/1, because everything&apos;s<br/>&gt;consonant relative to that, so we&apos;re only choosing 1 from 1 in<br/>&gt;the 5-limit.<br/>&gt;<br/>&gt;These calculations are laborious to do by hand, but shouldn&apos;t be<br/>&gt;a problem for a computer.</p><p>Without a compiler, I think any of these brute-force methods<br/>are all off limits, so to speak.  Scheme compilers are all mucho<br/>bucks, industrial (though Chez hints at plans to release a<br/>consumer version within the year!), except ones that &quot;compile&quot;<br/>to C, which I&apos;ve never been able to get to work.  Anyhow, it&apos;s<br/>high time I learned another language.</p><p>In the mean time, I&apos;m convinced there&apos;s a better way than<br/>brute force.  Gene may have found one...</p><p>-Carl</p></div><h3><a id=2735 href="#2735">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/16/2002 12:02:06 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;What&apos;s the problem?<br/>&gt;<br/>&gt;Is 9 the same length as 7, or twice as long?</p><p>I suppose I should plug these choices in, and see how the results<br/>differ... having a hard time seeing how there could be uncertainty.<br/>Either a given r exists that encloses all consonances and excludes<br/>everything else, or not.</p><p>&gt;&gt;For radius r, what determines what you get?  Wether you start on<br/>&gt;&gt;a vertex or not, etc.?<br/>&gt;<br/>&gt;Right--it&apos;s what the center is--a vertex, a face, and edge, a<br/>&gt;&quot;deep hole&quot; center such as the center of the octahedron, or what<br/>&gt;have you.</p><p>Okay, so now all we need are rules that tell us what we get<br/>for a given r and origin pair.</p><p>I don&apos;t suppose there&apos;s any hope of getting subsets directly<br/>from this method?</p><p>-Carl</p></div><h3><a id=2736 href="#2736">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/16/2002 12:12:28 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>What is supposed to be the point of the space-removal<br/>thing?  I can&apos;t fathom it.  And &quot;view unformatted message&quot;<br/>does nothing (my eyes, the goggles do nothing!).</p><p>Needless to say, my beautiful indenting was destroyed.</p><p>&gt; I didn&apos;t see your python post, but here&apos;s the scheme:<br/>&gt;<br/>&gt; (define combo<br/>&gt;   (lambda (k ls)<br/>&gt;      (if (zero? k)<br/>&gt;         (list (list))<br/>&gt;         (if (null? ls)<br/>&gt;            (list)<br/>&gt;            (append (combo k (cdr ls))<br/>&gt;               (map (lambda (y) (cons (car ls) y))<br/>&gt;                  (combo (sub1 k) (cdr ls))))))))</p><p>-C.</p></div><h3><a id=2738 href="#2738">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/16/2002 1:36:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; &gt;&gt;What&apos;s the problem?<br/>&gt; &gt;<br/>&gt; &gt;Is 9 the same length as 7, or twice as long?<br/>&gt;<br/>&gt; I suppose I should plug these choices in, and see how the results<br/>&gt; differ... having a hard time seeing how there could be uncertainty.<br/>&gt; Either a given r exists that encloses all consonances and excludes<br/>&gt; everything else, or not.</p><p>If you want the 9-limit, 9 is the same length as 7. If you want the<br/>7-limit, 9 is twice as long.</p><p>&gt; Okay, so now all we need are rules that tell us what we get<br/>&gt; for a given r and origin pair.<br/>&gt;<br/>&gt; I don&apos;t suppose there&apos;s any hope of getting subsets directly<br/>&gt; from this method?</p><p>I&apos;ll put it on my list of things to think about. I&apos;m afraid I haven&apos;t really given the problem any thought, partly because at the moment I&apos;m more interested in tempered versions of it.</p></div><h3><a id=2739 href="#2739">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/16/2002 1:50:26 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;Is 9 the same length as 7, or twice as long?<br/>&gt;&gt;<br/>&gt;&gt;I suppose I should plug these choices in, and see how the results<br/>&gt;&gt;differ... having a hard time seeing how there could be uncertainty.<br/>&gt;&gt;Either a given r exists that encloses all consonances and excludes<br/>&gt;&gt;everything else, or not.<br/>&gt;<br/>&gt;If you want the 9-limit, 9 is the same length as 7. If you want the<br/>&gt;7-limit, 9 is twice as long.</p><p>So, problem solved.  n is a fair variable.</p><p>&gt;&gt;Okay, so now all we need are rules that tell us what we get<br/>&gt;&gt;for a given r and origin pair.<br/>&gt;&gt;<br/>&gt;&gt;I don&apos;t suppose there&apos;s any hope of getting subsets directly<br/>&gt;&gt;from this method?<br/>&gt;<br/>&gt;I&apos;ll put it on my list of things to think about. I&apos;m afraid I<br/>&gt;haven&apos;t really given the problem any thought, partly because<br/>&gt;at the moment I&apos;m more interested in tempered versions of it.</p><p>Cool!  One thing it will allow us to do is subtract out the<br/>natural JI chords and leave only magic chords in your lists<br/>on the main list.</p><p>-Carl</p></div><h3><a id=2740 href="#2740">ðŸ”—</a>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>1/16/2002 2:07:40 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; What is supposed to be the point of the space-removal<br/>&gt; thing?  I can&apos;t fathom it.  And &quot;view unformatted message&quot;<br/>&gt; does nothing (my eyes, the goggles do nothing!).</p><p>I think Yahoo screwed up and forgot to put &lt;/PRE&gt; around<br/>everything. The workaround is, when formatting matters, tell your<br/>readers, if they are viewing it on the web they need to click Message<br/>Index then Expand Messages.</p></div><h3><a id=2741 href="#2741">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/16/2002 3:19:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;dkeenanuqnetau&quot; &lt;d.keenan@u...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; &gt; Dave, perhaps you can help with this Kees lattice business. It&apos;s<br/>&gt; pure<br/>&gt; &gt; math, but Gene appears to have no interest in it. It seems to me<br/>&gt; that<br/>&gt; &gt; we should be able, based on Kees&apos;s lattice with a &apos;taxicab&apos;<br/>metric,<br/>&gt; &gt; be able to define an error function so that<br/>&gt; ...<br/>&gt;<br/>&gt; Sorry. No time. But here&apos;s how I&apos;d approach it. Set up a<br/>spreadsheet<br/>&gt; with the ten examples in 10 rows. Columns would be n and d of ratio<br/>to<br/>&gt; be tempered out, and for each (octave-equivalent) interval the<br/>error<br/>&gt; in cents and the number of generators required, then the errror and<br/>&gt; gens functions of n and d that you propose. Then I&apos;d try a weighted<br/>&gt; rms error and a weighted rms gens where the weights can be changed<br/>for<br/>&gt; each interval (indep. wts for err and gens). I&apos;d calculate the<br/>&gt; least-squares difference between the weighted rms results and your<br/>&gt; proposed functions of n and d. Then I&apos;d fool around with the error<br/>&gt; weights to minimise the error in the errors and fool around with<br/>the<br/>&gt; gens weights to minimise the error in the gens. I hope this makes<br/>&gt; sense.</p><p>Thanks, but I don&apos;t think RMS will work. That implies a Euclidean<br/>metric, but a &quot;taxicab&quot; metric seems to be what we want here.</p></div><h3><a id=2744 href="#2744">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/16/2002 3:51:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; &gt; I&apos;m concerned that this won&apos;t always work -- Gene, perhaps you<br/>could<br/>&gt; &gt; post the implied lengths for<br/>&gt;<br/>&gt; As I said, you need to decide for anything above the 7-limit what<br/>to do about prime powers.<br/>&gt;<br/>&gt; Here are 7-limit lengths:<br/>&gt;<br/>&gt; &gt; 1:3<br/>&gt; &gt; 1:5<br/>&gt; &gt; 3:5<br/>&gt; &gt; 1:7<br/>&gt; &gt; 3:7<br/>&gt; &gt; 5:7<br/>&gt;<br/>&gt; All one.<br/>&gt;<br/>&gt; Now let us suppose ||3||=1 and ||5||=||7||=||9||=||11||=2, then<br/>&gt;<br/>&gt; &gt; 1:9<br/>&gt; &gt; 5:9<br/>&gt; &gt; 7:9<br/>&gt; &gt; 1:11<br/>&gt;<br/>&gt; All 2.<br/>&gt;<br/>&gt; &gt; 3:11<br/>&gt;<br/>&gt; sqrt(3)<br/>&gt;<br/>&gt; &gt; 5:11<br/>&gt; &gt; 7:11<br/>&gt; &gt; 9:11<br/>&gt;<br/>&gt; All 2.</p><p>How about 1:15? What is the shortest &quot;dissonant&quot; interval?</p></div><h3><a id=2746 href="#2746">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/16/2002 4:01:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; Cool!  One thing it will allow us to do is subtract out the<br/>&gt; natural JI chords and leave only magic chords in your lists<br/>&gt; on the main list.</p><p>How&apos;s this as a method: using the standard o-limit metric, take everything in a radius of 1 of the unison, which should give you the o-limit diamond. Now take all subsets of size k, find the centroid by averaging the coordinates (which should be in the prime-power basis,<br/>so that in the 9-limit 5/3 would be 9^(-1/2) * 5^1 * 7^0 =<br/>[-1/2, 1, 0], for instance) and test if everything is within a radius of 1/2 of the centroid, in which case put it on your list. For larger values of o, this would be faster than simply testing for pairwise consonance.</p></div><h3><a id=2749 href="#2749">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/16/2002 4:22:39 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Cool!  One thing it will allow us to do is subtract out the<br/>&gt;&gt;natural JI chords and leave only magic chords in your lists<br/>&gt;&gt;on the main list.<br/>&gt;<br/>&gt;How&apos;s this as a method: using the standard o-limit metric, take<br/>&gt;everything in a radius of 1 of the unison, which should give you<br/>&gt;the o-limit diamond. Now take all subsets of size k, find the<br/>&gt;centroid by averaging the coordinates (which should be in the<br/>&gt;prime-power basis, so that in the 9-limit 5/3 would be<br/>&gt;9^(-1/2) * 5^1 * 7^0 = [-1/2, 1, 0], for instance) and test if<br/>&gt;everything is within a radius of 1/2 of the centroid, in which<br/>&gt;case put it on your list. For larger values of o, this would be<br/>&gt;faster than simply testing for pairwise consonance.</p><p>Okay, thanks.  To answer your question, I&apos;m going to have to<br/>do some homework.  Anyone else is welcome to beat me to it!</p><p>-Carl</p></div><h3><a id=2750 href="#2750">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/16/2002 4:56:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; How about 1:15?</p><p>The 7-limit quadratic form is</p><p>A7(3^a 5^b 7^c) = a^2 + b^2 _+ c^2 + a*b + a*c + b*c</p><p>If I substitute a/2 for a in this, I get what I just called (with more optimism than accuracy) the &quot;standard&quot; o-limit form,</p><p>A9(3^a 5^b 7^c) = 1/4(a^2+4*b^2+4*c^2+2*a*b+2*a*c+4*b*c)</p><p>Clearing the denominators so as to be able to work only with integers gives us the equivalent</p><p>B9(3^a 5^b 7^c) = a^2+4*b^2+4*c^2+2*a*b+2*a*c+4*b*c</p><p>If I plug 15 = 3^1 5^1 7^0 into this, I get 7, so the length is<br/>sqrt(7).</p><p>What is the shortest &quot;dissonant&quot; interval?</p><p>The theta series of the above quadratic form, defined as sum from<br/>-infinity to infinity of i, j, and k of</p><p>q^B9(i,j,k)</p><p>is the q-series</p><p>Th9(q)=1+2*q+4*q^3+12*q^4+4*q^5+8*q^7+6*q^8+6*q^9+4*q^11+24*q^12+<br/>12*q^13+8*q^15+12*q^16+8*q^17+12*q^19+24*q^20+8*q^21+8*q^23+<br/>8*q^24+14*q^25+16*q^27+48*q^28+4*q^29+16*q^31+6*q^32+16*q^33+<br/>8*q^35+36*q^36+20*q^37+8*q^39+24*q^40+8*q^41+20*q^43+24*q^44+<br/>20*q^45+16*q^47+24*q^48+18*q^49+ ...</p><p>This defines a modular form, but I presume the deeper properties we needn&apos;t worry about. I see from the term 4 q^5 that there are four terms of length sqrt(5), the shortest 9-limit dissonances. These turn out to be 7/15, 5/21, 21/5, and 15/7, which we can also write as<br/>14/5, 20/21, 21/20 and 15/14.</p></div><h3><a id=2751 href="#2751">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/16/2002 5:00:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; &gt; How about 1:15?<br/>&gt;<br/>&gt; The 7-limit quadratic form is</p><p>I thought we were talking 11-limit.</p><p>&gt;  I see from the term 4 q^5 that there are four terms of length sqrt<br/>(5), the shortest 9-limit dissonances. These turn out to be 7/15,<br/>5/21, 21/5, and 15/7, which we can also write as<br/>&gt; 14/5, 20/21, 21/20 and 15/14.</p><p>This holds true for the 11-limit, I presume?</p><p>BTW, the taxicab metric and Kees&apos; lattice, which I keep banging my<br/>head against but am not enough of a mathematician for, would seem to<br/>be a more natural approach -- this should interest Carl especially.</p></div><h3><a id=2755 href="#2755">ðŸ”—</a>monz &#x3C;joemonz@yahoo.com&#x3E;</h3><span>1/17/2002 12:16:24 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; From: Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt;<br/>&gt; To: monz &lt;<a href="mailto:joemonz@yahoo.com">joemonz@yahoo.com</a>&gt;<br/>&gt; Sent: Wednesday, January 16, 2002 12:45 PM<br/>&gt; Subject: Re: [tuning-math] yahoo spaced out (was re: algorithm sought)<br/>&gt;<br/>&gt;<br/>&gt; Yahoo is undoing the 30-year-old tradition of ASCI art in<br/>&gt; mailing lists, for no apparent reason whatever.</p><p>Yeah, when I read this post this afternoon (just before<br/>leaving for work), I wrote to the guy at Yahoo who handles<br/>mail regarding copyright violations -- only because I couldn&apos;t<br/>find anyone appropriate to contact.  I explained this business<br/>to him, and gave him a sample link to a tuning-math post<br/>with lots of ASCII graphics.  Waiting for a response now.</p><p>-monz</p><p>_________________________________________________________<br/>Do You Yahoo!?<br/>Get your free <a href="https://twitter.com/yahoo">@yahoo</a>.com address at <a href="http://mail.yahoo.com">http://mail.yahoo.com</a></p></div><h3><a id=2759 href="#2759">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/17/2002 4:05:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a24ku6+60k1@eGroups.com">a24ku6+60k1@eGroups.com</a>&gt;<br/>carl wrote:</p><p>&gt; ...than intervals.  You&apos;re probably right.  It seems to get around<br/>&gt; the problem of having more than one instance of the same thing,<br/>&gt; turing n^2 into n!.  But for my ultimate purpose, I&apos;ll need to<br/>&gt; consider all inversions if I use notes, which I think turns it<br/>&gt; back into n^2.</p><p>n^2 is a piddling calculation for a modern computer.  In this case, though<br/>it is quite a bit higher.  But n is also quite low, so no problem.</p><p>&gt; I didn&apos;t see your python post, but here&apos;s the scheme:<br/>&gt;<br/>&gt; (define combo<br/>&gt;   (lambda (k ls)<br/>&gt;      (if (zero? k)<br/>&gt;         (list (list))<br/>&gt;         (if (null? ls)<br/>&gt;            (list)<br/>&gt;            (append (combo k (cdr ls))<br/>&gt;               (map (lambda (y) (cons (car ls) y))<br/>&gt;                  (combo (sub1 k) (cdr ls))))))))<br/>&gt;<br/>&gt; You can&apos;t count lines of code in scheme like you can in<br/>&gt; a block-structured imperitive language.  And comparing<br/>&gt; expressions -- () pairs -- to # of lines isn&apos;t fair.  Frankly,<br/>&gt; I don&apos;t no how they measure algorithms in scheme, but I&apos;ll<br/>&gt; bet egg&apos;s benedict you can&apos;t get more compact than this,<br/>&gt; considering this exposes some of the actual operations on<br/>&gt; the UTM tape (car and cdr).</p><p>The best way of measuring algorithms in any language is to use a profiler.<br/> I&apos;m guessing the biggest constraints on this in Python are going to be<br/>the recursion depth and the size of the returned list.  It works fine for<br/>4 combinations of 29, which is the same as enumerating all 5-note 11-limit<br/>chords.  1001 of them, apparently.  5 from 29 takes 12 seconds.  6 from 29<br/>takes about 52 seconds.</p><p>Scheme is optimised for recursion, so that won&apos;t be a problem.  You can<br/>get around storing the resulting list in both languages if you really want<br/>to.  I&apos;m guessing that&apos;ll be easier for Scheme.</p><p>&gt; Without a compiler, I think any of these brute-force methods<br/>&gt; are all off limits, so to speak.  Scheme compilers are all mucho<br/>&gt; bucks, industrial (though Chez hints at plans to release a<br/>&gt; consumer version within the year!), except ones that &quot;compile&quot;<br/>&gt; to C, which I&apos;ve never been able to get to work.  Anyhow, it&apos;s<br/>&gt; high time I learned another language.</p><p>I thought there were good, Free compilers for either Scheme or Common<br/>Lisp.  Whatever, a compiler should only buy you about an order of<br/>magnitude improvement, which is the difference between finishing while you<br/>wait and finishing while you go and make a cup of tea.  The real problem,<br/>not finishing at all within the lifetime of the universe, won&apos;t be solved<br/>by either.</p><p>&gt; In the mean time, I&apos;m convinced there&apos;s a better way than<br/>&gt; brute force.  Gene may have found one...</p><p>The method on &lt;<a href="http://www.microtonal.co.uk/ass.htm">http://www.microtonal.co.uk/ass.htm</a>&gt; combined with a normal<br/>otonal and utonal enumeration will work for JI.  All you need brute force<br/>for is to verify that, which is certainly possible in the 19-limit.  Asses<br/>are only 4 note chords, which is 3-from-whatever.  If there are<br/>exceptions, you&apos;ll find them with a 4-from-whatever search.</p><p>I don&apos;t know off-hand how many intervals there are in the 15-limit.  But<br/>it can&apos;t be more than 64.  4 from 64 is 229 seconds for my Python<br/>algorithm.  If you&apos;re actually doing something with them, it should still<br/>be within the cup-of-tea timescale.  There&apos;s a lot of disk activity, so<br/>use a generator or whatever and it should speed it up.  Rejecting all<br/>chords that are already outside the limit before you add notes to them<br/>should speed it up a great deal more.  Give it a try.</p><p>The usual rule of thumb is that Scheme is faster than Python.  Perhaps<br/>that assumes you have a compiler.</p><p>                           Graham</p></div><h3><a id=2760 href="#2760">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/17/2002 4:05:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a24mrc+bhm9@eGroups.com">a24mrc+bhm9@eGroups.com</a>&gt;<br/>carl wrote:</p><p>&gt; What is supposed to be the point of the space-removal<br/>&gt; thing?  I can&apos;t fathom it.  And &quot;view unformatted message&quot;<br/>&gt; does nothing (my eyes, the goggles do nothing!).</p><p>It&apos;s partly to reduce the bandwidth, not having to send so many spaces.<br/>Also, to allow them to put adverts in the messages.</p><p>&gt; Needless to say, my beautiful indenting was destroyed.</p><p>Be glad you&apos;re not using a language with syntactic indentation.</p><p>                     Graham</p></div><h3><a id=2762 href="#2762">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/17/2002 6:07:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;...than intervals.  You&apos;re probably right.  It seems to get around<br/>&gt;&gt;the problem of having more than one instance of the same thing,<br/>&gt;&gt;turing n^2 into n!.  But for my ultimate purpose, I&apos;ll need to<br/>&gt;&gt;consider all inversions if I use notes, which I think turns it<br/>&gt;&gt;back into n^2.<br/>&gt;<br/>&gt;n^2 is a piddling calculation for a modern computer.</p><p>Whoops.  That was supposed to be n^k for intervals, n!/(n-k)!<br/>for pitches, and k(n!)/(n-k)! for all inversions of pitches.</p><p>&gt;The best way of measuring algorithms in any language is to use a<br/>&gt;profiler.</p><p>Measuring algorithms, or their compactness in different languages?</p><p>&gt;I&apos;m guessing the biggest constraints on this in Python are going<br/>&gt;to be the recursion depth and the size of the returned list.  It<br/>&gt;works fine for 4 combinations of 29, which is the same as<br/>&gt;enumerating all 5-note 11-limit chords.</p><p>Aren&apos;t there any ASSes that contain more than one instance of<br/>an 11-limit interval?</p><p>&gt;&gt;Without a compiler, I think any of these brute-force methods<br/>&gt;&gt;are all off limits, so to speak.  Scheme compilers are all mucho<br/>&gt;&gt;bucks, industrial (though Chez hints at plans to release a<br/>&gt;&gt;consumer version within the year!), except ones that &quot;compile&quot;<br/>&gt;&gt;to C, which I&apos;ve never been able to get to work.  Anyhow, it&apos;s<br/>&gt;&gt;high time I learned another language.<br/>&gt;<br/>&gt;I thought there were good, Free compilers for either Scheme or<br/>&gt;Common Lisp.</p><p>Not that I could find.  The only ones I know of are Gambit scheme<br/>(C translator), chicken (ditto), and something that comes with<br/>Dr. Scheme from Rice university, which I can&apos;t stand, though I<br/>probably should have looked at more closely.  I did verify that<br/>the Dr. Scheme interpreter blows up at the same point the Chez<br/>one does.</p><p>&gt;Whatever, a compiler should only buy you about an order of<br/>&gt;magnitude improvement, which is the difference between finishing<br/>&gt;while you wait and finishing while you go and make a cup of tea.</p><p>Mmm, tea.</p><p>I&apos;m not sure.  The problem isn&apos;t cps, it&apos;s memory.  The garbage<br/>collection thingy runs out of RAM and starts hitting the swap,<br/>and you&apos;re better off waiting for the sun to collapse than for<br/>Windows to recover.  I assume compiled code doesn&apos;t have this<br/>problem, for some reason.</p><p>&gt;The real problem, not finishing at all within the lifetime of<br/>&gt;the universe, won&apos;t be solved by either.</p><p>There&apos;s nothing NP here that I can see.</p><p>&gt;&gt; In the mean time, I&apos;m convinced there&apos;s a better way than<br/>&gt;&gt; brute force.  Gene may have found one...<br/>&gt;<br/>&gt;The method on &lt;<a href="http://www.microtonal.co.uk/ass.htm">http://www.microtonal.co.uk/ass.htm</a>&gt; combined<br/>&gt;with a normal otonal and utonal enumeration will work for JI.</p><p>As in, I have to tack on the ASSes.  I can just use your table.<br/>I admitted this is quite satisfactory, that I was just being<br/>obstinate, from the start.  It isn&apos;t just question of results<br/>for me -- it&apos;s understanding.  The nature of the problem is<br/>fairly simple, and the ASSes and o- and u-tonalities should all<br/>spin out from the same process.  If you could get your ASS<br/>method to produce Partchian tonalities...</p><p>Actually, the picking notes instead of intervals thing is worth<br/>trying.  I&apos;ll do that.  Thanks.  I&apos;m sure I&apos;ve given away to<br/>you, by stating my eventual need for inversions, that I&apos;m going<br/>after n-adic uniqueness.</p><p>&gt;I don&apos;t know off-hand how many intervals there are in the 15-<br/>&gt;limit.  But it can&apos;t be more than 64.  4 from 64 is 229 seconds<br/>&gt;for my Python algorithm.  If you&apos;re actually doing something<br/>&gt;with them, it should still be within the cup-of-tea timescale.<br/>&gt;There&apos;s a lot of disk activity, so use a generator or whatever<br/>&gt;and it should speed it up.</p><p>Generator?</p><p>&gt;Rejecting all chords that are already outside the limit before<br/>&gt;you add notes to them should speed it up a great deal more.</p><p>Yeah, it pays to check every round I think.</p><p>&gt;Give it a try.</p><p>Will do.</p><p>&gt;The usual rule of thumb is that Scheme is faster than Python.<br/>&gt;Perhaps that assumes you have a compiler.</p><p>It must.  I suspect also that companies like Chez intentionally<br/>leave out smarts from their free interpreters in order to protect<br/>their industrial licenses.  The interp. you get for free (the<br/>&quot;petite&quot;) isn&apos;t the same one that comes with a $3K licensce, I&apos;ll<br/>wager.</p><p>&gt;Be glad you&apos;re not using a language with syntactic indentation.</p><p>True, ()&apos;s are great.  Any scheme expression can be unambiguously<br/>parsed no matter how you lay it out (even on one line).</p><p>-Carl</p></div><h3><a id=2763 href="#2763">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/17/2002 6:12:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;The best way of measuring algorithms in any language is to use a<br/>&gt;&gt;profiler.<br/>&gt;<br/>&gt;Measuring algorithms, or their compactness in different languages?</p><p>As in, I have no idea what a profiler is, but it sounds like<br/>something which gets rid of the difference between languages<br/>rather than exposing it?</p><p>&gt;&gt;I&apos;m guessing the biggest constraints on this in Python are going<br/>&gt;&gt;to be the recursion depth and the size of the returned list.  It<br/>&gt;&gt;works fine for 4 combinations of 29, which is the same as<br/>&gt;&gt;enumerating all 5-note 11-limit chords.<br/>&gt;<br/>&gt;Aren&apos;t there any ASSes that contain more than one instance of<br/>&gt;an 11-limit interval?</p><p>Of course there are -- they wouldn&apos;t be ASSes otherwise, they&apos;d<br/>just be subsets of Partchian tonalities.  Hmm, that&apos;s a shortcut<br/>right there. . . .</p><p>-C.</p></div><h3><a id=2764 href="#2764">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/17/2002 7:07:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a26lrb+nnau@eGroups.com">a26lrb+nnau@eGroups.com</a>&gt;<br/>Me:<br/>&gt; &gt;The best way of measuring algorithms in any language is to use a<br/>&gt; &gt;profiler.</p><p>Carl:<br/>&gt; Measuring algorithms, or their compactness in different languages?</p><p>Measuring efficiency in one particular language implementation.  Profilers<br/>are tools that inspect running code, and record how much time is spent in<br/>each section.  That means you can go straight to the least efficient<br/>parts, and not waste effort optimising things that aren&apos;t a problem in the<br/>first place.</p><p>Carl:<br/>&gt; Aren&apos;t there any ASSes that contain more than one instance of<br/>&gt; an 11-limit interval?</p><p>If you&apos;re measuring from the root, that&apos;d mean two notes at the same<br/>pitch, which is silly.</p><p>Me:<br/>&gt; &gt;I thought there were good, Free compilers for either Scheme or<br/>&gt; &gt;Common Lisp.</p><p>Carl:<br/>&gt; Not that I could find.  The only ones I know of are Gambit scheme<br/>&gt; (C translator), chicken (ditto), and something that comes with<br/>&gt; Dr. Scheme from Rice university, which I can&apos;t stand, though I<br/>&gt; probably should have looked at more closely.  I did verify that<br/>&gt; the Dr. Scheme interpreter blows up at the same point the Chez<br/>&gt; one does.</p><p>There&apos;s a GNU interpreter for Common Lisp, at least.  Perhaps it&apos;s one of<br/>the C translators.</p><p>Me:<br/>&gt; &gt;Whatever, a compiler should only buy you about an order of<br/>&gt; &gt;magnitude improvement, which is the difference between finishing<br/>&gt; &gt;while you wait and finishing while you go and make a cup of tea.</p><p>Carl:<br/>&gt; Mmm, tea.<br/>&gt;<br/>&gt; I&apos;m not sure.  The problem isn&apos;t cps, it&apos;s memory.  The garbage<br/>&gt; collection thingy runs out of RAM and starts hitting the swap,<br/>&gt; and you&apos;re better off waiting for the sun to collapse than for<br/>&gt; Windows to recover.  I assume compiled code doesn&apos;t have this<br/>&gt; problem, for some reason.</p><p>You may need a good garbage collector, but that&apos;s independent of being<br/>compiled or interpreted.  I expect a GNU interpreter will be fine.  RMS is<br/>a Lisp programmer, after all.</p><p>&gt; &gt;The real problem, not finishing at all within the lifetime of<br/>&gt; &gt;the universe, won&apos;t be solved by either.<br/>&gt;<br/>&gt; There&apos;s nothing NP here that I can see.</p><p>Polynomial time is all you need if it gets complex enough.  10^50<br/>operations does it.  That&apos;s roughly the total number of chess games.  And<br/>it&apos;s only 48!.</p><p>Me:<br/>&gt; &gt;The method on &lt;<a href="http://www.microtonal.co.uk/ass.htm">http://www.microtonal.co.uk/ass.htm</a>&gt; combined<br/>&gt; &gt;with a normal otonal and utonal enumeration will work for JI.</p><p>Carl:<br/>&gt; As in, I have to tack on the ASSes.  I can just use your table.<br/>&gt; I admitted this is quite satisfactory, that I was just being<br/>&gt; obstinate, from the start.  It isn&apos;t just question of results<br/>&gt; for me -- it&apos;s understanding.  The nature of the problem is<br/>&gt; fairly simple, and the ASSes and o- and u-tonalities should all<br/>&gt; spin out from the same process.  If you could get your ASS<br/>&gt; method to produce Partchian tonalities...</p><p>It might be useful to generalise the method to work with inharmonic<br/>timbres, provided the consonances are defined on a short list of partials.<br/> You can get all three chord types as subsets of Euler genera.  Perhaps<br/>that would be a helpful approach.</p><p>Me:<br/>&gt; &gt;I don&apos;t know off-hand how many intervals there are in the 15-<br/>&gt; &gt;limit.  But it can&apos;t be more than 64.  4 from 64 is 229 seconds<br/>&gt; &gt;for my Python algorithm.  If you&apos;re actually doing something<br/>&gt; &gt;with them, it should still be within the cup-of-tea timescale.<br/>&gt; &gt;There&apos;s a lot of disk activity, so use a generator or whatever<br/>&gt; &gt;and it should speed it up.</p><p>Carl:<br/>&gt; Generator?</p><p>See &lt;<a href="http://python.sourceforge.net/peps/pep-0255.html">http://python.sourceforge.net/peps/pep-0255.html</a>&gt; for Simple<br/>Generators.  The code I have now uses a function to generate a huge list,<br/>and then iterates over it.  If I turned the function into a generator,<br/>it&apos;d only have to return one result at a time, without the code getting<br/>much more complex.  I haven&apos;t looked at this yet, partly because I&apos;m<br/>trying to keep compatibility with older versions of Python.</p><p>I think you can do similar, but more advanced things with the Lisp family.<br/> The interpreter/compiler may even do them for you.  You can also write a<br/>function that takes a function as argument, and calls it for each item.<br/>But in this case it&apos;ll probably be easier to forget about reusability, and<br/>put the functionality in the middle of the combinations code, so that the<br/>following can work:</p><p>&gt; &gt;Rejecting all chords that are already outside the limit before<br/>&gt; &gt;you add notes to them should speed it up a great deal more.<br/>&gt;<br/>&gt; Yeah, it pays to check every round I think.<br/>&gt;<br/>&gt; &gt;Give it a try.<br/>&gt;<br/>&gt; Will do.</p><p>Me:<br/>&gt; &gt;The usual rule of thumb is that Scheme is faster than Python.<br/>&gt; &gt;Perhaps that assumes you have a compiler.</p><p>Carl:<br/>&gt; It must.  I suspect also that companies like Chez intentionally<br/>&gt; leave out smarts from their free interpreters in order to protect<br/>&gt; their industrial licenses.  The interp. you get for free (the<br/>&gt; &quot;petite&quot;) isn&apos;t the same one that comes with a $3K licensce, I&apos;ll<br/>&gt; wager.</p><p>I think a GNU implementation of some Lisp dialect has beaten Python in<br/>benchmarks.</p><p>Me:<br/>&gt; &gt;Be glad you&apos;re not using a language with syntactic indentation.</p><p>Carl:<br/>&gt; True, ()&apos;s are great.  Any scheme expression can be unambiguously<br/>&gt; parsed no matter how you lay it out (even on one line).</p><p>Oh, syntactic indentation&apos;s fine in itself.  But it does mean your code<br/>gets rendered invalid by Yahoo&apos;s white space stripping.</p><p>                Graham</p></div><h3><a id=2766 href="#2766">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/17/2002 9:49:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;<a href="mailto:a26m3j+6noq@eGroups.com">a26m3j+6noq@eGroups.com</a>&gt;<br/>I&apos;ve been doing a bit of research.  There are two GNU implementations of<br/>Common Lisp:</p><p>&lt;<a href="http://www.gnu.org/software/gcl/gcl.html">http://www.gnu.org/software/gcl/gcl.html</a>&gt;<br/>&lt;<a href="http://clisp.cons.org/summary.html">http://clisp.cons.org/summary.html</a>&gt;</p><p>I don&apos;t actually know the differences between Common Lisp and Scheme,<br/>hence why it would be heretical to move from one to the other.</p><p>Enumerating all 15-limit, 5-note chords is actually a 4 from 48<br/>combinations problem, which takes 45 seconds on my machine with<br/>unoptimized Python.</p><p>              Graham</p></div><h3><a id=2767 href="#2767">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/17/2002 12:17:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;Measuring algorithms, or their compactness in different languages?<br/>&gt;<br/>&gt;Measuring efficiency in one particular language implementation.<br/>&gt;Profilers are tools that inspect running code, and record how much<br/>&gt;time is spent in each section.  That means you can go straight to<br/>&gt;the least efficient parts, and not waste effort optimising things<br/>&gt;that aren&apos;t a problem in the first place.</p><p>Sounds handy, but I wasn&apos;t referring to how much work the computer<br/>does in scheme.  Obviously, at least in my implemetation, it&apos;s<br/>quite a bit more than in other languages!  I was referring to how<br/>compactly the language represents algorithms to humans.  Like Knuth,<br/>I think that computer programs can be useful not only for the<br/>answers they give, but for the explanations they present to humans.<br/>There&apos;s a continuum in abstraction from assembly to C to functional<br/>languages like scheme, to actual math.  For me, scheme is the ideal<br/>point on this continuum -- math is too compact, C is egregious.</p><p>&gt;&gt;Aren&apos;t there any ASSes that contain more than one instance of<br/>&gt;&gt;an 11-limit interval?</p><p>Measuring intervals from the root is equivalent to the choosing<br/>notes method, and I thought you weren&apos;t talking about that.  Just<br/>got our wires crossed, is all.</p><p>&gt;There&apos;s a GNU interpreter for Common Lisp, at least.  Perhaps it&apos;s<br/>&gt;one of the C translators.</p><p>Oh no, I don&apos;t think so.  Too bad scheme code doesn&apos;t compile as<br/>common lisp.</p><p>&gt;You may need a good garbage collector, but that&apos;s independent of<br/>&gt;being compiled or interpreted.</p><p>I suppose that&apos;s true.</p><p>&gt;I expect a GNU interpreter will be fine.</p><p>As I say, I suspect these commercial outfits cripple their<br/>free interpreters.</p><p>&gt;RMS is a Lisp programmer, after all.</p><p>Who&apos;s he?</p><p>&gt;&gt; There&apos;s nothing NP here that I can see.<br/>&gt;<br/>&gt;Polynomial time is all you need if it gets complex enough.  10^50<br/>&gt;operations does it.  That&apos;s roughly the total number of chess<br/>&gt;games.  And it&apos;s only 48!.</p><p>That&apos;s true.</p><p>&gt; Carl:<br/>&gt;&gt; Generator?<br/>&gt;<br/>&gt;See &lt;<a href="http://python.sourceforge.net/peps/pep-0255.html">http://python.sourceforge.net/peps/pep-0255.html</a>&gt; for Simple<br/>&gt;Generators.  The code I have now uses a function to generate a huge<br/>&gt;list, and then iterates over it.  If I turned the function into a<br/>&gt;generator, it&apos;d only have to return one result at a time, without<br/>&gt;the code getting much more complex.  I haven&apos;t looked at this yet,<br/>&gt;partly because I&apos;m trying to keep compatibility with older versions<br/>&gt;of Python.</p><p>Interesting.  These guys are really up to some cool stuff.  To me,<br/>as someone who finally got decent at scheme, it all seems redundant.<br/>But compared to C, it sounds pretty revolutionary.</p><p>&gt;I think you can do similar, but more advanced things with the Lisp<br/>&gt;family.  The interpreter/compiler may even do them for you.  You<br/>&gt;can also write a function that takes a function as argument, and<br/>&gt;calls it for each item.</p><p>That&apos;s map.  It&apos;s just simple recursion on the cdr.</p><p>(define map<br/>   (lambda (proc ls)<br/>      (if (null? ls)<br/>         &apos;()<br/>         (cons (proc (car ls) (map proc (cdr ls))))))</p><p>Then you can pass it any function that returns a list, including<br/>map!  And if you pass it a function that doesn&apos;t return a list,<br/>instead of getting a bug, you get an error.  What a concept.  But<br/>I digress, this OT.</p><p>&gt;But in this case it&apos;ll probably be easier to forget about<br/>&gt;reusability, and put the functionality in the middle of the<br/>&gt;combinations code, so that the following can work:<br/>&gt;<br/>&gt;&gt;&gt;Rejecting all chords that are already outside the limit before<br/>&gt;&gt;&gt;you add notes to them should speed it up a great deal more.</p><p>There may be a way to keep the combinations code generalized<br/>and still do this, by taking advantage of lazy evaluation.  I<br/>can&apos;t think of how, though, at the moment.</p><p>&gt;I think a GNU implementation of some Lisp dialect has beaten<br/>&gt;Python in benchmarks.</p><p>I&apos;m surprised.  I&apos;ll look in to how much it would take to port<br/>myself over to common Lisp.</p><p>-Carl</p></div><h3><a id=2768 href="#2768">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/17/2002 12:58:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; As in, I have to tack on the ASSes.  I can just use your table.<br/>&gt; I admitted this is quite satisfactory, that I was just being<br/>&gt; obstinate, from the start.  It isn&apos;t just question of results<br/>&gt; for me -- it&apos;s understanding.  The nature of the problem is<br/>&gt; fairly simple, and the ASSes and o- and u-tonalities should all<br/>&gt; spin out from the same process.  If you could get your ASS<br/>&gt; method to produce Partchian tonalities...</p><p>Mine should, but I&apos;m with Graham--this problem doesn&apos;t sound that bad. Should I give it a try, and see if I&apos;m wrong?</p><p>&gt; Actually, the picking notes instead of intervals thing is worth<br/>&gt; trying.  I&apos;ll do that.  Thanks.  I&apos;m sure I&apos;ve given away to<br/>&gt; you, by stating my eventual need for inversions, that I&apos;m going<br/>&gt; after n-adic uniqueness.</p><p>If you start saying &quot;scheme&quot; and &quot;n-adic&quot; in the same sentence I&apos;m going to get confused.</p></div><h3><a id=2773 href="#2773">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/17/2002 2:32:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;There&apos;s a GNU interpreter for Common Lisp, at least.  Perhaps it&apos;s<br/>&gt;&gt;one of the C translators.<br/>&gt;<br/>&gt;Oh no, I don&apos;t think so.</p><p>Well, that&apos;s wrong as of the first list item on the page.  :)</p><p>Just goes to show how low-level C is, that they can get the<br/>kind of performance they claim by translating to it.</p><p>-Carl</p></div><h3><a id=2774 href="#2774">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/17/2002 2:34:45 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;As in, I have to tack on the ASSes.  I can just use your table.<br/>&gt;&gt;I admitted this is quite satisfactory, that I was just being<br/>&gt;&gt;obstinate, from the start.  It isn&apos;t just question of results<br/>&gt;&gt;for me -- it&apos;s understanding.  The nature of the problem is<br/>&gt;&gt;fairly simple, and the ASSes and o- and u-tonalities should all<br/>&gt;&gt;spin out from the same process.  If you could get your ASS<br/>&gt;&gt;method to produce Partchian tonalities...<br/>&gt;<br/>&gt;Mine should, but I&apos;m with Graham--this problem doesn&apos;t sound<br/>&gt;that bad. Should I give it a try, and see if I&apos;m wrong?</p><p>It depends on how long you&apos;re willing to wait to find out.  It<br/>could take me a long time indeed to be able to tell you.</p><p>&gt;&gt;Actually, the picking notes instead of intervals thing is worth<br/>&gt;&gt;trying.  I&apos;ll do that.  Thanks.  I&apos;m sure I&apos;ve given away to<br/>&gt;&gt;you, by stating my eventual need for inversions, that I&apos;m going<br/>&gt;&gt;after n-adic uniqueness.<br/>&gt;<br/>&gt; If you start saying &quot;scheme&quot; and &quot;n-adic&quot; in the same sentence<br/>&gt;I&apos;m going to get confused.</p><p>?</p><p>-Carl</p></div><h3><a id=2779 href="#2779">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/17/2002 11:14:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; &gt; If you start saying &quot;scheme&quot; and &quot;n-adic&quot; in the same sentence<br/>&gt; &gt;I&apos;m going to get confused.<br/>&gt;<br/>&gt; ?</p><p><a href="http://mathworld.wolfram.com/Scheme.html">http://mathworld.wolfram.com/Scheme.html</a></p><p><a href="http://mathworld.wolfram.com/p-adicNumber.html">http://mathworld.wolfram.com/p-adicNumber.html</a></p></div><h3><a id=2784 href="#2784">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/18/2002 1:06:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;If you start saying &quot;scheme&quot; and &quot;n-adic&quot; in the same sentence<br/>&gt;&gt;&gt;I&apos;m going to get confused.<br/>&gt;&gt;<br/>&gt;&gt; ?<br/>&gt;<br/>&gt;<a href="http://mathworld.wolfram.com/Scheme.html">http://mathworld.wolfram.com/Scheme.html</a><br/>&gt;<a href="http://mathworld.wolfram.com/p-adicNumber.html">http://mathworld.wolfram.com/p-adicNumber.html</a></p><p>MCCT- For all pairs of terms [t_i, t_(i+1)], from finite<br/>alphabet [gamma], it is possible to select a pair of<br/>terms [m_i, m_(i+1)] from the Mathworld website which<br/>are identical.</p><p>-C.</p></div><h3><a id=2785 href="#2785">ðŸ”—</a>graham@microtonal.co.uk</h3><span>1/18/2002 1:48:00 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>carl wrote:</p><p>&gt; Sounds handy, but I wasn&apos;t referring to how much work the computer<br/>&gt; does in scheme.  Obviously, at least in my implemetation, it&apos;s<br/>&gt; quite a bit more than in other languages!  I was referring to how<br/>&gt; compactly the language represents algorithms to humans.  Like Knuth,<br/>&gt; I think that computer programs can be useful not only for the<br/>&gt; answers they give, but for the explanations they present to humans.<br/>&gt; There&apos;s a continuum in abstraction from assembly to C to functional<br/>&gt; languages like scheme, to actual math.  For me, scheme is the ideal<br/>&gt; point on this continuum -- math is too compact, C is egregious.</p><p>Well, this is something I&apos;d prefer to leave subjective.  Everybody has<br/>their own preferences with languages.  Also, a lot depends on what library<br/>functions your allowed to use as &quot;gifts&quot;.  Some of the stuff with<br/>periodicity blocks is simple iff you have a library for handling and<br/>inverting matrices.  There&apos;s a sense in which a brute force algorithm is<br/>less satisfactory than another kind.  Comparing execution time between<br/>different programs using the same language implementation can be a good<br/>way of indicating this.</p><p>Where is Haskell on your continuum?</p><p>&gt; Measuring intervals from the root is equivalent to the choosing<br/>&gt; notes method, and I thought you weren&apos;t talking about that.  Just<br/>&gt; got our wires crossed, is all.</p><p>Yes.  Well, I&apos;ve gone ahead and implemented this.  Code is at<br/>&lt;<a href="http://microtonal.co.uk/temper.py">http://microtonal.co.uk/temper.py</a>&gt; if I remember.  The relevant stuff is<br/>in the &quot;Tonality diamonds&quot; section, with the combinations routine in<br/>&quot;Utilities&quot;.  CGI may follow.</p><p>Here are all the 9-limit tetrads:</p><p>&gt;&gt; for chord in temper.limit9.allConsonantChords(4):<br/>&#x9;print chord<br/>&#x9;<br/>&#x9;<br/>[(0, 0, 0), (1, 0, 0), (-1, 0, 0), (-1, 1, 0)]<br/>[(0, 0, 0), (1, 0, 0), (-1, 0, 0), (1, -1, 0)]<br/>[(0, 0, 0), (1, 0, 0), (-1, 0, 0), (-1, 0, 1)]<br/>[(0, 0, 0), (1, 0, 0), (-1, 0, 0), (1, 0, -1)]<br/>[(0, 0, 0), (1, 0, 0), (0, 1, 0), (-1, 1, 0)]<br/>[(0, 0, 0), (1, 0, 0), (0, 1, 0), (0, 0, 1)]<br/>[(0, 0, 0), (1, 0, 0), (0, 1, 0), (2, 0, 0)]<br/>[(0, 0, 0), (1, 0, 0), (-1, 1, 0), (-1, 0, 1)]<br/>[(0, 0, 0), (1, 0, 0), (1, -1, 0), (1, 0, -1)]<br/>[(0, 0, 0), (1, 0, 0), (1, -1, 0), (2, -1, 0)]<br/>[(0, 0, 0), (1, 0, 0), (0, 0, 1), (-1, 0, 1)]<br/>[(0, 0, 0), (1, 0, 0), (0, 0, 1), (2, 0, 0)]<br/>[(0, 0, 0), (1, 0, 0), (1, 0, -1), (2, 0, -1)]<br/>[(0, 0, 0), (1, 0, 0), (2, 0, 0), (2, -1, 0)]<br/>[(0, 0, 0), (1, 0, 0), (2, 0, 0), (2, 0, -1)]<br/>[(0, 0, 0), (1, 0, 0), (2, -1, 0), (2, 0, -1)]<br/>[(0, 0, 0), (-1, 0, 0), (0, -1, 0), (1, -1, 0)]<br/>[(0, 0, 0), (-1, 0, 0), (0, -1, 0), (0, 0, -1)]<br/>[(0, 0, 0), (-1, 0, 0), (0, -1, 0), (-2, 0, 0)]<br/>[(0, 0, 0), (-1, 0, 0), (-1, 1, 0), (-1, 0, 1)]<br/>[(0, 0, 0), (-1, 0, 0), (-1, 1, 0), (-2, 1, 0)]<br/>[(0, 0, 0), (-1, 0, 0), (1, -1, 0), (1, 0, -1)]<br/>[(0, 0, 0), (-1, 0, 0), (0, 0, -1), (1, 0, -1)]<br/>[(0, 0, 0), (-1, 0, 0), (0, 0, -1), (-2, 0, 0)]<br/>[(0, 0, 0), (-1, 0, 0), (-1, 0, 1), (-2, 0, 1)]<br/>[(0, 0, 0), (-1, 0, 0), (-2, 0, 0), (-2, 1, 0)]<br/>[(0, 0, 0), (-1, 0, 0), (-2, 0, 0), (-2, 0, 1)]<br/>[(0, 0, 0), (-1, 0, 0), (-2, 1, 0), (-2, 0, 1)]<br/>[(0, 0, 0), (0, 1, 0), (-1, 1, 0), (0, 1, -1)]<br/>[(0, 0, 0), (0, 1, 0), (-1, 1, 0), (-2, 1, 0)]<br/>[(0, 0, 0), (0, 1, 0), (0, 0, 1), (2, 0, 0)]<br/>[(0, 0, 0), (0, 1, 0), (0, 1, -1), (-2, 1, 0)]<br/>[(0, 0, 0), (0, -1, 0), (1, -1, 0), (0, -1, 1)]<br/>[(0, 0, 0), (0, -1, 0), (1, -1, 0), (2, -1, 0)]<br/>[(0, 0, 0), (0, -1, 0), (0, 0, -1), (-2, 0, 0)]<br/>[(0, 0, 0), (0, -1, 0), (0, -1, 1), (2, -1, 0)]<br/>[(0, 0, 0), (-1, 1, 0), (0, 1, -1), (-2, 1, 0)]<br/>[(0, 0, 0), (1, -1, 0), (0, -1, 1), (2, -1, 0)]<br/>[(0, 0, 0), (0, 0, 1), (-1, 0, 1), (0, -1, 1)]<br/>[(0, 0, 0), (0, 0, 1), (-1, 0, 1), (-2, 0, 1)]<br/>[(0, 0, 0), (0, 0, 1), (0, -1, 1), (-2, 0, 1)]<br/>[(0, 0, 0), (0, 0, -1), (1, 0, -1), (0, 1, -1)]<br/>[(0, 0, 0), (0, 0, -1), (1, 0, -1), (2, 0, -1)]<br/>[(0, 0, 0), (0, 0, -1), (0, 1, -1), (2, 0, -1)]<br/>[(0, 0, 0), (-1, 0, 1), (0, -1, 1), (-2, 0, 1)]<br/>[(0, 0, 0), (1, 0, -1), (0, 1, -1), (2, 0, -1)]<br/>[(0, 0, 0), (2, 0, 0), (2, -1, 0), (2, 0, -1)]<br/>[(0, 0, 0), (-2, 0, 0), (-2, 1, 0), (-2, 0, 1)]</p><p>The output&apos;s rather clumsy -- it&apos;s octave-equivalent vectors in no<br/>particular order.  Whatever, I did spot at least one ASS in there.<br/>15-limit tetrads take a bit of time to work out, but no much.  Here&apos;s how<br/>to count them:</p><p>&gt;&gt;&gt; len(temper.limit15.allConsonantChords(4))<br/>612</p><p>There are 590 15-limit pentads, and it takes two minutes to count them all<br/>on this machine.  Here&apos;s how I did that:</p><p>&gt;&gt;&gt; import time<br/>&gt;&gt;&gt; stamp=time.time();len(temper.limit15.allConsonantChords(5)<br/>                            );time.time()-stamp<br/>590<br/>126.549999952</p><p>If all is correct, that should include no ASSes.  The execution time may<br/>well be too great for CGI at my site.  Although I have now cut it in half<br/>with some superficial changes.  I wonder what I did right.</p><p>                 Graham</p></div><h3><a id=2786 href="#2786">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/18/2002 2:11:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;There&apos;s a continuum in abstraction from assembly to C to functional<br/>&gt;&gt;languages like scheme, to actual math.  For me, scheme is the ideal<br/>&gt;&gt;point on this continuum -- math is too compact, C is egregious.<br/>&gt;<br/>&gt;Well, this is something I&apos;d prefer to leave subjective.  Everybody<br/>&gt;has their own preferences with languages.</p><p>Very true.  I was just stating mine.</p><p>&gt;Also, a lot depends on what library functions your allowed to use<br/>&gt;as &quot;gifts&quot;.</p><p>Very true, and this should certainly be taken into account.<br/>Actually, it&apos;s nothing but library functions, all the way down;<br/>in a sense, this is my argument.</p><p>As a stock language, scheme comes with very little more than a<br/>UTM.  Math comes with the biggest library of all.</p><p>&gt;There&apos;s a sense in which a brute force algorithm is<br/>&gt;less satisfactory than another kind.</p><p>Right.</p><p>&gt;Where is Haskell on your continuum?</p><p>Near scheme, closer to math.</p><p>&gt;Yes.  Well, I&apos;ve gone ahead and implemented this.  Code is at<br/>&gt;&lt;<a href="http://microtonal.co.uk/temper.py">http://microtonal.co.uk/temper.py</a>&gt; if I remember.  The relevant<br/>&gt;stuff is in the &quot;Tonality diamonds&quot; section, with the<br/>&gt;combinations routine in &quot;Utilities&quot;.  CGI may follow.</p><p>Suh-weet!</p><p>&gt;The output&apos;s rather clumsy -- it&apos;s octave-equivalent vectors<br/>&gt;in no particular order.</p><p>D&apos;oh!</p><p>&gt;Whatever, I did spot at least one ASS in there.</p><p>Cool.</p><p>&gt;15-limit tetrads take a bit of time to work out, but no much.<br/>&gt;Here&apos;s how to count them:<br/>&gt;<br/>&gt; &gt;&gt;&gt; len(temper.limit15.allConsonantChords(4))<br/>&gt; 612<br/>&gt;<br/>&gt; There are 590 15-limit pentads, and it takes two minutes to<br/>&gt; count them all on this machine.  Here&apos;s how I did that:<br/>&gt;<br/>&gt; &gt;&gt;&gt; import time<br/>&gt; &gt;&gt;&gt; stamp=time.time();len(temper.limit15.allConsonantChords(5)<br/>&gt;                             );time.time()-stamp<br/>&gt; 590<br/>&gt; 126.549999952<br/>&gt;<br/>&gt; If all is correct, that should include no ASSes.  The execution<br/>&gt; time may well be too great for CGI at my site.  Although I have<br/>&gt; now cut it in half with some superficial changes.  I wonder what<br/>&gt; I did right.</p><p>Thanks, Graham!</p><p>-C.</p></div><h3><a id=2787 href="#2787">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/18/2002 2:37:35 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:</p><p>&gt; MCCT- For all pairs of terms [t_i, t_(i+1)], from finite<br/>&gt; alphabet [gamma], it is possible to select a pair of<br/>&gt; terms [m_i, m_(i+1)] from the Mathworld website which<br/>&gt; are identical.</p><p>My brother Robin was complaining to me about this, and brought up the word &quot;pencil&quot;. It turned out he was *not* referring to</p><p><a href="http://mathworld.wolfram.com/Pencil.html">http://mathworld.wolfram.com/Pencil.html</a></p><p>but had picked a word at random. He was pretty triumphant when he found out it had also been made off with by mathematicians, though I think the mathematical use is older than those yellow things.</p></div><h3><a id=2788 href="#2788">ðŸ”—</a>clumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/18/2002 2:40:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;My brother Robin was complaining to me about this, and brought<br/>&gt;up the word &quot;pencil&quot;. It turned out he was *not* referring to<br/>&gt;<br/>&gt; <a href="http://mathworld.wolfram.com/Pencil.html">http://mathworld.wolfram.com/Pencil.html</a><br/>&gt;<br/>&gt;but had picked a word at random. He was pretty triumphant when he<br/>&gt;found out it had also been made off with by mathematicians, though<br/>&gt;I think the mathematical use is older than those yellow things.</p><p>It says 1960...?</p><p>-Carl</p></div><h3><a id=2789 href="#2789">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/18/2002 2:46:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;clumma&quot; &lt;carl@l...&gt; wrote:<br/>&gt; &gt;My brother Robin was complaining to me about this, and brought<br/>&gt; &gt;up the word &quot;pencil&quot;. It turned out he was *not* referring to<br/>&gt; &gt;<br/>&gt; &gt; <a href="http://mathworld.wolfram.com/Pencil.html">http://mathworld.wolfram.com/Pencil.html</a><br/>&gt; &gt;<br/>&gt; &gt;but had picked a word at random. He was pretty triumphant when he<br/>&gt; &gt;found out it had also been made off with by mathematicians, though<br/>&gt; &gt;I think the mathematical use is older than those yellow things.<br/>&gt;<br/>&gt; It says 1960...?<br/>&gt;<br/>&gt; -Carl</p><p>Cremona was 1960. Desargues lived 1591-1661.</p></div><h3><a id=2790 href="#2790">ðŸ”—</a>dkeenanuqnetau &#x3C;d.keenan@uq.net.au&#x3E;</h3><span>1/18/2002 4:09:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; Thanks, but I don&apos;t think RMS will work. That implies a Euclidean<br/>&gt; metric, but a &quot;taxicab&quot; metric seems to be what we want here.</p><p>Yes of course. Sorry. Just replace every ocurrence of &quot;rms&quot; with<br/>&quot;taxicab&quot; in what I wrote.</p></div><h3><a id=2829 href="#2829">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/20/2002 5:30:13 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;dkeenanuqnetau&quot; &lt;d.keenan@u...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; &gt; Thanks, but I don&apos;t think RMS will work. That implies a Euclidean<br/>&gt; &gt; metric, but a &quot;taxicab&quot; metric seems to be what we want here.<br/>&gt;<br/>&gt; Yes of course. Sorry. Just replace every ocurrence of &quot;rms&quot; with<br/>&gt; &quot;taxicab&quot; in what I wrote.</p><p>How do you calculate &quot;taxicab&quot; error?</p></div><h3><a id=2833 href="#2833">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/20/2002 5:41:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; How do you calculate &quot;taxicab&quot; error?</p><p>What corresponds to rms in L1 (unweighted taxicab) is the median in place of the mean, and the mean of the sum of the absolute values of the deviations from the median in place of rms.</p></div><h3><a id=2845 href="#2845">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/20/2002 6:21:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; &gt; How do you calculate &quot;taxicab&quot; error?<br/>&gt;<br/>&gt; What corresponds to rms in L1 (unweighted taxicab) is the median in<br/>&gt;place of the mean, and the mean of the sum of the absolute values of<br/>&gt;the deviations from the median in place of rms.</p><p>THANK YOU GENE! Can this be applied to a _triangular_, instead of<br/>quadrangular, city-block graph? If so, can you tell be how to apply<br/>that to this lattice metric:</p><p><a href="http://www.kees.cc/tuning/perbl.html">http://www.kees.cc/tuning/perbl.html</a></p><p>Note that the only distances I&apos;m concerned with &quot;accurately<br/>capturing&quot; are those of intervals m:n where m/n is approximately 1.</p></div><h3><a id=2846 href="#2846">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/20/2002 6:48:40 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; THANK YOU GENE! Can this be applied to a _triangular_, instead of<br/>&gt; quadrangular, city-block graph? If so, can you tell be how to apply<br/>&gt; that to this lattice metric:<br/>&gt;<br/>&gt; <a href="http://www.kees.cc/tuning/perbl.html">http://www.kees.cc/tuning/perbl.html</a></p><p>The hexagonal region H consisting of all (m,n) with measure less than or equal to 1 is convex, so this defines a norm for a normed vector space: if v = (m, v) then ||v|| = r is the maximum nonnegative r such that r*v is in H.</p><p>Given a set of vectors {v1, ... , vk} you could then seek to find a vector t which minimizes</p><p>||v1 - t|| + ||v2-t|| + ... + ||vk-t||</p><p>which could be used as a central point, and define error as the minimum value thus achieved.</p></div><h3><a id=2847 href="#2847">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/20/2002 6:52:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; &gt; THANK YOU GENE! Can this be applied to a _triangular_, instead of<br/>&gt; &gt; quadrangular, city-block graph? If so, can you tell be how to<br/>apply<br/>&gt; &gt; that to this lattice metric:<br/>&gt; &gt;<br/>&gt; &gt; <a href="http://www.kees.cc/tuning/perbl.html">http://www.kees.cc/tuning/perbl.html</a><br/>&gt;<br/>&gt; The hexagonal region H consisting of all (m,n) with measure less<br/>than or equal to 1 is convex, so this defines a norm for a normed<br/>vector space: if v = (m, v) then ||v|| = r is the maximum nonnegative<br/>r such that r*v is in H.<br/>&gt;<br/>&gt; Given a set of vectors {v1, ... , vk} you could then seek to find a<br/>vector t which minimizes<br/>&gt;<br/>&gt; ||v1 - t|| + ||v2-t|| + ... + ||vk-t||<br/>&gt;<br/>&gt; which could be used as a central point, and define error as the<br/>minimum value thus achieved.</p><p>I&apos;m not getting this last part. Will it help make my heuristic work?</p></div><h3><a id=2849 href="#2849">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@juno.com&#x3E;</h3><span>1/20/2002 7:22:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; I&apos;m not getting this last part. Will it help make my heuristic work?</p><p>I don&apos;t know. What I&apos;d like to know is what a version of your heuristic would be which applies to sets of commas--is this what you are aiming at?</p></div><h3><a id=2851 href="#2851">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/20/2002 7:50:34 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;genewardsmith&quot; &lt;genewardsmith@j...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; &gt; I&apos;m not getting this last part. Will it help make my heuristic<br/>work?<br/>&gt;<br/>&gt; I don&apos;t know. What I&apos;d like to know is what a version of your<br/>&gt;heuristic would be which applies to sets of commas--is this what you<br/>&gt;are aiming at?</p><p>Eventually. It would probably involve some definition of the dot<br/>product of the commas in a tri-taxicab metric. But I like to start<br/>simple, and perhaps if we can formulate the right error measure in 5-<br/>limit, we can generalize it and use it for 7-limit even without<br/>knowing how one would apply the heuristic.</p></div>