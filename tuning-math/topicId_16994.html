<a href="/tuning-math">back to list</a><h1>Finity of parametric badness</h1><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/9/2008 9:17:30 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I gave a badness function in <a href="http://x31eq.com/primerr.pdf">http://x31eq.com/primerr.pdf</a> that you could write as</p><p>B**2 = det(&lt;M|A_k|M&gt; + (1 - epsilon**2)&lt;M|A_B - A_k|M&gt;)<br/>       ------------------------------------------------<br/>                       &lt;H|A_k|H&gt;</p><p>Where B**2 is badness squared, |M&gt; is the mapping with each equal mapping as a column vector, A_k is a metric giving scalar complexity, epsilon**2 is a small parameter, A_B is a metric giving scalar badness, det() is the determinant, |H&gt; is a column vector with logs of primes, and a bra &lt;..| is the transpose of a ket |..&gt;.</p><p>That can be rearranged to give</p><p>B**2 = det(&lt;M|A_k|M&gt;epsilon**2 + &lt;M|A_B|M&gt;(1-epsilon**2))<br/>       --------------------------------------------------<br/>                         &lt;H|A_k|H&gt;</p><p>Because complexity is generally much larger than the badness (as errors are much smaller than an octave) the parameter on the second term can be ignored:</p><p>B**2 ~ det(&lt;M|A_k|M&gt;epsilon**2 + &lt;M|A_B|M&gt;)<br/>       ------------------------------------<br/>                       &lt;H|A_k|H&gt;</p><p>More strictly, take out the common factor of (1-epsilon**2)</p><p>B**2 ~                  det(&lt;M|A_k|M&gt;E_k**2 + &lt;M|A_B|M&gt;)<br/>       (1-epsilon**2) . --------------------------------<br/>                                 &lt;H|A_k|H&gt;</p><p>Where</p><p>E_k**2 = epsilon**2/(1-epsilon**2)</p><p>is a parameter similar to epsilon**2.  That means the following badness is as good as what we started with:</p><p>B(E_k)**2 = det(&lt;M|A_k|M&gt;E_k**2 + &lt;M|A_B|M&gt;)<br/>            --------------------------------<br/>                       &lt;H|A_k|H&gt;</p><p>For equal temperaments, the determinant is redundant, so this is</p><p>B(E_k)**2 = &lt;M|A_k|M&gt;E_k**2 + &lt;M|A_B|M&gt;<br/>            ----------------------------<br/>                     &lt;H|A_k|H&gt;</p><p>The metrics are defined so that &lt;M|A_k|M&gt;/&lt;H|A_k|H&gt; is scalar complexity and &lt;M|A_B|M&gt;/&lt;H|A_k|H&gt; is scalar badness.   That means</p><p>B(E_k)**2 = k E_k**2 + B</p><p>where k is scalar complexity and B is now the plain badness with epsilon or E_k as zero.</p><p>Now, assume there&apos;s a perfect equal temperament out there with an error of zero.  As scalar badness is error*complexity, its parametric badness is</p><p>B(E_k)**2 = k E_k**2</p><p>Hence the parameter adds a residual badness for zero errors.   That means if you want all equal temperaments with a badness below a given threshold, you can easily set a threshold for the complexity</p><p>B_max(E_k)**2 &lt;= k_max E_k**2</p><p>k_max &gt;= B_max(E_k)**2 / E_k**2</p><p>If errors and complexities are standard deviations instead of RMSs, the complexity is the same as the number of notes to the octave, d.  So the most complex possible equal temperament in the given badness range will have</p><p>d_max = floor(B_max(E_k)**2 / E_k**2)</p><p>The scalar complexity will be slightly different to the STD complexity, but as this temperament&apos;s supposed to have a very small error, you could safely say</p><p>d_max = round(B_max(E_k)**2 / E_k**2)</p><p>for the general case.</p><p>All this is to show that there really is a finite number of temperament classes below a reasonable parametric badness threshold, provided epsilon or E_k is above zero.  I said before that I couldn&apos;t prove it.  For higher rank temperaments there&apos;s a bit of hand-waving involved, saying that the badness of a rank r temperament will be roughly the product of the badnesses of its best r equal temperament instances.  Maybe I&apos;ll deal with that more thoroughly one day.</p><p>Note that the name E_k is to show that the parameter has dimensions of weighted error and is paired with complexity.   You can think of it as the worst error in temperaments you&apos;re interested in because better temperaments will be scored roughly the same as perfect ones.</p><p>                   Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>3/9/2008 10:33:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:<br/>&gt; The metrics are defined so that &lt;M|A_k|M&gt;/&lt;H|A_k|H&gt; is scalar complexity &gt; and &lt;M|A_B|M&gt;/&lt;H|A_k|H&gt; is scalar badness.  That means<br/>&gt; &gt; B(E_k)**2 = k E_k**2 + B</p><p>Bracketed operators should define the squares of measures, so that should have been</p><p>B(E_k)**2 = k**2 E_k**2 + B**2</p><p>For the residual badness it gets simpler</p><p>B(E_k) = k * E_k</p><p>and it follows through for the other equations I gave</p><p>B_max(E_k) &lt;= k_max E_k</p><p>k_max &gt;= B_max(E_k) / E_k</p><p>d_max = floor(B_max(E_k) / E_k)</p><p>d_max = round(B_max(E_k) / E_k)</p><p>(Note that E_k don&apos;t cancel out because the parentheses are for &quot;function of&quot;.)</p><p>                    Graham</p></div>