<a href="/tuning-math">back to list</a><h1>Hermite reduction vs LLL reduction vs "TM" reduction</h1><h3><a id=20226 href="#20226">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/20/2012 1:34:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I saw Graham put this here:</p><p>On Tue, Jan 10, 2012 at 5:56 PM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; That&apos;s the one. I didn&apos;t understand the definitions of Hermite normal form but it turns out I implemented it anyway.</p><p>I&apos;ve since finally gotten my hands on a bonafide Hermite normal form<br/>algorithm, and the thing given by the &quot;reduced&quot; mapping in the<br/>temperament finder doesn&apos;t seem to be it. For example, the Hermite<br/>normal form for meantone is |&lt;1 0 -4| &lt;0 1 4|&gt;, with a generator of<br/>3/1, whereas the one on your site is 4/3. But it&apos;s definitely<br/>interesting, whatever it is. What is it?</p><p>The form I prefer for mappings is the one that expresses meantone as<br/>|&lt;1 1 0| &lt;0 1 4|&gt;. That is, I like the one in which the vals are as<br/>close to the zero vector as possible. This is another way of saying<br/>that what I really want is a &quot;basis&quot; for the lattice formed by the<br/>vals which is in a sense &quot;minimal.&quot; The reason I like this is because<br/>it makes the mental work of interpreting the mapping as little as<br/>possible: there&apos;s less mental arithmetic that you need to perform to<br/>figure out what&apos;s going on if the numbers involved are as small as<br/>possible. So what sort of form is this?</p><p>I thought it might be LLL, but it&apos;s not. LLL is |&lt;-1 -1 0| &lt;1 0 -4|&gt;.<br/>I see there&apos;s something in the archives called &quot;TM Reduction&quot;, which<br/>is apparently really Minkowski reduction, but I can&apos;t figure out what<br/>that is. Is this related to that?</p><p>-Mike</p></div><h3><a id=20227 href="#20227">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/20/2012 2:00:14 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Jan 20, 2012 at 4:34 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; I thought it might be LLL, but it&apos;s not. LLL is |&lt;-1 -1 0| &lt;1 0 -4|&gt;.<br/>&gt; I see there&apos;s something in the archives called &quot;TM Reduction&quot;, which<br/>&gt; is apparently really Minkowski reduction, but I can&apos;t figure out what<br/>&gt; that is. Is this related to that?</p><p>It looks like what I want is something like Minkowski reduction, with<br/>the basis vectors then stuffed into a matrix and sorted so that it&apos;s<br/>upper triangular. But neither MATLAB nor Maple seems to have Minkowski<br/>reduction in it, which I assume is because this is a major pain in the<br/>ass to compute. Is that right?</p><p>-Mike</p></div><h3><a id=20228 href="#20228">ðŸ”—</a>gbreed@gmail.com</h3><span>1/20/2012 6:51:21 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The reduced mapping isn&apos;t hermite for rank two.  You get the smallest positive generator instead.<br/>TM reduction is the smallest basis according to Tenney weighting.<br/>Cangwu reduction would be interesting. For mapping space, you&apos;d get the best linearly independent equal temperaments. It&apos;s a unimodular matrix. The inverse is a set of potential unison vectors.</p><p>----------<br/>Sent from my Nokia phone</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Friday, January 20, 2012 4:34:53 AM GMT-0500<br/>Subject: [tuning-math] Hermite reduction vs LLL reduction vs &quot;TM&quot; reduction</p><p>I saw Graham put this here:</p><p>On Tue, Jan 10, 2012 at 5:56 PM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; That&apos;s the one. I didn&apos;t understand the definitions of Hermite normal form but it turns out I implemented it anyway.</p><p>I&apos;ve since finally gotten my hands on a bonafide Hermite normal form<br/>algorithm, and the thing given by the &quot;reduced&quot; mapping in the<br/>temperament finder doesn&apos;t seem to be it. For example, the Hermite<br/>normal form for meantone is |&lt;1 0 -4| &lt;0 1 4|&gt;, with a generator of<br/>3/1, whereas the one on your site is 4/3. But it&apos;s definitely<br/>interesting, whatever it is. What is it?</p><p>The form I prefer for mappings is the one that expresses meantone as<br/>|&lt;1 1 0| &lt;0 1 4|&gt;. That is, I like the one in which the vals are as<br/>close to the zero vector as possible. This is another way of saying<br/>that what I really want is a &quot;basis&quot; for the lattice formed by the<br/>vals which is in a sense &quot;minimal.&quot; The reason I like this is because<br/>it makes the mental work of interpreting the mapping as little as<br/>possible: there&apos;s less mental arithmetic that you need to perform to<br/>figure out what&apos;s going on if the numbers involved are as small as<br/>possible. So what sort of form is this?</p><p>I thought it might be LLL, but it&apos;s not. LLL is |&lt;-1 -1 0| &lt;1 0 -4|&gt;.<br/>I see there&apos;s something in the archives called &quot;TM Reduction&quot;, which<br/>is apparently really Minkowski reduction, but I can&apos;t figure out what<br/>that is. Is this related to that?</p><p>-Mike</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20230 href="#20230">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/20/2012 12:34:10 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Jan 20, 2012 at 9:51 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; The reduced mapping isn&apos;t hermite for rank two. You get the smallest positive generator instead.</p><p>Do you figure this out by going to Hermite form first, and then<br/>performing row operations until you&apos;re happy?</p><p>&gt; TM reduction is the smallest basis according to Tenney weighting.<br/>&gt; Cangwu reduction would be interesting. For mapping space, you&apos;d get the best linearly independent equal temperaments. It&apos;s a unimodular matrix. The inverse is a set of potential unison vectors.</p><p>I thought that only square matrices can be unimodular?</p><p>-Mike</p></div><h3><a id=20231 href="#20231">ðŸ”—</a>gbreed@gmail.com</h3><span>1/20/2012 1:07:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>It&apos;s fairly easy to get the period/generator mapping for rank two. One method involves the extended euclidean algorithm.<br/>Reduce the identity matrix according to cangwu badness and you&apos;ll get a square matrix.</p><p>----------<br/>Sent from my Nokia phone</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Friday, January 20, 2012 3:34:10 PM GMT-0500<br/>Subject: Re: [tuning-math] Hermite reduction vs LLL reduction vs &quot;TM&quot; reduction</p><p>On Fri, Jan 20, 2012 at 9:51 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; The reduced mapping isn&apos;t hermite for rank two. You get the smallest positive generator instead.</p><p>Do you figure this out by going to Hermite form first, and then<br/>performing row operations until you&apos;re happy?</p><p>&gt; TM reduction is the smallest basis according to Tenney weighting.<br/>&gt; Cangwu reduction would be interesting. For mapping space, you&apos;d get the best linearly independent equal temperaments. It&apos;s a unimodular matrix. The inverse is a set of potential unison vectors.</p><p>I thought that only square matrices can be unimodular?</p><p>-Mike</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20232 href="#20232">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/20/2012 2:23:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Jan 20, 2012 at 4:07 PM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; It&apos;s fairly easy to get the period/generator mapping for rank two. One method involves the extended euclidean algorithm.<br/>&gt; Reduce the identity matrix according to cangwu badness and you&apos;ll get a square matrix.</p><p>Alright, I&apos;ll rephrase. The set of all matrices that share the same<br/>Hermite normal form is a group under addition. I want to find the<br/>matrix in this group with the lowest Frobenius distance; that is, the<br/>one in which the sum of the squares of the coefficients in the matrix<br/>is as small as possible, under the constraint that the rows remain<br/>linearly independent (so no zero vals). Is there a name for this type<br/>of lattice reduction?</p><p>Also, the way I&apos;ve phrased the question above has transformed this<br/>into a least squares problem, so it can&apos;t be impossibly hard to<br/>compute.</p><p>-Mike</p></div><h3><a id=20233 href="#20233">ðŸ”—</a>gbreed@gmail.com</h3><span>1/20/2012 2:48:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Unfortunately no lattice reduction is easy to compute in the general case. LLL is good and tries to do what you say. But it falls short for reasons of practicality. I believe Minkowski is the ideal equivalent. Simple to define but hard to calculate.</p><p>----------<br/>Sent from my Nokia phone</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Friday, January 20, 2012 5:23:43 PM GMT-0500<br/>Subject: Re: Re: [tuning-math] Hermite reduction vs LLL reduction vs &quot;TM&quot; reduction</p><p>On Fri, Jan 20, 2012 at 4:07 PM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; It&apos;s fairly easy to get the period/generator mapping for rank two. One method involves the extended euclidean algorithm.<br/>&gt; Reduce the identity matrix according to cangwu badness and you&apos;ll get a square matrix.</p><p>Alright, I&apos;ll rephrase. The set of all matrices that share the same<br/>Hermite normal form is a group under addition. I want to find the<br/>matrix in this group with the lowest Frobenius distance; that is, the<br/>one in which the sum of the squares of the coefficients in the matrix<br/>is as small as possible, under the constraint that the rows remain<br/>linearly independent (so no zero vals). Is there a name for this type<br/>of lattice reduction?</p><p>Also, the way I&apos;ve phrased the question above has transformed this<br/>into a least squares problem, so it can&apos;t be impossibly hard to<br/>compute.</p><p>-Mike</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div>