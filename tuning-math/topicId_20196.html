<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math Properties of Vals assigned to the Stern-Brocot Tree</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>Properties of Vals assigned to the Stern-Brocot Tree</h1><h3><a id=20196 href="#20196">ðŸ”—</a>Ryan Avella &#x3C;domeofatonement@yahoo.com&#x3E;</h3><span>1/17/2012 6:39:40 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Suppose we have three vals, where each of the 3 entries within a val corresponds to the number of generators necessary to reach primes 2/1, 3/1 and 5/1:</p><p>V1 = &lt;0 A B|<br/>V2 = &lt;0 C D|<br/>V3 = &lt;0 (A+C) (B+D)|</p><p>Where A/B and C/D are a farey pair, and therefore |AD-BC| = 1.  These vals can then be assigned to a stern brocot tree, such that V3 is the freshman sum of V1 and V2, and one level below V1 and V2.</p><p>The simplest commas being tempered out by each of these are, respectively:<br/>M1 = |* B -A&gt;<br/>M2 = |* D -C&gt;<br/>M3 = |* (B+D) -(C+A)&gt;</p><p>Where * represents an unknown power of two.</p><p>HYPOTHESIS:<br/>M1 and M2 are both generators for the temperament with comma M3.</p><p>PROOF:<br/>What follows is a proof that M1 and M2 are both generators for the temperament which tempers out M3.  I will only look at the case of M1 as the generator, because A/B and C/D are interchangeable as farey pairs.  Therefore if M1 is a generator, M2 must also be a generator.</p><p>Let us define the Identity matrix as the following 3x3 matrix:<br/>(2 3 5)<br/>[0 0 0]<br/>[0 1 0]<br/>[0 0 1]</p><p>Where the columns represent powers of 2, 3 and 5, and where the rows represent the number of generators.  This matrix represents all possible 5-limit ratios in the 2.3.5 lattice.</p><p>If we multiply each entry in the monzo of M1 by each entry in the val V3 (a.k.a. the outer product), this will give us a 3x3 matrix.  Now if M1 is a valid generator for the temperament with comma M3, this means that the resulting 3x3 matrix will be identical to the Identity Matrix, with discrepancies accounted for by comma shifts and octave-equivalency.  (e.g. in meantone, 81/16 is considered the same as 5/1, and 3/2 is considered to be the same as 3/1)</p><p>So to account for these discrepancies caused by comma shifts, we must subtract another 3x3 matrix from the outer product of M1 and V3.  We will define this comma-matrix as the outer product between M3 (our comma) and V0, an unknown val.</p><p>Therefore we are left with the following equation:<br/>M1V3 - M3V0 = +/- Identity Matrix</p><p>As long as we can find a val for V0 which satisfies the above equation, our hypothesis is trivially true.  The entries of this val must be integers, however, because the distance between a stack of generators and a prime must be a whole number of commas.</p><p>If we substitute -V1 for V0, and skip a couple of simple algebraic steps, we get the following on the left hand side of the equation:</p><p>[0 0 0]<br/>[0 J 0]<br/>[0 0 J]</p><p>Where J = BC - AD.</p><p>As we can see, the absolute value of this matrix is equal to the identity matrix, because we know that J = AD - BC = +/- 1.  Therefore our hypothesis is true --- M1 and M2 are both valid generators for the temperament with comma M3.</p><p>-Ryan</p></div><h3><a id=20197 href="#20197">ðŸ”—</a>Ryan Avella &#x3C;domeofatonement@yahoo.com&#x3E;</h3><span>1/18/2012 12:21:57 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike told me that it is easier to prove this by using the inner product instead of the outer product.  So here is the easier proof:</p><p>V1 = &lt;0 A B|<br/>V2 = &lt;0 C D|<br/>V3 = &lt;0 (A+C) (B+D)|</p><p>M1 = |* B -A&gt;<br/>M2 = |* D -C&gt;<br/>M3 = |* (B+D) -(C+A)&gt;</p><p>To prove that M1 is a generator for M3, we can take the inner product to see how many generators it maps to.</p><p>&lt;M1|V3&gt; = # Generators<br/>&lt;* B -A|0 (A+C) (B+D)&gt; = #Generators<br/>0 + B(A+C) - A(B+D) = #Generators<br/>AB + BC - AB - AD = #Generators<br/>#Generators = BC - AD<br/>#Generators = +/- 1</p><p>Therefore, M1 is a valid generator for the temperament which tempers out M3.  And because A/B and C/D are interchangeable farey pairs, M2 is also a valid generator.</p><p>-Ryan</p></div><h3><a id=20198 href="#20198">ðŸ”—</a>gbreed@gmail.com</h3><span>1/18/2012 1:29:31 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>That looks right because the Stern-Brocot tree can show generator:period ratios. The prime number three doesn&apos;t make it special though. What&apos;s your purpose in detailing it here?</p><p>        Graham</p><p>------Original message------<br/>From: Ryan Avella &lt;<a href="mailto:domeofatonement@yahoo.com">domeofatonement@yahoo.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Wednesday, January 18, 2012 2:39:40 AM GMT-0000<br/>Subject: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>Suppose we have three vals, where each of the 3 entries within a val corresponds to the number of generators necessary to reach primes 2/1, 3/1 and 5/1:</p><p>V1 = &lt;0 A B|<br/>V2 = &lt;0 C D|<br/>V3 = &lt;0 (A+C) (B+D)|</p><p>Where A/B and C/D are a farey pair, and therefore |AD-BC| = 1.  These vals can then be assigned to a stern brocot tree, such that V3 is the freshman sum of V1 and V2, and one level below V1 and V2.</p><p>The simplest commas being tempered out by each of these are, respectively:<br/>M1 = |* B -A&gt;<br/>M2 = |* D -C&gt;<br/>M3 = |* (B+D) -(C+A)&gt;</p><p>Where * represents an unknown power of two.</p><p>HYPOTHESIS:<br/>M1 and M2 are both generators for the temperament with comma M3.</p><p>PROOF:<br/>What follows is a proof that M1 and M2 are both generators for the temperament which tempers out M3.  I will only look at the case of M1 as the generator, because A/B and C/D are interchangeable as farey pairs.  Therefore if M1 is a generator, M2 must also be a generator.</p><p>Let us define the Identity matrix as the following 3x3 matrix:<br/>(2 3 5)<br/>[0 0 0]<br/>[0 1 0]<br/>[0 0 1]</p><p>Where the columns represent powers of 2, 3 and 5, and where the rows represent the number of generators.  This matrix represents all possible 5-limit ratios in the 2.3.5 lattice.</p><p>If we multiply each entry in the monzo of M1 by each entry in the val V3 (a.k.a. the outer product), this will give us a 3x3 matrix.  Now if M1 is a valid generator for the temperament with comma M3, this means that the resulting 3x3 matrix will be identical to the Identity Matrix, with discrepancies accounted for by comma shifts and octave-equivalency.  (e.g. in meantone, 81/16 is considered the same as 5/1, and 3/2 is considered to be the same as 3/1)</p><p>So to account for these discrepancies caused by comma shifts, we must subtract another 3x3 matrix from the outer product of M1 and V3.  We will define this comma-matrix as the outer product between M3 (our comma) and V0, an unknown val.</p><p>Therefore we are left with the following equation:<br/>M1V3 - M3V0 = +/- Identity Matrix</p><p>As long as we can find a val for V0 which satisfies the above equation, our hypothesis is trivially true.  The entries of this val must be integers, however, because the distance between a stack of generators and a prime must be a whole number of commas.</p><p>If we substitute -V1 for V0, and skip a couple of simple algebraic steps, we get the following on the left hand side of the equation:</p><p>[0 0 0]<br/>[0 J 0]<br/>[0 0 J]</p><p>Where J = BC - AD.</p><p>As we can see, the absolute value of this matrix is equal to the identity matrix, because we know that J = AD - BC = +/- 1.  Therefore our hypothesis is true --- M1 and M2 are both valid generators for the temperament with comma M3.</p><p>-Ryan</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20199 href="#20199">ðŸ”—</a>Ryan Avella &#x3C;domeofatonement@yahoo.com&#x3E;</h3><span>1/18/2012 10:59:55 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; That looks right because the Stern-Brocot tree can show generator:period ratios. The prime number three doesn&apos;t make it special though. What&apos;s your purpose in detailing it here?<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>I&apos;m not sure what you mean about the prime number 3.  Are you saying that my choices of primes are arbitrary?  Because if that is what you meant to say, you would be correct.  I could choose any two primes in addition to 2/1 and still come up with the same results.</p><p>I&apos;m not sure what you mean about the generator:period ratios though.  As far as I know, the stern-brocot tree is generally used for JI and MOS structures, and has not been used for assigning vals.</p><p>-Ryan</p></div><h3><a id=20200 href="#20200">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/18/2012 11:22:33 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Excellent work!  This is handy for a number of things, including<br/>the generalized diatonic search I described recently.  -Carl</p><p>Ryan wrote:  //two posts spliced together</p><p>&gt;Suppose we have three vals, where each of the 3 entries within a val<br/>&gt;corresponds to the number of generators necessary to reach primes 2/1,<br/>&gt;3/1 and 5/1:<br/>&gt;<br/>&gt;V1 = &lt;0 A B|<br/>&gt;V2 = &lt;0 C D|<br/>&gt;V3 = &lt;0 (A+C) (B+D)|<br/>&gt;<br/>&gt;Where A/B and C/D are a farey pair, and therefore |AD-BC| = 1.  These<br/>&gt;vals can then be assigned to a stern brocot tree, such that V3 is the<br/>&gt;freshman sum of V1 and V2, and one level below V1 and V2.<br/>&gt;<br/>&gt;The simplest commas being tempered out by each of these are, respectively:<br/>&gt;M1 = |* B -A&gt;<br/>&gt;M2 = |* D -C&gt;<br/>&gt;M3 = |* (B+D) -(C+A)&gt;<br/>&gt;<br/>&gt;Where * represents an unknown power of two.<br/>&gt;<br/>&gt;HYPOTHESIS:<br/>&gt;M1 and M2 are both generators for the temperament with comma M3.<br/>&gt;<br/>&gt;PROOF:  //splice!<br/>&gt;To prove that M1 is a generator for M3, we can take the inner product<br/>&gt;to see how many generators it maps to.<br/>&gt;<br/>&gt;&lt;M1|V3&gt; = # Generators<br/>&gt;&lt;* B -A|0 (A+C) (B+D)&gt; = #Generators<br/>&gt;0 + B(A+C) - A(B+D) = #Generators<br/>&gt;AB + BC - AB - AD = #Generators<br/>&gt;#Generators = BC - AD<br/>&gt;#Generators = +/- 1<br/>&gt;<br/>&gt;Therefore, M1 is a valid generator for the temperament which tempers<br/>&gt;out M3.  And because A/B and C/D are interchangeable farey pairs, M2<br/>&gt;is also a valid generator.</p></div><h3><a id=20201 href="#20201">ðŸ”—</a>gbreed@gmail.com</h3><span>1/18/2012 11:24:56 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Yes the Stern-Brocot tree is used with MOS scales. But the generator of a linear temperament is also the generator of an MOS. What you&apos;ve shown is a special case where the generator matches a prime.</p><p>        Graham</p><p>------Original message------<br/>From: Ryan Avella &lt;<a href="mailto:domeofatonement@yahoo.com">domeofatonement@yahoo.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Wednesday, January 18, 2012 6:59:55 PM GMT-0000<br/>Subject: [tuning-math] Re: Properties of Vals assigned to the Stern-Brocot Tree</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; That looks right because the Stern-Brocot tree can show generator:period ratios. The prime number three doesn&apos;t make it special though. What&apos;s your purpose in detailing it here?<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>I&apos;m not sure what you mean about the prime number 3.  Are you saying that my choices of primes are arbitrary?  Because if that is what you meant to say, you would be correct.  I could choose any two primes in addition to 2/1 and still come up with the same results.</p><p>I&apos;m not sure what you mean about the generator:period ratios though.  As far as I know, the stern-brocot tree is generally used for JI and MOS structures, and has not been used for assigning vals.</p><p>-Ryan</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20202 href="#20202">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/18/2012 5:17:04 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Wed, Jan 18, 2012 at 4:29 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; That looks right because the Stern-Brocot tree can show generator:period ratios. The prime number three doesn&apos;t make it special though. What&apos;s your purpose in detailing it here?</p><p>These aren&apos;t generator:period ratios, they&apos;re monzos. He&apos;s taking<br/>octave-equivalent monzos as commas (or 3.5 monzos), and taking the<br/>coefficients for the e3 and e5 basis elements, and then turning them<br/>into e3/e5 fractions on the Stern-Brocot tree. Then he figured out<br/>that, for any pair of ratios which are adjacent on the tree - e.g.<br/>which are a Farey pair - one ratio is a generator for the temperament<br/>that eliminates the other. Which is pretty neat, I think.</p><p>I was thinking about how we could extend this to higher-dimensional<br/>temperaments. The interesting thing is that any fractions which are a<br/>Farey pair end up forming a unimodular matrix if you perform the<br/>following operation: if a/b and c/d are a Farey pair, then &lt;|a b&gt; |c<br/>d&gt;| is unimodular.</p><p>This opens up the question: does this principle apply for arbitrary<br/>temperaments of arbitrary rank and limit? If you work with 11-limit<br/>octave-inequivalent temperaments, will this still hold for any<br/>collection of commas which forms a unimodular matrix in the same way,<br/>that the ones you don&apos;t temper out are generators for the temperament<br/>defined by the ones that you do?</p><p>The answer is yes. If you&apos;ve managed to form a unimodular matrix,<br/>you&apos;ve managed to form something that has a valid basis for the entire<br/>limit, without any saturation or contorsion issues, by definition. So<br/>if you take a collection of monzos in the p-limit that forms such a JI<br/>basis, and then you temper out some number of them, the remaning ones<br/>can generate the rest of the JI lattice besides the things you just<br/>tempered out by definition.</p><p>So it&apos;s a very neat concept. Yay unimodularity!</p><p>-Mike</p></div><h3><a id=20203 href="#20203">ðŸ”—</a>gbreed@gmail.com</h3><span>1/18/2012 11:35:53 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I know exactly what he did and I explained why it works. I also know how to find the generator:period ratio for an arbitrary pair of vals. What I don&apos;t see is a question that needs a new answer</p><p>        Graham</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Wednesday, January 18, 2012 8:17:04 PM GMT-0500<br/>Subject: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>On Wed, Jan 18, 2012 at 4:29 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; That looks right because the Stern-Brocot tree can show generator:period ratios. The prime number three doesn&apos;t make it special though. What&apos;s your purpose in detailing it here?</p><p>These aren&apos;t generator:period ratios, they&apos;re monzos. He&apos;s taking<br/>octave-equivalent monzos as commas (or 3.5 monzos), and taking the<br/>coefficients for the e3 and e5 basis elements, and then turning them<br/>into e3/e5 fractions on the Stern-Brocot tree. Then he figured out<br/>that, for any pair of ratios which are adjacent on the tree - e.g.<br/>which are a Farey pair - one ratio is a generator for the temperament<br/>that eliminates the other. Which is pretty neat, I think.</p><p>I was thinking about how we could extend this to higher-dimensional<br/>temperaments. The interesting thing is that any fractions which are a<br/>Farey pair end up forming a unimodular matrix if you perform the<br/>following operation: if a/b and c/d are a Farey pair, then &lt;|a b&gt; |c<br/>d&gt;| is unimodular.</p><p>This opens up the question: does this principle apply for arbitrary<br/>temperaments of arbitrary rank and limit? If you work with 11-limit<br/>octave-inequivalent temperaments, will this still hold for any<br/>collection of commas which forms a unimodular matrix in the same way,<br/>that the ones you don&apos;t temper out are generators for the temperament<br/>defined by the ones that you do?</p><p>The answer is yes. If you&apos;ve managed to form a unimodular matrix,<br/>you&apos;ve managed to form something that has a valid basis for the entire<br/>limit, without any saturation or contorsion issues, by definition. So<br/>if you take a collection of monzos in the p-limit that forms such a JI<br/>basis, and then you temper out some number of them, the remaning ones<br/>can generate the rest of the JI lattice besides the things you just<br/>tempered out by definition.</p><p>So it&apos;s a very neat concept. Yay unimodularity!</p><p>-Mike</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20204 href="#20204">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>1/19/2012 12:27:35 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; The answer is yes. If you&apos;ve managed to form a unimodular matrix,<br/>&gt; you&apos;ve managed to form something that has a valid basis for the entire<br/>&gt; limit, without any saturation or contorsion issues, by definition. So<br/>&gt; if you take a collection of monzos in the p-limit that forms such a JI<br/>&gt; basis, and then you temper out some number of them, the remaning ones<br/>&gt; can generate the rest of the JI lattice besides the things you just<br/>&gt; tempered out by definition.<br/>&gt;<br/>&gt; So it&apos;s a very neat concept. Yay unimodularity!</p><p>There are a bunch of postings on this sort of thing in the archives of this list. If someone wants to experiment with this, an example would be the comma list [441/440, 896/891, 176/175, 540/539, 385/384]. Take the monzo matrix for this, invert it, and transpose, and you get the patent val list [22, 31, 41, 46, 58]. So, for example, 22&amp;31 gives orwell, and referring to the comma list, we see it must have 176/175, 540/539 and 385/384 as commas, and 441/440 and 896/891 as generators.</p></div><h3><a id=20205 href="#20205">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/19/2012 12:35:54 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Jan 19, 2012 at 2:35 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; I know exactly what he did and I explained why it works.</p><p>It seemed like you were saying that he was only showing cases where<br/>generators match primes, but I don&apos;t see how that&apos;s true. How can<br/>looking at octave-equivalent commas and plotting them on the<br/>Stern-Brocot tree only yield generators that match primes? What about<br/>something like porcupine?</p><p>&gt; I also know how to find the generator:period ratio for an arbitrary pair of vals.</p><p>I don&apos;t get this either. An arbitrary pair of vals ought to be able to<br/>have any generator:period ratio, shouldn&apos;t it? I can tune the<br/>generator to the pair of vals |&lt;1 1 0| &lt;0 1 4|&gt; to anything I want.</p><p>&gt; What I don&apos;t see is a question that needs a new answer</p><p>Well, that&apos;s two above for you.</p><p>-Mike</p></div><h3><a id=20206 href="#20206">ðŸ”—</a>Ryan Avella &#x3C;domeofatonement@yahoo.com&#x3E;</h3><span>1/19/2012 12:51:12 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; I know exactly what he did and I explained why it works. I also know how to find the generator:period ratio for an arbitrary pair of vals. What I don&apos;t see is a question that needs a new answer<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>What do you mean by &quot;generator:period&quot; ratio?  I never mentioned the word &quot;period&quot; once in my post, and I don&apos;t see what that has to do with anything at all.</p><p>Ryan</p></div><h3><a id=20207 href="#20207">ðŸ”—</a>gbreed@gmail.com</h3><span>1/19/2012 1:17:25 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>For the strict case of a linear temperament, the period equals the octave. Sometimes, though, the octave gets divided into equal parts called periods. Try 10&amp;12. You&apos;ll get a two where you expected a one but follow it through.</p><p>        Graham</p><p>------Original message------<br/>From: Ryan Avella &lt;<a href="mailto:domeofatonement@yahoo.com">domeofatonement@yahoo.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Thursday, January 19, 2012 8:51:12 AM GMT-0000<br/>Subject: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; I know exactly what he did and I explained why it works. I also know how to find the generator:period ratio for an arbitrary pair of vals. What I don&apos;t see is a question that needs a new answer<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>What do you mean by &quot;generator:period&quot; ratio?  I never mentioned the word &quot;period&quot; once in my post, and I don&apos;t see what that has to do with anything at all.</p><p>Ryan</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20208 href="#20208">ðŸ”—</a>gbreed@gmail.com</h3><span>1/19/2012 1:22:12 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The special case he defined is where the generator is a prime. If you know the rules for the general case, the validity of the special case is obvious.</p><p>        Graham</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Thursday, January 19, 2012 3:35:54 AM GMT-0500<br/>Subject: Re: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>On Thu, Jan 19, 2012 at 2:35 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; I know exactly what he did and I explained why it works.</p><p>It seemed like you were saying that he was only showing cases where<br/>generators match primes, but I don&apos;t see how that&apos;s true. How can<br/>looking at octave-equivalent commas and plotting them on the<br/>Stern-Brocot tree only yield generators that match primes? What about<br/>something like porcupine?</p><p>&gt; I also know how to find the generator:period ratio for an arbitrary pair of vals.</p><p>I don&apos;t get this either. An arbitrary pair of vals ought to be able to<br/>have any generator:period ratio, shouldn&apos;t it? I can tune the<br/>generator to the pair of vals |&lt;1 1 0| &lt;0 1 4|&gt; to anything I want.</p><p>&gt; What I don&apos;t see is a question that needs a new answer</p><p>Well, that&apos;s two above for you.</p><p>-Mike</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20209 href="#20209">ðŸ”—</a>Ryan Avella &#x3C;domeofatonement@yahoo.com&#x3E;</h3><span>1/19/2012 1:39:28 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; The special case he defined is where the generator is a prime. If you know the rules for the general case, the validity of the special case is obvious.<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>I am not sure why you keep insisting that my case is a special case with primes.  But here is an example where the generator is not a prime:</p><p>On the Stern-Brocot tree, we can assign Bug to the position 2/3 and Porcupine to the position 3/5.  Porcupine is thus the &quot;child&quot; of Bug.  Therefore, according to the theorem, 250/243 is a valid generator for Bug, and 27/25 is a valid generator for Porcupine.  Neither of these generators are primes however.</p><p>Ryan</p></div><h3><a id=20210 href="#20210">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/19/2012 1:43:44 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Jan 19, 2012 at 4:22 AM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; The special case he defined is where the generator is a prime. If you know the rules for the general case, the validity of the special case is obvious.</p><p>I still don&apos;t get why you say this. He noted that for any two<br/>octave-equivalent, 5-limit commas, if you assign commas like |* a b&gt;<br/>to fractions of the form b/a on the Stern-Brocot tree, that any two<br/>fractions which are adjacent have the relationship that the monzo<br/>defined by one is a generator for the temperament defined by the monzo<br/>defined by the other. Which is true, because the more general rule is<br/>that the two underlying monzos will form a unimodular matrix, and<br/>everything I said in my initial reply to you still holds.</p><p>So I don&apos;t see what generators having to be primes has to do with<br/>anything. Ryan noticed this pattern for the limited special case of<br/>octave-equivalent, 5-limit monzos, which can be expressed by 2<br/>coordinates, but this is true in general for any set of monzos which<br/>defines a unimodular matrix. For octave-equivalent, 5-limit monzos,<br/>which is what Ryan&apos;s example was, it holds even if you&apos;re comparing<br/>non-prime monzos, like porcupine and bug temperament - porcupine being<br/>a &quot;child&quot; of bug on the SB tree. 27/25 is a generator of the<br/>temperament that eliminates 250/243, and 250/243 is a generator of the<br/>temperament that eliminates 27/25. What generator here is a prime?</p><p>-Mike</p></div><h3><a id=20211 href="#20211">ðŸ”—</a>gbreed@gmail.com</h3><span>1/19/2012 5:23:16 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Sorry, I wasn&apos;t reading carefully. Your condition is |AD - BC| = 1 and I&apos;m not sure what that means.  I don&apos;t know why you have vals with an octave part of zero. It looks like you define A/B and C/D to be generator/period ratios but it can&apos;t be that. I&apos;m back to a position of not understanding.</p><p>        Graham</p><p>------Original message------<br/>From: Ryan Avella &lt;<a href="mailto:domeofatonement@yahoo.com">domeofatonement@yahoo.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Thursday, January 19, 2012 9:39:28 AM GMT-0000<br/>Subject: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; The special case he defined is where the generator is a prime. If you know the rules for the general case, the validity of the special case is obvious.<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>I am not sure why you keep insisting that my case is a special case with primes.  But here is an example where the generator is not a prime:</p><p>On the Stern-Brocot tree, we can assign Bug to the position 2/3 and Porcupine to the position 3/5.  Porcupine is thus the &quot;child&quot; of Bug.  Therefore, according to the theorem, 250/243 is a valid generator for Bug, and 27/25 is a valid generator for Porcupine.  Neither of these generators are primes however.</p><p>Ryan</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20212 href="#20212">ðŸ”—</a>gbreed@gmail.com</h3><span>1/19/2012 6:00:07 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Oh I think I get it again. V3 is the generator mapping and M1 is the unison vector. Then you look for a vector of a single generator step and show that it&apos;s tied to the SB  tree.<br/>That is clever. Vals have been linked to the SB tree but not like this.</p><p>        Graham</p><p>------Original message------<br/>From: Ryan Avella &lt;<a href="mailto:domeofatonement@yahoo.com">domeofatonement@yahoo.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Thursday, January 19, 2012 9:39:28 AM GMT-0000<br/>Subject: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; The special case he defined is where the generator is a prime. If you know the rules for the general case, the validity of the special case is obvious.<br/>&gt;<br/>&gt;<br/>&gt;         Graham</p><p>I am not sure why you keep insisting that my case is a special case with primes.  But here is an example where the generator is not a prime:</p><p>On the Stern-Brocot tree, we can assign Bug to the position 2/3 and Porcupine to the position 3/5.  Porcupine is thus the &quot;child&quot; of Bug.  Therefore, according to the theorem, 250/243 is a valid generator for Bug, and 27/25 is a valid generator for Porcupine.  Neither of these generators are primes however.</p><p>Ryan</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20213 href="#20213">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>1/19/2012 10:11:36 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; Oh I think I get it again. V3 is the generator mapping and M1 is the unison vector. Then you look for a vector of a single generator step and show that it&apos;s tied to the SB  tree.<br/>&gt; That is clever. Vals have been linked to the SB tree but not like this.</p><p>You don&apos;t actually need link to the SB tree to extract commas from the generator list; you can use the wedgie method from here:<br/><a href="http://xenharmonic.wikispaces.com/The+wedgie">http://xenharmonic.wikispaces.com/The+wedgie</a><br/>or linear algebra methods.</p><p>Suppose we want to find the comma for the chain &lt;0 1 4|. We can look at a basis for what is tempered out, {2, 81/5}. We can octave-reduce 81/5 to 81/80, and ditch the 2, and there we are. This works just as well for &lt;0 1 4 10|, etc. Alternatively, we can wedge &lt;1 log2(3) log2(5)| with &lt;0 1 4|, getting &lt;&lt;1 4 4.0179||; rounding that off gives &lt;&lt;1 4 4||, and taking the dual gives |4 -4 1&gt;. Again, it extends to higher limits, except now you just keep the wedgie. I&apos;ve gotten the two provably complete temperament lists (with more to come) using this sort of thing.</p></div><h3><a id=20214 href="#20214">ðŸ”—</a>gbreed@gmail.com</h3><span>1/19/2012 12:36:02 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Yes, I thought we&apos;d both known that for several years. What&apos;s new here is the algorithm for finding a single generator. You can derive it algebraically but it&apos;s clever that it relates to the tree. I&apos;m not sure how it generalizes to higher dimensions.</p><p>        Graham</p><p>------Original message------<br/>From: genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Thursday, January 19, 2012 6:11:36 PM GMT-0000<br/>Subject: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;gbreed@...&quot; &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; Oh I think I get it again. V3 is the generator mapping and M1 is the unison vector. Then you look for a vector of a single generator step and show that it&apos;s tied to the SB  tree.<br/>&gt; That is clever. Vals have been linked to the SB tree but not like this.</p><p>You don&apos;t actually need link to the SB tree to extract commas from the generator list; you can use the wedgie method from here:<br/><a href="http://xenharmonic.wikispaces.com/The+wedgie">http://xenharmonic.wikispaces.com/The+wedgie</a><br/>or linear algebra methods.</p><p>Suppose we want to find the comma for the chain &lt;0 1 4|. We can look at a basis for what is tempered out, {2, 81/5}. We can octave-reduce 81/5 to 81/80, and ditch the 2, and there we are. This works just as well for &lt;0 1 4 10|, etc. Alternatively, we can wedge &lt;1 log2(3) log2(5)| with &lt;0 1 4|, getting &lt;&lt;1 4 4.0179||; rounding that off gives &lt;&lt;1 4 4||, and taking the dual gives |4 -4 1&gt;. Again, it extends to higher limits, except now you just keep the wedgie. I&apos;ve gotten the two provably complete temperament lists (with more to come) using this sort of thing.</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20215 href="#20215">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/19/2012 1:00:21 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Jan 19, 2012, at 3:36 PM, &quot;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&quot; &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:</p><p>Yes, I thought we&apos;d both known that for several years. What&apos;s new here is<br/>the algorithm for finding a single generator. You can derive it<br/>algebraically but it&apos;s clever that it relates to the tree. I&apos;m not sure how<br/>it generalizes to higher dimensions.</p><p>See my response about unimodularity.</p><p>-Mike</p></div><h3><a id=20216 href="#20216">ðŸ”—</a>gbreed@gmail.com</h3><span>1/19/2012 1:34:28 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Unimodular matrices are another old idea. They give you a new basis for JI. I think Gene called them a notation.<br/>You&apos;ll have to remind me if there was anything else in one of your messages. I&apos;ve got a small screen. It&apos;s easy to miss things.</p><p>        Graham</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &quot;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&quot; &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Thursday, January 19, 2012 4:00:21 PM GMT-0500<br/>Subject: Re: [tuning-math] Properties of Vals assigned to the Stern-Brocot Tree</p><p>On Jan 19, 2012, at 3:36 PM, &quot;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&quot; &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:</p><p>Yes, I thought we&apos;d both known that for several years. What&apos;s new here is<br/>the algorithm for finding a single generator. You can derive it<br/>algebraically but it&apos;s clever that it relates to the tree. I&apos;m not sure how<br/>it generalizes to higher dimensions.</p><p>See my response about unimodularity.</p><p>-Mike</p></div><h3><a id=20217 href="#20217">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/19/2012 1:59:55 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Jan 19, 2012 at 4:34 PM, <a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a> &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; Unimodular matrices are another old idea. They give you a new basis for JI. I think Gene called them a notation.<br/>&gt; You&apos;ll have to remind me if there was anything else in one of your messages. I&apos;ve got a small screen. It&apos;s easy to miss things.</p><p>I was just pointing out that the reason that Ryan&apos;s idea worked is<br/>that if you treat the coefficients of each fraction as a column<br/>vector, and then you concatenate two any two adjacent SB tree<br/>fractions into a square matrix, the square matrix will be unimodular.<br/>This means they&apos;re a basis for all of JI. So if you then &quot;temper out&quot;<br/>one of these column vectors, the other one will still generate all of<br/>JI minus the thing you just tempered out. So the remaining vector will<br/>serve as a generator for the temperament defined by the vector you<br/>tempered out.</p><p>This is why Ryan&apos;s example works, but it applies to any unimodular<br/>matrix at all, not just the SB tree.</p><p>-Mike</p></div><h3><a id=20238 href="#20238">ðŸ”—</a>Ryan Avella &#x3C;domeofatonement@yahoo.com&#x3E;</h3><span>1/21/2012 3:17:22 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; I was just pointing out that the reason that Ryan&apos;s idea worked is<br/>&gt; that if you treat the coefficients of each fraction as a column<br/>&gt; vector, and then you concatenate two any two adjacent SB tree<br/>&gt; fractions into a square matrix, the square matrix will be unimodular.<br/>&gt; This means they&apos;re a basis for all of JI. So if you then &quot;temper out&quot;<br/>&gt; one of these column vectors, the other one will still generate all of<br/>&gt; JI minus the thing you just tempered out. So the remaining vector will<br/>&gt; serve as a generator for the temperament defined by the vector you<br/>&gt; tempered out.<br/>&gt;<br/>&gt; This is why Ryan&apos;s example works, but it applies to any unimodular<br/>&gt; matrix at all, not just the SB tree.<br/>&gt;<br/>&gt; -Mike<br/>&gt;</p><p>I&apos;d be interested in seeing how this generalizes to the 7-limit.  Right now it is very simple because we only have two entries in the val to worry about - e3 and e5, which can be turned into a fraction on a SB-tree.  A 3-dimensional SB tree might be possible for the 7-limit, but I am not sure what it would look like.</p><p>-Ryan</p></div><h3><a id=20239 href="#20239">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>1/21/2012 4:20:12 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Ryan Avella&quot; &lt;domeofatonement@...&gt; wrote:</p><p>&gt; I&apos;d be interested in seeing how this generalizes to the 7-limit.  Right now it is very simple because we only have two entries in the val to worry about - e3 and e5, which can be turned into a fraction on a SB-tree.  A 3-dimensional SB tree might be possible for the 7-limit, but I am not sure what it would look like.</p><p>Can you find three 7-limit linear temperaments A, B, C such that the octave equivalent part of the wedgie is &lt;&lt;a1 a2 a3...|| for A, &lt;&lt;b1 b2 b3 ...|| for B, and &lt;&lt;c1 c2 c3 ...|| for C, and the matrix</p><p>[[a1 a2 a3], [b1, b2, b3], [c1 c2 c3]]</p><p>is unimodular?</p></div><h3><a id=20240 href="#20240">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>1/22/2012 5:00:24 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; Can you find three 7-limit linear temperaments A, B, C such that the octave equivalent part of the wedgie is &lt;&lt;a1 a2 a3...|| for A, &lt;&lt;b1 b2 b3 ...|| for B, and &lt;&lt;c1 c2 c3 ...|| for C, and the matrix<br/>&gt;<br/>&gt; [[a1 a2 a3], [b1, b2, b3], [c1 c2 c3]]<br/>&gt;<br/>&gt; is unimodular?</p><p>I&apos;ve cooked up an actual example:</p><p>A = &lt;&lt;1 4 10 4 13 12||<br/>B = &lt;&lt;3 5 -6 1 -18 -28||<br/>C = &lt;&lt;3 6 -1 3 -10 -19||</p><p>C is a fairly dubious temperament, tempering out 10/9 and 1029/1024, but finding examples is not so easy.</p><p>Form a unimodular matrix:</p><p>[&lt;1 4 10|, &lt;3 5 -6|, &lt;3 6 -1|]</p><p>Take the transpose-inverse:</p><p>[|31 -15 3&gt;, |64 -31 6&gt;, |-74 36 -7&gt;]</p><p>Add in octaves:</p><p>[|-21 31 -15 3&gt;, |-46 64 -31 6&gt;, |53 -74 36 -7&gt;]</p><p>These three monzos have the property that each is a generator for one temperament, with the last two a torsional basis for the commas of meantone. With other choices for the octave parts, you can similarly get torsional bases for the other two.</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            