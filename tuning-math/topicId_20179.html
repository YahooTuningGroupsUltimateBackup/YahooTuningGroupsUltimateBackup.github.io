<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math ultimate generalized diatonic search</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>ultimate generalized diatonic search</h1><h3><a id=20179 href="#20179">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/12/2012 2:05:40 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;m starting to think of a method for a truly definitive<br/>generalized diatonic search.</p><p>Actually 3 searches: for triad, tetrad, and pentad-based<br/>diatonics.</p><p>I&apos;ll write this assuming 2:1 equivalence for now.</p><p>1. List all 15-odd-limit chords (triads, tetrads, or pentads).<br/>I think what you do is sort the 15-limit dyads by octave-reduced<br/>size, generate all k-necklaces of them, and then cast out those<br/>with overall odd-limit &gt; 15.  That shouldn&apos;t produce any pairs<br/>that are circular permutations of each other.</p><p>2. For each chord in the set, find the nearest partner in the<br/>set by voice-leading distance (this also has to try all circular<br/>permutations).  The resulting list of chord pairs can be trimmed<br/>in various ways, like by throwing out pairs with large voice-<br/>leading distance.</p><p>3. For each chord pair, find the comma(s) needed to turn one into<br/>the other.  Call these &quot;transform commas&quot;.  List ETs &gt; 4 and &lt; 16<br/>that temper them all out.  We&apos;ll want to consider more than just<br/>the patent val for each &quot;ET&quot;.  (I think there&apos;s some limit to how<br/>good a rank 2 temperament can be when one of its vals is crap, so<br/>maybe we just precompute the best 2 vals for each ET.)</p><p>4. Find &quot;ETs&quot; &gt; 4 and &lt; 100 for each chord pair that send all its<br/>transform commas to 1.</p><p>5. For each chord pair, pair every ET in the step-3 list with<br/>every larger ET in the step-4 list, and cast out such pairs if<br/>the resulting MOS has no Rothenberg-proper tuning.</p><p>6. Resort the records by the smaller ET in each ET pair.  So now<br/>we have a bunch of (higher-ET chord-pair) records that share a<br/>smaller ET (5-15).</p><p>7. For each such record find the rank-2 scale corresponding to<br/>the smaller ET and score it with (k+1-c)(d^2)/(k^3)</p><p>8. Report the best five records for each smaller ET.</p><p>For nonoctave scales, I would simply repeat the search with 3:1<br/>as the equivalence interval, a no-powers-of-3 limit for chords,<br/>and ED3s with the same number of notes per tritave.</p><p>It&apos;s a bit messy and I&apos;m sure I&apos;ve glossed over some things, but<br/>I bet it could work.  Maybe there&apos;s a faster way to do it with<br/>commas and Fokker blocks, I dunno.</p><p>-Carl</p></div><h3><a id=20181 href="#20181">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>1/15/2012 2:50:18 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I think there&apos;s one problem with the method where you find two vals<br/>such that &lt;V1|C&gt; = 0 and &lt;V2|C&gt; = 1: it doesn&apos;t guarantee that the<br/>chords you want will appear in the relevant MOS of the resulting<br/>temperament. For instance, let&apos;s say you want 5/4 and 6/5 to share an<br/>interval class, so that you know right away that one of your unison<br/>vectors is 25/24. Well, if you start with 25/24 and nothing else in<br/>mind, then you might get pairs like 5/4 and 125/96, which also differ<br/>by 25/24. So you also have to prune for temperaments which have higher<br/>than acceptable complexity for your target intervals.</p><p>-Mike</p><p>On Thu, Jan 12, 2012 at 5:05 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; I&apos;m starting to think of a method for a truly definitive<br/>&gt; generalized diatonic search.<br/>&gt;<br/>&gt; Actually 3 searches: for triad, tetrad, and pentad-based<br/>&gt; diatonics.<br/>&gt;<br/>&gt; I&apos;ll write this assuming 2:1 equivalence for now.<br/>&gt;<br/>&gt; 1. List all 15-odd-limit chords (triads, tetrads, or pentads).<br/>&gt; I think what you do is sort the 15-limit dyads by octave-reduced<br/>&gt; size, generate all k-necklaces of them, and then cast out those<br/>&gt; with overall odd-limit &gt; 15. That shouldn&apos;t produce any pairs<br/>&gt; that are circular permutations of each other.<br/>&gt;<br/>&gt; 2. For each chord in the set, find the nearest partner in the<br/>&gt; set by voice-leading distance (this also has to try all circular<br/>&gt; permutations). The resulting list of chord pairs can be trimmed<br/>&gt; in various ways, like by throwing out pairs with large voice-<br/>&gt; leading distance.<br/>&gt;<br/>&gt; 3. For each chord pair, find the comma(s) needed to turn one into<br/>&gt; the other. Call these &quot;transform commas&quot;. List ETs &gt; 4 and &lt; 16<br/>&gt; that temper them all out. We&apos;ll want to consider more than just<br/>&gt; the patent val for each &quot;ET&quot;. (I think there&apos;s some limit to how<br/>&gt; good a rank 2 temperament can be when one of its vals is crap, so<br/>&gt; maybe we just precompute the best 2 vals for each ET.)<br/>&gt;<br/>&gt; 4. Find &quot;ETs&quot; &gt; 4 and &lt; 100 for each chord pair that send all its<br/>&gt; transform commas to 1.<br/>&gt;<br/>&gt; 5. For each chord pair, pair every ET in the step-3 list with<br/>&gt; every larger ET in the step-4 list, and cast out such pairs if<br/>&gt; the resulting MOS has no Rothenberg-proper tuning.<br/>&gt;<br/>&gt; 6. Resort the records by the smaller ET in each ET pair. So now<br/>&gt; we have a bunch of (higher-ET chord-pair) records that share a<br/>&gt; smaller ET (5-15).<br/>&gt;<br/>&gt; 7. For each such record find the rank-2 scale corresponding to<br/>&gt; the smaller ET and score it with (k+1-c)(d^2)/(k^3)<br/>&gt;<br/>&gt; 8. Report the best five records for each smaller ET.<br/>&gt;<br/>&gt; For nonoctave scales, I would simply repeat the search with 3:1<br/>&gt; as the equivalence interval, a no-powers-of-3 limit for chords,<br/>&gt; and ED3s with the same number of notes per tritave.<br/>&gt;<br/>&gt; It&apos;s a bit messy and I&apos;m sure I&apos;ve glossed over some things, but<br/>&gt; I bet it could work. Maybe there&apos;s a faster way to do it with<br/>&gt; commas and Fokker blocks, I dunno.<br/>&gt;<br/>&gt; -Carl</p></div><h3><a id=20182 href="#20182">ðŸ”—</a>gbreed@gmail.com</h3><span>1/15/2012 5:18:14 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;m not sure what the question is here. I have conjectured that m&amp;n will have an odd limit complexity no larger than the larger of m and n if m and n are both consistent. I think that&apos;s relevant but I don&apos;t know your badness filter.</p><p>        Graham</p><p>------Original message------<br/>From: Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>Date: Sunday, January 15, 2012 5:50:18 AM GMT-0500<br/>Subject: Re: [tuning-math] ultimate generalized diatonic search</p><p>I think there&apos;s one problem with the method where you find two vals<br/>such that &lt;V1|C&gt; = 0 and &lt;V2|C&gt; = 1: it doesn&apos;t guarantee that the<br/>chords you want will appear in the relevant MOS of the resulting<br/>temperament. For instance, let&apos;s say you want 5/4 and 6/5 to share an<br/>interval class, so that you know right away that one of your unison<br/>vectors is 25/24. Well, if you start with 25/24 and nothing else in<br/>mind, then you might get pairs like 5/4 and 125/96, which also differ<br/>by 25/24. So you also have to prune for temperaments which have higher<br/>than acceptable complexity for your target intervals.</p><p>-Mike</p><p>On Thu, Jan 12, 2012 at 5:05 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; I&apos;m starting to think of a method for a truly definitive<br/>&gt; generalized diatonic search.<br/>&gt;<br/>&gt; Actually 3 searches: for triad, tetrad, and pentad-based<br/>&gt; diatonics.<br/>&gt;<br/>&gt; I&apos;ll write this assuming 2:1 equivalence for now.<br/>&gt;<br/>&gt; 1. List all 15-odd-limit chords (triads, tetrads, or pentads).<br/>&gt; I think what you do is sort the 15-limit dyads by octave-reduced<br/>&gt; size, generate all k-necklaces of them, and then cast out those<br/>&gt; with overall odd-limit &gt; 15. That shouldn&apos;t produce any pairs<br/>&gt; that are circular permutations of each other.<br/>&gt;<br/>&gt; 2. For each chord in the set, find the nearest partner in the<br/>&gt; set by voice-leading distance (this also has to try all circular<br/>&gt; permutations). The resulting list of chord pairs can be trimmed<br/>&gt; in various ways, like by throwing out pairs with large voice-<br/>&gt; leading distance.<br/>&gt;<br/>&gt; 3. For each chord pair, find the comma(s) needed to turn one into<br/>&gt; the other. Call these &quot;transform commas&quot;. List ETs &gt; 4 and &lt; 16<br/>&gt; that temper them all out. We&apos;ll want to consider more than just<br/>&gt; the patent val for each &quot;ET&quot;. (I think there&apos;s some limit to how<br/>&gt; good a rank 2 temperament can be when one of its vals is crap, so<br/>&gt; maybe we just precompute the best 2 vals for each ET.)<br/>&gt;<br/>&gt; 4. Find &quot;ETs&quot; &gt; 4 and &lt; 100 for each chord pair that send all its<br/>&gt; transform commas to 1.<br/>&gt;<br/>&gt; 5. For each chord pair, pair every ET in the step-3 list with<br/>&gt; every larger ET in the step-4 list, and cast out such pairs if<br/>&gt; the resulting MOS has no Rothenberg-proper tuning.<br/>&gt;<br/>&gt; 6. Resort the records by the smaller ET in each ET pair. So now<br/>&gt; we have a bunch of (higher-ET chord-pair) records that share a<br/>&gt; smaller ET (5-15).<br/>&gt;<br/>&gt; 7. For each such record find the rank-2 scale corresponding to<br/>&gt; the smaller ET and score it with (k+1-c)(d^2)/(k^3)<br/>&gt;<br/>&gt; 8. Report the best five records for each smaller ET.<br/>&gt;<br/>&gt; For nonoctave scales, I would simply repeat the search with 3:1<br/>&gt; as the equivalence interval, a no-powers-of-3 limit for chords,<br/>&gt; and ED3s with the same number of notes per tritave.<br/>&gt;<br/>&gt; It&apos;s a bit messy and I&apos;m sure I&apos;ve glossed over some things, but<br/>&gt; I bet it could work. Maybe there&apos;s a faster way to do it with<br/>&gt; commas and Fokker blocks, I dunno.<br/>&gt;<br/>&gt; -Carl</p><p>------------------------------------</p><p>Yahoo! Groups Links</p></div><h3><a id=20183 href="#20183">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/15/2012 11:50:56 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Yep, that&apos;s a point.  I haven&apos;t worked out all the details.<br/>Ultimately these cases will be caught by (k+1-c)(d^2)/(k^3)<br/>but there may be a way not to produce them in the first place.</p><p>-Carl</p><p>At 02:50 AM 1/15/2012, Mike wrote:<br/>&gt;I think there&apos;s one problem with the method where you find two vals<br/>&gt;such that &lt;V1|C&gt; = 0 and &lt;V2|C&gt; = 1: it doesn&apos;t guarantee that the<br/>&gt;chords you want will appear in the relevant MOS of the resulting<br/>&gt;temperament. For instance, let&apos;s say you want 5/4 and 6/5 to share an<br/>&gt;interval class, so that you know right away that one of your unison<br/>&gt;vectors is 25/24. Well, if you start with 25/24 and nothing else in<br/>&gt;mind, then you might get pairs like 5/4 and 125/96, which also differ<br/>&gt;by 25/24. So you also have to prune for temperaments which have higher<br/>&gt;than acceptable complexity for your target intervals.<br/>&gt;<br/>&gt;-Mike<br/>&gt;<br/>&gt;<br/>&gt;On Thu, Jan 12, 2012 at 5:05 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; I&apos;m starting to think of a method for a truly definitive<br/>&gt;&gt; generalized diatonic search.<br/>&gt;&gt;<br/>&gt;&gt; Actually 3 searches: for triad, tetrad, and pentad-based<br/>&gt;&gt; diatonics.<br/>&gt;&gt;<br/>&gt;&gt; I&apos;ll write this assuming 2:1 equivalence for now.<br/>&gt;&gt;<br/>&gt;&gt; 1. List all 15-odd-limit chords (triads, tetrads, or pentads).<br/>&gt;&gt; I think what you do is sort the 15-limit dyads by octave-reduced<br/>&gt;&gt; size, generate all k-necklaces of them, and then cast out those<br/>&gt;&gt; with overall odd-limit &gt; 15. That shouldn&apos;t produce any pairs<br/>&gt;&gt; that are circular permutations of each other.<br/>&gt;&gt;<br/>&gt;&gt; 2. For each chord in the set, find the nearest partner in the<br/>&gt;&gt; set by voice-leading distance (this also has to try all circular<br/>&gt;&gt; permutations). The resulting list of chord pairs can be trimmed<br/>&gt;&gt; in various ways, like by throwing out pairs with large voice-<br/>&gt;&gt; leading distance.<br/>&gt;&gt;<br/>&gt;&gt; 3. For each chord pair, find the comma(s) needed to turn one into<br/>&gt;&gt; the other. Call these &quot;transform commas&quot;. List ETs &gt; 4 and &lt; 16<br/>&gt;&gt; that temper them all out. We&apos;ll want to consider more than just<br/>&gt;&gt; the patent val for each &quot;ET&quot;. (I think there&apos;s some limit to how<br/>&gt;&gt; good a rank 2 temperament can be when one of its vals is crap, so<br/>&gt;&gt; maybe we just precompute the best 2 vals for each ET.)<br/>&gt;&gt;<br/>&gt;&gt; 4. Find &quot;ETs&quot; &gt; 4 and &lt; 100 for each chord pair that send all its<br/>&gt;&gt; transform commas to 1.<br/>&gt;&gt;<br/>&gt;&gt; 5. For each chord pair, pair every ET in the step-3 list with<br/>&gt;&gt; every larger ET in the step-4 list, and cast out such pairs if<br/>&gt;&gt; the resulting MOS has no Rothenberg-proper tuning.<br/>&gt;&gt;<br/>&gt;&gt; 6. Resort the records by the smaller ET in each ET pair. So now<br/>&gt;&gt; we have a bunch of (higher-ET chord-pair) records that share a<br/>&gt;&gt; smaller ET (5-15).<br/>&gt;&gt;<br/>&gt;&gt; 7. For each such record find the rank-2 scale corresponding to<br/>&gt;&gt; the smaller ET and score it with (k+1-c)(d^2)/(k^3)<br/>&gt;&gt;<br/>&gt;&gt; 8. Report the best five records for each smaller ET.<br/>&gt;&gt;<br/>&gt;&gt; For nonoctave scales, I would simply repeat the search with 3:1<br/>&gt;&gt; as the equivalence interval, a no-powers-of-3 limit for chords,<br/>&gt;&gt; and ED3s with the same number of notes per tritave.<br/>&gt;&gt;<br/>&gt;&gt; It&apos;s a bit messy and I&apos;m sure I&apos;ve glossed over some things, but<br/>&gt;&gt; I bet it could work. Maybe there&apos;s a faster way to do it with<br/>&gt;&gt; commas and Fokker blocks, I dunno.<br/>&gt;&gt;<br/>&gt;&gt; -Carl<br/>&gt;<br/>&gt;<br/>&gt;------------------------------------<br/>&gt;<br/>&gt;Yahoo! Groups Links<br/>&gt;<br/>&gt;<br/>&gt;</p></div><h3><a id=20293 href="#20293">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>2/1/2012 11:57:04 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sun, Jan 15, 2012 at 2:50 PM, Carl Lumma &lt;<a href="mailto:carl@lumma.org">carl@lumma.org</a>&gt; wrote:<br/>&gt;<br/>&gt; Yep, that&apos;s a point. I haven&apos;t worked out all the details.<br/>&gt; Ultimately these cases will be caught by (k+1-c)(d^2)/(k^3)<br/>&gt; but there may be a way not to produce them in the first place.<br/>&gt;<br/>&gt; -Carl</p><p>Keenan Pepper figured this out for my 4:6:7 vs 6:9:11 search</p><p><a href="http://soundcloud.com/keenanpepper/maqamic-noodling">http://soundcloud.com/keenanpepper/maqamic-noodling</a></p><p>I saw maqamic[7] before but decided I didn&apos;t care. However, this is a<br/>MODMOS, LssLssL, which I like a lot more. A mode of this MODMOS is<br/>LssLLss, which is the one which resembles &quot;Rast.&quot; This MODMOS keeps<br/>coming up so many times that it should probably go on &quot;the list,&quot;<br/>along with porcupine.</p><p>-Mike</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            