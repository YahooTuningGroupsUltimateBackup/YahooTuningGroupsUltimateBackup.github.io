<a href="/tuning-math">back to list</a><h1>Complications of the new TOP finding method</h1><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/10/2007 7:26:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Here&apos;s an example that illustrates some of the complications associated with using the projected (rank+1)-prime commas to find the TOP tuning. This might not be an especially useful temperament, but it would be nice if the algorithm could be made general enough to handle cases like this.</p><p>37&amp;88 11-limit rank-2 temperament</p><p>wedgie: &lt;&lt;49, 20, 13, 16, -82, -117, -144, -26, -32, 0]]<br/>generator mapping: [&lt;1, -9, -2, 0, 0], &lt;0, 49, 20, 13, 16]&gt;</p><p>First find all the 3-prime commas and their TOP error. Since the wedgie has a zero element, some of them will only have two primes.</p><p>[-82, -20, 49, 0, 0&gt; TOP: 0.396846<br/>[117, 13, 0, -49, 0&gt; TOP: 0.192414<br/>[-144, -16, 0, 0, 49&gt; TOP: 0.540910<br/>[26, 0, 13, -20, 0&gt; TOP: 0.405584<br/>[-8, 0, -4, 0, 5&gt; TOP: 0.327740<br/>[0, 0, 0, -16, 13&gt; TOP: 0.733324<br/>[0, -26, 117, -82, 0&gt; TOP: 0.560049<br/>[0, 16, -72, 0, 41&gt; TOP: 0.061991</p><p>The TOP error of the temperament is the biggest of these, which is 0.733324, and the corresponding comma is [0, 0, 0, -16, 13&gt;.</p><p>So the TOP tuning of primes 7 and 11 can now be found; 7 is (0.733324) * log(7)/log(2) cents sharp (3370.884608) and 11 is (0.733324) * log(11)/log(2) cents flat (4148.781057).</p><p>Now to find an appropriate tuning for the other three primes. There are three obvious possibilities: tune one of the primes (picking 2 as an example) so that the error is zero, tune it flat by the TOP error or less, or tune it sharp by the TOP error or less. Conveniently, the generator mapping has 0 for the period for the mapping of primes 7 and 11, so we can calculate the value of G as 259.298816 and adjust P to find a tuning that works. In other cases, we might need to adjust both the generators.</p><p>In this case, tuning the octave to eliminate the error doesn&apos;t work, since that forces prime 3 to have a TOP error of 2.326228. Tuning the octave flat is even worse. So the octave needs to be tuned sharp. By how much? The TOP error of 0.733324 is too much, since that forces the error of prime 3 to be -1.837857.</p><p>So you need to find a tuning of the period which puts the TOP errors of 2, 3, and 5 under 0.733324 cents. This is the part that I still don&apos;t have a good solution for, but these cases are rare enough that it might not be worth the bother to find a general solution. In this case, P = 1200.513085 seems to be optimal, giving equal error of -0.587254 cents to both 3 and 5, and leaving 2 with an error of 0.513085.</p></div><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>3/10/2007 7:33:11 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:</p><p>&gt; So you need to find a tuning of the period which puts the TOP errors of &gt; 2, 3, and 5 under 0.733324 cents. This is the part that I still don&apos;t &gt; have a good solution for, but these cases are rare enough that it might &gt; not be worth the bother to find a general solution. In this case, P = &gt; 1200.513085 seems to be optimal, giving equal error of -0.587254 cents &gt; to both 3 and 5, and leaving 2 with an error of 0.513085.</p><p>And I just realized that I overlooked P = 1200.333488, which has a better error for all three primes: 0.333488, 0.432559, -0.432559.</p></div><h3>Gene Ward Smith &#x3C;genewardsmith@coolgoose.com&#x3E;</h3><span>3/11/2007 1:22:22 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Herman Miller &lt;hmiller@...&gt; wrote:</p><p>&gt; And I just realized that I overlooked P = 1200.333488, which has a<br/>&gt; better error for all three primes: 0.333488, 0.432559, -0.432559.</p><p>This method seems like a good general approach: first find the TOP<br/>tuning with free parameter(s). In this case, the tuning will be</p><p>[u2, -9*u2+12705.641985773541534, -2*u2+5185.9763207238945037,<br/>3370.8846084705314274, 4148.7810565791156030]</p><p>where the octave value of u2 cents is adjustible. Now find a NOT-like<br/>tuning for the remaining primes. By &quot;NOT-like&quot;, I mean that it isn&apos;t<br/>necessarily the octave which is fixed. Here you fix the 7 (or<br/>equivalently, the 11) and now are left to work out what 2, 3, and 5 are.<br/>So you look at tunings equalizing the relative errors for 2 and 3, for<br/>2 and 5, and for 3 and 5, with both equal and opposite errors.</p><p>The least relative error, if I&apos;ve done this right, is Herman&apos;s<br/>suggestion:</p><p>3 sharp, 5 flat<br/>u2 = 1200.3334884159102128<br/>relative errors = [0.3334884159102128, 0.43255860290086288455, -<br/>0.43255860290086277862</p><p>Not much different is this:</p><p>2 and 3 sharp<br/>u2 = 1200.3483229069449156<br/>relative errors = [0.3483229069449156, 0.3483229069449156, -<br/>0.44533633798005559664]</p></div>