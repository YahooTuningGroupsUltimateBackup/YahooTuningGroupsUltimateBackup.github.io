<a href="/tuning-math">back to list</a><h1>Is there a limit for log-flat badness of temperaments with a given ET?</h1><h3><a id=17522 href="#17522">ðŸ”—</a>sunny_red_faery &#x3C;aerissunnymilk@yahoo.com&#x3E;</h3><span>1/23/2010 1:56:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>For a while I have known that for a for a given unison interval, only a finite quantity of temperaments which have that unison interval have a log-flat badness below a specific cutoff.</p><p>The above theorem can be proven rather easily, partly by noting that a given unison interval of a temperament sets a lower limit for the error of the temperament. However, temperaments can also be defined by a set of equal temperament mappings, and specifying an equal temperament sets an upper limit of error. While the error of temperaments compatible with a given equal tempermant has no lower limit, the existence or lack thereof of a lower limit of badness may be more difficult to prove for certain.</p><p>Here are some linear temperaments compatible with 5-equal ~~</p><p>Fourth-thirds &quot;Father&quot; 5&amp;8<br/>{16:15 \ 28:27}<br/>[1 . -1 . 3]<br/>Kees-max error: 28.598519 &Acirc;&cent;/oct<br/>Kees-max complexity: 1.499298 s/oct<br/>Log-flat badness: 64.286464 &Acirc;&cent;*s^2/oct^3</p><p>Bug &quot;Beep&quot; 5&amp;9<br/>{21:20 \ 27:25}<br/>[2 . 3 . 1]<br/>Kees-max error: 28.021183 &Acirc;&cent;/oct<br/>Kees-max complexity: 1.292030 s/oct<br/>Log-flat badness: 46.776901 &Acirc;&cent;*s^2/oct^3</p><p>Pentagram 5&amp;10<br/>{28:27 \ 49:48}<br/>[0 . 5 . 0]<br/>Kees-max error: 14.528978 &Acirc;&cent;/oct<br/>Kees-max complexity: 2.153383 s/oct<br/>Log-flat badness: 67.371706 &Acirc;&cent;*s^2/oct^3</p><p>Dominant sevenths 5&amp;12<br/>{36:35 \ 64:63}<br/>[1 . 4 . -2]<br/>Kees-max error: 9.580187 &Acirc;&cent;/oct<br/>Kees-max complexity: 2.435121 s/oct<br/>Log-flat badness: 56.808710 &Acirc;&cent;*s^2/oct^3</p><p>Semaphore &quot;Godzilla&quot; 5&amp;19<br/>{49:48 \ 81:80}<br/>[2 . 8 . 1]<br/>Kees-max error: 7.315317 &Acirc;&cent;/oct<br/>Kees-max complexity: 3.445412 s/oct<br/>Log-flat badness: 86.839160 &Acirc;&cent;*s^2/oct^3</p><p>Superpyth 5&amp;22<br/>{64:63 \ 245:243}<br/>[1 . 9 . -2]<br/>Kees-max error: 4.817408 &Acirc;&cent;/oct<br/>Kees-max complexity: 4.588503 s/oct<br/>Log-flat badness: 101.427469 &Acirc;&cent;*s^2/oct^3</p><p>Cynder (AKA Mothra) 5&amp;31<br/>{81:80 \ 1029:1024}<br/>[3 . 12 . -1]<br/>Kees-max error: 3.392239 &Acirc;&cent;/oct<br/>Kees-max complexity: 5.524326 s/oct<br/>Log-flat badness: 103.524964 &Acirc;&cent;*s^2/oct^3</p><p>Rodan 5&amp;41<br/>{245:243 \ 1029:1024}<br/>[3 . 17 . -1]<br/>Kees-max error: 1.788964 &Acirc;&cent;/oct<br/>Kees-max complexity: 7.677709 s/oct<br/>Log-flat badness: 105.454456 &Acirc;&cent;*s^2/oct^3</p><p>Quartal 5&amp;53<br/>{1728:1715 \ 5120:5103}<br/>[4 . 21 . -3]<br/>Kees-max error: 1.451979 &Acirc;&cent;/oct<br/>Kees-max complexity: 10.112829 s/oct<br/>Log-flat badness: 148.492933 &Acirc;&cent;*s^2/oct^3</p><p>5&amp;72<br/>{1029:1024 \ 19683:19600}<br/>[6 . 29 . -2]<br/>Kees-max error: 0.844418 &Acirc;&cent;/oct<br/>Kees-max complexity: 13.202035 s/oct<br/>Log-flat badness: 147.176702 &Acirc;&cent;*s^2/oct^3</p><p>5&amp;99<br/>{5120:5103 \ 420175:419904}<br/>[7 . 38 . -4]<br/>Kees-max error: 0.496541 &Acirc;&cent;/oct<br/>Kees-max complexity: 17.790538 s/oct<br/>Log-flat badness: 157.156874 &Acirc;&cent;*s^2/oct^3</p><p>5&amp;171<br/>{420175:419904 \ ???:???}<br/>[13 . 67 . -6]<br/>Kees-max error: 0.144626 &Acirc;&cent;/oct<br/>Kees-max complexity: 30.992573 s/oct<br/>Log-flat badness: 138.919199 &Acirc;&cent;*s^2/oct^3</p><p>5&amp;3125<br/>[235 . 1220 . -115]<br/>Kees-max error: 0.001941 &Acirc;&cent;/oct<br/>Kees-max complexity: 566.389227 s/oct<br/>Log-flat badness: 622.657951 &Acirc;&cent;*s^2/oct^3</p><p>5&amp;103169<br/>[7757 . 40273 . -3794]<br/>Kees-max error of 103169-equal: 0.000027616 &Acirc;&cent;/oct<br/>Kees-max complexity: 18696.087 s/oct<br/>Log-flat badness: 9652.942133 &Acirc;&cent;*s^2/oct^3</p><p>Note~~ The error of 103169-equal is used because attempting to find the actual error of the linear temperament leads to overflow problems; besides, the difference is negligible because 5-equal and 103169-equal are far, far, far apart</p><p>As we can see from above, beyond 171-equal the log-flat badness continues to increase as higher equal temperaments are paired with 5-equal. 103169-equal has by far the lowest log-flat badness from all ETs shown above, yet 5&amp;103169 has the highest badness from the entire list.</p><p>The high-complexity temperaments have a complexity roughly proportional to their second equal temperament. This can be seen from the following<br/>171 / 31 ~= 5.517<br/>3125 / 566.39 ~= 5.517<br/>103169 / 18696 ~= 5.518</p><p>Because log-flat badness of a 7-limit linear temperament is proportional to the complexity squared, whereas the log-flat badness of a 7-limit equal temperament is proportional to the 4/3 power of the number of steps per octave, and x^2 rises more quickly than x^(4/3), the log-flat badness of A&amp;B should continue increasing, given that A is fixed and B increases while keeping the same log-flat badness. (The error of A&amp;B differs less from the error of B as B increases with A staying fixed.)</p><p>Furthermore, the sequence of decreasing log-flat badness of equal temperaments is hyperexponential -- after 4, 31 and 171-equal, the next in line is 103169. What could be the smallest 7-limit equal temperament whose log-flat badness is better than that of 103169-equal? I have no idea which one that could be~~</p><p>The above shows some support for my hypothesis that for a given ET, there is a finite quantity of temperaments below a given log-flat badness cutoff. However, I have no conclusive proof of the hypothesis.</p><p>What additional information can support or invalidate this hypothesis?</p><p>Corrections to any errors the information above will be appreciated.</p><p>~~ Kariisa-tan as Sunny Milk</p></div><h3><a id=17523 href="#17523">ðŸ”—</a>Kees van Prooijen &#x3C;keesvp@gmail.com&#x3E;</h3><span>1/28/2010 7:57:56 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>As for the continuation of the unison intervals and the resulting equal<br/>temperaments, maybe my page here can help you:</p><p><a href="http://www.kees.cc/tuning/s2357.html">http://www.kees.cc/tuning/s2357.html</a></p><p>Kees</p><p>On Sat, Jan 23, 2010 at 1:56 PM, sunny_red_faery<br/>&lt;<a href="mailto:aerissunnymilk@yahoo.com">aerissunnymilk@yahoo.com</a>&gt;wrote:</p><p>&gt;<br/>&gt;<br/>&gt; .......<br/>&gt;<br/>Furthermore, the sequence of decreasing log-flat badness of equal<br/>&gt; temperaments is hyperexponential -- after 4, 31 and 171-equal, the next in<br/>&gt; line is 103169. What could be the smallest 7-limit equal temperament whose<br/>&gt; log-flat badness is better than that of 103169-equal? I have no idea which<br/>&gt; one that could be~~<br/>&gt;<br/>&gt; ..........<br/>&gt; ~~ Kariisa-tan as Sunny Milk<br/>&gt;<br/>&gt;  __._,<br/>&gt;</p></div><h3><a id=17524 href="#17524">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/29/2010 12:48:51 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Kariisa-tan,</p><p>Sorry your msg was delayed - caught in the spam filter I&apos;m afraid.</p><p>&gt;Here are some linear temperaments compatible with 5-equal ~~<br/>&gt;<br/>&gt;Fourth-thirds &quot;Father&quot; 5&amp;8<br/>&gt;{16:15 \ 28:27}<br/>&gt;[1 . -1 . 3]<br/>&gt;Kees-max error: 28.598519 &Acirc;&cent;/oct<br/>&gt;Kees-max complexity: 1.499298 s/oct<br/>&gt;Log-flat badness: 64.286464 &Acirc;&cent;*s^2/oct^3</p><p>What are you using to calculate these?  I ask because, if you wrote<br/>it yourself, I&apos;m very impressed you were able to gather all the<br/>temperament names and so forth from various sources.  Have you been<br/>lurking here long?</p><p>I gather your question is: While there are an infinite number of<br/>linear temperaments below any logflat badness cutoff, is this still<br/>true if one of the vals (equal temperament mappings) is fixed?</p><p>My hunch is yes, simply since the unrestricted distribution is<br/>logflat, any restriction is likely to make it finite.  I don&apos;t know<br/>how to go about proving it however.</p><p>&gt;Furthermore, the sequence of decreasing log-flat badness of equal<br/>&gt;temperaments is hyperexponential -- after 4, 31 and 171-equal, the<br/>&gt;next in line is 103169. What could be the smallest 7-limit equal<br/>&gt;temperament whose log-flat badness is better than that of<br/>&gt;103169-equal?</p><p>If I use TOP damage for error and notes/octave for complexity, 31<br/>doesn&apos;t show up on my list of improving 7-limit ETs, since 12 is<br/>better.  The next after 12 is 99.</p><p>-Carl</p></div><h3><a id=17525 href="#17525">ðŸ”—</a>sunny_red_faery &#x3C;aerissunnymilk@yahoo.com&#x3E;</h3><span>1/29/2010 1:16:35 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Hi Kariisa-tan,<br/>&gt;<br/>&gt; Sorry your msg was delayed - caught in the spam filter I&apos;m afraid.<br/>&gt;<br/>&gt; &gt;Here are some linear temperaments compatible with 5-equal ~~<br/>&gt; &gt;<br/>&gt; &gt;Fourth-thirds &quot;Father&quot; 5&amp;8<br/>&gt; &gt;{16:15 \ 28:27}<br/>&gt; &gt;[1 . -1 . 3]<br/>&gt; &gt;Kees-max error: 28.598519 &Acirc;&cent;/oct<br/>&gt; &gt;Kees-max complexity: 1.499298 s/oct<br/>&gt; &gt;Log-flat badness: 64.286464 &Acirc;&cent;*s^2/oct^3<br/>&gt;<br/>&gt; What are you using to calculate these?  I ask because, if you wrote<br/>&gt; it yourself, I&apos;m very impressed you were able to gather all the<br/>&gt; temperament names and so forth from various sources.  Have you been<br/>&gt; lurking here long?</p><p>I used a graphing application to calculate errors and to calculate complexity requires only simple arithmetic and logarithmic functions. I used Kees-max values because calculation is straightforward -- simply use maximum minus minimum deviation of values of prime number harmonics for error and complexity.</p><p>And yes~~ I have lurked on this list for so long, yet I had little motivation to post messages despite having looked at many hundreds of messages.</p><p>&gt; I gather your question is: While there are an infinite number of<br/>&gt; linear temperaments below any logflat badness cutoff, is this still<br/>&gt; true if one of the vals (equal temperament mappings) is fixed?<br/>&gt;<br/>&gt; My hunch is yes, simply since the unrestricted distribution is<br/>&gt; logflat, any restriction is likely to make it finite.  I don&apos;t know<br/>&gt; how to go about proving it however.</p><p>Yes~~ Setting an upper bound on complexity will make any set of octave-equivalent temperaments finite, and by ignoring temperaments more complex than 5&amp;171 we can see that the &quot;Beep&quot; temperament, 5&amp;9 has the lowest logflat badness from the list.</p><p>&gt; &gt;Furthermore, the sequence of decreasing log-flat badness of equal<br/>&gt; &gt;temperaments is hyperexponential -- after 4, 31 and 171-equal, the<br/>&gt; &gt;next in line is 103169. What could be the smallest 7-limit equal<br/>&gt; &gt;temperament whose log-flat badness is better than that of<br/>&gt; &gt;103169-equal?<br/>&gt;<br/>&gt; If I use TOP damage for error and notes/octave for complexity, 31<br/>&gt; doesn&apos;t show up on my list of improving 7-limit ETs, since 12 is<br/>&gt; better.  The next after 12 is 99.</p><p>Hmm.. I never thought about that~ Perhaps can you show your calculations there?</p><p>~~ Kariisa-tan</p></div><h3><a id=17526 href="#17526">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/29/2010 1:31:10 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; &gt;Furthermore, the sequence of decreasing log-flat badness of equal<br/>&gt;&gt; &gt;temperaments is hyperexponential -- after 4, 31 and 171-equal, the<br/>&gt;&gt; &gt;next in line is 103169. What could be the smallest 7-limit equal<br/>&gt;&gt; &gt;temperament whose log-flat badness is better than that of<br/>&gt;&gt; &gt;103169-equal?<br/>&gt;&gt;<br/>&gt;&gt; If I use TOP damage for error and notes/octave for complexity, 31<br/>&gt;&gt; doesn&apos;t show up on my list of improving 7-limit ETs, since 12 is<br/>&gt;&gt; better.  The next after 12 is 99.<br/>&gt;<br/>&gt;Hmm.. I never thought about that~ Perhaps can you show your calculations there?</p><p>It&apos;s a bunch of scheme code I&apos;ve posted before.  Not terribly readable<br/>but let me know if you&apos;re interested and I&apos;ll send it offlist.<br/>Here are the numbers</p><p>  &lt;99 157 230 278| 155<br/>  &lt;12 19 28 34|    169<br/>  &lt;31 49 72 87|    176</p><p>Are using unweighted error?  Notes/octave complexity?</p><p>-Carl</p></div><h3><a id=17527 href="#17527">ðŸ”—</a>Kari-sunny &#x3C;aerissunnymilk@yahoo.com&#x3E;</h3><span>1/29/2010 1:41:24 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; &gt;Furthermore, the sequence of decreasing log-flat badness of equal<br/>&gt; &gt;&gt; &gt;temperaments is hyperexponential -- after 4, 31 and 171-equal, the<br/>&gt; &gt;&gt; &gt;next in line is 103169. What could be the smallest 7-limit equal<br/>&gt; &gt;&gt; &gt;temperament whose log-flat badness is better than that of<br/>&gt; &gt;&gt; &gt;103169-equal?<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; If I use TOP damage for error and notes/octave for complexity, 31<br/>&gt; &gt;&gt; doesn&apos;t show up on my list of improving 7-limit ETs, since 12 is<br/>&gt; &gt;&gt; better.  The next after 12 is 99.<br/>&gt; &gt;<br/>&gt; &gt;Hmm.. I never thought about that~ Perhaps can you show your calculations there?<br/>&gt;<br/>&gt; It&apos;s a bunch of scheme code I&apos;ve posted before.  Not terribly readable<br/>&gt; but let me know if you&apos;re interested and I&apos;ll send it offlist.<br/>&gt; Here are the numbers<br/>&gt;<br/>&gt;   &lt;99 157 230 278| 155<br/>&gt;   &lt;12 19 28 34|    169<br/>&gt;   &lt;31 49 72 87|    176</p><p>Okay, I would like to see how these were calculated, and how that relates to the Kees-max method that I usually use =)</p><p>&gt; Are using unweighted error?  Notes/octave complexity?</p><p>I suppose so~ I simply selected the numbers 4, 31, 171 and 103169 from a list posted a while ago, which apparently may have used unweighted error.</p><p>~~ Kariisa-tan</p></div><h3><a id=17528 href="#17528">ðŸ”—</a>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>1/29/2010 3:49:58 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;sunny_red_faery&quot; &lt;<a href="mailto:aerissunnymilk@yahoo.com">aerissunnymilk@yahoo.com</a>&gt; wrote:</p><p>&gt; The above theorem can be proven rather easily, partly by<br/>&gt; noting that a given unison interval of a temperament sets<br/>&gt; a lower limit for the error of the temperament. However,<br/>&gt; temperaments can also be defined by a set of equal<br/>&gt; temperament mappings, and specifying an equal temperament<br/>&gt; sets an upper limit of error. While the error of<br/>&gt; temperaments compatible with a given equal tempermant has<br/>&gt; no lower limit, the existence or lack thereof of a lower<br/>&gt; limit of badness may be more difficult to prove for<br/>&gt; certain.</p><p>We can assume there will be a limit.  Equal temperament<br/>mappings are the algebraic dual of unison intervals.  It<br/>should be possible to take a theorem using one and convert<br/>it to the other.  Unfortunately I don&apos;t know how to do that.</p><p>&gt; The above shows some support for my hypothesis that for a<br/>&gt; given ET, there is a finite quantity of temperaments<br/>&gt; below a given log-flat badness cutoff. However, I have no<br/>&gt; conclusive proof of the hypothesis.<br/>&gt;<br/>&gt; What additional information can support or invalidate<br/>&gt; this hypothesis?</p><p>This shows how you can prove you have all rank 2<br/>temperaments within a given badness cutoff, working from<br/>equal temperaments:</p><p><a href="http://x31eq.com/complete.pdf">http://x31eq.com/complete.pdf</a></p><p>It only works for particular definitions of error,<br/>complexity, and badness, but it&apos;s a starting point.</p><p>Note equation 31 on p.3.  This converts from a given<br/>complexity and error to a number of steps to the octave.<br/>If you know what badness you&apos;re looking for, you can plot<br/>a line of error against complexity consistent with it.  So<br/>you can use this relation of sqrt(complexity/error) to say<br/>how many notes you expect to find in an equal temperament<br/>for any point on the line.  At some point, therefore, any<br/>number of steps will be optimal.  An equal temperament<br/>mapping with that many steps will be less likely to give a<br/>higher rank temperament with lower badness the further you<br/>get from its optimal point.</p><p>This assumes the equal temperaments also have low badness.<br/>You can choose a stupid mapping that gives you any result<br/>you want.  I think there&apos;s a rule that a consistent equal<br/>temperament gives rank 2 temperaments with complexity lower<br/>than the number of notes to the octave.  You can see this<br/>because if an interval maps to more than n generators for a<br/>scale with n notes to the octave, you could have mapped it<br/>more simply.  But I don&apos;t think I ever proved this.</p><p>Another article here:</p><p><a href="http://badness.pdf">http://badness.pdf</a></p><p>may be relevant, but it&apos;s all about a different kind of<br/>badness.  You can think of it as a way of windowing logflat<br/>badness if you like.</p><p>                                  Graham</p></div><h3><a id=17536 href="#17536">ðŸ”—</a>Carl Lumma &#x3C;carl@lumma.org&#x3E;</h3><span>1/29/2010 4:03:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, &quot;Kari-sunny&quot; &lt;aerissunnymilk@...&gt; wrote:</p><p>&gt; &gt; Here are the numbers<br/>&gt; &gt;<br/>&gt; &gt;   &lt;99 157 230 278| 155<br/>&gt; &gt;   &lt;12 19 28 34|    169<br/>&gt; &gt;   &lt;31 49 72 87|    176<br/>&gt;<br/>&gt; Okay, I would like to see how these were calculated, and how<br/>&gt; that relates to the Kees-max method that I usually use =)</p><p>Maybe you can tell me how to calculate Kees-max.  IIRC it&apos;s<br/>what we&apos;re supposed to use when we want untempered octaves.</p><p>This Scheme procedure computes the TOP damage of a val,<br/>when that val is TOP-tuned</p><p>(define top-damage<br/>   (lambda (val basis)<br/>      (let*<br/>         ((weights (map log2 basis))<br/>          (ji (map (lambda (x) (* x 1200)) weights))<br/>          (errors (map abs (map - ji (top-val val basis)))))<br/>      (apply max (map / errors weights)))))</p><p>if that makes any sense to you.  Oh, it uses this too</p><p>(define top-val<br/>   (lambda (val basis)<br/>      (let*<br/>         ((log2-primes (map log2 basis))<br/>          (exact-val (map / val log2-primes))<br/>          (big (apply max exact-val))<br/>          (small (apply min exact-val))<br/>          (mid (/ (+ big small) 2))<br/>          (tuned-val (map (lambda (x)<br/>                             (/ x mid))<br/>                        val)))<br/>      (map (lambda (x)<br/>              (* x 1200))<br/>         tuned-val))))</p><p>which is Paul Erlich&apos;s algorithm.</p><p>To find the vals I listed before, I look at all vals up to<br/>1000 notes/octave and sort them by notes/octave * top damage,<br/>with the appropriate logflat exponents.  &quot;All&quot; here means I<br/>generate patent vals for ETs in 0.1-cent increments (12.1-ET,<br/>12.2-ET and so on).  The patent vals are true vals which means<br/>they contain only integers.  I then remove torsional ones by<br/>excluding those whose integers have GCD &gt; 1.  I managed to<br/>convince myself this catches everything interesting but I make<br/>no claim it&apos;s the best method.</p><p>&gt; &gt; Are using unweighted error?  Notes/octave complexity?<br/>&gt;<br/>&gt; I suppose so~ I simply selected the numbers 4, 31, 171 and<br/>&gt; 103169 from a list posted a while ago, which apparently may<br/>&gt; have used unweighted error.</p><p>Ah.  Happen to have that msg number?</p><p>-C.</p></div>