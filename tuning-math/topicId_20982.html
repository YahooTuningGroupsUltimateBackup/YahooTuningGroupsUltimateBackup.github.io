<a href="/tuning-math">back to list</a><h1>A proof of Keenan's identity using p-adic numbers and Weil height</h1><h3><a id=20982 href="#20982">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/17/2012 12:09:51 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Aug 16, 2012 at 3:49 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; log(max(3,1)) + log(max(1/5,1)) + log(max(5/3,1)) = log(3) + log(1) +<br/>&gt; log(5/3) = log(3) + log(5/3) = log(5)<br/>&gt;<br/>&gt; Right? I still don&apos;t know what a &quot;place&quot; is, but this seems to work out.</p><p>This is a precursor to the next part about how to define Weil norms on<br/>monzos. There&apos;s another way to make sense of this definition for Weil<br/>height above, which is to note that for n/d, you get</p><p>log(max(|n/d|_2, 1)) + log(max(|n/d|_3, 1)) + log(max(|n/d|_5, 1)) + &mldr;<br/>+ log(max(|n/d|_r, 1))</p><p>where |n/d|_r is the usual Archimedean absolute value on reals. But<br/>since max(|n/d|_p, 1) will always be 1 if the only factors of p are in<br/>the numerator, then the above is equivalent to replacing all of the<br/>n/d&apos;s above with 1/d&apos;s in all of the p-adic norm terms:</p><p>log(max(|1/d|_2, 1)) + log(max(|1/d|_3, 1)) + log(max(|1/d|_5, 1)) + &mldr;<br/>+ log(max(|n/d|_r, 1))</p><p>Since |1/d|_p can never be &lt; 1, we can now get rid of the max terms</p><p>log(|1/d|_2) + log(|1/d|_3) + log(|1/d|_5) + &mldr; + log(max(|n/d|_r, 1))</p><p>Multiply within the logs gives us</p><p>log(|1/d|_2 * |1/d|_3 * |1/d|_5 * ...) + log(max(|n/d|_r, 1))</p><p>But since each p-adic norm simply gives you the largest factor of the<br/>denominator which is a prime power of p, then the log term on the left<br/>is the product of all of these factors, and hence is just the product<br/>of the prime factorization of d itself. Therefore, we&apos;re left with</p><p>log(d) + log(max(|n/d|_r, 1))</p><p>Or, if you like,</p><p>log(d) + max(log(n/d), 0)</p><p>And now it&apos;s obvious what&apos;s going on; you only replace log(d) with<br/>log(n) if n &gt; d. Conversely, it should be immediately obvious from the<br/>above that the following identity will also hold:</p><p>log(n) - min(log(n/d), 0)</p><p>Now, as for Keenan&apos;s identity: it&apos;s clear at this point that both of<br/>these expressions are equal to max(log(n,d)). Since both of these<br/>expressions must be equal, their arithmetic mean must also be equal:</p><p>(log(d) + max(log(n/d), 0) + log(n) - min(log(n/d), 0))/2</p><p>Or, expressed more neatly</p><p>(log(n*d) + max(log(n/d), 0) - min(log(n/d), 0))/2</p><p>It&apos;s trivial to show that for any x, max(x,0) - min(x,0) = |x|_r,<br/>therefore we&apos;re left with:</p><p>(log(n*d) + |log(n/d)|)/2</p><p>Note that, in musical terms, this is the arithmetic mean of Tenney<br/>height and span for any rational n/d. In monzo form for a weighted<br/>monzo |a b c ...&gt;, this is</p><p>(|a| + |b| + |c| + ... + |a+b+c+...|)/2</p><p>This is Keenan&apos;s identity, proven for any rational number in any limit.</p><p>Note that the above is also the L1 norm of the augmented monzo</p><p>|a/2 b/2 c/2 ...; (a+b+c+...)/2&gt;</p><p>where ; is there to represent that the coefficient following is the<br/>augmented coefficient.</p><p>This means that the Weil height of any interval can be constructed by<br/>mapping the interval onto a vector space that is one dimension larger<br/>and then taking the L1 norm of the image of the monzo. This means that<br/>the Weil norm is just the induced L1 norm on the subspace of this<br/>larger space that corresponds to the image of interval space. This<br/>will come in handy when we look at Weil optimal tunings.</p><p>-Mike</p></div><h3><a id=20984 href="#20984">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>8/17/2012 1:20:01 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; This means that the Weil height of any interval can be constructed by<br/>&gt; mapping the interval onto a vector space that is one dimension larger<br/>&gt; and then taking the L1 norm of the image of the monzo.</p><p>So long as the interval is expressible as a fractional monzo. Weil height also covers such intervals as O&#x6;.</p></div><h3><a id=20985 href="#20985">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/17/2012 1:56:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Aug 17, 2012 at 4:20 PM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; This means that the Weil height of any interval can be constructed by<br/>&gt; &gt; mapping the interval onto a vector space that is one dimension larger<br/>&gt; &gt; and then taking the L1 norm of the image of the monzo.<br/>&gt;<br/>&gt; So long as the interval is expressible as a fractional monzo. Weil height<br/>&gt; also covers such intervals as &Iuml;Â†.</p><p>I think that&apos;s supposed to say phi. How do you calculate the Weil<br/>height of phi? What&apos;s the 2-adic, 3-adic, etc norm on phi?</p><p>Also, why just rational monzos? This ought to work for real monzos too, I hope.</p><p>-Mike</p></div><h3><a id=20988 href="#20988">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/17/2012 3:01:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Aug 17, 2012 at 4:56 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; I think that&apos;s supposed to say phi. How do you calculate the Weil<br/>&gt; height of phi? What&apos;s the 2-adic, 3-adic, etc norm on phi?</p><p>I guess that using your alternative definition of Weil height, it<br/>turns out that phi has a Weil height of 1.</p><p>If you extend the relationship that WH(n/d) = (log(n*d) +<br/>|log(n/d)|)/2 to algebraic numbers x, and generalize log(n*d) to a<br/>function TH(x) on algebraic numbers, you get</p><p>WH(x) = (TH(x) + |log(x)|)/2</p><p>and hence</p><p>TH(x) = 2WH(x) - log(x)</p><p>which is a generalization of Tenney Height to algebraic numbers. So<br/>using that identity, TH(phi) = log(4/phi). But then again, I dunno if<br/>there&apos;s a better way to generalize Tenney Height, or if it&apos;s really<br/>useful anyway.</p><p>-Mike</p></div><h3><a id=20989 href="#20989">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>8/17/2012 3:12:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; I think that&apos;s supposed to say phi. How do you calculate the Weil<br/>&gt; height of phi? What&apos;s the 2-adic, 3-adic, etc norm on phi?</p><p>The minimal polynomial for phi is phi^2-phi-1, which is of degree two. Phi is a PV number, so the only conjugate greater than 1 in absolute value is phi. Hence, H(phi) = sqrt(phi), widely lauded and acclaimed as a regular temperament generator. Phi is a unit, with p-adic norm everywhere a unit, with absolute value 1.</p><p>&gt; Also, why just rational monzos? This ought to work for real monzos too, I hope.</p><p>How, exactly, do real monzos uniquely represent real numbers?</p></div><h3><a id=20990 href="#20990">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/17/2012 3:24:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Aug 17, 2012 at 6:01 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt; On Fri, Aug 17, 2012 at 4:56 PM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; I think that&apos;s supposed to say phi. How do you calculate the Weil<br/>&gt;&gt; height of phi? What&apos;s the 2-adic, 3-adic, etc norm on phi?<br/>&gt;<br/>&gt; I guess that using your alternative definition of Weil height, it<br/>&gt; turns out that phi has a Weil height of 1.</p><p>No, I totally ruined this. I&apos;m supposed to be looking at only the<br/>zeros of the minimal polynomial with absolute value greater than 1,<br/>and also the thing you gave was for arithmetic Weil height and not<br/>logarithmic Weil height. Fixing that awful mess gives</p><p>WH(phi) = sqrt(phi)</p><p>and</p><p>TH(x) = 2WH(x) - log(x)</p><p>TH(phi) = 2log(sqrt(phi)) - log(phi) = log(phi) - log(phi) = 0.</p><p>So phi has a TH of 0. I fold.</p><p>-Mike</p></div><h3><a id=20991 href="#20991">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/17/2012 11:13:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Fri, Aug 17, 2012 at 6:12 PM, genewardsmith &lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt;<br/>wrote:<br/>&gt;<br/>&gt; The minimal polynomial for phi is phi^2-phi-1, which is of degree two. Phi<br/>&gt; is a PV number, so the only conjugate greater than 1 in absolute value is<br/>&gt; phi. Hence, H(phi) = sqrt(phi), widely lauded and acclaimed as a regular<br/>&gt; temperament generator. Phi is a unit, with p-adic norm everywhere a unit,<br/>&gt; with absolute value 1.</p><p>Wait a sec, something here doesn&apos;t seem right. I can see how under<br/>your alternative definition for Weil height, this works out, but this<br/>doesn&apos;t seem to also agree with the original definition.</p><p>If the logarithmic Weil height of any number x is the sum of<br/>log(max(|x|_v, 1)) over all absolute values v, and if phi has p-adic<br/>norm of 1 for all p, doesn&apos;t that mean that log(max(|phi|_v, 1)) = 0<br/>for all non-Archimedean absolute values in the summation (e.g. the<br/>ones corresponding to p-adic norms), leaving only the ordinary<br/>Archimedean absolute value?</p><p>So since those terms all cancel out to 0, then the only thing left is<br/>log(max(|phi|_r, 1)), where |&nbsp;&middot;&nbsp;|_r is the Archimedean absolute value.<br/>So this works out to log(phi). Or, if you want the non-log version of<br/>Weil height, that&apos;s just phi.</p><p>So why does this way give H(phi) = phi but your way give H(phi) =<br/>sqrt(phi)? If I&apos;ve made an arithmetical error somewhere above, I can&apos;t<br/>see it.</p><p>-Mike</p></div><h3><a id=20992 href="#20992">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>8/18/2012 12:34:36 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; So why does this way give H(phi) = phi but your way give H(phi) =<br/>&gt; sqrt(phi)? If I&apos;ve made an arithmetical error somewhere above, I can&apos;t<br/>&gt; see it.</p><p>The relative height H_K(phi) = phi, where K = Q(phi) = Q(sqrt(5)). This is of degree 2, so the absolute Weil height is sqrt(phi).</p></div><h3><a id=20993 href="#20993">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/22/2012 6:00:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Time to get back to all this now...</p><p>On Sat, Aug 18, 2012 at 3:34 AM, genewardsmith<br/>&lt;<a href="mailto:genewardsmith@sbcglobal.net">genewardsmith@sbcglobal.net</a>&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; So why does this way give H(phi) = phi but your way give H(phi) =<br/>&gt; &gt; sqrt(phi)? If I&apos;ve made an arithmetical error somewhere above, I can&apos;t<br/>&gt; &gt; see it.<br/>&gt;<br/>&gt; The relative height H_K(phi) = phi, where K = Q(phi) = Q(sqrt(5)). This is of degree 2, so the absolute Weil height is sqrt(phi).</p><p>But isn&apos;t arithmetic Weil height the product of all the places of the<br/>number? So if each p-adic norm on phi is 1, and the Archimedean norm<br/>on phi is just phi, the product of everything is just phi. So why<br/>isn&apos;t the Weil height of phi just equal to phi?</p><p>-Mike</p></div><h3><a id=20994 href="#20994">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@sbcglobal.net&#x3E;</h3><span>8/22/2012 6:29:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; But isn&apos;t arithmetic Weil height the product of all the places of the<br/>&gt; number? So if each p-adic norm on phi is 1, and the Archimedean norm<br/>&gt; on phi is just phi, the product of everything is just phi. So why<br/>&gt; isn&apos;t the Weil height of phi just equal to phi?</p><p>There<br/>s also the absolute and relative way of normalizing places.</p></div>