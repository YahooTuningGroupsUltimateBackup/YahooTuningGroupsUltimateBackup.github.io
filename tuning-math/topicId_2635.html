<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning-math metric visualization</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning-math">back to list</a><h1>metric visualization</h1><h3><a id=2635 href="#2635">ðŸ”—</a>Kees van Prooijen &#x3C;kees@dnai.com&#x3E;</h3><span>1/12/2002 3:04:32 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Paul E. asked me (repeatedly I&apos;m afraid, sorry Paul :-( to clear-up my<br/>pictures in <a href="http://www.kees.cc/tuning/lat_perbl.html">http://www.kees.cc/tuning/lat_perbl.html</a><br/>Especially the last one apparently causes confusion because of the mixed<br/>taxicab-euclidean paradigm.<br/>Well, it&apos;s just a (lame) attempt to visualize the metrics Paul and I use in<br/>a Euclidean context. So it&apos;s _not_ a transformation to a Euclidean metric.<br/>The paradox I mention is in the interpretation of the lattice picture. Equal<br/>distances in the metric are not equal in the picture. (Because then it<br/>_would_ be Euclidean.) So in the last picture I distort the image so that<br/>all distances from the center to the lattice points correspond with the<br/>Euclidean distance we actually see. But this only works for these distances<br/>(relative to the center).<br/>Hope this helps.</p></div><h3><a id=2643 href="#2643">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2002 8:12:19 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;Kees van Prooijen&quot; &lt;kees@d...&gt; wrote:<br/>&gt; Paul E. asked me (repeatedly I&apos;m afraid, sorry Paul :-( to clear-up<br/>my<br/>&gt; pictures in <a href="http://www.kees.cc/tuning/lat_perbl.html">http://www.kees.cc/tuning/lat_perbl.html</a><br/>&gt; Especially the last one apparently causes confusion because of the<br/>mixed<br/>&gt; taxicab-euclidean paradigm.<br/>&gt; Well, it&apos;s just a (lame) attempt to visualize the metrics Paul and<br/>I use in<br/>&gt; a Euclidean context. So it&apos;s _not_ a transformation to a Euclidean<br/>metric.<br/>&gt; The paradox I mention is in the interpretation of the lattice<br/>picture. Equal<br/>&gt; distances in the metric are not equal in the picture. (Because then<br/>it<br/>&gt; _would_ be Euclidean.) So in the last picture I distort the image<br/>so that<br/>&gt; all distances from the center to the lattice points correspond with<br/>the<br/>&gt; Euclidean distance we actually see. But this only works for these<br/>distances<br/>&gt; (relative to the center).<br/>&gt; Hope this helps.</p><p>Thanks Kees. I hope you&apos;ll be patient with me, because there&apos;s much<br/>I&apos;m trying to figure out.</p><p>Let&apos;s drop the Euclidean bit entirely, even from a given reference<br/>point. I don&apos;t think it helps us at all. It&apos;s easy enough to<br/>understand a taxicab metric, or whatever you call its triangular<br/>generalization.</p><p>I&apos;m trying to understand the two middle lattices you show on that<br/>page. Although &quot;mine&quot; would seem to agree with your own feeling<br/>(expressed on your main page) that an appropriate error weighting for<br/>evaluating temperaments would be</p><p>f3 + log(3)/log(5)*f5 + log(3)/log(5)*f(5/3)<br/>(I would love for you to explain this feeling if you could)</p><p>, there seems to be something desirable about &quot;yours&quot; -- for one<br/>thing, I have a strong hope that your lattice implies some alternate<br/>error weighting (and perhaps a nonlinear formula) that would make<br/>my &quot;heuristic&quot; almost exactly perfect. My heuristic is that, if you<br/>temper out _one_ unison vector n:d in the 5-limit, and hence end up<br/>with a linear temperament, if you then optimize the generator<br/>according to the &quot;right&quot; error function, the temperament&apos;s<br/>(minimized) error is proportional to</p><p>(n-d)/(d*log(d))</p><p>I have found that a simple error function, an equal-weighted RMS over<br/>the three consonant intervals, bears out the heuristic to within a<br/>factor of 2 for an extremely wide range of unison vectors (one might<br/>say all of them). I&apos;m searching for the error function which will<br/>make my heuristic almost exactly perfect -- and I<br/>suspect &quot;your&quot; &quot;taxicab&quot; metric has a whole lot to do with it. So<br/>far, Gene has not helped me at all -- perhaps you can help??</p><p>Thanks,<br/>Paul</p></div><h3><a id=2644 href="#2644">ðŸ”—</a>manuel.op.de.coul@eon-benelux.com</h3><span>1/14/2002 8:33:44 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>From my experience with taxis in Asia, I can tell that<br/>the &quot;taxicab&quot; metric is not always identical to the<br/>&quot;city block&quot; metric :-)</p><p>Manuel</p></div><h3><a id=2645 href="#2645">ðŸ”—</a>monz &#x3C;joemonz@yahoo.com&#x3E;</h3><span>1/14/2002 9:05:23 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; From: &lt;<a href="mailto:manuel.op.de.coul@eon-benelux.com">manuel.op.de.coul@eon-benelux.com</a>&gt;<br/>&gt; To: &lt;<a href="mailto:tuning-math@yahoogroups.com">tuning-math@yahoogroups.com</a>&gt;<br/>&gt; Sent: Monday, January 14, 2002 8:33 AM<br/>&gt; Subject: Re: [tuning-math] Re: metric visualization<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; From my experience with taxis in Asia, I can tell that<br/>&gt; the &quot;taxicab&quot; metric is not always identical to the<br/>&gt; &quot;city block&quot; metric :-)</p><p>Hah!  That&apos;s funny.</p><p>Manuel, I noticed in your &quot;tips.par&quot; file that you refer<br/>to the taxicab metric as a &quot;Manhattan&quot; metric.  I like that.</p><p>-monz</p><p>_________________________________________________________<br/>Do You Yahoo!?<br/>Get your free <a href="https://twitter.com/yahoo">@yahoo</a>.com address at <a href="http://mail.yahoo.com">http://mail.yahoo.com</a></p></div><h3><a id=2650 href="#2650">ðŸ”—</a>keesvp &#x3C;kees@dnai.com&#x3E;</h3><span>1/14/2002 12:59:40 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Paul,</p><p>Just from the top of my head, try this:<br/>Take the inverse of the last matrix I mention, so you get:</p><p>( 0.5 * sqrt(3) * log(5)     -0.5 * log(5) )<br/>(           0                   log(3)     )</p><p>or</p><p>( 0.91024 -0.52553 )<br/>( 0.00000  0.57735 )</p><p>As error function, make a vector of the (signed) errors for 3 and 5,<br/>multiply this with the constructed matrix, take the norm of the<br/>result as error.<br/>Curious if this will work as you expect. To be exact the non-linear<br/>correction as resulting in the last picture should also be applied (I<br/>think), but I doubt that will very influential.</p><p>Kees</p></div><h3><a id=2651 href="#2651">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2002 1:50:24 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:<br/>&gt; Hi Paul,<br/>&gt;<br/>&gt; Just from the top of my head, try this:<br/>&gt; Take the inverse of the last matrix I mention, so you get:<br/>&gt;<br/>&gt; ( 0.5 * sqrt(3) * log(5)     -0.5 * log(5) )<br/>&gt; (           0                   log(3)     )<br/>&gt;<br/>&gt; or<br/>&gt;<br/>&gt; ( 0.91024 -0.52553 )<br/>&gt; ( 0.00000  0.57735 )<br/>&gt;<br/>&gt; As error function, make a vector of the (signed) errors for 3 and<br/>5,<br/>&gt; multiply this with the constructed matrix, take the norm of the<br/>&gt; result as error.</p><p>To verify that I did this right, does the &quot;van-Prooijen-optimal<br/>meantone&quot; have a generator of 695.982 cents?</p><p>&gt; Curious if this will work as you expect.</p><p>I get 0.00576743 as the error in octaves of this meantone. Now for<br/>the Enneadecal temperament, based on unison vector</p><p>2^14 * 3^19 * 5^-19 ,</p><p>I get 497.994 cents as the van-Prooijen-optimal generator (period<br/>1/19 oct.), and 0.000152973 octave as the error.</p><p>Now (81-80)/(81*log(81)) = 0.00280938, and 0.00280938/0.00576743 =<br/>0.487111</p><p>Meanwhile, (5^19 - 2^14 * 3^19)/(5^19 * log(5^19)) = 5.314056e-5, and<br/>5.314056e-5/0.000152973 = 0.347385</p><p>So, this looks like a &quot;no-go&quot; . . . can you verify that my<br/>calculations are correct?</p><p>&gt; To be exact the non-linear<br/>&gt; correction as resulting in the last picture should also be applied<br/>(I<br/>&gt; think), but I doubt that will very influential.</p><p>Again, I&apos;m not seeing what the pseudo-Euclidean picture could have to<br/>offer. Isn&apos;t the taxicab metric already &quot;perfect&quot; -- or am I missing<br/>something?</p></div><h3><a id=2653 href="#2653">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2002 1:56:58 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Kees, when I calculate this:<br/>&gt;<br/>&gt; ( 0.5 * sqrt(3) * log(5)     -0.5 * log(5) )<br/>&gt; (           0                   log(3)     )</p><p>I don&apos;t get</p><p>&gt; ( 0.91024 -0.52553 )<br/>&gt; ( 0.00000  0.57735 )</p><p>as you said -- instead I get</p><p>     (  1.3938     -0.80472  )<br/>     (       0       1.0986  )</p><p>or, using base-5 logs,</p><p>     (  0.86603         -0.5  )<br/>     (       0      0.68261   )</p><p>Did you have a typo somewhere?</p></div><h3><a id=2654 href="#2654">ðŸ”—</a>keesvp &#x3C;kees@dnai.com&#x3E;</h3><span>1/14/2002 2:01:57 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt;<br/>&gt; Did you have a typo somewhere?</p><p>Sorry Paul, forgot to divide by determinant in symbolic expression.<br/>The numerics should be ok.</p></div><h3><a id=2655 href="#2655">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2002 2:08:51 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Did you have a typo somewhere?<br/>&gt;<br/>&gt; Sorry Paul, forgot to divide by determinant in symbolic expression.<br/>&gt; The numerics should be ok.</p><p>The two matrices you gave (one with formulae, one with 5-digit<br/>numbers) do not agree, even up to a multiplicative constant. So am I<br/>to take the matrix with 5-digit numbers? If I do, I get 695.72 cents<br/>as the optimal meantone generator, with error 0.0036241 oct.; I get<br/>498.02 cents as the optimal enneadecal generator, with error 9.3852e-<br/>005 . . . now 0.0036241/0.0028094 = 1.29, and 9.3852e-5/5.3141e-5 =<br/>1.7661 . . . so this doesn&apos;t seem to work either . . . can you verify<br/>my numbers?</p></div><h3><a id=2656 href="#2656">ðŸ”—</a>keesvp &#x3C;kees@dnai.com&#x3E;</h3><span>1/14/2002 2:43:54 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; to take the matrix with 5-digit numbers? If I do, I get 695.72<br/>cents<br/>&gt; as the optimal meantone generator, with error 0.0036241 oct.; I get<br/>&gt; 498.02 cents as the optimal enneadecal generator, with error<br/>9.3852e-<br/>&gt; 005 . . . now 0.0036241/0.0028094 = 1.29, and 9.3852e-5/5.3141e-5 =<br/>&gt; 1.7661 . . . so this doesn&apos;t seem to work either . . . can you<br/>verify<br/>&gt; my numbers?</p><p>I really shouldn&apos;t be tempted to do this from my job. I&apos;m not<br/>equipped with tools and time to do it right.<br/>I don&apos;t know what went wrong, but the right numbers as far as I can<br/>see now (cross my fingers) are:<br/>( 0.91024 -0.52553 )<br/>( 0.00000  0.71746 )<br/>I will take a better look at it tonight.</p><p>Kees</p></div><h3><a id=2657 href="#2657">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2002 2:49:20 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:</p><p>&gt; I don&apos;t know what went wrong, but the right numbers as far as I can<br/>&gt; see now (cross my fingers) are:<br/>&gt; ( 0.91024 -0.52553 )<br/>&gt; ( 0.00000  0.71746 )</p><p>This gives the same result as your original, formulaically expressed<br/>matrix.</p><p>&gt; I will take a better look at it tonight.</p><p>I appreciate it greatly.</p></div><h3><a id=2659 href="#2659">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2002 3:17:31 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>By the way, Kees, by &quot;norm&quot; I assume you meant the 2-norm . . . but<br/>that would be the Euclidean norm . . . would the appropriate taxicab<br/>norm be, instead, the maximum of the entries in the vector? Or what?</p></div><h3><a id=2661 href="#2661">ðŸ”—</a>keesvp &#x3C;kees@dnai.com&#x3E;</h3><span>1/14/2002 4:14:17 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>That&apos;s exactly what the nonlinear thingy is about, to correct the<br/>result of the linear transformation and euclidean norm. I guess you<br/>could avoid all this by just taking the conditional metric I started<br/>with.</p><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; By the way, Kees, by &quot;norm&quot; I assume you meant the 2-norm . . . but<br/>&gt; that would be the Euclidean norm . . . would the appropriate<br/>taxicab<br/>&gt; norm be, instead, the maximum of the entries in the vector? Or what?</p></div><h3><a id=2690 href="#2690">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 1:33:18 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The conditional metric -- isn&apos;t this just a triangular-taxicab metric<br/>over a suitably defined lattice?</p><p>P.S. Assuming that, and so using max instead of Euclidean norm, I<br/>found some slight variation of your matrix last night, that seemed to<br/>get the meantone number to agree with the enneadecal number . . . but<br/>today, I&apos;ve lost it! HELP!!</p><p>--- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:<br/>&gt; That&apos;s exactly what the nonlinear thingy is about, to correct the<br/>&gt; result of the linear transformation and euclidean norm. I guess you<br/>&gt; could avoid all this by just taking the conditional metric I<br/>started<br/>&gt; with.<br/>&gt;<br/>&gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; &gt; By the way, Kees, by &quot;norm&quot; I assume you meant the 2-norm . . .<br/>but<br/>&gt; &gt; that would be the Euclidean norm . . . would the appropriate<br/>&gt; taxicab<br/>&gt; &gt; norm be, instead, the maximum of the entries in the vector? Or<br/>what?</p></div><h3><a id=2699 href="#2699">ðŸ”—</a>keesvp &#x3C;kees@dnai.com&#x3E;</h3><span>1/15/2002 2:00:56 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; The conditional metric -- isn&apos;t this just a triangular-taxicab<br/>metric<br/>&gt; over a suitably defined lattice?<br/>&gt;<br/>&gt; P.S. Assuming that, and so using max instead of Euclidean norm, I<br/>&gt; found some slight variation of your matrix last night, that seemed<br/>to<br/>&gt; get the meantone number to agree with the enneadecal number . . .<br/>but<br/>&gt; today, I&apos;ve lost it! HELP!!<br/>&gt;<br/>&gt; --- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:<br/>&gt; &gt; That&apos;s exactly what the nonlinear thingy is about, to correct the<br/>&gt; &gt; result of the linear transformation and euclidean norm. I guess<br/>you<br/>&gt; &gt; could avoid all this by just taking the conditional metric I<br/>&gt; started<br/>&gt; &gt; with.<br/>&gt; &gt;<br/>&gt; &gt; --- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; &gt; &gt; By the way, Kees, by &quot;norm&quot; I assume you meant the 2-norm . . .<br/>&gt; but<br/>&gt; &gt; &gt; that would be the Euclidean norm . . . would the appropriate<br/>&gt; &gt; taxicab<br/>&gt; &gt; &gt; norm be, instead, the maximum of the entries in the vector? Or<br/>&gt; what?</p></div><h3><a id=2700 href="#2700">ðŸ”—</a>keesvp &#x3C;kees@dnai.com&#x3E;</h3><span>1/15/2002 2:03:39 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Wel, isn&apos;t this yahoo interface nice. Here we go again:</p><p>I don&apos;t think MAX will work, because that&apos;s a symmetric square<br/>metric, and we want a condition on the signs being equal or not.<br/>I am now pretty sure the much to small generator is due to the non-<br/>linear effects. The inverse matrix maps the hexagon to interval<br/>space. The euclidean norm looks at circles. So I guess you first<br/>should do the non-linear transformation circle -&gt; hexagon.<br/>That&apos;s getting complicated. That&apos;s why I suggested taking<br/>the &apos;reversed&apos; metric to begin with:</p><p>Let f3 and f5 be the errors.<br/>If they are of equal sign:<br/>  error = max( |f3*log(5)|, |f5*log(3)| )<br/>else:<br/>  error = |f3*log(5)| + |f5*log(3)|</p><p>I&apos;m afraid I&apos;m being much more intuitive than scientific here. In the<br/>normal meantone case it gives regular 1/4 comma anyway as far as I<br/>can see, so I really don&apos;t dare to say if it will be interesting in<br/>any way, or even makes sense.</p><p>Kees</p></div><h3><a id=2701 href="#2701">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2002 2:54:23 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:<br/>&gt; Wel, isn&apos;t this yahoo interface nice. Here we go again:<br/>&gt;<br/>&gt; I don&apos;t think MAX will work, because that&apos;s a symmetric square<br/>&gt; metric, and we want a condition on the signs being equal or not.</p><p>OK -- how about a MAX on the _three_ consonant intervals?</p><p>&gt; I am now pretty sure the much to small generator is due to the non-<br/>&gt; linear effects. The inverse matrix maps the hexagon to interval<br/>&gt; space. The euclidean norm looks at circles. So I guess you first<br/>&gt; should do the non-linear transformation circle -&gt; hexagon.<br/>&gt; That&apos;s getting complicated.</p><p>Yes, and I don&apos;t see any reason to use the euclidean norm.</p><p>&gt; That&apos;s why I suggested taking<br/>&gt; the &apos;reversed&apos; metric to begin with:</p><p>Did not understand that.</p><p>&gt; Let f3 and f5 be the errors.<br/>&gt; If they are of equal sign:<br/>&gt;   error = max( |f3*log(5)|, |f5*log(3)| )<br/>&gt; else:<br/>&gt;   error = |f3*log(5)| + |f5*log(3)|</p><p>This is fine, but what about the geometry of _your_ triangular<br/>lattice? _That_ would seem to be the one that would work, while here<br/>it seems you&apos;re using _my_ triangular lattice.</p><p>&gt; I&apos;m afraid I&apos;m being much more intuitive than scientific here. In<br/>the<br/>&gt; normal meantone case it gives regular 1/4 comma anyway as far as I<br/>&gt; can see, so I really don&apos;t dare to say if it will be interesting in<br/>&gt; any way, or even makes sense.</p><p>I&apos;ll check it out later, as well as any other alternative based on<br/>_your_ lattice that you might wish to present.</p></div><h3><a id=2742 href="#2742">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/16/2002 3:45:09 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;keesvp&quot; &lt;kees@d...&gt; wrote:</p><p>&gt; Let f3 and f5 be the errors.<br/>&gt; If they are of equal sign:<br/>&gt;   error = max( |f3*log(5)|, |f5*log(3)| )<br/>&gt; else:<br/>&gt;   error = |f3*log(5)| + |f5*log(3)|<br/>&gt;<br/>&gt; I&apos;m afraid I&apos;m being much more intuitive than scientific here. In<br/>the<br/>&gt; normal meantone case it gives regular 1/4 comma anyway as far as I<br/>&gt; can see</p><p>Kees, I don&apos;t think it gives 1/4-comma meantone.</p><p>In the vicinity of 1/4-comma meantone, since the errors are the same<br/>sign,</p><p>error = max( |f3*log(5)|, |f5*log(3)| )</p><p>But f3 and f5 are equal in 1/4-comma meantone, while this error<br/>function is actually minimized with a fifth of 698.01 cents.</p><p>However, I don&apos;t think your original formula makes much sense.<br/>Shouldn&apos;t &quot;if they are of equal sign&quot; be replaced with &quot;if they are<br/>of opposite sign&quot;?</p><p>In any case, if I directly use the formula you use to evaluate ETs on<br/><a href="http://www.kees.cc/tuning/perbl.html:">http://www.kees.cc/tuning/perbl.html:</a></p><p>f3 + log(3)/log(5)*f5 + log(3)/log(5)*f(5/3)</p><p>intepret f3, f5, and f(5/3) as absolute values, and minimize this<br/>sum, I do get 1/4-comma meantone. But if I take the MAX instead of<br/>the sum of these three terms, I get a fifth of 697.1160 cents. This<br/>is quite nice, and might belong on the table of optimal meantones.</p><p>Is this the &quot;Kees optimal meantone&quot; corresponding to my triangular<br/>lattice in <a href="http://www.kees.cc/tuning/lat_perbl.html">http://www.kees.cc/tuning/lat_perbl.html</a> ?</p><p>If so, what error function would we use to calculate the &quot;Kees<br/>optimal meantone&quot; corresponding to _your_ triangular lattice, the one<br/>right after mine, in <a href="http://www.kees.cc/tuning/lat_perbl.html">http://www.kees.cc/tuning/lat_perbl.html</a> ? I&apos;d<br/>be pleased if you gave me a bunch of guesses -- the more I have to<br/>try out, the better.</p></div><h3><a id=2752 href="#2752">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/16/2002 10:59:12 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote,</p><p>&gt; In any case, if I directly use the formula you use to evaluate ETs<br/>on<br/>&gt; <a href="http://www.kees.cc/tuning/perbl.html:">http://www.kees.cc/tuning/perbl.html:</a><br/>&gt;<br/>&gt; f3 + log(3)/log(5)*f5 + log(3)/log(5)*f(5/3)<br/>&gt;<br/>&gt; intepret f3, f5, and f(5/3) as absolute values, and minimize this<br/>&gt; sum, I do get 1/4-comma meantone. But if I take the MAX instead of<br/>&gt; the sum of these three terms, I get a fifth of 697.1160 cents. This<br/>&gt; is quite nice, and might belong on the table of optimal meantones.<br/>&gt;<br/>&gt; Is this the &quot;Kees optimal meantone&quot; corresponding to my triangular<br/>&gt; lattice in <a href="http://www.kees.cc/tuning/lat_perbl.html">http://www.kees.cc/tuning/lat_perbl.html</a> ?</p><p>If so, it might be the one (or one) we want to consider for our paper.</p><p>But just to test how close it comes to my heuristic:</p><p>meantone: heuristic error = 0.00280938; optimized error = 0.00649007;<br/>ratio = 0.43287</p><p>enneadecal: heuristic error = 5.31406e-5; optimized error = 1.35666e-<br/>4; ratio = 0.39170</p><p>Still not as good as it should be.</p><p>What if I try the weights off Kees&apos; here-posted matrix directly:</p><p>0.5 * sqrt(3) * log(5) for f3;<br/>0.5 * log(5) for f(5/3);<br/>log(3) for f5.</p><p>Then I get</p><p>meantone: heuristic error = 0.00280938; (optimal generator =<br/>697.417&cent;;) optimized error = 0.00529287; ratio = 0.53078</p><p>enneadecal: heuristic error = 5.31406e-5; optimized error = 9.93739e-<br/>5; ratio = 0.53475</p><p>Now that&apos;s more like it! If I use 80 instead of 81 for d in the<br/>meantone one, I get a ratio of 0.539 instead if .531 -- so we seem to<br/>have perfect agreement within the vagaries of the heuristic!</p><p>Now it&apos;s time to try one more example -- how about the 5-limit MAGIC<br/>system? The UV is 3125:3072 . . .</p><p>magic: heuristic error = 0.002107568; (optimal generator = 380.791&cent;;)<br/>optimized error = 0.005056214; ratio = 0.41682 :(</p><p>This is so sad! Who can fix this?</p></div><h3><a id=2753 href="#2753">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/16/2002 11:19:05 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:</p><p>&gt; What if I try the weights off Kees&apos; here-posted matrix directly:<br/>&gt;<br/>&gt; 0.5 * sqrt(3) * log(5) for f3;<br/>&gt; 0.5 * log(5) for f(5/3);<br/>&gt; log(3) for f5.</p><p>As that didn&apos;t work, I&apos;ll try the weights in the other matrix Kees<br/>posted:</p><p>0.91024 for f3;<br/>0.57735 for f5;<br/>0.52553 for f(5/3).</p><p>I&apos;ll use the geometric mean of n and d in place of d in the<br/>denominator of the heuristic:</p><p>|n-d|/(gm*log(gm)).</p><p>Meantone: optimal generator = 697.415&cent; . . . ratio = 0.81962</p><p>Magic: opt. gen. = 380.508&cent; . . . ratio = 0.760549</p><p>Back to the drawing board . . .</p></div><h3><a id=2777 href="#2777">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/17/2002 4:10:06 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning-math@y..., &quot;paulerlich&quot; &lt;paul@s...&gt; wrote:<br/>&gt; I wrote,<br/>&gt;<br/>&gt; &gt; In any case, if I directly use the formula you use to evaluate<br/>ETs<br/>&gt; on<br/>&gt; &gt; <a href="http://www.kees.cc/tuning/perbl.html:">http://www.kees.cc/tuning/perbl.html:</a><br/>&gt; &gt;<br/>&gt; &gt; f3 + log(3)/log(5)*f5 + log(3)/log(5)*f(5/3)<br/>&gt; &gt;<br/>&gt; &gt; intepret f3, f5, and f(5/3) as absolute values, and minimize this<br/>&gt; &gt; sum, I do get 1/4-comma meantone. But if I take the MAX instead<br/>of<br/>&gt; &gt; the sum of these three terms, I get a fifth of 697.1160 cents.</p><p>A more exact calculation gives me 697.1383 cents . . .</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            