<a href="/tuning-math">back to list</a><h1>Weil tuning</h1><h3><a id=20996 href="#20996">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/22/2012 11:31:30 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The (unnormalized) Weil norm on a weighted monzo |a b c ...&gt; is:</p><p>|| |a b c ...&gt; ||_W = |a| + |b| + |c| + ... + |a+b+c+...|</p><p>Where the subscript W on the lefthand side is there to note that this<br/>is the Weil norm.</p><p>To define a Weil tuning, we need to figure out what the dual norm<br/>induced by the Weil norm onto tuning space is, so that we can define<br/>it on vals and tuning maps. To figure this out, one immediately<br/>important thing to note is that this norm itself has the structure of<br/>being the L1 norm of a special &quot;augmented&quot; vector:</p><p>|| |a b c ...&gt; ||_W = || |a b c ...; (a+b+c+...)&gt; ||_1</p><p>The vector |a b c ...; (a+b+c+...)&gt; is an augmented monzo with one<br/>additional augmented coordinate tacked on at the end, set equal to the<br/>sum of the other coordinates; again, all coordinates involved are<br/>weighted beforehand. Therefore, for any monzo, the Weil norm can be<br/>turned onto an ordinary L1 norm by first left-multiplying weighted<br/>monzos (represented as column vectors) by the following matrix:</p><p>[1 0 0 0 0 ... 0]<br/>[0 1 0 0 0 ... 0]<br/>[0 0 1 0 0 ... 0]<br/>[0 0 0 1 0 ... 0]<br/>[0 0 0 0 1 ... 0]<br/>       &middot;<br/>       &middot;<br/>       &middot;<br/>[0 0 0 0 0 ... 1]<br/>[1 1 1 1 1 ... 1]</p><p>and then taking the L1 norm of the result. This is a diagonal matrix<br/>with an additional row of ones concatenated on the bottom.</p><p>This matrix is, essentially, a mapping from ordinary interval space<br/>into a larger &quot;augmented interval space&quot; that&apos;s one dimension bigger.<br/>It&apos;s basically a V-map, but where we&apos;re treating ordinary JI as a<br/>subspace of an even larger vector space. The non-augmented coordinates<br/>can be interpreted as defining a monzo in the usual way, and the last<br/>&quot;augmented&quot; coordinate can be interpreted as representing the<br/>interval&apos;s span. The image of the above mapping is only those<br/>augmented vectors where the final coordinate actually matches up with<br/>the JI span of the corresponding interval defined by the non-augmented<br/>coordinates.</p><p>We can use this to obtain our Weil dual norm on vals by looking at the<br/>dual space of augmented interval space, which we can call augmented<br/>tuning space. Ordinary tuning space can be constructed as a quotient<br/>space of augmented tuning space, where the subspace we&apos;re modding by<br/>is the left nullspace of the above V-map, which is span{&lt;1 1 1 1 1<br/>...; -1|}. So for any JI val &lt;a b c d e ...|, the coset of augmented<br/>vals mapping to it is of the form &lt;a b c d e ...; 0| + k*&lt;1 1 1 1 1<br/>...; -1|.</p><p>This should look familiar, because it&apos;s the same thing that we&apos;ve been<br/>talking about with subgroups these past few weeks: svals are cosets of<br/>full-limit vals. Since we&apos;ve effectively set things up so that<br/>ordinary JI vals are being treated like &quot;svals&quot;, and augmented vals<br/>are being treated like &quot;full-limit vals&quot;, then we&apos;re back to the same<br/>situation we were at with subgroups a few weeks ago. This means that<br/>we can use Hahn-Banach again to get our Weil dual norm.</p><p>If V is an ordinary val that we want to get the Weil dual norm || &middot;<br/>||_W* of, then ||V||_W* is given by the following:</p><p>||V||_W* = inf ||A||_inf: A*M = V</p><p>where A is an augmented val, M is the V-map from above, and || &middot;<br/>||_inf is the Linf norm on augmented vals. IOW, the Weil dual norm of<br/>any val is the Linf norm of the shorted augmented val mapping to it.<br/>This has the structure of being an norm on ordinary non-augmented<br/>tuning space, and as such defines a norm on ordinary vals and tuning<br/>maps.</p><p>Now that we have our dual norm on tuning maps, we can define a new<br/>class of optimal tunings, called Weil tunings, in the obvious way:<br/>given any regular temperament, the Weil tuning of that temperament is<br/>the tuning map T which minimizes ||T-JIP||_W*. This tuning will<br/>minimize the max Weil-weighted error over all intervals in the lattice<br/>- meaning it minimizes the max integer-limit-weighted error over all<br/>intervals (and hence integer-limits) in the lattice. This, of course,<br/>paves the way for us looking at octave-equivalent intervals and<br/>minimizing the max odd-limit-weighted error over all odd-limits in the<br/>lattice.</p><p>Of course, much like normal TOP, this is a pain in the ass to compute.<br/>So next, we&apos;ll take a cue from the Graham Breed playbook and define an<br/>L2-based approximation to all the above that allows us to easily<br/>compute an optimal tuning using the pseudoinverse - the Weil-Euclidean<br/>or WE tuning. We&apos;ll then look at generalized Wp norms.</p><p>-Mike</p></div><h3><a id=20997 href="#20997">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@gmail.com&#x3E;</h3><span>8/22/2012 11:34:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Thu, Aug 23, 2012 at 2:31 AM, Mike Battaglia &lt;<a href="mailto:battaglia01@gmail.com">battaglia01@gmail.com</a>&gt; wrote:<br/>&gt;<br/>&gt; This has the structure of being an norm on ordinary non-augmented<br/>&gt; tuning space, and as such defines a norm on ordinary vals and tuning<br/>&gt; maps.<br/>&gt;<br/>&gt; Now that we have our dual norm on tuning maps, we can define a new<br/>&gt; class of optimal tunings</p><p>I should add that this is only one approach to the problem - turning<br/>the Weil norm into an ordinary L1 norm, then getting the dual norm to<br/>that norm, and inducing the Weil dual norm as a quotient norm. There&apos;s<br/>most likely a simpler way to calculate it directly from the val<br/>coefficients without going through all that hoopla, but I haven&apos;t<br/>worked it out yet. It&apos;s more of an implementation detail anyway, and<br/>this lays out the theoretical groundwork.</p><p>-Mike</p></div>