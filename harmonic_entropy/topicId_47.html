<a href="/harmonic_entropy">back to list</a><h1>ratio generating program</h1><h3><a id=47 href="#47">ðŸ”—</a>graham@...</h3><span>10/4/2000 7:15:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In-Reply-To: &lt;200010041304.IAA29253@...&gt;<br/>&gt;<br/>&gt;         Bugged, which I assume came about as you tried to make the<br/>&gt; function names more sensible or consistent.  I do this all the time.</p><p>Specifically as I try to make them shorter:)</p><p>&gt;  &gt;def isWithinProductLimit(ratio, limit):<br/>&gt;  &gt;  return reduce(lambda x, y: x*y, ratio, 1L)&lt;=limit<br/>&gt;<br/>&gt;         This is called several times as ratioWithinProductLimit...</p><p>Okay, change from ratioWithin... to isWithin... everywhere.  You can also<br/>replace that function with</p><p>def isWithinProductLimit(ratio, limit):<br/>  try:<br/>    return reduce(lambda x, y: x*y, ratio)&lt;=limit<br/>  except OverflowError:<br/>    return 0</p><p>which should do the same thing where limit isn&apos;t long, but faster.</p><p>&gt;         You might find my strange little python JI library<br/>&gt; useful... or not :)  <a href="http://www.execpc.com/~wsannis/ratio.html">http://www.execpc.com/~wsannis/ratio.html</a>.<br/>&gt; I&apos;ve recently been making changes to that library to do more analytic<br/>&gt; things, partially in response to the H.E. discussions.  May I include<br/>&gt; this code (probably classed or otherwise shoved into its own<br/>&gt; namespace) in future versions?  At any rate, the library improves as<br/>&gt; my understanding does.</p><p>I downloaded it earlier in the year, and thought &quot;WTF is katapyknosis?&quot;.<br/>Yes, you can add my functions.  A class would be a good idea: what with<br/>everything using the same product limit.  I&apos;ll e-mail you direct once I&apos;ve<br/>had a look at the new file, as this is getting OT.</p><p>            Graham</p></div>