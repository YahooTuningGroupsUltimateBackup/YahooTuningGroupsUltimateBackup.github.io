<a href="/tuning">back to list</a><h1>Pitch perception.</h1><h3><a id=35793 href="#35793">ðŸ”—</a>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>3/19/2002 9:47:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>HI Paul,</p><p>Sorry, I haven&apos;t been following the discussion, so<br/>I&apos;m not sure what the issue is - I&apos;ve read a few<br/>posts but not the first ones in the thread yet<br/>and haven&apos;t quite gathered yet what it is all<br/>about.</p><p>Listening to the clips, is it something to do<br/>with effect of panning on pitch perception or<br/>something?</p><p>Anyway here is FTS&apos;s analysis of the first 0.3715 seconds<br/>of Jerry 0, using Jain&apos;s method for peak interpolation,<br/>which I usually find best (also using real fft, so<br/>Quinns estimator isn&apos;t suitable).</p><p>.............................</p><p>Fractal Tune Smithy Custom voice or FFT results As Timbre Partials</p><p>Freq.        Amp. (db)    Cents</p><p>233.242601   100          0<br/>292.197079   99.2702449   390.132525<br/>351.139276   99.0889114   708.254469<br/>467.310756   85.5578715   1203.06111<br/>585.253315   85.3716799   1592.67586<br/>701.41652    86.8109643   1906.12811<br/>876.593248   78.6813572   2292.0915<br/>935.480806   72.6118721   2404.65209<br/>1053.43651   78.3680915   2610.24017<br/>1169.59846   72.7356393   2791.33211<br/>1403.73768   68.0307111   3107.24416<br/>1462.63188   69.4254937   3178.39619<br/>1637.75332   62.8805013   3374.17782<br/>1753.99971   73.562052    3492.89435<br/>1871.90172   60.730724    3605.52177<br/>2047.01193   62.2001105   3760.33955<br/>2105.98465   64.5297518   3809.51004<br/>2340.06198   55.8697218   3991.97222<br/>2456.29412   62.903345    4075.89612<br/>2574.21756   55.8142685   4157.07692<br/>2631.40273   58.9146085   4195.11461<br/>2808.29368   64.0485541   4307.74871<br/>2924.47251   55.6977592   4377.92785<br/>3042.46863   52.7397099   4446.407<br/>3158.54685   58.4133233   4511.2293<br/>3217.53569   55.469668    4543.26351<br/>3274.78908   51.1643764   4573.79852<br/>3508.86086   61.8616138   4693.31943<br/>3742.95658   48.3273968   4805.13011<br/>3801.93867   51.5139002   4832.19845<br/>3860.89601   55.4886145   4858.83897<br/>3976.98951   46.6291337   4910.12824<br/>4094.96264   51.8234404   4960.73648<br/>4211.11474   52.1818226   5009.15876<br/>4386.339     50.5331664   5079.73691<br/>4445.10389   45.741937    5102.7767<br/>4561.37661   52.7287489   5147.47929<br/>4679.30811   51.7988071   5191.6704<br/>4913.47164   45.8412085   5276.20741<br/>4970.64312   48.5584463   5296.23517<br/>5147.45165   44.3886571   5356.74618<br/>5263.74886   48.7179563   5395.42493<br/>5381.628     43.3322372   5433.76734<br/>5556.67422   45.8442103   5489.18213<br/>5615.68575   50.5214226   5507.47078<br/>5965.96392   46.9228025   5612.22244<br/>6141.08653   43.148561    5662.30885<br/>6316.31025   50.1293339   5711.01458<br/>6434.24164   42.6600785   5743.04028<br/>6668.28048   46.4428755   5804.89388<br/>6725.49531   42.2825854   5819.68476<br/>7368.79221   44.0819247   5977.82994<br/>8071.14406   42.9542189   6135.44396<br/>8189.03007   44.0457789   6160.54724<br/>9123.79424   43.557167    6347.67683</p><p>Analysed on 5 AM Wednesday, March 20, 2002 GMT Standard Time - Recorded Sound</p><p>FFT sample analysed: 0.2813 Mb 0.3715 secs (16384 samples)<br/>Recorded Sound<br/>From recording of length: 2.268 secs</p><p>Truncated from 0.5729 secs to make the number of samples a power of two</p><p>.............................</p><p>The bin size is +- 2.61965 Hz (I should really put that in<br/>the text file of the results, so I&apos;ll prob. do that<br/>for the future - I&apos;m planning to do a few<br/>days on this section, which is the last part<br/>of FTS 1.09 to need to be finished)</p><p>Typically then I&apos;d expect the values to be accurate<br/>to about +-0.2 Hz or so.</p><p>However, I&apos;m not sure how we can test this.</p><p>I can do a shorter one, say, less than 0.1 seconds,<br/>and I get:</p><p>...............................</p><p>Fractal Tune Smithy Custom voice or FFT results As Timbre Partials</p><p>Freq.        Amp. (db)    Cents</p><p>232.208035   99.7771836   0<br/>295.026805   100          414.513772<br/>350.216559   99.3201121   711.395289<br/>468.261997   85.0275311   1214.27768<br/>586.219414   85.6398884   1603.22742<br/>704.222173   87.2792605   1920.73531<br/>877.430111   77.6245585   2301.43959<br/>932.647874   73.6974587   2407.09751<br/>1050.65198   78.5802376   2613.35408<br/>1168.68821   73.4921955   2797.68035<br/>1404.59108   68.8106059   3115.99245<br/>1459.83599   69.5783582   3182.7798<br/>1640.69516   63.7878585   3384.9809<br/>1751.07121   73.7779458   3497.69755<br/>1869.12539   61.5128263   3610.64826<br/>2049.92574   63.7346581   3770.49822<br/>2105.0584    64.201604    3816.44455<br/>2341.13647   55.7295194   4000.46308<br/>2459.1773    63.6641118   4085.62315<br/>2577.13228   55.9225698   4166.73215<br/>2632.38252   58.299191    4203.45522<br/>2805.51831   63.9440134   4313.73303<br/>2923.46162   56.8995342   4385.02543<br/>3041.70136   52.0969011   4453.66646<br/>3159.61591   58.8079382   4519.51127<br/>3214.84628   55.910612    4549.51195<br/>3277.70881   51.3338891   4583.03747<br/>3505.93417   62.4252491   4699.57093<br/>3742.10537   49.2268664   4812.43246<br/>3804.66296   53.197709    4841.13463<br/>3860.02039   55.0185116   4866.14241<br/>3978.23079   47.3222101   4918.36461<br/>4096.12731   51.1844116   4968.92491<br/>4213.86785   53.623411    5017.98633<br/>4387.03535   49.9027878   5087.70784<br/>4442.39597   46.4828129   5109.41783<br/>4560.39017   52.6392501   5154.80095<br/>4678.53504   52.1235471   5199.08047<br/>4914.22714   46.8218097   5284.16969<br/>4969.4149    47.8718956   5303.50344<br/>5150.57096   43.8891779   5365.49109<br/>5260.83233   48.9118806   5402.16153<br/>5378.90318   43.0469867   5440.58666<br/>5559.86745   46.1484191   5497.87283<br/>5614.8456    49.3015788   5514.90786<br/>5969.04068   48.1905725   5620.81114<br/>6142.31627   43.5112659   5670.3516<br/>6315.31414   50.2955693   5718.43764<br/>6433.02143   42.5556593   5750.40804<br/>6669.42269   45.8666005   5812.8865<br/>6724.78105   43.243585    5827.197<br/>7015.70637   43.24454     5900.51828<br/>7369.72661   43.2869792   5985.74556<br/>8188.31793   43.2739192   6168.09279</p><p>Analysed on 5 AM Wednesday, March 20, 2002 GMT Standard Time - Recorded Sound</p><p>FFT sample analysed: 0.07033 Mb 0.09288 secs (4096 samples)<br/>Recorded Sound<br/>From recording of length: 2.268 secs</p><p>Truncated from 0.1 secs to make the number of samples a power of two</p><p>...............................</p><p>Bin size +- 10.76666 hz, so one would expect it to be<br/>accurate to within a 1 Hz or so after peak interpolation,<br/>and comparing it with the 0.3 second one,<br/>one can see that it is close enough to it most of the<br/>time - many values within 1 Hz. The partial at 295.026805 hz is<br/>about 3 hz out, assuming the 0.3 second analysis gives<br/>the better result.</p><p>It&apos;s pretty easy to use - why not do it yourself?</p><p>Views | Analyse Recording or midi Voice</p><p>Open Audio file</p><p>Select region of the audio file with click and drag</p><p>In main window select Analyse detail.</p><p>Then Find FFT, then Show FFT, and there you are<br/>and you can choose the interpolation method<br/>from Show FFT | Config. | FFT Peak detection.</p><p>Here also you can choose to show the peak detection<br/>curves, and change the various parameters to detect more<br/>or less peaks.</p><p>For this one, with really clear peaks, some of them<br/>rather small, I recommend setting</p><p>Height of peak from valley more than<br/>[0.00625] times max peak / average sound level</p><p>- or some lower value than 0.00625 - just<br/>try varying the parameters and clicking<br/>re-find peaks until one finds that<br/>they all get found.</p><p>Also you could set valley less than [100] % of peak<br/>which switches that option off -</p><p>Both of these are things that reduce the tendency to<br/>detect noise or inharmonic components of a musical<br/>note as extra partials</p><p>It just shows the FFT of the entire waveform<br/>- won&apos;t try to separate out component notes<br/>of a chord or anything, though one might be able<br/>to figure them out from the partials.</p><p>My eventual aim is a method for good transcriptions<br/>of monophonic melody lines to pitches to high<br/>accuracy as far as pitch is concerned, and the<br/>link in with FTS is that then one could sing or<br/>play a seed, get FTS to convert it to midi,<br/>and then use it for the fractal tunes using<br/>the original pitches exactly as you played or<br/>sang it. Or using the closest notes to those pitches<br/>in the current scale, depending what one wants.</p><p>Robert</p></div><h3><a id=35805 href="#35805">ðŸ”—</a>LAFERRIERE Fran&#xE7;ois &#x3C;francois.laferriere@cegetel.fr&#x3E;</h3><span>3/20/2002 7:57:27 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Robert!</p><p>In the mail below, you say that you assume such or such precision for the<br/>peak detection and look for a verification method. I may suggest something.<br/>It is more than reasonable to assume that each of the three tones are<br/>harmonic. So, the list should contain integer multiples of 233.242601,<br/>292.197079 and 351.139276 (or whatever are the actual true value). For each<br/>frequency value in the list, get the best candidate for the fundamental<br/>among the three values, then compute the percentage of &quot;anharmonicity&quot; by<br/>seeing how far away it is from the expected harmonic. Eventually convert the<br/>difference in cents and check out the actual dispersion of the results. That<br/>should give an idea of teh reliability of the method.</p><p>keep me inform of what you found</p><p>yours truly</p><p>Fran&ccedil;ois Laferri&egrave;re</p><p>&gt; -----Message d&apos;origine-----<br/>&gt; De: Robert Walker [<a href="mailto:robertwalker@ntlworld.com">mailto:robertwalker@ntlworld.com</a>]<br/>&gt; Date: mercredi 20 mars 2002 06:48<br/>&gt; &Agrave;: <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a><br/>&gt; Objet: [tuning] Pitch perception.<br/>&gt;<br/>&gt;<br/>&gt; HI Paul,<br/>&gt;<br/>&gt; .............................<br/>&gt;<br/>&gt; Fractal Tune Smithy Custom voice or FFT results As Timbre Partials<br/>&gt;<br/>&gt; Freq.        Amp. (db)    Cents<br/>&gt;<br/>&gt; 233.242601   100          0<br/>&gt; 292.197079   99.2702449   390.132525<br/>&gt; 351.139276   99.0889114   708.254469<br/>&gt; 467.310756   85.5578715   1203.06111<br/>&gt; 585.253315   85.3716799   1592.67586<br/>&gt; 701.41652    86.8109643   1906.12811<br/>&gt; 876.593248   78.6813572   2292.0915<br/>&gt; 935.480806   72.6118721   2404.65209<br/>.....</p><p>&gt; Analysed on 5 AM Wednesday, March 20, 2002 GMT Standard Time<br/>&gt; - Recorded Sound<br/>&gt;<br/>&gt; FFT sample analysed: 0.2813 Mb 0.3715 secs (16384 samples)<br/>&gt; Recorded Sound<br/>&gt; From recording of length: 2.268 secs<br/>&gt;<br/>&gt; Truncated from 0.5729 secs to make the number of samples a<br/>&gt; power of two<br/>&gt;<br/>&gt; .............................<br/>&gt;<br/>&gt; The bin size is +- 2.61965 Hz (I should really put that in<br/>&gt; the text file of the results, so I&apos;ll prob. do that<br/>&gt; for the future - I&apos;m planning to do a few<br/>&gt; days on this section, which is the last part<br/>&gt; of FTS 1.09 to need to be finished)<br/>&gt;<br/>&gt; Typically then I&apos;d expect the values to be accurate<br/>&gt; to about +-0.2 Hz or so.<br/>&gt;<br/>&gt; However, I&apos;m not sure how we can test this.<br/>&gt;<br/>.................................</p></div><h3><a id=35815 href="#35815">ðŸ”—</a>paulerlich &#x3C;paul@stretch-music.com&#x3E;</h3><span>3/20/2002 1:09:04 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;Robert Walker&quot; &lt;robertwalker@n...&gt; wrote:<br/>&gt; HI Paul,<br/>&gt;<br/>&gt; Sorry, I haven&apos;t been following the discussion, so<br/>&gt; I&apos;m not sure what the issue is - I&apos;ve read a few<br/>&gt; posts but not the first ones in the thread yet<br/>&gt; and haven&apos;t quite gathered yet what it is all<br/>&gt; about.<br/>&gt;<br/>&gt; Listening to the clips, is it something to do<br/>&gt; with effect of panning on pitch perception or<br/>&gt; something?</p><p>don&apos;t be concerned about that for now.<br/>&gt;<br/>&gt; Anyway here is FTS&apos;s analysis of the first 0.3715 seconds<br/>&gt; of Jerry 0,</p><p>would you mind doing all the jerries?</p><p> using Jain&apos;s method for peak interpolation,<br/>&gt; which I usually find best (also using real fft, so<br/>&gt; Quinns estimator isn&apos;t suitable).<br/>&gt;<br/>&gt; .............................<br/>&gt;<br/>&gt; Fractal Tune Smithy Custom voice or FFT results As Timbre Partials<br/>&gt;<br/>&gt; Freq.        Amp. (db)    Cents<br/>&gt;<br/>&gt; 233.242601   100          0<br/>&gt; 292.197079   99.2702449   390.132525<br/>&gt; 351.139276   99.0889114   708.254469<br/>&gt; 467.310756   85.5578715   1203.06111<br/>&gt; 585.253315   85.3716799   1592.67586<br/>&gt; 701.41652    86.8109643   1906.12811</p><p>well, these results are obviously very poor, even for jerry0, which<br/>is the easiest one (a ji major triad). what if you used a longer<br/>sample -- as long as you can?</p></div>