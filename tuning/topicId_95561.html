<a href="/tuning">back to list</a><h1>Carl's listening example request</h1><h3><a id=95561 href="#95561">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>1/12/2011 12:48:42 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>OK, so this is pretty trippy... judge for yourself.</p><p>Here are four versions of 5:6:7. The first is with all phases aligned<br/>(the &quot;impulse train&quot; version), and the other three are with random<br/>phase. I clicked the random number generator a bunch of times until I<br/>got a decently &quot;flat&quot; version.</p><p>Here&apos;s a graph comparing the 4:</p><p><a href="http://www.mikebattagliamusic.com/music/567buzztest.png">http://www.mikebattagliamusic.com/music/567buzztest.png</a></p><p>Here&apos;s the waveform - 3 seconds each:</p><p><a href="http://www.mikebattagliamusic.com/music/567buzztest.wav">http://www.mikebattagliamusic.com/music/567buzztest.wav</a></p><p>Buzz on, buzz off, buzz off, buzz on. That&apos;s what it sounds like to<br/>me. The VF is still strong the whole time, however.</p><p>So this proves categorically that periodicity buzz is yet another type<br/>of consonance, not related to the VF mechanism. Can&apos;t wait to get the<br/>Gammatone toolbox set up to see what it spits out for this one. I<br/>guess the next step is also for me to work out what would be a<br/>theoretically &quot;perfect&quot; waveform that minimizes buzz, or has no buzz<br/>at all.</p><p>-Mike</p></div><h3><a id=95562 href="#95562">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>1/12/2011 1:39:18 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Here&apos;s the gammatone filter plots:</p><p><a href="http://www.mikebattagliamusic.com/music/gammafirstwithbuzz.png">http://www.mikebattagliamusic.com/music/gammafirstwithbuzz.png</a><br/><a href="http://www.mikebattagliamusic.com/music/gammasecondnobuzz.png">http://www.mikebattagliamusic.com/music/gammasecondnobuzz.png</a><br/><a href="http://www.mikebattagliamusic.com/music/gammathirdnobuzz.png">http://www.mikebattagliamusic.com/music/gammathirdnobuzz.png</a><br/><a href="http://www.mikebattagliamusic.com/music/gammafourthslightbuzz.png">http://www.mikebattagliamusic.com/music/gammafourthslightbuzz.png</a></p><p>This is with another random set of four, which sounds kind of similar<br/>to the first set. Here&apos;s the picture of the waveforms:</p><p><a href="http://www.mikebattagliamusic.com/music/567buzztest2.png">http://www.mikebattagliamusic.com/music/567buzztest2.png</a></p><p>And the wav file:</p><p><a href="http://www.mikebattagliamusic.com/music/567buzztest2.wav">http://www.mikebattagliamusic.com/music/567buzztest2.wav</a></p><p>This categorically proves that critical band roughness is involved.<br/>No, just kidding, I only said that to annoy Carl. But although the<br/>cochlea doesn&apos;t really consist of actual gammatone filters, it&apos;s still<br/>true that the cochlea follows this general pattern: quicker damping up<br/>top, slower damping on the bottom. Thus this graph will look pretty<br/>much the same even if you ditch the crude &quot;gammatone&quot; approximation<br/>and put in a much better representation of the impulse response of the<br/>auditory filter of the ear, so useful information can be gleaned out<br/>of this nonetheless.</p><p>It appears that when you jump to a mixed time-frequency representation<br/>like this, playing 5:6:7 at the same time doesn&apos;t actually turn into<br/>activation at 5, 6, and 7 uniformly throughout the length of the<br/>period. Rather, the harmonics vary in where they are localized<br/>-within- the period, which is what I had predicted in the other<br/>thread. In this case, it looks like when 5, 6, and 7 are all aligned,<br/>you get more &quot;buzz.&quot; When they aren&apos;t, you get less buzz. If we were<br/>using a single-resolution time-frequency plot, however, such as a<br/>common spectrogram/the STFT, you wouldn&apos;t see this - you&apos;d see a<br/>uniform activation of 5, 6, and 7 throughout the signal.</p><p>So periodicity buzz in real life instruments, then, presumably has<br/>something to do with random phases from the notes involved aligning to<br/>cause this sort of thing to happen.</p><p>And for the record, this is why I said that beating, roughness, and<br/>periodicity buzz were all related to the same thing. Although we don&apos;t<br/>usually think of 5:6:7 as falling within a critical band, the<br/>frequencies are close enough to get slightly trapped in one another&apos;s<br/>auditory filter, which in a time-frequency plot leads to the above<br/>phenomenon.</p><p>-Mike</p></div><h3><a id=95564 href="#95564">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/12/2011 8:07:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>MikeB&gt;&quot;Although we don&apos;t usually think of 5:6:7 as falling within a critical<br/>band, the<br/>frequencies are close enough to get slightly trapped in one another&apos;s<br/>auditory filter, which in a time-frequency plot leads to the above<br/>phenomenon.&quot;</p><p>As in the phases of these different (but close enough to &quot;collide&quot;) frequencies<br/>at times match and cause build-up (the opposite of phase cancellation) within<br/>the same auditory filter and that&apos;s what we hear as the &quot;buzz&quot;?</p></div><h3><a id=95566 href="#95566">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>1/12/2011 12:53:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Wed, Jan 12, 2011 at 11:07 AM, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; MikeB&gt;&quot;Although we don&apos;t usually think of 5:6:7 as falling within a critical band, the<br/>&gt; frequencies are close enough to get slightly trapped in one another&apos;s<br/>&gt; auditory filter, which in a time-frequency plot leads to the above<br/>&gt; phenomenon.&quot;<br/>&gt;<br/>&gt; As in the phases of these different (but close enough to &quot;collide&quot;) frequencies at times match and cause build-up (the opposite of phase cancellation) within the same auditory filter and that&apos;s what we hear as the &quot;buzz&quot;?</p><p>Seems like that&apos;s the logical hypothesis to me. That&apos;s the time-domain<br/>explanation. The frequency-domain explanation is what I wrote above.</p><p>-Mike</p></div><h3><a id=95601 href="#95601">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>1/16/2011 12:55:50 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike wrote:</p><p>&gt; Here are four versions of 5:6:7. The first is with all phases<br/>&gt; aligned (the &quot;impulse train&quot; version), and the other three are<br/>&gt; with random phase. I clicked the random number generator a bunch<br/>&gt; of times until I got a decently &quot;flat&quot; version.<br/>&gt; Here&apos;s a graph comparing the 4:<br/>&gt; <a href="http://www.mikebattagliamusic.com/music/567buzztest.png">http://www.mikebattagliamusic.com/music/567buzztest.png</a></p><p>Perfect, thank you!</p><p>&gt; Here&apos;s the waveform - 3 seconds each:<br/>&gt; <a href="http://www.mikebattagliamusic.com/music/567buzztest.wav">http://www.mikebattagliamusic.com/music/567buzztest.wav</a><br/>&gt; Buzz on, buzz off, buzz off, buzz on. That&apos;s what it sounds like<br/>&gt; to me. The VF is still strong the whole time, however.</p><p>I hear periodicity buzz in all 3 chords, but definitely<br/>more strongly in the first and last.  And in fact, I hear<br/>it slightly more strongly in the last than the first.<br/>And in fact, that may be justified just from looking at<br/>the waveforms.  I didn&apos;t notice it before I listened, but<br/>the minor peaks are bigger in random phase 3 than in the<br/>phase aligned version (the little peaks between the big ones).</p><p>&gt; So this proves categorically that periodicity buzz is yet<br/>&gt; another type of consonance, not related to the VF mechanism.</p><p>How so?</p><p>-Carl</p></div><h3><a id=95602 href="#95602">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>1/16/2011 2:03:05 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote:<br/>&gt; I hear periodicity buzz in all 3 chords, but definitely</p><p>sorry, typo for 4  -C.</p></div><h3><a id=95603 href="#95603">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>1/16/2011 2:06:24 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike, check out this paper:<br/><a href="http://cercor.oxfordjournals.org/content/13/7/765.full">http://cercor.oxfordjournals.org/content/13/7/765.full</a></p><p>It conclusively demonstrates my assertion that the cochlea<br/>has nothing to do with it.  No, not quite, I just said that<br/>to annoy you.  However we should definitely procure some<br/>of these RI sounds...  -Carl</p></div><h3><a id=95606 href="#95606">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>1/16/2011 10:54:36 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sun, Jan 16, 2011 at 3:55 AM, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; So this proves categorically that periodicity buzz is yet<br/>&gt; &gt; another type of consonance, not related to the VF mechanism.<br/>&gt;<br/>&gt; How so?</p><p>Because the VF doesn&apos;t change, but the buzz does. The same also<br/>applies when the sounds are split between the two ears.</p><p>&gt; Mike, check out this paper:<br/>&gt; <a href="http://cercor.oxfordjournals.org/content/13/7/765.full">http://cercor.oxfordjournals.org/content/13/7/765.full</a><br/>&gt;<br/>&gt; It conclusively demonstrates my assertion that the cochlea<br/>&gt; has nothing to do with it. No, not quite, I just said that<br/>&gt; to annoy you. However we should definitely procure some<br/>&gt; of these RI sounds... -Carl</p><p>The RI sounds are what we&apos;ve been working with - they&apos;re periodic<br/>noise. See here:</p><p>&gt; The RI sound was constructed by delaying a sample of random noise by 8 ms (1/125 Hz), adding it back to the original noise and iterating the process 16 times.</p><p>Go back to the other listening example thread and you&apos;ll see that&apos;s<br/>what I did. The three techniques I used were to play an impulse train<br/>by itself, to play an impulse train convolved with a parabola, and to<br/>play an impulse train convolved with noise. Impulse train convolved<br/>with noise = superimposing another copy of the noise signal at each<br/>impulse. The listening test I just did here was an RI sound as applied<br/>to just three sine waves instead of an impulse train. So I guess it<br/>really has been talked about in the psychoacoustics literature then.</p><p>Note that in the case of the impulse train, the timbre of the sound<br/>actually does change between the impulse train and the noise - so I<br/>guess the VF mechanism might really be involved. However, if the<br/>cochlea were involved, it would still lead to the same behavior - if<br/>harmonics are jumping in and out of existence really fast, then the<br/>resultant timbre that the VF mechanism generates would be changing<br/>really fast.</p><p>The gammatone plots I made should apply decently well to any mixed<br/>time-frequency resolution plot, or any filterbank where damping<br/>changes with respect to frequency - they will all exhibit a similar<br/>behavior in which harmonics are localizes. So if the VF mechanism can<br/>be represented as a filterbank doing the same thing, then the same<br/>behavior would apply up there.</p><p>I actually suggested this myself when I talked about the impulse<br/>response decaying in the VF filterbank a while ago - that was the<br/>time-domain equivalent of the same principle. You then turned it<br/>around and proved that this wasn&apos;t the case because the buzz<br/>disappears when the signal is dispersed between the two ears. Now<br/>we&apos;ve switched sides.</p><p>I&apos;ll have to delve further into this paper later.</p><p>-Mike</p></div><h3><a id=95607 href="#95607">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 11:34:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Via Gene&apos;s suggestion...I finally attempted a multi-threaded program which<br/>uses pre-calculated dyad tables in all the possible dyads in 31TET to find the<br/>&quot;best&quot; 12-tone scales within 31TET far as number of pure dyads within a<br/>user-specified odd-limit.</p><p>   Granted it analyzes all possible dyads for around 54 million 12-tone scale<br/>combinations in 31TET so it takes a while...  But still...you can make a list of<br/>dyads with it (IE click on &quot;add all 3,5,7,9,11,13,or15-limit&quot;) to a list and<br/>then click &quot;calculate scale with most dyads in this tuning&quot; and it will find the<br/>&quot;best&quot; 12-tone dyadic scale for you within, say, 10-15 minutes.</p><p>   I&apos;m pretty sure the code is mathematically accurate IE that it does not miss<br/>any dyads in its calculations...though I&apos;m still robustness testing it.<br/>----------------------------------------<br/>   Just for grins...here&apos;s the best scale so far it as come up with under 31TET<br/>for including both 3 and 5-odd-limit ratios (index 0 is assumed to be the root<br/>tone):</p><p>&quot;ultimate&quot; 3-5 odd limit dyad 12 tone scale under 31TET<br/>0 8 10 11   13 15 16 18   19 21 23 29<br/>---------------------------------------<br/>   This is a 12-tone scale within 31TET with 53 3 to 5-odd-limit dyads within 8<br/>cents of perfect.  Though the fact the scale includes a 1/4-tone-ish interval<br/>between scale steps 10 and 11, 15 and 16....plus the resulting scale&apos;s looking<br/>very little like mean-tone all strike me as a bit odd...</p><p>   I also believe 72 would be the ultimate number of 5-limit dyads in a scale as<br/>there appear to me to be 6 dyads within 3 and 5 limit and 12 possible root tones<br/>IE 12 * 6 = 72.  Still, 53 of 72 is not too bad...</p><p>    Can any of you think of a 12-tone scale under 31TET with better results far<br/>as number of 5-or-less-odd-limit dyad?  If so...guess I need to do more quality<br/>checking on the code...</p><p>     For those interested in where the dyads where found in said scale, here is<br/>a table</p><p>(note: indexes 0 to 30 are on the first octave and 31+ are on the second<br/>octave):</p><p>           good dyad from 0 to 8 of 1.195873<br/> &lt;and&gt; good dyad from 0 to 10 of 1.250565<br/> &lt;and&gt; good dyad from 0 to 13 of 1.337329<br/> &lt;and&gt; good dyad from 0 to 18 of 1.495517<br/> &lt;and&gt; good dyad from 0 to 21 of 1.599275<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 0 to 21 of 1.599275<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 8 to 16 of 1.195873<br/> &lt;and&gt; good dyad from 8 to 18 of 1.250565<br/> &lt;and&gt; good dyad from 8 to 21 of 1.337329<br/> &lt;and&gt; good dyad from 8 to 29 of 1.599275<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 21 of 1.337329<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 10 to 18 of 1.195873<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 33 of 1.672419<br/> &lt;and&gt; good dyad from 11 to 19 of 1.195873<br/> &lt;and&gt; good dyad from 11 to 21 of 1.250565<br/> &lt;and&gt; good dyad from 11 to 29 of 1.495516<br/> &lt;and&gt; good dyad from 11 to 21 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 21 of 1.195873<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 13 to 21 of 1.195873<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 33 of 1.495519<br/> &lt;and&gt; good dyad from 16 to 29 of 1.337328<br/> &lt;and&gt; good dyad from 16 to 37 of 1.599277<br/> &lt;and&gt; good dyad from 16 to 39 of 1.672419<br/> &lt;and&gt; good dyad from 18 to 31 of 1.337331<br/> &lt;and&gt; good dyad from 18 to 31 of 1.337331<br/> &lt;and&gt; good dyad from 18 to 39 of 1.599277<br/> &lt;and&gt; good dyad from 19 to 29 of 1.250565<br/> &lt;and&gt; good dyad from 19 to 27 of 1.195873<br/> &lt;and&gt; good dyad from 19 to 37 of 1.495519<br/> &lt;and&gt; good dyad from 21 to 29 of 1.195873<br/> &lt;and&gt; good dyad from 21 to 31 of 1.250567<br/> &lt;and&gt; good dyad from 21 to 31 of 1.250567<br/> &lt;and&gt; good dyad from 21 to 39 of 1.495519<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 33 of 1.250567<br/> &lt;and&gt; good dyad from 29 to 37 of 1.195875<br/> &lt;and&gt; good dyad from 29 to 39 of 1.250567<br/> &lt;and&gt; good dyad from 29 to 47 of 1.495519</p></div><h3><a id=95610 href="#95610">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 1:14:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In addition to my last post about my program&apos;s results for 5-or-less-limit<br/>dyads.......</p><p>    Results from that program are also in for 12-tone scale with most 7-or-less<br/>limit dyads under the 31TET tuning.</p><p>  That 12-tone scale under 31TET is<br/>---------------------</p><p>0 6 7 8      10 11 13 14    15 16 17 23</p><p>-------------------</p><p>   The dyad results/list for that scale are</p><p>            good dyad from 0 to 6 of 1.143573<br/> &lt;and&gt; good dyad from 0 to 7 of 1.16943<br/> &lt;and&gt; good dyad from 0 to 8 of 1.195873<br/> &lt;and&gt; good dyad from 0 to 10 of 1.250565<br/> &lt;and&gt; good dyad from 0 to 13 of 1.337329<br/> &lt;and&gt; good dyad from 0 to 15 of 1.39849<br/> &lt;and&gt; good dyad from 0 to 16 of 1.430112<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 0 to 13 of 1.337329<br/> &lt;and&gt; good dyad from 0 to 15 of 1.39849<br/> &lt;and&gt; good dyad from 0 to 21 of 1.599275<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 6 to 13 of 1.16943<br/> &lt;and&gt; good dyad from 6 to 14 of 1.195873<br/> &lt;and&gt; good dyad from 6 to 16 of 1.250565<br/> &lt;and&gt; good dyad from 6 to 31 of 1.748905<br/> &lt;and&gt; good dyad from 6 to 13 of 1.16943<br/> &lt;and&gt; good dyad from 6 to 21 of 1.39849<br/> &lt;and&gt; good dyad from 6 to 27 of 1.599275<br/> &lt;and&gt; good dyad from 6 to 29 of 1.672416<br/> &lt;and&gt; good dyad from 6 to 31 of 1.748905<br/> &lt;and&gt; good dyad from 7 to 13 of 1.143573<br/> &lt;and&gt; good dyad from 7 to 14 of 1.16943<br/> &lt;and&gt; good dyad from 7 to 15 of 1.195873<br/> &lt;and&gt; good dyad from 7 to 17 of 1.250565<br/> &lt;and&gt; good dyad from 7 to 23 of 1.430112<br/> &lt;and&gt; good dyad from 7 to 31 of 1.710234<br/> &lt;and&gt; good dyad from 7 to 13 of 1.143573<br/> &lt;and&gt; good dyad from 7 to 15 of 1.195873<br/> &lt;and&gt; good dyad from 7 to 17 of 1.250565<br/> &lt;and&gt; good dyad from 7 to 23 of 1.430112<br/> &lt;and&gt; good dyad from 7 to 31 of 1.710234<br/> &lt;and&gt; good dyad from 8 to 14 of 1.143573<br/> &lt;and&gt; good dyad from 8 to 15 of 1.16943<br/> &lt;and&gt; good dyad from 8 to 16 of 1.195873<br/> &lt;and&gt; good dyad from 8 to 23 of 1.39849<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 15 of 1.16943<br/> &lt;and&gt; good dyad from 8 to 21 of 1.337329<br/> &lt;and&gt; good dyad from 8 to 23 of 1.39849<br/> &lt;and&gt; good dyad from 8 to 29 of 1.599275<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 33 of 1.748905<br/> &lt;and&gt; good dyad from 10 to 16 of 1.143573<br/> &lt;and&gt; good dyad from 10 to 17 of 1.16943<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 17 of 1.16943<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 33 of 1.672419<br/> &lt;and&gt; good dyad from 10 to 35 of 1.748905<br/> &lt;and&gt; good dyad from 11 to 17 of 1.143573<br/> &lt;and&gt; good dyad from 11 to 17 of 1.143573<br/> &lt;and&gt; good dyad from 11 to 21 of 1.250565<br/> &lt;and&gt; good dyad from 11 to 27 of 1.430112<br/> &lt;and&gt; good dyad from 11 to 29 of 1.495516<br/> &lt;and&gt; good dyad from 11 to 35 of 1.710234<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 13 to 21 of 1.195873<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 29 of 1.430112<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 14 to 21 of 1.16943<br/> &lt;and&gt; good dyad from 14 to 27 of 1.337328<br/> &lt;and&gt; good dyad from 14 to 29 of 1.39849<br/> &lt;and&gt; good dyad from 14 to 35 of 1.599277<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 31 of 1.430114<br/> &lt;and&gt; good dyad from 15 to 21 of 1.143573<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 31 of 1.430114<br/> &lt;and&gt; good dyad from 15 to 33 of 1.495519<br/> &lt;and&gt; good dyad from 16 to 23 of 1.16943<br/> &lt;and&gt; good dyad from 16 to 31 of 1.398492<br/> &lt;and&gt; good dyad from 16 to 23 of 1.16943<br/> &lt;and&gt; good dyad from 16 to 29 of 1.337328<br/> &lt;and&gt; good dyad from 16 to 31 of 1.398492<br/> &lt;and&gt; good dyad from 17 to 23 of 1.143573<br/> &lt;and&gt; good dyad from 17 to 23 of 1.143573<br/> &lt;and&gt; good dyad from 17 to 27 of 1.250565<br/> &lt;and&gt; good dyad from 17 to 33 of 1.430114<br/> &lt;and&gt; good dyad from 17 to 35 of 1.495519<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 29 of 1.143573<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 33 of 1.250567<br/> &lt;and&gt; good dyad from 23 to 47 of 1.710234</p></div><h3><a id=95611 href="#95611">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 1:17:36 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In addition to my last post about my program&apos;s results for 5-or-less-limit<br/>dyads.......</p><p>    Results from that program are also in for 12-tone scale with most 7-or-less<br/>limit dyads under the 31TET tuning.</p><p>  That 12-tone scale under 31TET is<br/>---------------------</p><p>0 6 7 8      10 11 13 14    15 16 17 23</p><p>-------------------<br/>&gt;&gt;&gt;There are 89 dyads within 8 cents of 7-or-less-limit dyads&lt;&lt;&lt;&lt; (forgot to post<br/>&gt;&gt;&gt;this last message)<br/>   The dyad results/list for that scale are</p><p>            good dyad from 0 to 6 of 1.143573<br/> &lt;and&gt; good dyad from 0 to 7 of 1.16943<br/> &lt;and&gt; good dyad from 0 to 8 of 1.195873<br/> &lt;and&gt; good dyad from 0 to 10 of 1.250565<br/> &lt;and&gt; good dyad from 0 to 13 of  1.337329<br/> &lt;and&gt; good dyad from 0 to 15 of 1.39849<br/> &lt;and&gt; good dyad from 0 to 16 of 1.430112<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 0 to 13 of 1.337329<br/> &lt;and&gt; good dyad from 0 to 15 of 1.39849<br/> &lt;and&gt; good dyad from 0 to 21 of 1.599275<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 6 to 13 of 1.16943<br/> &lt;and&gt; good dyad from 6 to 14 of 1.195873<br/> &lt;and&gt; good dyad from 6 to 16 of 1.250565<br/> &lt;and&gt; good dyad from 6 to 31 of 1.748905<br/> &lt;and&gt; good dyad from 6 to 13 of 1.16943<br/> &lt;and&gt; good dyad from 6 to 21 of 1.39849<br/> &lt;and&gt; good dyad from 6 to 27 of 1.599275<br/> &lt;and&gt; good dyad from 6 to 29 of 1.672416<br/> &lt;and&gt; good dyad from 6 to 31 of 1.748905<br/> &lt;and&gt; good dyad from 7 to 13 of  1.143573<br/> &lt;and&gt; good dyad from 7 to 14 of 1.16943<br/> &lt;and&gt; good dyad from 7 to 15 of 1.195873<br/> &lt;and&gt; good dyad from 7 to 17 of 1.250565<br/> &lt;and&gt; good dyad from 7 to 23 of 1.430112<br/> &lt;and&gt; good dyad from 7 to 31 of 1.710234<br/> &lt;and&gt; good dyad from 7 to 13 of 1.143573<br/> &lt;and&gt; good dyad from 7 to 15 of 1.195873<br/> &lt;and&gt; good dyad from 7 to 17 of 1.250565<br/> &lt;and&gt; good dyad from 7 to 23 of 1.430112<br/> &lt;and&gt; good dyad from 7 to 31 of 1.710234<br/> &lt;and&gt; good dyad from 8 to 14 of 1.143573<br/> &lt;and&gt; good dyad from 8 to 15 of 1.16943<br/> &lt;and&gt; good dyad from 8 to 16 of 1.195873<br/> &lt;and&gt; good dyad from 8 to 23 of 1.39849<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 15 of 1.16943<br/> &lt;and&gt; good dyad from 8 to 21 of  1.337329<br/> &lt;and&gt; good dyad from 8 to 23 of 1.39849<br/> &lt;and&gt; good dyad from 8 to 29 of 1.599275<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 33 of 1.748905<br/> &lt;and&gt; good dyad from 10 to 16 of 1.143573<br/> &lt;and&gt; good dyad from 10 to 17 of 1.16943<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 17 of 1.16943<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 33 of 1.672419<br/> &lt;and&gt; good dyad from 10 to 35 of 1.748905<br/> &lt;and&gt; good dyad from 11 to 17 of 1.143573<br/> &lt;and&gt; good dyad from 11 to 17 of 1.143573<br/> &lt;and&gt; good dyad from 11 to 21 of 1.250565<br/> &lt;and&gt; good dyad from 11 to 27 of  1.430112<br/> &lt;and&gt; good dyad from 11 to 29 of 1.495516<br/> &lt;and&gt; good dyad from 11 to 35 of 1.710234<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 13 to 21 of 1.195873<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 29 of 1.430112<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 14 to 21 of 1.16943<br/> &lt;and&gt; good dyad from 14 to 27 of 1.337328<br/> &lt;and&gt; good dyad from 14 to 29 of 1.39849<br/> &lt;and&gt; good dyad from 14 to 35 of 1.599277<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 31 of 1.430114<br/> &lt;and&gt; good dyad from 15 to 21 of 1.143573<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 31 of  1.430114<br/> &lt;and&gt; good dyad from 15 to 33 of 1.495519<br/> &lt;and&gt; good dyad from 16 to 23 of 1.16943<br/> &lt;and&gt; good dyad from 16 to 31 of 1.398492<br/> &lt;and&gt; good dyad from 16 to 23 of 1.16943<br/> &lt;and&gt; good dyad from 16 to 29 of 1.337328<br/> &lt;and&gt; good dyad from 16 to 31 of 1.398492<br/> &lt;and&gt; good dyad from 17 to 23 of 1.143573<br/> &lt;and&gt; good dyad from 17 to 23 of 1.143573<br/> &lt;and&gt; good dyad from 17 to 27 of 1.250565<br/> &lt;and&gt; good dyad from 17 to 33 of 1.430114<br/> &lt;and&gt; good dyad from 17 to 35 of 1.495519<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 29 of 1.143573<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 33 of 1.250567<br/> &lt;and&gt; good dyad from 23 to 47 of 1.710234</p><p>________________________________</p><p>In addition to my last post about my program&apos;s results for 5-or-less-limit<br/>dyads.......</p><p>    Results from that program are also in for 12-tone scale with most 7-or-less<br/>limit dyads under the 31TET tuning.</p><p>  That 12-tone scale under 31TET is<br/>---------------------</p><p>0 6 7 8      10 11 13 14    15 16 17 23</p><p>-------------------</p><p>   The dyad results/list for that scale are</p><p>            good dyad from 0 to 6 of 1.143573<br/> &lt;and&gt; good dyad from 0 to 7 of 1.16943<br/> &lt;and&gt; good dyad from 0 to 8 of 1.195873<br/> &lt;and&gt; good dyad from 0 to 10 of 1.250565<br/> &lt;and&gt; good dyad from 0 to 13 of  1.337329<br/> &lt;and&gt; good dyad from 0 to 15 of 1.39849<br/> &lt;and&gt; good dyad from 0 to 16 of 1.430112<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 0 to 13 of 1.337329<br/> &lt;and&gt; good dyad from 0 to 15 of 1.39849<br/> &lt;and&gt; good dyad from 0 to 21 of 1.599275<br/> &lt;and&gt; good dyad from 0 to 23 of 1.672416<br/> &lt;and&gt; good dyad from 6 to 13 of 1.16943<br/> &lt;and&gt; good dyad from 6 to 14 of 1.195873<br/> &lt;and&gt; good dyad from 6 to 16 of 1.250565<br/> &lt;and&gt; good dyad from 6 to 31 of 1.748905<br/> &lt;and&gt; good dyad from 6 to 13 of 1.16943<br/> &lt;and&gt; good dyad from 6 to 21 of 1.39849<br/> &lt;and&gt; good dyad from 6 to 27 of 1.599275<br/> &lt;and&gt; good dyad from 6 to 29 of 1.672416<br/> &lt;and&gt; good dyad from 6 to 31 of 1.748905<br/> &lt;and&gt; good dyad from 7 to 13 of  1.143573<br/> &lt;and&gt; good dyad from 7 to 14 of 1.16943<br/> &lt;and&gt; good dyad from 7 to 15 of 1.195873<br/> &lt;and&gt; good dyad from 7 to 17 of 1.250565<br/> &lt;and&gt; good dyad from 7 to 23 of 1.430112<br/> &lt;and&gt; good dyad from 7 to 31 of 1.710234<br/> &lt;and&gt; good dyad from 7 to 13 of 1.143573<br/> &lt;and&gt; good dyad from 7 to 15 of 1.195873<br/> &lt;and&gt; good dyad from 7 to 17 of 1.250565<br/> &lt;and&gt; good dyad from 7 to 23 of 1.430112<br/> &lt;and&gt; good dyad from 7 to 31 of 1.710234<br/> &lt;and&gt; good dyad from 8 to 14 of 1.143573<br/> &lt;and&gt; good dyad from 8 to 15 of 1.16943<br/> &lt;and&gt; good dyad from 8 to 16 of 1.195873<br/> &lt;and&gt; good dyad from 8 to 23 of 1.39849<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 15 of 1.16943<br/> &lt;and&gt; good dyad from 8 to 21 of  1.337329<br/> &lt;and&gt; good dyad from 8 to 23 of 1.39849<br/> &lt;and&gt; good dyad from 8 to 29 of 1.599275<br/> &lt;and&gt; good dyad from 8 to 31 of 1.672419<br/> &lt;and&gt; good dyad from 8 to 33 of 1.748905<br/> &lt;and&gt; good dyad from 10 to 16 of 1.143573<br/> &lt;and&gt; good dyad from 10 to 17 of 1.16943<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 17 of 1.16943<br/> &lt;and&gt; good dyad from 10 to 23 of 1.337328<br/> &lt;and&gt; good dyad from 10 to 31 of 1.599277<br/> &lt;and&gt; good dyad from 10 to 33 of 1.672419<br/> &lt;and&gt; good dyad from 10 to 35 of 1.748905<br/> &lt;and&gt; good dyad from 11 to 17 of 1.143573<br/> &lt;and&gt; good dyad from 11 to 17 of 1.143573<br/> &lt;and&gt; good dyad from 11 to 21 of 1.250565<br/> &lt;and&gt; good dyad from 11 to 27 of  1.430112<br/> &lt;and&gt; good dyad from 11 to 29 of 1.495516<br/> &lt;and&gt; good dyad from 11 to 35 of 1.710234<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 13 to 21 of 1.195873<br/> &lt;and&gt; good dyad from 13 to 23 of 1.250565<br/> &lt;and&gt; good dyad from 13 to 29 of 1.430112<br/> &lt;and&gt; good dyad from 13 to 31 of 1.495519<br/> &lt;and&gt; good dyad from 14 to 21 of 1.16943<br/> &lt;and&gt; good dyad from 14 to 27 of 1.337328<br/> &lt;and&gt; good dyad from 14 to 29 of 1.39849<br/> &lt;and&gt; good dyad from 14 to 35 of 1.599277<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 31 of 1.430114<br/> &lt;and&gt; good dyad from 15 to 21 of 1.143573<br/> &lt;and&gt; good dyad from 15 to 23 of 1.195873<br/> &lt;and&gt; good dyad from 15 to 31 of  1.430114<br/> &lt;and&gt; good dyad from 15 to 33 of 1.495519<br/> &lt;and&gt; good dyad from 16 to 23 of 1.16943<br/> &lt;and&gt; good dyad from 16 to 31 of 1.398492<br/> &lt;and&gt; good dyad from 16 to 23 of 1.16943<br/> &lt;and&gt; good dyad from 16 to 29 of 1.337328<br/> &lt;and&gt; good dyad from 16 to 31 of 1.398492<br/> &lt;and&gt; good dyad from 17 to 23 of 1.143573<br/> &lt;and&gt; good dyad from 17 to 23 of 1.143573<br/> &lt;and&gt; good dyad from 17 to 27 of 1.250565<br/> &lt;and&gt; good dyad from 17 to 33 of 1.430114<br/> &lt;and&gt; good dyad from 17 to 35 of 1.495519<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 29 of 1.143573<br/> &lt;and&gt; good dyad from 23 to 31 of 1.195875<br/> &lt;and&gt; good dyad from 23 to 33 of 1.250567<br/> &lt;and&gt; good dyad from 23 to 47 of 1.710234</p></div><h3><a id=95614 href="#95614">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 2:53:28 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:</p><p>&gt;    Just for grins...here&apos;s the best scale so far it as come up with under 31TET<br/>&gt; for including both 3 and 5-odd-limit ratios (index 0 is assumed to be the root<br/>&gt; tone):<br/>&gt;<br/>&gt; &quot;ultimate&quot; 3-5 odd limit dyad 12 tone scale under 31TET<br/>&gt; 0 8 10 11   13 15 16 18   19 21 23 29<br/>&gt; ---------------------------------------<br/>&gt;    This is a 12-tone scale within 31TET with 53 3 to 5-odd-limit dyads within 8<br/>&gt; cents of perfect.</p><p>Why do you say 8 cents? 31 gets the 5-limit to within 6 cents. My count of dyads is 42, and the number of dyads must be even, since you count each dyad and its inversion, and none are ambiguous. Also, the inverted version of this scale gives the same dyad count. Did it appear when you ran the program?</p></div><h3><a id=95615 href="#95615">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 3:15:51 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:</p><p>&gt; &gt;&gt;&gt;There are 89 dyads within 8 cents of 7-or-less-limit dyads&lt;&lt;&lt;&lt;</p><p>Again, the count has to be an even number.</p></div><h3><a id=95617 href="#95617">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 3:56:05 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Ok, found a fairly major bug in the program concerning how it counted (or<br/>rather, neglected to count) some of the octave-equivalent IE &quot;across octaves&quot;<br/>dyads and re-ran it.</p><p>      Here are the best scales it gave for a 12-tone scale under 31TET for......</p><p>0 2 5 7 10 12 15 18 20 23 25 28 -  3 and 5-limit (56 &quot;good&quot; dyads)</p><p>0 3 5 8 10 13 15 18 21 23 26 28 -  3,5,7-limit (78 &quot;good&quot; dyads..well spaced)<br/>0 5 6 7 8  13 14  15 21 23 29 30 -  3,5,7-limit (80 &quot;good&quot; dyads - badly spaced)<br/>0 3 5 8 10 13 15 18 21 23 26 28 -  3,5,7,9-limit (92 good dyads, well<br/>spaced...same scale as for up to 7-limit)<br/>0 2 5 7 10 12 15 18 20 23 25 28 -  3,5,7,9-limit (92 good dyads, well<br/>spaced...same scale as for up to 5-limit)<br/>0 1 2 7 8 9 15 16 17 23 24 25    -  3,5,7,9,11-limit (101 &quot;good&quot; dyads - badly<br/>spaced)</p><p>-----scales from my preferred dyad sets----------------<br/>0 3 5 8 10 13 15 18 21 23 26 28 - 3,5,7,9 limit plus 22/15 fifth from favorites<br/>list allowed (99 good dyads...well spaced)<br/>0 2 5 7 10 12 15 18 20 23 25 28 - - 3,5,7,9 limit plus 22/15...same as 3,5-limit<br/>scale (99 good dyads...well spaced)<br/>0 3 5 6 8 13 16 19 21 23 26 29   -  Favorite list (86 &quot;good&quot; dyads...well<br/>spaced)</p><p>    All in all....the 5-limit scale seems to have the most good dyads out of<br/>anything across almost all limits except including 11-limit.   Plus it looks<br/>peculiarly (no surprise) like the 31TET approximation of quarter comma mean-tone<br/>even at a glance...and I can swear it is that scale with the looping 5th at<br/>position 18 in the scale.</p></div><h3><a id=95618 href="#95618">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 4:41:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene&gt;&quot;Again, the count has to be an even number.&quot;</p><p>      How come?  I&apos;m guessing that&apos;s because all inversions must also be within<br/>the octave IE 2/(5/4) = 8/5?   There might be an index off by one somewhere.</p><p>   I also noticed...I always get even numbers with 3,5,7-limit calculations.<br/>It&apos;s those 9-limit+ ones where it gives odd-numbered results...might have<br/>something to do with multiple dyads being too near the same area IE 16/9 and<br/>11/6 being almost exactly the same distance from the nearest 31TET note.</p><p>Again look at the last scale list I got from the most updated version of the<br/>code...</p><p>0 2 5 7 10 12 15 18 20 23 25 28 -  3 and 5-limit (56 &quot;good&quot; dyads)</p><p>0 3 5 8 10 13 15 18 21 23 26 28 -  3,5,7-limit (78 &quot;good&quot; dyads..well spaced)<br/>0 5 6 7 8  13 14  15 21 23 29 30 -  3,5,7-limit (80 &quot;good&quot; dyads - badly spaced)<br/>0 3 5 8 10 13 15 18 21 23 26 28 -  3,5,7,9-limit (92 good dyads, well<br/>spaced...same scale as for up to 7-limit)<br/>0 2 5 7 10 12 15 18 20 23 25 28  -  3,5,7,9-limit (92 good dyads, well<br/>spaced...same scale as for up to 5-limit)<br/>0 1 2 7 8 9 15 16 17 23 24 25    -  3,5,7,9,11-limit (101 &quot;good&quot; dyads - badly<br/>spaced)</p><p>-----scales from my preferred dyad sets----------------<br/>0 3 5 8 10 13 15 18 21 23 26 28 - 3,5,7,9 limit plus 22/15 fifth from favorites<br/>list allowed (99 good dyads...well spaced)<br/>0 2 5 7 10 12 15 18 20 23 25 28 - - 3,5,7,9 limit plus 22/15...same as 3,5-limit<br/>scale (99 good dyads...well spaced)<br/>0 3 5 6 8 13 16 19 21 23 26 29   -  Favorite list (86 &quot;good&quot; dyads...well<br/>spaced)</p><p>...only the 9-limit+ scales come up with odd numbers like 99 and<br/>101.................</p></div><h3><a id=95619 href="#95619">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 5:32:37 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt;      Ok, found a fairly major bug in the program concerning how it counted (or<br/>&gt; rather, neglected to count) some of the octave-equivalent IE &quot;across octaves&quot;<br/>&gt; dyads and re-ran it.</p><p>You shouldn&apos;t count &quot;across octave&quot; dyads at all. But it looks like the results make a lot more sense.</p></div><h3><a id=95620 href="#95620">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 5:51:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; Gene&gt;&quot;Again, the count has to be an even number.&quot;<br/>&gt;<br/>&gt;       How come?</p><p>Every interval less than 600 cents is paired with another greater than 600 cents. Unless your target interval list contains 600 cents, the dyad count will be even. Since 31 is an odd number, this can&apos;t happen.</p></div><h3><a id=95621 href="#95621">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 6:59:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Gene&gt;&quot;Again, the count has to be an even number.&quot;<br/>&gt;<br/>Me&gt;       How come?<br/>Gene&gt;Every interval less than 600 cents is paired with another greater than 600<br/>cents. Unless your target interval list contains 600 cents, the dyad count will<br/>be even. Since 31 is an odd number, this can&apos;t happen.</p><p>    Ok, I fixed it and now it gets only even numbers. :-)</p><p>    There were a few weird cases where the accuracy was a bit off and, for<br/>example, 6/5 was put in the good list of intervals approximated well by 31TET,<br/>but 5/3 was sometimes not.</p><p>  So here are new/fixed result scales for</p><p>5,7,9, and 11-limit: 0 3 4 6    10 12 13 19     21 25 27 28 (92 good dyads, good<br/>spacing)<br/>                             0 1 2 7    8   9  15  16    17 23 24 25 (94 good<br/>dyads, bad spacing)<br/>5,7, and 9-limit:     0 3 5 8    10 13 15 18     21 23  26 28 (78 good dyads,<br/>good spacing)<br/>                            0 1 2 3    8   9  10  16     18  24 25 26 (80 good<br/>dyads, bad spacing)</p><p>   Funny, the one the program came up for in the up to 11-limit case doesn&apos;t<br/>look unlike a mode from my Dimension tuning rounded to 31TET...can you confirm<br/>if that is the case?</p><p>   One other thing....31TET seems to be no champion at 9-limit...the results it<br/>gets for the best scales in 9 or under limit are exactly the same ones it gets<br/>under 7-or-under limit....<br/>----------------------------------------<br/>    Note: I might re-work the code not to handle &quot;across octave dyads&quot; for speed<br/>at least when making scales from subsets of TET tunings (since you seem to say<br/>considering/calculating dyads that from from notes under 2/1 to over 2/1 are<br/>redundant)...but other than that the code seems to be working....<br/>   A few caveats....suppose one person likes the dyad of 27/20 but does not like<br/>the octave inverse of 40/27 and thus wants to count the 27/20 on his &quot;desired<br/>list&quot; but forgot about the resulting 40/27 from the presence of the octave.  Or<br/>what if the tuning is a stretched or otherwise non-octave tuning....or the input<br/>scale is not equally tempered.  Would handling any of these situations require<br/>considering &quot;across octave&quot; dyads?</p></div><h3><a id=95624 href="#95624">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 7:18:45 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene&gt;&quot;Why do you say 8 cents? 31 gets the 5-limit to within 6 cents.&quot;<br/>   Versatility toward new features in the future was/is my reasoning. :-)</p><p>    Don&apos;t get me wrong, I made this program to solve the 12-tone scales in 31TET<br/>problem you posted.</p><p>However...I also built it with the idea of expanding things like non-TET tunings<br/>(including irregularly tempered tunings).  I also built the program to handle<br/>TET tunings of any size (up to about 200) in mind...realizing many of them don&apos;t<br/>have so much accuracy as 31TET and that over 8 cents, I&apos;ve found, is usually<br/>where my ears start complaining something is &quot;off&quot;, regardless of what tuning is<br/>used.</p><p>&gt;&quot;Also, the inverted version of this scale gives the same dyad count. Did it<br/>&gt;appear when you ran the program?&quot;</p><p>    No, my program only holds and displays one &quot;mode&quot; at once, and only swaps<br/>the screen contents when it finds something with a higher dyad count IE if the<br/>highest dyad count is 24 and a new scale it just calculated has 24...it will<br/>only display the old scale.  If it&apos;s really essential...I can add a feature that<br/>rotates the mode to its &quot;lowest hash value&quot; using your system once scale<br/>processing is done...but I fear the program will be too slow if I try doing that<br/>real-time.<br/>     Oddly enough, I&apos;ve found every time you concatenate new scale contents to a<br/>string for user interface display in the innermost loop of the code (the one<br/>where the dyads are compared)...it slows the code a whole lot.  Meaning...by 5+<br/>times as much!  That can be the difference between waiting an hour for scale<br/>processing and waiting 10 minutes (and that&apos;s with processing split onto two<br/>independent threads)...</p><p>     My rule of thumb so far...only use arrays in the inner loops of code and<br/>compare dyads from arrays with pre-calculated values IE an array with all<br/>possible dyads under 31TET with zeroes representing dyads not within the user&apos;s<br/>desired dyad list.  That and don&apos;t use strings or Microsoft &quot;arraylists&apos;...which<br/>are both painfully slow.</p></div><h3><a id=95626 href="#95626">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 8:47:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; Gene&gt;&quot;Why do you say 8 cents? 31 gets the 5-limit to within 6 cents.&quot;<br/>&gt;    Versatility toward new features in the future was/is my reasoning. :-)</p><p>It seems to me that this isn&apos;t versatile. If you gave the program the target list of n-edo intervals between 0 &lt; i &lt; n in the form of a list of integers you want it to check for, that would be more versatile. I suspect you are tossing out 5\31 as a 9-limit consonance, which makes sense but it isn&apos;t the &quot;offical&quot; 9-limit. Running it both and without {5\31, 26\31} would make sense.</p><p>The idea is that to do the 5-limit, you should just feed your program the set {8, 10, 13, 18, 21, 23}. For the 7-limit, you would feed it {6, 7, 8, 10, 13l 15, 16, 18, 21, 23, 24, 25}. To get the 9-limit, you would add {5, 11, 20, 26} to the 7-limit, and for the 11-limit, you&apos;d add {4, 9, 14, 17, 22, 27}. You could add or subtract intervals from these lists, of course, but it would be nice to get the winners for the full 9 and 11 limits.</p><p>&gt;     Don&apos;t get me wrong, I made this program to solve the 12-tone scales in 31TET<br/>&gt; problem you posted.<br/>&gt;<br/>&gt; However...I also built it with the idea of expanding things like non-TET tunings<br/>&gt; (including irregularly tempered tunings).</p><p>Not a bad idea, but I&apos;d like to see results from a program which works for equal divisions and any list of targets, and specifically tonality diamond targets, first.</p><p> I also built the program to handle<br/>&gt; TET tunings of any size (up to about 200) in mind...realizing many of them don&apos;t<br/>&gt; have so much accuracy as 31TET and that over 8 cents, I&apos;ve found, is usually<br/>&gt; where my ears start complaining something is &quot;off&quot;, regardless of what tuning is<br/>&gt; used.</p><p>I&apos;d say to start out with forget about your ears and go with the results of what the edo mapping (the val) gives you.</p><p>&gt; If it&apos;s really essential...I can add a feature that<br/>&gt; rotates the mode to its &quot;lowest hash value&quot; using your system once scale<br/>&gt; processing is done...but I fear the program will be too slow if I try doing that<br/>&gt; real-time.</p><p>I&apos;m not worried about modes; the point is you are missing actually distinct scales.</p></div><h3><a id=95627 href="#95627">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 9:00:01 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:</p><p>&gt;    A few caveats....suppose one person likes the dyad of 27/20 but does not like<br/>&gt; the octave inverse of 40/27 and thus wants to count the 27/20 on his &quot;desired<br/>&gt; list&quot; but forgot about the resulting 40/27 from the presence of the octave.  Or<br/>&gt; what if the tuning is a stretched or otherwise non-octave tuning....or the input<br/>&gt; scale is not equally tempered.  Would handling any of these situations require<br/>&gt; considering &quot;across octave&quot; dyads?</p><p>Nope.</p></div><h3><a id=95630 href="#95630">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 10:01:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene&gt;&quot;It seems to me that this isn&apos;t versatile. If you gave the program the<br/>target list of n-edo intervals between 0 &lt; i &lt; n in the form of a list of<br/>integers you want it to check for, that would be more versatile.&quot;</p><p>      What do you mean by &quot;target list of n-edo intervals&quot;...only the<br/>x-specified limit intervals that exist within the TET tuning?  Are you saying<br/>you should be able to pick a number like 4 and have the program come up with any<br/>approximations of 5/4, 4/3, 6/4 7/4...within the EDO?  Sounds kind of odd....</p><p>     Right now the system lets you pick a prime number, click &quot;add&quot;, and then<br/>all fractions with an odd-limit of that prime numbers are added onto on your<br/>list (I thought that&apos;s what you asked for in the first place anyhow). :-S<br/>      Plus, you can delete any of those fractions from the list you don&apos;t like<br/>before running the calculations.<br/>      One missing feature...the abilityadd custom fractions not included within<br/>15-odd-limit to the list.<br/>    Of course, the program checks all fractions and deletes and dyads in the<br/>list NOT approximated well by the current tuning and stores the results in<br/>arrays before doing any calculations done in scale-creation loops (hence the<br/>program&apos;s stress on &quot;pre-calculation&quot;)</p><p>-------------------------------------------<br/>      The point of &quot;versatility&quot; is that this is meant to be an &quot;all types of<br/>tuning&quot; program...and not made to only handle TET type tunings.</p><p>-------------------------------------------<br/>Me&gt;I also built the program to handle TET tunings of any size (up to about 200)<br/>in mind...realizing many of &gt;them don&apos;t have so much accuracy as 31TET and that<br/>over 8 cents, I&apos;ve found, is usually</p><p>&gt; where my ears start complaining something is &quot;off&quot;, regardless of what tuning<br/>&gt;is<br/>&gt;<br/>&gt; used.</p><p>Gene&gt;&quot;I&apos;d say to start out with forget about your ears and go with the results<br/>of what the edo mapping (the val) gives you.&quot;</p><p>    Which would mean<br/>1) if the user, say, specified 5/3 and the closest thing in the TET (assuming<br/>I&apos;m not in 31TET in the future) was 17/10 I should go with that?  If I just grab<br/>the closest dyad in the mapping....I&apos;m afraid I may end up giving credit for<br/>dyads nothing like what the use suggested.<br/>    Or are you<br/>2)  simply saying only accept dyads within the closest range the tuning allows<br/>rather than an arbitrary value that may actually give different dyads based on<br/>couple of cents&apos; difference (if, say, the tuning is something ridiculously<br/>accurate like, say, 160+ TET)?<br/>   ...problem is 2 seems to lead to 1...in some cases......</p><p>Gene&gt;&quot;Not a bad idea, but I&apos;d like to see results from a program which works for<br/>equal divisions and any list of targets, and specifically tonality diamond<br/>targets, first.&quot;</p><p>   Well, I am already on my way to multiple size scales from multiple-sized<br/>TET&apos;s....soon as I can get my programming loops (now 12 embedded loops for a 12<br/>tone scale) to work as scalable recursive functions.</p><p>    How do &quot;tonallity diamond targets&quot; work vs. the user being able to add all<br/>dyads of x-limit to a list?  Again, all I thought you wanted originally was an<br/>easy way to add x-limit dyads to a list and then find them....</p><p>Me&gt; If it&apos;s really essential...I can add a feature that<br/>&gt; rotates the mode to its &quot;lowest hash value&quot; using your system once scale<br/>&gt; processing is done...but I fear the program will be too slow if I try doing<br/>&gt;that<br/>&gt;<br/>&gt; real-time.<br/>Gene&gt;I&apos;m not worried about modes; the point is you are missing actually distinct<br/>scales.</p><p>   Ok, so let me get this straight.   You want my program to not only return the<br/>scale with the highest number of dyads, but<br/>A) Multiple scales say...the top 10 or so with the highest number of dyads<br/>B) Check if those 10 unique IE one can not be a transposed version of the other<br/>    ...if so I will have to restructure my program a bit to handle &quot;stacks&quot; of<br/>scales and sorting/storing of transposed versions of each scale as it gets them<br/>AKA problems I don&apos;t have with my existing method of only selecting the one<br/>scale with the highest number of dyads.</p></div><h3><a id=95631 href="#95631">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 10:04:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Me&gt;    A few caveats....suppose one person likes the dyad of 27/20 but does not<br/>like</p><p>&gt; the octave inverse of 40/27 and thus wants to count the 27/20 on his &quot;desired<br/>&gt; list&quot; but forgot about the resulting 40/27 from the presence of the octave.  Or<br/>&gt;<br/>&gt; what if the tuning is a stretched or otherwise non-octave tuning....or the<br/>&gt;input<br/>&gt;<br/>&gt; scale is not equally tempered.  Would handling any of these situations require</p><p>&gt; considering &quot;across octave&quot; dyads?</p><p>Gene&gt;Nope.</p><p>    Ok, let me see what happens if I only compare dyads within the same octave<br/>from the root at 1/1.  I just pray my program don&apos;t start churning out really<br/>weird answers after I do this......</p></div><h3><a id=95632 href="#95632">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/17/2011 10:27:12 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:</p><p>&gt;       What do you mean by &quot;target list of n-edo intervals&quot;...only the<br/>&gt; x-specified limit intervals that exist within the TET tuning?</p><p>No, the list of x-limit intervals mapped to by a mapping (&quot;val&quot;) for the edo. For instance, for 31 you map 2 to 31, 3 to 49, 5 to 72, 7 to 87 and 11 to 107. In these parts, we write that &lt;&lt;31 49 72 87 107||.<br/>Now pick and 11-limit interval, say 7/6 = 2^(-1) 3^(-1) 5^0 7^1 11^+87*10; write that ||-1 -1 0 1 0&gt;&gt;. Then &lt;&lt;31 49 72 87 107|-1 -1 0 1 0&gt;&gt; = 31*(-1)+49*(-1)+72*0+87*1+107*0 = 7, so 7/6 is mapped to 7. No floating point computations are used, and in my opinion they should at no point be used anywhere in a program just for the edos, unless you count computing a val automatically rather than inputting one. Integers only!</p><p> Are you saying<br/>&gt; you should be able to pick a number like 4 and have the program come up with any<br/>&gt; approximations of 5/4, 4/3, 6/4 7/4...within the EDO?  Sounds kind of odd....</p><p>And not what I am saying at all. But you can have more than one val for the same edo. If you were to count 11-limit dyads in 99, you could count using the val &lt;&lt;99 157 230 278 342||, the val &lt;&lt;99 157 230 278 343||, or you could count both.</p></div><h3><a id=95633 href="#95633">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/17/2011 11:38:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene&gt;&quot;For instance, for 31 you map 2 to 31, 3 to 49, 5 to 72, 7 to 87 and 11 to<br/>107. &quot;</p><p>    Sounds more like a &quot;fact&quot; than a &quot;method&quot;.  I&apos;m guessing 2 is to 31 because<br/>31 is the octave and 3 is to 49 because note 49 would be the &quot;tritave&quot;?</p><p>Now pick and 11-limit interval, say 7/6 = 2^(-1) 3^(-1) 5^0 7^1<br/>....ok...that seems to make sense.......1/2 * 1/3 * 1 * 7 = 7/6....you are<br/>splitting up the interval into primes...</p><p>....11^+87*10;<br/>   but how did that 11^(87*10) get there?  Why wouldn&apos;t it be 11^0?  If it<br/>weren&apos;t for that last part...I&apos;d say you&apos;re the first one here to really<br/>summarize effectively to me how this factorization works (well,<br/>non-programmatically...at least)....</p><p>&gt;&quot;Then &lt;&lt;31 49 72 87 107|-1 -1 0 1 0&gt;&gt; = 31*(-1)+49*(-1)+72*0+87*1+107*0 = 7, so<br/>&gt;7/6 is mapped to 7.&quot;</p><p>     So, in other words, all these calculations are done to figure out that 7/6<br/>is the 7th note of 31TET?   This doesn&apos;t seem to say anything about dyadic<br/>error...the point I thought you were making...hmm....</p><p>    The other question is...how do you prime-factorize an arbitrary fraction?<br/>Say it was 14/9 or something not well approximated in 31TET....how would you<br/>rule it out?    I&apos;m pretty sure &quot;prime factorization&quot; that&apos;s NOT in <a href="http://vb.Net">vb.Net</a>&apos;s<br/>standard math functions. :-D  And I&apos;m guessing I would need the scale mappings<br/>hard coded...or how could I derive them from scratch?</p><p>&gt;&quot;No floating point computations are used, and in my opinion they should at no<br/>&gt;point be used anywhere in a program just for the edos, unless you count<br/>&gt;computing a val automatically rather than inputting one. Integers only!&quot;</p><p>     It&apos;s crafty you can do this all with integers but I kind of wonder...what&apos;s<br/>the point far as speed advantage or otherwise advantage of this?</p><p>   The only thing I can think of off the top of my head is once you know what<br/>interval each index stands for, you can make a table and say, if you have a dyad<br/>between notes 2 and 9 of the scale...you can do 9 - 2 = 7 and then look up<br/>equivalentfractionarray[7] to get 7/6 (or zero AKA false-match if 7/6 is not in<br/>your desired fraction list).</p><p>   So it would be the difference between handling<br/>1) That subtraction and single-element array lookup or<br/>2) My dyadtable[from,to] data structure which gives either a value of true (if<br/>there is a desired dyad there) or a value of false (if there is no desired dyad<br/>there).</p><p>   Yes....1 would probably be a little bit faster in the program&apos;s inner loop.<br/>    And yes...the dyadtable is calculated between all dyads in 31TET via<br/>floating point (where each multiplication takes twice as long as it would in<br/>fixed-point/integer)....  But then again, that only takes about 2 seconds to<br/>pre-calculate (it just fills valid dyads in a 31 by 31 array once before the<br/>scale-creation loops start)...  So swapping that with your vals method, though<br/>elegant, would most likely make a very small speed difference IE something like<br/>9 minutes 58 seconds vs. 10 minutes 5 second.  If I understand it well...I&apos;ll<br/>probably throw that shortcut in when I find time for it.</p><p>&gt;&quot;And not what I am saying at all. But you can have more than one val for the<br/>&gt;same edo. If you were to count 11-limit dyads in 99, you could count using the<br/>&gt;val &lt;&lt;99 157 230 278 342||, the val &lt;&lt;99 157 230 278 343||, or you could count<br/>&gt;both.&quot;<br/>    One question before any others....how are you getting the different vals IE<br/>the 157?  If I do 99 * 3/2 I get 148 and 99 * 11/7 = 156...or what is multiplied<br/>by or otherwise manipulates the value of 99 to get 157?</p></div><h3><a id=95636 href="#95636">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/18/2011 2:04:14 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; Gene&gt;&quot;For instance, for 31 you map 2 to 31, 3 to 49, 5 to 72, 7 to 87 and 11 to<br/>&gt; 107. &quot;<br/>&gt;<br/>&gt;     Sounds more like a &quot;fact&quot; than a &quot;method&quot;.  I&apos;m guessing 2 is to 31 because<br/>&gt; 31 is the octave and 3 is to 49 because note 49 would be the &quot;tritave&quot;?</p><p>Right. But the point is, this is all the info you need.</p><p>&gt;<br/>&gt; ....11^+87*10;<br/>&gt;    but how did that 11^(87*10) get there?</p><p>Some mistake cutting and pasting? I&apos;m not sure.</p><p> Why wouldn&apos;t it be 11^0?</p><p>It would be, of course.</p><p>&gt;      So, in other words, all these calculations are done to figure out that 7/6<br/>&gt; is the 7th note of 31TET?   This doesn&apos;t seem to say anything about dyadic<br/>&gt; error...the point I thought you were making...hmm....</p><p>No, I&apos;m suggesting worry about the error later if you wish to.</p><p>&gt;     The other question is...how do you prime-factorize an arbitrary fraction?</p><p>There&apos;s a can of worms, but these aren&apos;t arbitrary fractions; they have only small primes in their factorization, which makes it trivial to compute by brute force.</p><p>&gt; Say it was 14/9 or something not well approximated in 31TET....how would you<br/>&gt; rule it out?</p><p>If you don&apos;t like it, take it off your target list. But hopefully after first running it with it in.</p><p>   I&apos;m pretty sure &quot;prime factorization&quot; that&apos;s NOT in <a href="http://vb.Net">vb.Net</a>&apos;s<br/>&gt; standard math functions. :-D  And I&apos;m guessing I would need the scale mappings<br/>&gt; hard coded...or how could I derive them from scratch?</p><p>It&apos;s easy to do when the edo approximates the prime limit well, by rounding log2(p) where p is a prime to the nearest integer. Why not stick with those for now?</p><p>&gt;      It&apos;s crafty you can do this all with integers but I kind of wonder...what&apos;s<br/>&gt; the point far as speed advantage or otherwise advantage of this?</p><p>Do it this way and you are less likely to get tangled up in problems, I suspect, and other people (me, for instance) will be more certain we know what you actually did.</p><p>&gt;    The only thing I can think of off the top of my head is once you know what<br/>&gt; interval each index stands for, you can make a table and say, if you have a dyad<br/>&gt; between notes 2 and 9 of the scale...you can do 9 - 2 = 7 and then look up<br/>&gt; equivalentfractionarray[7] to get 7/6 (or zero AKA false-match if 7/6 is not in<br/>&gt; your desired fraction list).</p><p>Why in the world do that?? You just want the 7; it&apos;s all you need.</p><p>&gt;<br/>&gt;    So it would be the difference between handling<br/>&gt; 1) That subtraction and single-element array lookup or<br/>&gt; 2) My dyadtable[from,to] data structure which gives either a value of true (if<br/>&gt; there is a desired dyad there) or a value of false (if there is no desired dyad<br/>&gt; there).<br/>&gt;<br/>&gt;    Yes....1 would probably be a little bit faster in the program&apos;s inner loop.<br/>&gt;     And yes...the dyadtable is calculated between all dyads in 31TET via<br/>&gt; floating point</p><p>Which slows things down, and provides an opportunity to screw things up.</p><p>&gt;     One question before any others....how are you getting the different vals IE<br/>&gt; the 157?  If I do 99 * 3/2 I get 148 and 99 * 11/7 = 156...or what is multiplied<br/>&gt; by or otherwise manipulates the value of 99 to get 157?</p><p>99 * log2(3) = 156.911.</p></div><h3><a id=95637 href="#95637">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/18/2011 8:45:40 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Me&gt;     The other question is...how do you prime-factorize an arbitrary<br/>fraction?</p><p>Gene&gt;There&apos;s a can of worms, but these aren&apos;t arbitrary fractions; they have<br/>only small primes in their factorization, which makes it trivial to  compute by<br/>brute force.<br/>So I&apos;d do something like</p><p>  for u = -3 to 3<br/>   for v = -3 to 3<br/>    for w = -3 to 3<br/>     for x = -3 to 3<br/>       for y = -3 to 3<br/>         for z = -3 to 3<br/>        begin<br/>            if 2^u * 3^v * 5^w + 7^x + 9^y + 11^z = desiredfraction then<br/>                   u*31*log2(2) + v*31*log2(3) + w*31*log2(5) + x*31*log2(5) +<br/>y*31*log2(5) + z*31*log2(5)<br/>            end if<br/>        end if</p><p>     If so....the loop would involve some 7^6 (6 loops and 7 values from -3 to<br/>3) = some 117000-ish or so iterations for the one calculations (not to mention<br/>the fact taking exponentials and logarithms is pretty slow even with<br/>integers)....vs. the 31*31 (or so)  = 961 floating point division calculations<br/>per dyad I&apos;m doing for the isdyadinlist[fromtuningindex,totuningindex] table<br/>pre-calculation (make that 1922 if you count floating point as being twice as<br/>slow).<br/>    So far, I&apos;m still not so convinced any of this wizardry is actually going to<br/>make the program faster.   Though I am fairly convinced I should at the very<br/>least try your formulas and put them in comment blocks so people know the more<br/>widely accepted mathematical equivalent to what I&apos;m doing.</p><p>   The one key advantage I see to your method...is that if a dyad like 7/6 has<br/>two very close equivalents in a tuning (IE say one note in the tuning has it 7<br/>cents sharp and the other has it 6 cents flat)...the program will be guaranteed<br/>to go for the one that&apos;s 7 cents flat and not get confused because they are both<br/>under my 8 cents limit (correct?!).   Otherwise I&apos;m pretty sure I don&apos;t see the<br/>point of doing anything more than documenting it...because looking at it<br/>carefully it seems much slower than what I&apos;m already doing.</p><p>me&gt;    The only thing I can think of off the top of my head is once you know<br/>what</p><p>&gt; interval each index stands for, you can make a table and say, if you have a<br/>&gt;dyad<br/>&gt;<br/>&gt; between notes 2 and 9 of the scale...you can do 9 - 2 = 7 and then look up<br/>&gt; equivalentfractionarray[7] to get 7/6 (or zero AKA false-match if 7/6 is not in<br/>&gt;<br/>&gt; your desired fraction list).<br/>gene&gt;&quot;Why in the world do that?? You just want the 7; it&apos;s all you need.&quot;</p><p>   I don&apos;t get it.  My ultimate goal is to test for dyads between two points in<br/>the scale....and the first point is not always the root at 0.<br/>    So say I&apos;m in a loop and the loop asks me to compare dyads 16 and 9  from<br/>the scale...how would you want me to calculate it and/or have it  stored for<br/>retrieval?  I&apos;m 99% sure I&apos;m at LEAST have to do 16 - 9 = 7  before I either try<br/>to look up or calculate anything....</p><p>   The other thing is...why do you seem to object so heavily to my array/index<br/>look up? You seem to be saying &quot;why use an array to look it up when you already<br/>&apos;have&apos; the 7&quot;...and I&apos;m saying &quot;ok, but is/how-is the 7 stored or are we<br/>consistently re-retrieving it from scratch?</p><p>     I figure either I can<br/>A) Calculate the translation from any point in the tuning to any other (I can<br/>easily use you calculation instead of mine) BEFORE I start doing that huge loop<br/>through the 54 million or so possible scales and STORE it an an array for<br/>look-up IE equivalentfractionarray[7]  = 7/6 or even equivalentfractionarray[7]<br/>= &quot;good&quot; or TRUE...where good means a dyad that matches the list.<br/>    OR<br/>B) Perform your said calculation from scratch every time for each of the<br/>dyads....so I&apos;d end up doing it 54 million times (for the 54 million scale) *<br/>the number of dyads in the scale per each scale and per each dyad compared!</p><p>     So A seems to have a brutally obvious speed/efficiency<br/>advantage....performing the same calculation a billion times to avoid using an<br/>indexing array seems like an obvious programming no-no.   Yes, it&apos;s an<br/>&quot;opportunity to make an indexing error&quot;...but shouldn&apos;t that be worth it to make<br/>something several hundred times (if not more) faster?</p><p>me&gt;     One question before any others....how are you getting the different vals<br/>IE</p><p>&gt; the 157?  If I do 99 * 3/2 I get 148 and 99 * 11/7 = 156...or what is<br/>&gt;multiplied<br/>&gt;<br/>&gt; by or otherwise manipulates the value of 99 to get 157?</p><p>gene&gt;99 * log2(3) = 156.911.</p><p>Ah, ok....and the next number would be 31 log2(5)?</p></div><h3><a id=95638 href="#95638">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/18/2011 9:09:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; Me&gt;     The other question is...how do you prime-factorize an arbitrary<br/>&gt; fraction?<br/>&gt;<br/>&gt; Gene&gt;There&apos;s a can of worms, but these aren&apos;t arbitrary fractions; they have<br/>&gt; only small primes in their factorization, which makes it trivial to  compute by<br/>&gt; brute force.<br/>&gt; So I&apos;d do something like<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;   for u = -3 to 3<br/>&gt;    for v = -3 to 3<br/>&gt;     for w = -3 to 3<br/>&gt;      for x = -3 to 3<br/>&gt;        for y = -3 to 3<br/>&gt;          for z = -3 to 3<br/>&gt;         begin<br/>&gt;             if 2^u * 3^v * 5^w + 7^x + 9^y + 11^z = desiredfraction then<br/>&gt;                    u*31*log2(2) + v*31*log2(3) + w*31*log2(5) + x*31*log2(5) +<br/>&gt; y*31*log2(5) + z*31*log2(5)<br/>&gt;             end if<br/>&gt;         end if</p><p>Yipe! No; you have a fraction N/D, say, where N and D are only divisible by 2, 3, 5, or 7. So you keep dividing N by 2 until it is no longer divisible by 2 without remainder (ie, is odd.) Then you keep dividing by 3,  and then by 5. What&apos;s left is either 1 or a power of 7; you count how many times 7 divides it. Then you do the same for D, and you are done.</p><p>&gt;    The one key advantage I see to your method...is that if a dyad like 7/6 has<br/>&gt; two very close equivalents in a tuning (IE say one note in the tuning has it 7<br/>&gt; cents sharp and the other has it 6 cents flat)...the program will be guaranteed<br/>&gt; to go for the one that&apos;s 7 cents flat and not get confused because they are both<br/>&gt; under my 8 cents limit (correct?!).</p><p>Right. It counts dyads consistently. This you may or may not want to do, but you ought to know and be in control of the process.</p><p> Otherwise I&apos;m pretty sure I don&apos;t see the<br/>&gt; point of doing anything more than documenting it...because looking at it<br/>&gt; carefully it seems much slower than what I&apos;m already doing.</p><p>This I doubt.</p><p>&gt;    I don&apos;t get it.  My ultimate goal is to test for dyads between two points in<br/>&gt; the scale....and the first point is not always the root at 0.<br/>&gt;     So say I&apos;m in a loop and the loop asks me to compare dyads 16 and 9  from<br/>&gt; the scale...how would you want me to calculate it and/or have it  stored for<br/>&gt; retrieval?  I&apos;m 99% sure I&apos;m at LEAST have to do 16 - 9 = 7  before I either try<br/>&gt; to look up or calculate anything....</p><p>Yes; you subtract two small integers. Why is that a problem?</p><p>&gt;<br/>&gt;    The other thing is...why do you seem to object so heavily to my array/index<br/>&gt; look up? You seem to be saying &quot;why use an array to look it up when you already<br/>&gt; &apos;have&apos; the 7&quot;...and I&apos;m saying &quot;ok, but is/how-is the 7 stored or are we<br/>&gt; consistently re-retrieving it from scratch?</p><p>The 7 is a small integer which is in a list or array of small integers. Again, why is that a problem?</p><p>&gt;      I figure either I can<br/>&gt; A) Calculate the translation from any point in the tuning to any other (I can<br/>&gt; easily use you calculation instead of mine) BEFORE I start doing that huge</p><p>And that seems easy enough, though it&apos;s just saving a subtraction table. Considering that looking something up in a subtraction table isn&apos;t going to be either faster or than subtracting, I don&apos;t see the point.</p><p>&gt; gene&gt;99 * log2(3) = 156.911.<br/>&gt;<br/>&gt; Ah, ok....and the next number would be 31 log2(5)?</p><p>Right. Round it off. This only creates a problem when it isn&apos;t obvious which integer to round it off to, which for 7 or 11 limit 31et isn&apos;t the case.</p></div><h3><a id=95639 href="#95639">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>1/18/2011 9:44:07 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; Yipe! No; you have a fraction N/D, say, where N and D are only divisible by 2, 3, 5, or 7. So you keep dividing N by 2 until it is no longer divisible by 2 without remainder (ie, is odd.) Then you keep dividing by 3,  and then by 5. What&apos;s left is either 1 or a power of 7; you count how many times 7 divides it. Then you do the same for D, and you are done.</p><p>I&apos;d suggest you write a routine which, given an integer N and another p, counts how many times N can be divided by p without remainder and use this to find your answer. If the function is &quot;ord(N, p)&quot;, then the &quot;p&quot; result for N/D is ord(N, p)-ord(D, p).</p></div><h3><a id=95640 href="#95640">ðŸ”—</a>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>1/18/2011 9:47:58 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&quot;Yipe! No; you have a fraction N/D, say, where N and D are only divisible  by 2,<br/>&gt;3, 5, or 7. So you keep dividing N by 2 until it is no longer  divisible by 2<br/>&gt;without remainder (ie, is odd.) Then you keep dividing by  3,  and then by 5.<br/>&gt;What&apos;s left is either 1 or a power of 7; you count  how many times 7 divides it.<br/>&gt;Then you do the same for D, and you are  done.&quot;</p><p>So it would be more like</p><p>n = 14<br/>d = 9<br/>divides = true</p><p>bytwo = 0<br/>bythree = 0<br/>byfive = 0<br/>byseven = 0 etc..........</p><p>byovertwo = 0<br/>byoverthree = 0<br/>byoverfive = 0<br/>byoverseven = 0  etc......</p><p>..........</p><p>while divides<br/>begin<br/>    divides = false</p><p>     if n % 2 = 0<br/>       {<br/>          n = n / 2<br/>          bytwo++<br/>          divides = true<br/>       }</p><p>     if n % 3 = 0  and divides = false<br/>     {<br/>          n = n / 3<br/>          bythree++<br/>          divides = true<br/>      }<br/>etc...........................<br/>     if d % 2 = 0<br/>       {<br/>          d = d / 2<br/>          bytwo--<br/>          divides = true<br/>       }</p><p>     if d % 3 = 0 and divides = false<br/>     {<br/>          d = d / 3<br/>          bythree--<br/>          divides = true<br/>      }<br/>etc...........................</p><p>end</p><p>indexin31tet = 31*(bytwo)+49*(bythtee)+....</p><p>&gt;&quot;Yes; you subtract two small integers. Why is that a problem?&quot;<br/>      This has NOTHING to do with the subtraction (and in fact, it sounded<br/>before like you were complaining about the subtraction and I was wondering<br/>why).  To be clear, I&apos;m not storing the subtraction in the array.</p><p>     What I am storing the result from said formula you gave above....   I need<br/>to do the subtraction to find the index in the array IE dyadin31tet[7] = &quot;good&quot;<br/>(7/6)....so I can look up</p><p>if dyadin31TET[16-9] = &quot;good&quot; then gooddyads = gooddyads + 1 in the main<br/>loop....when, say dealing with a scale with notes at indexes 16 and 9 in<br/>31TET....instead of doing all the calculations above repeatedly.</p><p>&gt;&quot;The 7 is a small integer which is in a list or array of small integers. Again,<br/>&gt;why is that a problem?&quot;<br/>  It&apos;s not at all....in fact that&apos;s exactly what I said I was going to do when<br/>it seems you quipped at me &quot;now why would you want to do THAT?&quot; :-D  But now you<br/>seem to be saying you agree with the original statement I made...which you, at<br/>the time, seemed to say was crazy.  I&apos;m all for array lists over calculations<br/>whenever anything more complex than a multiplication is involved with<br/>integers...in fact back when I did game programming I even bothered to put my<br/>cosine/rotation values in lookup tables.</p></div>