<a href="/tuning">back to list</a><h1>The Mavila Experiments</h1><h3><a id=100178 href="#100178">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>6/18/2011 7:10:37 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>A special thanks goes out to Graham Breed; his custom Lilypond code<br/>and several weeks worth of gchat discussion are what made all of this<br/>possible.</p><p><a href="http://soundcloud.com/mikebattagliamusic/sets/the-mavila-experiments">http://soundcloud.com/mikebattagliamusic/sets/the-mavila-experiments</a></p><p>For those who don&apos;t know: these musical examples are tuned to what is<br/>known as &quot;mavila&quot; temperament. It is named after the Mavila village of<br/>the Chopi people in southern Mozambique, where this tuning system was<br/>first discovered by Kraig Grady.</p><p>Because of the structure of this unique tuning, it is true that every<br/>existing piece of common practice music has a &quot;shadow&quot; version in<br/>mavila temperament. That is, when Bach wrote Fur Elise, he actually<br/>wrote two songs - the one that you know, and the anti-diatonic<br/>equivalent in mavila temperament. It&apos;s only that the anti-diatonic<br/>versions have never been heard before.</p><p>Mavila is a tuning system whereby four stacked perfect fifths, rather<br/>than getting you to a major third, gets you to a minor third - meaning<br/>that the fifths are flat. Conversely, four stacked perfect fourths<br/>gets you to a major third, rather than a minor third. This has some<br/>very strange implications for music. The mavila diatonic scale is<br/>similar to the normal diatonic scale - except interval classes are<br/>flipped. Wherever there was a major third, you&apos;ll find a minor third,<br/>and vice versa. Half steps become whole steps and whole steps become<br/>half steps (closer to neutral second range, however). When you sharpen<br/>the leading tone in minor, you end up sharpening it down instead,<br/>meaning you flatten it. Also, minor is now major - you end up with<br/>three parallel natural/harmonic/melodic major scales, and only one<br/>minor scale. Instead of a diminished triad in the major scale, there<br/>is now an augmented triad.</p><p>In these examples, the chosen mavila temperament is 23-equal, which<br/>was chosen to provide greater accuracy in approximating the harmonic<br/>series. 16-equal is another good choice, with 9-equal also being good<br/>enough for government work.</p><p>Welcome to bizarro world,<br/>Mike</p></div><h3><a id=100179 href="#100179">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>6/18/2011 7:32:45 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt; A special thanks goes out to Graham Breed; his custom<br/>&gt; Lilypond code and several weeks worth of gchat discussion<br/>&gt; are what made all of this possible.<br/>&gt;<br/>&gt; <a href="http://soundcloud.com/mikebattagliamusic/sets/the-mavila-experiments">http://soundcloud.com/mikebattagliamusic/sets/the-mavila-experiments</a></p><p>Behind this is a new script to convert the MIDI files<br/>Lilypond produces to use MIDI Tuning Standard messages.<br/>Here it is:</p><p><a href="http://x31eq.com/addmts.py3">http://x31eq.com/addmts.py3</a></p><p>You need Python 3.  (The binary file handling changed from<br/>version 2, so it isn&apos;t trivially portable.)  Say python3<br/>addmts.py3 something.midi and you&apos;ll get a new file without<br/>the restrictions of pitch bends.</p><p>Because of the stereotyped way Lilypond writes its pitch<br/>bends, it&apos;s possible to reverse engineer the intended<br/>tuning of each pitch.  There&apos;s no need to split chords<br/>into separate channels.  There are still problems that<br/>could occur but most Lilypond scores are going to work fine.</p><p>                   Graham</p></div><h3><a id=100182 href="#100182">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>6/18/2011 9:24:08 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; A special thanks goes out to Graham Breed; his custom Lilypond code<br/>&gt; and several weeks worth of gchat discussion are what made all of this<br/>&gt; possible.</p><p>It would have been possible with Scala. What I&apos;d like to know are what are the advantages of using Lilypond and Graham&apos;s program instead. Some sort of comparison seems to be in order.</p></div><h3><a id=100189 href="#100189">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>6/18/2011 11:47:52 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; It would have been possible with Scala. What I&apos;d like to<br/>&gt; know are what are the advantages of using Lilypond and<br/>&gt; Graham&apos;s program instead. Some sort of comparison seems<br/>&gt; to be in order.</p><p>What makes it easy with Lilypond is that there are a load<br/>of scores at Mutopia already in Lilypond format (not always<br/>MIDI-ready) and essentially specifying meantone intervals.<br/>To compare with Scala &mdash; where do the sequences come from?</p><p>                              Graham</p></div><h3><a id=100194 href="#100194">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>6/18/2011 5:15:04 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; What makes it easy with Lilypond is that there are a load<br/>&gt; of scores at Mutopia already in Lilypond format (not always<br/>&gt; MIDI-ready) and essentially specifying meantone intervals.<br/>&gt; To compare with Scala &acirc;Â€&quot; where do the sequences come from?</p><p>In Scala, you get the sequences from midi files, which usually requires some amount of judgment when you want to see how it goes into extended meantone.</p><p>This business sounds interesting, but uninstalling Python 2.7 and installing Python 3 would mean, I presume, some stuff such as microcsound wouldn&apos;t work any more. I&apos;d be interested to know how you turn the Lilypond score into actual microtonal music.</p></div><h3><a id=100204 href="#100204">ðŸ”—</a>Petr Par&#xED;zek &#x3C;petrparizek2000@...&#x3E;</h3><span>6/19/2011 2:36:15 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Mike.</p><p>I&apos;ve heard your mavila examples and I&apos;m now coming to this conclusion:<br/>If you retune a meantone piece to mavila, it&apos;s a different &quot;kind of musical thinking&quot; than if you retune mavila to meantone. As I currently don&apos;t know about any other piece originally composed in mavila, I tried it with mine. Interestingly enough, the mavila version reminded me of Javanese music, while after I retuned it to meantone, some portions sounded as if it came from China and others reminded me of 19th century European harmony.<br/>Anyway, here they are:<br/><a href="http://dl.dropbox.com/u/8497979/mavila_original.mp3">http://dl.dropbox.com/u/8497979/mavila_original.mp3</a><br/><a href="http://dl.dropbox.com/u/8497979/meantone_retuned.mp3">http://dl.dropbox.com/u/8497979/meantone_retuned.mp3</a></p><p>Petr</p></div><h3><a id=100206 href="#100206">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>6/19/2011 3:23:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; In Scala, you get the sequences from midi files, which<br/>&gt; usually requires some amount of judgment when you want to<br/>&gt; see how it goes into extended meantone.</p><p>That&apos;s the comparison, then.  With Lilypond you can follow<br/>the editor&apos;s judgment to get extended meantone.  But the<br/>MIDI interpretation will likely be awful.</p><p>&gt; This business sounds interesting, but uninstalling Python<br/>&gt; 2.7 and installing Python 3 would mean, I presume, some<br/>&gt; stuff such as microcsound wouldn&apos;t work any more. I&apos;d be<br/>&gt; interested to know how you turn the Lilypond score into<br/>&gt; actual microtonal music.</p><p>Who said anything about uninstalling Python 2.7?</p><p>What you do is add something like</p><p>tuning = #31<br/>\include &quot;<a href="http://regular.ly">regular.ly</a>&quot;</p><p>near the top of the Lilypond file.  (Below any language<br/>declarations but ahead of the music.)  Then run Lilypond.</p><p>If it doesn&apos;t work, the score may have been written for an<br/>ancient version of Lilypond.  Deleting things it doesn&apos;t<br/>understand seems to be safe.</p><p>If the MIDI output&apos;s lousy, you can tweak it.  The first<br/>thing is to set a tempo, which can be done like this:</p><p>  \midi {<br/>    \context {<br/>      \Score<br/>      tempoWholesPerMinute = #(ly:make-moment 120 4)<br/>    }<br/>  }</p><p>(A midi{} block will already be there somewhere.)  The next<br/>step is to use <a href="http://articulate.ly">articulate.ly</a>, which has its own<br/>documentation.</p><p>If the piece is written in independent melodic lines, you<br/>can set each voice to a different MIDI channel, with code<br/>like this:</p><p>                        \context {<br/>                            \Staff<br/>                            \remove &quot;Staff_performer&quot;<br/>                        }<br/>                        \context<br/>                        {<br/>                            \Voice<br/>                            \remove Dynamic_performer<br/>                            \consists &quot;Staff_performer&quot;<br/>                        }</p><p>(There may be other steps you need to get the polyphony<br/>separated out.  Note that you need to do this with the<br/>first movement of the Moonlight Sonata.  Otherwise, a few<br/>notes get lost, and you may notice that in the file Mike<br/>put up :-S )</p><p>Or you can convert the pitch bends to MTS using my script.<br/>And here it is in Python2 (verified with 2.6):</p><p><a href="http://x31eq.com/addmts.py">http://x31eq.com/addmts.py</a></p><p>At that point, what you have is a MIDI file that Timidity<br/>seems to be happy with.</p><p>                           Graham</p></div><h3><a id=100207 href="#100207">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>6/19/2011 3:24:15 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Oh, <a href="http://regular.ly">regular.ly</a> is here:</p><p><a href="http://x31eq.com/regular.ly">http://x31eq.com/regular.ly</a></p><p>You need that to do the retuning.  Put it in a folder where<br/>Lilypond can find it.</p><p>                       Graham</p></div><h3><a id=100209 href="#100209">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>6/19/2011 4:29:23 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sun, Jun 19, 2011 at 5:36 AM, Petr Par&iacute;zek &lt;petrparizek2000@...&gt; wrote:<br/>&gt;<br/>&gt; Hi Mike.<br/>&gt;<br/>&gt; I&apos;ve heard your mavila examples and I&apos;m now coming to this conclusion:<br/>&gt; If you retune a meantone piece to mavila, it&apos;s a different &quot;kind of musical<br/>&gt; thinking&quot; than if you retune mavila to meantone. As I currently don&apos;t know<br/>&gt; about any other piece originally composed in mavila, I tried it with mine.<br/>&gt; Interestingly enough, the mavila version reminded me of Javanese music,<br/>&gt; while after I retuned it to meantone, some portions sounded as if it came<br/>&gt; from China and others reminded me of 19th century European harmony.<br/>&gt; Anyway, here they are:<br/>&gt; <a href="http://dl.dropbox.com/u/8497979/mavila_original.mp3">http://dl.dropbox.com/u/8497979/mavila_original.mp3</a><br/>&gt; <a href="http://dl.dropbox.com/u/8497979/meantone_retuned.mp3">http://dl.dropbox.com/u/8497979/meantone_retuned.mp3</a><br/>&gt;<br/>&gt; Petr</p><p>WOW. That&apos;s ridiculous. Who&apos;d have thought that this would work so<br/>well? Did you ever think that when you were writing this piece, that<br/>you ended up writing two good pieces? :)</p><p>My understanding of this so far is that meantone pieces don&apos;t exactly<br/>retune perfectly to mavila, especially common practice ones. This is<br/>because when you take a piece in minor and you want to sharpen the<br/>leading tone, it ends up being major with a -flattened- leading tone<br/>in mavila. That is, instead of the &quot;neutral&quot; 7th, which would be about<br/>1050 cents in 16-equal, you end up with something closer to 7/4, 975<br/>cents in 16-equal. So sharpening something ends up meaning flattening<br/>it, which if you work the math out is because the apotome is reversed.</p><p>On the one hand, this means that the leading tone becomes the &quot;rare&quot;<br/>interval in the scale - it becomes the large step, which is about 225<br/>cents. On the other hand, it means that the leading tone is more<br/>consonant, so perhaps the best way to treat this would be to still<br/>sharpen the leading tone - despite that this algorithm will<br/>automatically flatten it. Kalle and I have been discussing this for a<br/>while in the other thread, so perhaps you might have some insights as<br/>well. Either way, it certainly means that the diatonic structure is a<br/>lot different.</p><p>-Mike</p></div><h3><a id=100212 href="#100212">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>6/19/2011 10:59:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Petr Par&iacute;zek &lt;petrparizek2000@...&gt; wrote:</p><p>&gt; Anyway, here they are:<br/>&gt; <a href="http://dl.dropbox.com/u/8497979/mavila_original.mp3">http://dl.dropbox.com/u/8497979/mavila_original.mp3</a><br/>&gt; <a href="http://dl.dropbox.com/u/8497979/meantone_retuned.mp3">http://dl.dropbox.com/u/8497979/meantone_retuned.mp3</a></p><p>I wonder if starting from a piece with a pentatonic flavor would work better in transforming meantone to mavila?</p></div><h3><a id=100213 href="#100213">ðŸ”—</a>Daniel Nielsen &#x3C;nielsed@...&#x3E;</h3><span>6/19/2011 11:02:25 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>No kidding, that sounds better than a lot of movie scores, Petr.</p></div><h3><a id=100216 href="#100216">ðŸ”—</a>Petr Par&#xED;zek &#x3C;petrparizek2000@...&#x3E;</h3><span>6/19/2011 11:55:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt; I wonder if starting from a piece with a pentatonic flavor would work &gt; better in transforming meantone to mavila?</p><p>I think so. Interestingly enough, a while before I posted the links, I was thinking about just the same idea.</p><p>Petr</p></div><h3><a id=100217 href="#100217">ðŸ”—</a>Petr Par&#xED;zek &#x3C;petrparizek2000@...&#x3E;</h3><span>6/19/2011 12:29:38 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike wrote:</p><p>&gt; Did you ever think that when you were writing this piece, that<br/>&gt; you ended up writing two good pieces? :)</p><p>Certainly not at the time I was recording it. However, one day later, when I first got the idea of retunin it to meantone, it occurred to me that both versions can be essentially equally meaninful.</p><p>&gt; My understanding of this so far is that meantone pieces don&apos;t exactly<br/>&gt; retune perfectly to mavila, especially common practice ones. This is<br/>&gt; because when you take a piece in minor and you want to sharpen the<br/>&gt; leading tone, it ends up being major with a -flattened- leading tone<br/>&gt; in mavila. That is, instead of the &quot;neutral&quot; 7th, which would be about<br/>&gt; 1050 cents in 16-equal, you end up with something closer to 7/4, 975<br/>&gt; cents in 16-equal. So sharpening something ends up meaning flattening<br/>&gt; it, which if you work the math out is because the apotome is reversed.</p><p>And for this reason, picardy thirds get messed up as well, which is maybe even stranger because finishing a major piece with a minor tonic is pretty weird. On the other hand, if a meantone piece in a major key uses a minor subdominant, retuning it to mavila turns the &quot;warmer&quot; feeling into apretty neutral one.</p><p>&gt; On the one hand, this means that the leading tone becomes the &quot;rare&quot;<br/>&gt; interval in the scale - it becomes the large step, which is about 225<br/>&gt; cents. On the other hand, it means that the leading tone is more<br/>&gt; consonant, so perhaps the best way to treat this would be to still<br/>&gt; sharpen the leading tone - despite that this algorithm will<br/>&gt; automatically flatten it. Kalle and I have been discussing this for a<br/>&gt; while in the other thread, so perhaps you might have some insights as<br/>&gt; well. Either way, it certainly means that the diatonic structure is a<br/>&gt; lot different.</p><p>My view is that the patterns should be kept intact even if doing so changes a rising interval into a falling one. Both meantone and mavila use fifths as generators but meantone maps 25/24 to 7 generators while mavila maps it t -7 generators. The only case that I&apos;m aware of where meantone fifths were replaced by mavil fourths was Gene&apos;s retuning of Couperin&apos;s &quot;Les Barricades mysterieuses&quot; -- I can&apos;t find it anywhere on the web right now, maybe I&apos;ll dig it out of my laptop one day (I think I&apos;ve saved it there at the time it was online).</p><p>Petr</p></div><h3><a id=100219 href="#100219">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>6/19/2011 1:15:34 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Petr Par&iacute;zek &lt;petrparizek2000@...&gt; wrote:<br/>The only case that I&apos;m aware of where meantone fifths were<br/>&gt; replaced by mavil fourths was Gene&apos;s retuning of Couperin&apos;s &quot;Les Barricades<br/>&gt; mysterieuses&quot; -- I can&apos;t find it anywhere on the web right now, maybe I&apos;ll<br/>&gt; dig it out of my laptop one day (I think I&apos;ve saved it there at the time it<br/>&gt; was online).</p><p>That would be great, Petr; I can&apos;t find it either.</p></div><h3><a id=100220 href="#100220">ðŸ”—</a>Petr Par&#xED;zek &#x3C;petrparizek2000@...&#x3E;</h3><span>6/19/2011 3:13:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Gene wrote:</p><p>&gt; That would be great, Petr; I can&apos;t find it either.</p><p>This is what I&apos;ve found:<br/><a href="http://dl.dropbox.com/u/8497979/mush.ogg">http://dl.dropbox.com/u/8497979/mush.ogg</a><br/><a href="http://dl.dropbox.com/u/8497979/mushc.ogg">http://dl.dropbox.com/u/8497979/mushc.ogg</a><br/><a href="http://dl.dropbox.com/u/8497979/procon.ogg">http://dl.dropbox.com/u/8497979/procon.ogg</a></p><p>Petr</p></div><h3><a id=100251 href="#100251">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>6/20/2011 2:28:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;ve been having fun with Schubert&apos;s Impromptu in F minor,<br/>D935-1.  It&apos;s amazing how many different pieces he managed<br/>to write all at once.  There&apos;s so much more than Mavila!<br/>Here&apos;s the Lilypond file with tuning capability built in:</p><p><a href="http://x31eq.com/lilypond/SchubertF-D935-1-Impromptu.ly">http://x31eq.com/lilypond/SchubertF-D935-1-Impromptu.ly</a></p><p>Ladies and gentlemen at home may not have Lilypond<br/>installed on their workstations, so here are some<br/>MIDI files for 5, 7, 8, 9, 12, 17, 19, 23, 26, 31, and 43<br/>steps to the octave:</p><p><a href="http://x31eq.com/lilypond/D935-1.zip">http://x31eq.com/lilypond/D935-1.zip</a></p><p>You&apos;ll need a MIDI file player that supports the real time<br/>MIDI Tuning Standard message . . . which probably means<br/>Timidity.  Set them up with your favorite piano soundfont,<br/>and think about what movie such pieces would be the<br/>soundtrack to.</p><p>                 Graham</p></div><h3><a id=100253 href="#100253">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>6/20/2011 3:25:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; Ladies and gentlemen at home may not have Lilypond<br/>&gt; installed on their workstations, so here are some<br/>&gt; MIDI files for 5, 7, 8, 9, 12, 17, 19, 23, 26, 31, and 43<br/>&gt; steps to the octave:</p><p>How easy would it be to convert it to a seq file using, say, P31 notation?</p></div><h3><a id=100255 href="#100255">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>6/21/2011 2:16:06 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt;<br/>&gt; wrote:<br/>&gt;<br/>&gt; &gt; Ladies and gentlemen at home may not have Lilypond<br/>&gt; &gt; installed on their workstations, so here are some<br/>&gt; &gt; MIDI files for 5, 7, 8, 9, 12, 17, 19, 23, 26, 31, and<br/>&gt; &gt; 43 steps to the octave:<br/>&gt;<br/>&gt; How easy would it be to convert it to a seq file using,<br/>&gt; say, P31 notation?</p><p>To get a MIDI file, not that difficult -- and I&apos;ll look<br/>into it.  I&apos;ll leave the MIDI to seq conversion to you.</p><p>                   Graham</p></div>