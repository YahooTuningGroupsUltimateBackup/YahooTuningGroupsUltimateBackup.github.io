<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning Interval Calculator version 7.2 how it works</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>Interval Calculator version 7.2 how it works</h1><h3><a id=90291 href="#90291">ðŸ”—</a>john777music &#x3C;jfos777@...&#x3E;</h3><span>6/12/2010 10:29:17 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The Interval Calculator program can be found in the JohnOSullivan folder in the &quot;Files&quot; section. There is a Mac OSX and a PC version.</p><p>Here&apos;s how it works. Take two sine wave tones with relative frequencies of 2 and 3. My formula (well tested) for the consonance of a sine wave interval (no overtones) is...</p><p>(2 + 1/x + 1/y - diss(x,y))/2</p><p>Assign each tone an amplitude of 1.0. The &apos;2&apos; at the left hand side of the formula is the sum of the strength values of the two tones (1 + 1). The 1/x + 1/y relates to the periodicity of the interval and the diss(x,y) describes the dissonance (beats).</p><p>&apos;x&apos; is 3 and &apos;y&apos; is 2.  If y/x  is less than or equal to 0.9375 (which is 15/16) then the formula for dissonance is simply y/x. If y/x is greater than 0.9375 then the formula for dissonance is<br/>(1 - y/x)*15.</p><p>So 3/2 put through the formula is (2 + 0.333 + 0.5 - 0.667)/2 = 1.0833. The 2 at the the right hand side of a formula is a guess that seems to work, perhaps it&apos;s an average per number of notes considered, in this case 2. When you divide by 2 then all intervals (using sine waves) with a value greater than 1.0 sound major and intervals with a value less than 1.0 sound minor.</p><p>The next step is to use this formula with, say, the first 1024 harmonics of both notes in an interval using complex tones (i.e. tones with a harmonic series where the frequencies of the harmoics are 1a, 2a, 3a, 4a, 5a etc and the amplitudes of the harmonics are b, b/2, b/3, b/4, b/5 etc.</p><p>Take 5/7 as an example. The first 1024 harmonics of both the 5 and the 7 are listed (e.g. 5, 10, 15, 20 etc. and 7, 14, 21, 28 etc). If you pair all 2048 elements (harmonics/partials) with each other you run into huge negative numbers (I think this has to do with the infinite nature of the harmonics whose sum approaches infinity). The trick I used was to pair only the first 32 elements of each note with all the other 2000 or so elements to get a rough approximation.</p><p>Here is an example of one pairing that occurs. Consider the 5&apos;s third element (15) and 7&apos;s fourth element (28). The strength of 5&apos;s third element on its own is 1/3 (0.333) and the strength of 7&apos;s fourth element on its own is 1/4 (0.25). So the left hand side of the equation should be 0.333 + 0.25 = 0.583 (this is the sum of the amplitudes). The 1/x + 1/y - diss(x,y) is as usual but the result here must be weighted according to the strength (amplitude) of the quiter element (in this case the 4th element) so the 1/x + 1/y - diss(x,y) result should be divided by 4. Just as a chain is only as strong as its weakest link so the strength value of an interval is only as strong as the quieter element.</p><p> I&apos;m not sure but I think the 0.583 above should be added to the (1/x + 1/y - diss(x,y)) and this new sum divide by 2. All 2048 elements should be paired with eachother once (i.e. the 1024 elements of the 5 are paired with eachother, the 1024 elements of the 7 are paired with eachother and all the elements of *both* notes ae paired with eachother. Ratios that occur should *not* be simplified (e.g. with an 8/4 ratio, the 8 and 4 are used and not 2 and 1 which is 8/4 simplified to 2/1).</p><p>When I wrote my program, because I used only the first 32 elements of both notes paired with the 2000 or so other elements I wasn&apos;t sure what the left hand side value (the sum of the amplitudes) should be (theoretically infinite) but I knew that it should be a constant (i.e. it should always have the same value) no matter what interval is considered. So I ignored the left hand side (sum of the amplitudes) of the formula and just used the 1/x + 1/y - diss(x,y). When I ran the program I was able to estimate the &quot;sum of the amplitudes&quot; value by testing various intervals. If the interval was clearly dissonant then it should have a negative value. If clearly consonant it should have a positive value. So I added a value (I think it was between 50 and 60) to each result so that the intervals with a value greater than zero sounded good and less than zero, bad. Admittedly the zero point was set according to my own taste and some intervals I consider bad are considered good by others. Even so, the hierarchy of intervals is still the same and anyone could choose their own cut off point (e.g. -1.6).</p><p>As regards chords with 3 or more notes, if every possible dyad/inteval in a chord has a value greater than zero, according to my calculator, then the chord should be good. These good dyads/intervals are all within plus or minus 6.775877 cents (256/255) of a &quot;true&quot; interval.<br/>.<br/>John.</p><p>P.S. my formula and calculator could be wrong but if they are correct, or close to correct then that would be someting. They seem consistent to me so far.</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            