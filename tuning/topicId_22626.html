<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning For Monz: derivation of MIRACLE generator (warning: unnecessary math content)</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>For Monz: derivation of MIRACLE generator (warning: unnecessary math content)</h1><h3><a id=22626 href="#22626">ðŸ”—</a>paul@stretch-music.com</h3><span>5/12/2001 11:41:42 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;m going to do the 9-limit optimization here, since Dave Keenan<br/>already did the 7-limit and 11-limit ones computationally.</p><p>Let&apos;s first see how each prime interval is generated (all logs will<br/>be base-2):</p><p>3/2 ~= g^6        -&gt;  -1+log(3) = 6*g</p><p>5/8 ~= g^(-7)     -&gt;  -3+log(5) = -7*g</p><p>7/8 ~= g^(-2)     -&gt;  -3+log(7) = -2*g</p><p>Now we write our squared error terms for all 10 9-limit interval<br/>classes (treating 9:3 as separate from 3:1 to give this interval the<br/>extra weight it deserves):</p><p>Sum-of-squared-error<br/>       =<br/>(log(3) - 6*g - 1)^2      [sq. err. term for 3:1]<br/>       +<br/>(log(5) + 7*g - 3)^2      [sq. err. term for 5:1]<br/>       +<br/>(log(5/3) + 13*g - 2)^2   [sq. err. term for 5:3]<br/>       +<br/>(log(7) + 2*g - 3)^2      [sq. err. term for 7:1]<br/>       +<br/>(log(7/3) + 8*g - 2)^2    [sq. err. term for 7:3]<br/>       +<br/>(log(7/5) - 5*g)^2        [sq. err. term for 7:5]<br/>       +<br/>(log(9) - 12*g - 2)^2     [sq. err. term for 9:1]<br/>       +<br/>(log(9/3) - 6*g - 1)^2    [sq. err. term for 9:3]<br/>       +<br/>(log(9/5) - 19*g + 1)^2   [sq. err. term for 9:5]<br/>       +<br/>(log(9/7) - 14*g + 1)^2   [sq. err. term for 9:7]</p><p>The derivative of this sum-of-squared errors with respect to g is</p><p>2*(log(3) - 6*g - 1)*(-6)     [term for 3:1]<br/>       +<br/>2*(log(5) + 7*g - 3)*7        [term for 5:1]<br/>       +<br/>2*(log(5/3) + 13*g - 2)*13    [term for 5:3]<br/>       +<br/>2*(log(7) + 2*g - 3)*2        [term for 7:1]<br/>       +<br/>2*(log(7/3) + 8*g - 2)*8      [term for 7:3]<br/>       +<br/>2*(log(7/5) - 5*g)*(-5)       [term for 7:5]<br/>       +<br/>2*(log(9) - 12*g - 2)*(-12)   [term for 9:1]<br/>       +<br/>2*(log(9/3) - 6*g - 1)*(-6)   [term for 9:3]<br/>       +<br/>2*(log(9/5) - 19*g + 1)*(-19) [term for 9:5]<br/>       +<br/>2*(log(9/7) - 14*g + 1)*(-14) [term for 9:7]</p><p>Now let&apos;s set this equal to zero. We can drop the &quot;2*&quot;s in front of<br/>everything. Collecting similar terms:</p><p>log(3)*( -6 - 13 - 8 - 24 - 6 - 38 - 28)<br/>       +<br/>log(5)*(7 + 13 + 5 + 19)<br/>       +<br/>log(7)*(2 + 8 - 5 + 14)<br/>       +<br/>g*(6^2 + 7^2 + 13^2 + 2^2 + 8^2 + 5^2 + 12^2 + 6^2 + 19^2 + 14^2)<br/>       +<br/>6 - 21 - 26 - 6 - 16 + 24 + 6 - 19 - 14<br/>       =<br/>       0.</p><p>A little arithmetic, and you get:</p><p>log(3)*(-123) + log(5)*44 + log(7)*19 + g*1084 - 66 = 0.</p><p>Solving for g,</p><p>g = (123*log(3) - 44*log(5) - 19*log(7) + 66)/1084 octave</p><p>  = 0.0972747305300404 octave</p><p>  = 116.729676636048 cents.</p><p>Hope I didn&apos;t make any errors!</p></div><h3><a id=22628 href="#22628">ðŸ”—</a>monz &#x3C;joemonz@yahoo.com&#x3E;</h3><span>5/12/2001 11:57:50 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., paul@s... wrote:</p><p><a href="/tuning/topicId_22626.html#22626">/tuning/topicId_22626.html#22626</a></p><p>&gt; I&apos;m going to do the 9-limit optimization here, since<br/>&gt; Dave Keenan already did the 7-limit and 11-limit ones<br/>&gt; computationally.<br/>&gt;<br/>&gt; Let&apos;s first see how each prime interval is generated (all<br/>&gt; logs will be base-2):<br/>&gt;<br/>&gt; 3/2 ~= g^6        -&gt;  -1+log(3) = 6*g<br/>&gt;<br/>&gt; 5/8 ~= g^(-7)     -&gt;  -3+log(5) = -7*g<br/>&gt;<br/>&gt; 7/8 ~= g^(-2)     -&gt;  -3+log(7) = -2*g<br/>&gt;<br/>&gt;<br/>&gt; Now we write our squared error terms for all 10 9-limit interval<br/>&gt; classes ... &lt;snip&gt;</p><p>Thanks, Paul... even tho I don&apos;t understand any of it.  :)</p><p>&quot;It&apos;s all Greek to me&quot;... well, actually, I understand<br/>ancient Greek quite a bit better than this!</p><p>Wouldn&apos;t it be fairly straightforward to write an algorithm<br/>that does this, following the method you illustrated in<br/>your post?  Maybe Robert can whip it up quickly...?</p><p>Then the user could just plug in the intervals he wants to<br/>approximate, along with any other parameters, and POOF!<br/>- out comes the generator.</p><p>-monz<br/><a href="http://www.monz.org">http://www.monz.org</a><br/>&quot;All roads lead to n^0&quot;</p></div><h3><a id=22629 href="#22629">ðŸ”—</a>paul@stretch-music.com</h3><span>5/13/2001 12:03:04 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;monz&quot; &lt;joemonz@y...&gt; wrote:<br/>&gt;<br/>&gt; Thanks, Paul... even tho I don&apos;t understand any of it.  :)</p><p>Hey Monz . . . it&apos;s really the same in form as the Woolhouse<br/>derivation.<br/>&gt;<br/>&gt; &quot;It&apos;s all Greek to me&quot;... well, actually, I understand<br/>&gt; ancient Greek quite a bit better than this!<br/>&gt;<br/>&gt;<br/>&gt; Wouldn&apos;t it be fairly straightforward to write an algorithm<br/>&gt; that does this, following the method you illustrated in<br/>&gt; your post?  Maybe Robert can whip it up quickly...?</p><p>I bet he could . . .</p></div><h3><a id=22630 href="#22630">ðŸ”—</a>Dave Keenan &#x3C;D.KEENAN@UQ.NET.AU&#x3E;</h3><span>5/13/2001 12:25:03 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., paul@s... wrote:<br/>&gt; I&apos;m going to do the [unweighted RMS] 9-limit optimization here,<br/>since Dave Keenan<br/>&gt; already did the 7-limit and 11-limit ones computationally.<br/>...<br/>&gt;   = 116.729676636048 cents.<br/>&gt;<br/>&gt; Hope I didn&apos;t make any errors!</p><p>Nope. Doing it numerically to 6 significant digits I get</p><p>116.730 cents.</p><p>Well done.</p><p>Almost indistinguishable from the 11-limit RMS optimum isn&apos;t it?</p></div><h3><a id=22631 href="#22631">ðŸ”—</a>monz &#x3C;joemonz@yahoo.com&#x3E;</h3><span>5/13/2001 12:33:38 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., paul@s... wrote:</p><p><a href="/tuning/topicId_22626.html#22629">/tuning/topicId_22626.html#22629</a></p><p>&gt; --- In tuning@y..., &quot;monz&quot; &lt;joemonz@y...&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Thanks, Paul... even tho I don&apos;t understand any of it.  :)<br/>&gt;<br/>&gt; Hey Monz . . . it&apos;s really the same in form as the Woolhouse<br/>&gt; derivation.</p><p>Yup - I recognized that.  But I don&apos;t grok this kind of<br/>thing quickly - I really have to go thru it step by step.<br/>Thanks for making the comparison in case I had missed it.</p><p>Lest this seem too much like a private conversation, here&apos;s<br/>the link to my Woolhouse paper to which Paul refers:<br/><a href="http://www.ixpres.com/interval/monzo/woolhouse/essay.htm#temp">http://www.ixpres.com/interval/monzo/woolhouse/essay.htm#temp</a></p><p>-monz<br/><a href="http://www.monz.org">http://www.monz.org</a><br/>&quot;All roads lead to n^0&quot;</p></div><h3><a id=22632 href="#22632">ðŸ”—</a>monz &#x3C;joemonz@yahoo.com&#x3E;</h3><span>5/13/2001 12:38:32 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;monz&quot; &lt;joemonz@y...&gt; wrote:</p><p>&gt; Lest this seem too much like a private conversation, here&apos;s<br/>&gt; the link to my Woolhouse paper to which Paul refers:<br/>&gt; <a href="http://www.ixpres.com/interval/monzo/woolhouse/essay.htm#temp">http://www.ixpres.com/interval/monzo/woolhouse/essay.htm#temp</a><br/>&gt;</p><p>Well, the calculus Paul showed me here is actually much further<br/>down, about 3/4 of the way down the page, after the underlined<br/>heading: &quot;Woolhouse&apos;s derivation of 7/26-comma &apos;optimal&apos; meantone&quot;.</p><p>This is the part of my webpage that&apos;s similar to Paul&apos;s post<br/>on how to calculate the Miracle generator.</p><p>-monz<br/><a href="http://www.monz.org">http://www.monz.org</a><br/>&quot;All roads lead to n^0&quot;</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            