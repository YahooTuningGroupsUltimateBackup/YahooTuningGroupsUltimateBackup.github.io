<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning Using a Midi Keyboard to Play Computer Genterated Tuning Files</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>Using a Midi Keyboard to Play Computer Genterated Tuning Files</h1><h3><a id=58565 href="#58565">ðŸ”—</a>joshuamcullen &#x3C;joshuamcullen@yahoo.com&#x3E;</h3><span>5/13/2005 1:48:26 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hello,<br/>I have seen lots of software for creating tuning files in various<br/>formats such as C-sound, Scala, and Max&apos;s Magic Microtuner, but I am<br/>not  sure how to use my keyboard to trigger the sounds or utilize the<br/>information in the tables.  I have a midi connection but I am not sure<br/>where to go from there. Is there some type of software environment<br/>seperate from these progams that you need in order for your keyboard<br/>to access these file formats.  I have a yamaha P-80. If you anyone has<br/>any recomendations I would greatly appreiciate it. Thanks.<br/>-Joshua Cullen</p></div><h3><a id=58566 href="#58566">ðŸ”—</a>Jon Szanto &#x3C;jszanto@cox.net&#x3E;</h3><span>5/13/2005 11:19:47 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;joshuamcullen&quot; &lt;joshuamcullen@y...&gt; wrote:<br/>&gt; I have seen lots of software for creating tuning files in various<br/>&gt; formats such as C-sound, Scala, and Max&apos;s Magic Microtuner, but I am<br/>&gt; not  sure how to use my keyboard to trigger the sounds or utilize the<br/>&gt; information in the tables.  I have a midi connection but I am not sure<br/>&gt; where to go from there.</p><p>If you have a midi connection and Scala, you are set to go. You load a<br/>tuning into Scala (or create a new one) and then under &quot;Tools&quot; you<br/>select the option to relay midi. The dialogue will give you a few<br/>choices and confirmations, and then there is an option to &quot;Start<br/>relaying&quot;. Scala will then watch for note inputs from the midi port,<br/>and use pitch bends on the internal synth patches utilizing your<br/>soundcard.</p><p>This isn&apos;t the *optimal* way to make microtonal music by any means<br/>(for one thing, there is a fair amount of latency), but it certainly<br/>give you the ability to hear tunings with the setup you have.</p><p>One caveat: you mention Max&apos;s Magic Microtuner, and I&apos;m pretty sure<br/>that is a Mac-platform-only program. The above info I wrote concerns<br/>my setup on a Windows XP DAW. It is always very important to give us<br/>information about your operating system of choice when asking software<br/>questions.</p><p>HTH,<br/>Jon</p></div><h3><a id=58570 href="#58570">ðŸ”—</a>Guglielmo &#x3C;gugliel@guglielmomusic.com&#x3E;</h3><span>5/14/2005 9:53:43 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Another caveat relating to the use of tuning and midi -- the SOUNDS themselves, whether synthesized or sampled, are often not perfectly tuned to equal temperament.  Sometimes, in fact, they are badly out of tune, or they fluctuate.   Beware!</p><p>Jon Szanto wrote:<br/>&gt; &gt; If you have a midi connection and Scala, you are set to go. You load a<br/>&gt; tuning into Scala (or create a new one) and then under &quot;Tools&quot; you<br/>&gt; select the option to relay midi. The dialogue will give you a few<br/>&gt; choices and confirmations, and then there is an option to &quot;Start<br/>&gt; relaying&quot;. Scala will then watch for note inputs from the midi port,<br/>&gt; and use pitch bends on the internal synth patches utilizing your<br/>&gt; soundcard.<br/>&gt; &gt; This isn&apos;t the *optimal* way to make microtonal music by any means<br/>&gt; (for one thing, there is a fair amount of latency), but it certainly<br/>&gt; give you the ability to hear tunings with the setup you have.<br/>&gt; &gt; One caveat: you mention Max&apos;s Magic Microtuner, and I&apos;m pretty sure<br/>&gt; that is a Mac-platform-only program. The above info I wrote concerns<br/>&gt; my setup on a Windows XP DAW. It is always very important to give us<br/>&gt; information about your operating system of choice when asking software<br/>&gt; questions.<br/>&gt; &gt; HTH,<br/>&gt; Jon<br/>&gt; &gt; &gt; &gt; &gt; &gt; You can configure your subscription by sending an empty email to one<br/>&gt; of these addresses (from the address at which you receive the list):<br/>&gt;   <a href="mailto:tuning-subscribe@yahoogroups.com">tuning-subscribe@yahoogroups.com</a> - join the tuning group.<br/>&gt;   <a href="mailto:tuning-unsubscribe@yahoogroups.com">tuning-unsubscribe@yahoogroups.com</a> - leave the group.<br/>&gt;   <a href="mailto:tuning-nomail@yahoogroups.com">tuning-nomail@yahoogroups.com</a> - turn off mail from the group.<br/>&gt;   <a href="mailto:tuning-digest@yahoogroups.com">tuning-digest@yahoogroups.com</a> - set group to send daily digests.<br/>&gt;   <a href="mailto:tuning-normal@yahoogroups.com">tuning-normal@yahoogroups.com</a> - set group to send individual emails.<br/>&gt;   <a href="mailto:tuning-help@yahoogroups.com">tuning-help@yahoogroups.com</a> - receive general help information.<br/>&gt;  &gt; Yahoo! Groups Links<br/>&gt; &gt; &gt; &gt;  &gt; &gt; &gt;</p></div><h3><a id=58585 href="#58585">ðŸ”—</a>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>5/15/2005 8:21:05 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Jon and Guglielmo,</p><p>&gt; Another caveat relating to the use of tuning and midi -- the SOUNDS<br/>&gt; themselves, whether synthesized or sampled, are often not perfectly<br/>&gt; tuned to equal temperament.  Sometimes, in fact, they are badly out of<br/>&gt; tune, or they fluctuate.   Beware!</p><p>Jon Szanto wrote:<br/>&gt;<br/>&gt; If you have a midi connection and Scala, you are set to go. You load a<br/>&gt; tuning into Scala (or create a new one) and then under &quot;Tools&quot; you<br/>&gt; select the option to relay midi. The dialogue will give you a few<br/>&gt; choices and confirmations, and then there is an option to &quot;Start<br/>&gt; relaying&quot;. Scala will then watch for note inputs from the midi port,<br/>&gt; and use pitch bends on the internal synth patches utilizing your<br/>&gt; soundcard.<br/>&gt;<br/>&gt; This isn&apos;t the *optimal* way to make microtonal music by any means<br/>&gt; (for one thing, there is a fair amount of latency), but it certainly<br/>&gt; give you the ability to hear tunings with the setup you have.<br/>&gt;<br/>&gt; One caveat: you mention Max&apos;s Magic Microtuner, and I&apos;m pretty sure<br/>&gt; that is a Mac-platform-only program. The above info I wrote concerns<br/>&gt; my setup on a Windows XP DAW. It is always very important to give us<br/>&gt; information about your operating system of choice when asking software<br/>&gt; questions.<br/>&gt;</p><p>Just to say, both are addressable. You may be able to reduce the latency by<br/>changing the settings for DirectSound buffers - normally you can get it down<br/>to about 20 ms latency or thereabouts which is tolerable for playing<br/>- you can still play crisp chords, it is just that all the notes<br/>are delayed by a fixed amount. You can reduce it much further by<br/>using Asio which gets it down to a millisecond or so - assuming<br/>your synth recognises it. That feels like no latency at all to<br/>many people. I don&apos;t notice anything at all when playing<br/>keyboard at that level of latency.</p><p>It corresponds to the time it takes for sound<br/>to travel a foot. So if you play e.g. a marimba which is<br/>say a metre across, and the notes are exactly in time as you<br/>face it, a listener to your side will hear them staggered<br/>by 3 ms. which will help put it in perspective.</p><p>Or to put it another way - if you go to a live performance<br/>of an orchestra and you are able to sit to one side, or<br/>if the conductor is standing near to the orchestra rather<br/>than in the middle of the audience, then you would expect<br/>to get differences in synchronisation of probably a few ms.</p><p>Here is a picture of a much simplified concert<br/>with a an orchestra with conductor<br/>and audience, and we suppose the<br/>conductor has just conducted them in a chord which is<br/>exactly in time to his ears:</p><p>Orchestra</p><p>     left ...........<br/>       .           .  .<br/>         3m      .       .<br/>             . .           .<br/>centre   3m   conductor   3m    audience<br/>             .<br/>         3m<br/>       .<br/>    right</p><p>Where that is meant to be a triangular grid<br/>just to simplify the calculation</p><p>Then the distance from the conductor to them<br/>- lets say the back seats are arranged at equal<br/>distance from the conductor - is the same.</p><p>For the audience, the left of the orchestra<br/>is at a distance of 6*sqrt(3)/2 metres, or about<br/>5.2 metres,  and the centre is at a distance of<br/>six metres, a difference in travel time of<br/>a couple of milliseconds or so.</p><p>Someone right in the middle but<br/>well at the back of the audience will<br/>hear a difference of over a metre of<br/>travel distance for the instrumentalists<br/>at the edge of the orchestra - or 3 ms.</p><p>If someone listens from the side<br/>then the difference will be quite a bit more<br/>too - in this case, about<br/>30 ms (ten metres travel difference).<br/>That I suppose might be quite noticeable<br/>for those particularly sensitive to<br/>timings - three hundredths of a second.<br/>Perhaps there is something to be said<br/>for asking orchestra players to sit close<br/>together to help side listeners...<br/>Or if somehow it could be underwater ...<br/>- sound travels far faster underwater :-).</p><p>Of course this all depends on the size of the<br/>orchestra and the layout, but it gives a very rough<br/>idea. And if recorded to CD it could presumably be synchronised<br/>to the same exactness as the notes are heard by the conductor.</p><p>As for the latency in Scala - that should be almost nonexistent<br/>unless you have an old and very slow computer (perhaps<br/>100 MhZ or so, though I haven&apos;t tested that).</p><p>Soundcard midi synths can be strange sometimes<br/>when it comes to latency. I&apos;ve got one on my laptop<br/>that normally works with fairly little in the way of latency but<br/>now and again for no apparent reason starts acting<br/>up and giving you quite a lot, maybe a half second or so of latency.<br/>Closing the midi out and opening it again fixes<br/>it - just for that partiular midi synth on the<br/>soundcard, not for any other<br/>device that I&apos;m  playing it on at the time.</p><p>Just sending notes through a midi cable gives a<br/>transmission delay because of the time it takes<br/>notes to go through the cable. But fairly small,<br/>a third of a millisecond per note if the keyboard<br/>uses running status. However if you have a dense<br/>chord of say 10 notes, that could take 3 ms<br/>to transmit through the midi cable, corresponding<br/>to the same latency as that 1 meter marimba<br/>listened to from the side, except that it is<br/>a transmission delay which is a bit different,<br/>means that the notes become ragged by that amount<br/>rather than uniformly delayed. But it is ragged<br/>by the same amount as the chords on the marimba<br/>as heard from the side.</p><p>If midi cable transmission is a factor, you can fix that by<br/>using USB midi which has a far faster transmission<br/>rate.</p><p>Transmission of midi signals from program<br/>to program within a single computer is very fast<br/>(and doesn&apos;t seem to depend on the midi signal size<br/>- a big sysex takes the same time as a note on).</p><p>Then for the actual relaying through SCALA,<br/>I have an option in FTS which lets me measure<br/>the transmission rate for other programs and on my<br/>new laptop SCALA relays 10 note ons in 3 ms<br/>and 10 note offs in 5 ms.</p><p>It takes 1 and 2 ms respectively<br/>to transmit the 10 notes through the loopback<br/>and back. So that means it is 0.2 ms per note<br/>for the note ons and 0.3 ms per note for the<br/>note offs approximately for the extra transmission<br/>delay in SCALA because of whatever internal<br/>processing it does for the retuning. It wasn&apos;t<br/>that much different on my old 400 Mhz computer<br/>actually, so probably some  of that isn&apos;t so<br/>much what SCALA is doing as some kind of extra<br/>overhead somewhere maybe just due to<br/>relaying the notes around using the midi<br/>methods SCALA uses - probably the loopback<br/>is coded in some low level way to<br/>get its transmission rate so very high.</p><p>My older p.c. at 400 Mhz has rather slower<br/>transmission rate but it is still only of about the order<br/>of transmission through a midi cable and not<br/>what most would consider very significant.</p><p>So if you get latency problems it is almost certainly<br/>going to be due to your soundcard or soft synth or cabling<br/>rather than SCALA, I&apos;d have thought.</p><p>To make sure that you know where the latency is happening,<br/>use a very simple setup - just relay directly from your<br/>midi keyboard into SCALA, and select whatever is your least<br/>latency output. Compare it with relaying your same midi keyboard<br/>through your normal sequencer. If both have high latency<br/>you need ot work on improving the latency of your system<br/>perhaps by getting another soundcard or by updating<br/>its drivers, or using Asio drivers.</p><p>As for the sounds, they are often measurably quite a bit out of tune indeed<br/>on the cents level if you want them exact to say the nearest<br/>cent. Particularly wave table ones. Also even if reasonably<br/>in tune, they may beat because of the looping artefacts.<br/>Also they often have a fair bit of residual vibrato, just<br/>a small amount. So if your soundfont voices beat wildly<br/>in just intonaton chords, it may be that they are reasonably<br/>in tune but that individual notes all have a bit of<br/>vibrato.</p><p>Anyway that is addressable too.<br/>If the main focus is the tuning, then try a good FM synth.<br/>I use the FM7 soft synth and its tuning is very exact indeed<br/>in  my measurments, a tiny fraction of a cent. A good FM<br/>soft synth shouldn&apos;t have any tuning problems. Though<br/>it may be tricky to use it with pitch polyphony as<br/>we desire since they are often locked into the<br/>equal tempered model or have few tunings available<br/>to use. In the case of the FM7 there are some example<br/>tunings and you can adjust the 12-t tuning yourself too,<br/>or you can use MTS sysexes (a bit more tricky).</p><p>The Midicode synth is also worth looking at for<br/>voices that help one to hear just intonation chords<br/>if that is ones main aim.</p><p>Or you use a hardware synth and find out how to tune<br/>it to the desired tuning using SCALA.</p><p>Or you can try a very simple sound font, make your own, to reduce the<br/>amount of work involved, you can use only<br/>a few samples, as few as you are permitted to use,<br/>and make sure they are all perfectly in tune.</p><p>I&apos;m working on some other things for next release of<br/>FTS 3.0 - mainly support of CSound in real time<br/>via instruments retuned and played in CSoundAV<br/>in real time.</p><p>If one finds out that the latency is in the<br/>soundcard, then one can get any soft synth or<br/>sampler that can deal with Asio. I&apos;ve been<br/>using Virtual Sampler (VSampler) on my<br/>laptop and it works fine and uses Asio<br/>- and can play Gigs and sound fonts.</p><p>If one wants to get Asio for a soundcard,<br/>and the one you have doesn&apos;t support it,<br/>I&apos;ve discovered that someone has at last<br/>sused it out - the Asio4All driver<br/>actually works and gives Asio type<br/>latency levels playing a Giga<br/>file via Virtual Sampler<br/>on my very ordinary laptop!<br/>So it probably will work on most -<br/>I didn&apos;t get this laptop for its<br/>soundcard at all, it is just whatever<br/>an entry level type laptop gets<br/>supplied with nowadays.</p><p><a href="http://www.asio4all.com/">http://www.asio4all.com/</a></p><p>I&apos;m testing Scala right now with<br/>a keyboard connected to my laptop<br/>via usb midi and with Virtual Sampler<br/>playing a gig file,<br/>using that Asio driver. I&apos;d<br/>say it is instant. Anyway for anyone<br/>who has noticed any latency in their<br/>setup, I&apos;d say try<br/>a setup like that first and see<br/>if you notice anything with<br/>the latency removed as far as<br/>possible from the other stages<br/>of the relaying process.</p><p>BTW you can get the VSampler<br/>for a free 30 day trial and then<br/>at the end of that can go on<br/>testing it except that it plays<br/>a tone on top of your playing<br/>every so often when it is in<br/>demo mode at the end of the trial.<br/>Robert</p></div><h3><a id=58588 href="#58588">ðŸ”—</a>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>5/15/2005 8:57:46 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi there,</p><p>Sorry of course the difference in travel time<br/>for the sideways listener in that orchestra<br/>diagram should be about 5 metres or about<br/>15 ms.</p><p>Robert</p></div><h3><a id=58590 href="#58590">ðŸ”—</a>Jon Szanto &#x3C;jszanto@cox.net&#x3E;</h3><span>5/15/2005 9:03:06 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Robert!!!</p><p>My God, man, can&apos;t you write a short and concise post?????? How in the<br/>world can one respond to all that???????</p><p>:)</p><p>Oh, but I&apos;ve come to know and love you, so I&apos;ll just ignore most of it<br/>and do the best I can...</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Robert Walker&quot; &lt;robertwalker@n...&gt; wrote:<br/>&gt; Just to say, both are addressable. You may be able to reduce the<br/>latency by<br/>&gt; changing the settings for DirectSound buffers - normally you can get<br/>it down<br/>&gt; to about 20 ms latency or thereabouts which is tolerable for playing<br/>&gt; - you can still play crisp chords, it is just that all the notes<br/>&gt; are delayed by a fixed amount. You can reduce it much further by<br/>&gt; using Asio which gets it down to a millisecond or so - assuming<br/>&gt; your synth recognises it. That feels like no latency at all to<br/>&gt; many people. I don&apos;t notice anything at all when playing<br/>&gt; keyboard at that level of latency.</p><p>Robert, if I&apos;m not mistaken, Scala doesn&apos;t have any ASIO setting, but<br/>that doesn&apos;t matter: Scala is only using my internal soundcard, which<br/>I *never* use for real music making. Are the DirectSound buffers going<br/>to affect sound settings in other programs?</p><p>&gt; Or to put it another way - if you go to a live performance<br/>&gt; of an orchestra and you are able to sit to one side, or<br/>&gt; if the conductor is standing near to the orchestra rather<br/>&gt; than in the middle of the audience, then you would expect<br/>&gt; to get differences in synchronisation of probably a few ms.</p><p>Don&apos;t forget, one of the people you are speaking to has been standing<br/>inside an orchestra for 30 years. And I hasten to add that -<br/>especially for those of us in the back - we have learned and are<br/>required to play measurably ahead of what we see (and, to a certain<br/>extent, *hear*) so that our sounds meet at the podium at the same time<br/>as the concertmaster&apos;s (or &quot;leader&quot;, in your land...). We personally<br/>have to account for the distance.</p><p>&gt; As for the latency in Scala - that should be almost nonexistent<br/>&gt; unless you have an old and very slow computer (perhaps<br/>&gt; 100 MhZ or so, though I haven&apos;t tested that).</p><p>Wrong - 3.0 Ghz, 1 gig ram, completely optimised for music-only<br/>applications (i.e. very, very little overhead in terms of services<br/>running, etc.). I can assure you that the latency is far greater than<br/>in any of my hosts (Sonar, Chainer, Audiomulch).</p><p>&gt; Just sending notes through a midi cable gives a<br/>&gt; transmission delay because of the time it takes<br/>&gt; notes to go through the cable. But fairly small,<br/>&gt; a third of a millisecond per note if the keyboard<br/>&gt; uses running status. However if you have a dense<br/>&gt; chord of say 10 notes, that could take 3 ms<br/>&gt; to transmit through the midi cable, corresponding<br/>&gt; to the same latency as that 1 meter marimba<br/>&gt; listened to from the side, except that it is<br/>&gt; a transmission delay which is a bit different,<br/>&gt; means that the notes become ragged by that amount<br/>&gt; rather than uniformly delayed. But it is ragged<br/>&gt; by the same amount as the chords on the marimba<br/>&gt; as heard from the side.</p><p>I&apos;m sorry, but you are ruminating in extreme complexity! A simple<br/>keyboard input, via USB, right into the computer should be able to<br/>create a sound from the card almost instantaneously. I believe there<br/>are either settings that *might* help, or the relay function in Scala<br/>(i.e. channel-splitting, allocating, and sending pitch bends) isn&apos;t<br/>efficient.</p><p>&gt; So if you get latency problems it is almost certainly<br/>&gt; going to be due to your soundcard or soft synth or cabling<br/>&gt; rather than SCALA, I&apos;d have thought.</p><p>Well, I don&apos;t get it then. I can play the soundcard through any other<br/>host, in realtime, and get virtually no latency. It is only on Scala.<br/>Anyhow, I don&apos;t think anyone would attempt to really do a lot of music<br/>making this way - it was simply a suggestion that if one has a<br/>keyboard and Scala (and soundcard, which seems common on most all<br/>systems), they already have the tools to be able to hear these tunings.</p><p>Hope all is well with you these days, you&apos;ve been somewhat quiet of late!!</p><p>Cheers,<br/>Jon</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            