<a href="/tuning">back to list</a><h1>My JI-sequencing program</h1><h3>Chuckk Hubbard &#x3C;BadMuthaHubbard@hotmail.com&#x3E;</h3><span>9/3/2006 4:57:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote a program using Pure Data for sequencing free just<br/>intonation.  There is no scale, just intervals.  The mouse shows 11-<br/>limit intervals as you move it, and if you hit T, the interval you<br/>see becomes 1/1, and the whole score changes to reflect this.</p><p>Thus you can sequence a melody outside the tonality, or modulate, or<br/>borrow progressions from other tonalities, all without doing any<br/>multiplication.</p><p>Instructions follow; I apologize that they&apos;re kind of dense.  I added<br/>a lot of features that seem natural to me, but need explained for<br/>anyone else.<br/>It does MIDI output or Pure Data output using 8 built-in synthesizers.</p><p>The installer:<br/><a href="http://www.badmuthahubbard.com/JIsetup.exe">http://www.badmuthahubbard.com/JIsetup.exe</a></p><p>Please let me know any troubles or questions.  I didn&apos;t design this<br/>to look nice, so there are odds and ends that you might not want to<br/>touch, kind of like an amusement park with live wires lying around...</p><p>_OPERATION_<br/>The patch to open the sequencer is JI.bat.  This should open a<br/>control window and a<br/>blank score.<br/>The 8 &quot;JIvoice&quot; abstractions in the main control window are the<br/>instruments.  Each has a different color, since they are all on the<br/>same spread.  The numberbox next to each JIvoice is for assigning MIDI<br/>program numbers to colors.  The vertical radio buttons are for<br/>selecting which voice to add to the score.  The colored toggles right<br/>next to the JIvoice abstractions were to be for muting, but this<br/>hasn&apos;t yet been implemented.  Underneath the JIvoice boxes is a<br/>horizontal radio with three options.  MIDI turns off all audio<br/>processing and sends pitch bends, program changes, and notes to MIDI<br/>out; this won&apos;t work with any softsynths I know, because each note is<br/>sent to a different channel.  It will only work with samplers or<br/>soundfonts.  By default, PD output is turned on, and audio is on.<br/>This will generate audio according to the parameters for each voice:<br/>click on a JIvoice to see the parameters.  The only thing I&apos;ll say<br/>about this window is that the FOF parameters at the bottom are only<br/>set up for MIDI control as of now; changing the numbers manually won&apos;t<br/>work.  The only other thing I&apos;ll say is that the preset system has<br/>been getting jiggy with it... use caution if you use presets.  They<br/>are saved in the .prs file with the same name as the .ji file for each<br/>score.</p><p>To open a piece, click on the symbol box under &quot;Filename&quot; in the upper<br/>right.  Type in, for instance, &quot;sonata04rondo&quot; and hit enter, then<br/>click the &quot;load&quot; messagebox.  You should see the score for the 4th<br/>movement of my JI sonata.  Next click on the gray and purple JIvoice<br/>boxes in turn, and play with some of the parameters.  Just make sure<br/>there is some kind of waveform in the box.  Click the PLAY toggle in<br/>either the main window or a JIvoice panel.  Music.</p><p>_TRANSPORT_</p><p>The buttons should be self-explanatory.  To record to an audio file,<br/>select wave or AIFF under the RECORD button.  Type the name for the<br/>output file, hit enter, and hit RECORD/STOP once.  The num2 GUIs in<br/>the middle of the main window show the time in minutes and seconds for<br/>PLAY, but not for RECORD<br/>The transport can be controlled with the keyboard.  Control-I starts<br/>playback, and &quot;I&quot; alone stops it.  Control-PageUp moves the playback<br/>cursor back one quarter-note, and Ctl-PageDown moves it forward one<br/>quarter note.  Clt-Home moves the playback cursor to the beginning.<br/>Under Windows, Ctl-Help and Ctl-Delete move the cursor forward and<br/>back by 4 quarter notes at a time.</p><p>_SCORE EDITING_</p><p>This is the main reason for this patch to exist.  With the main window<br/>active, switch to the score window.  This should enable the mouse<br/>control.<br/>The important keys to know:</p><p>Q: prepares the mouse cursor to enter notes.  You should see a black<br/>preview note jump to the mouse when you hit Q, and it cycles through<br/>common note ratios when you move the mouse.  If you now click the<br/>mouse, you create a note.</p><p>E: disables note entry so it&apos;s safe to click on the score, and sets<br/>the score window to edit mode.  You can now select wrong notes and<br/>delete them, or whatever.</p><p>Ex2: hitting E again returns from edit mode, but does not prepare the<br/>score for editing.  This way, you can drag on the right end of a note<br/>line and change the duration.  Hit Q again to enter more notes.</p><p>1-0: the number keys change the duration of the preview note.</p><p>Shift+1-8: Shift and numbers 1-8 changes the voice to be entered, as<br/>well as the color of the preview note.</p><p>T: the most important one of all.  This causes the entire score to<br/>transpose to the key of the preview note; whatever ratio is showing by<br/>the mouse cursor will become 1/1 and the whole score changes to<br/>reflect the new DO (not an abbreviation... DO as in &quot;a female deer&quot;).</p><p>G: also important.  If you accidentally hit T without looking, or go<br/>through a series of changes and lose track of the original key, G will<br/>return the entire score to 1/1 = Middle C.</p><p>Y and H: Y and H change the volume of the note to be added.  You will<br/>see the small vertical block on the preview note increase or decrease.</p><p>, and .   OR    &lt; and &gt;:  these change the rhythmic quantizing of the<br/>preview note placement.  &lt; snaps to 1/6 of a quarter note, and &gt; snaps<br/>to 1/4 of a quarter note.</p><p>All of the score editing is enabled by the toxy external.  So have it.</p><p>_MEASURES_</p><p>This only works from the main window.  To the right and just down from<br/>the main Volume, select the number of measures to add, and underneat<br/>that, select the time signature.  Hit the button to the right of the<br/>number-of-measures-to-add to add them.  Hit Clear if you want to<br/>remove all of them.  Changing existing measures is a biaiaitch at this<br/>point.  Not sure how to fix it.</p><p>_TEMPO_</p><p>The &apos;Add Breakpoint&apos; button will insert a tempo marker with the<br/>current value wherever the playback cursor is.  It will be relative to<br/>whatever note value you select to the right, but this will not be<br/>visible in the score.  Also, only exponential tempo currently works.<br/>I came up with a solution to make the tempo change exponentially, and<br/>never got around to reconnecting the linear tempo change.  &quot;Ignore<br/>Tempos&quot; will playback a score at whatever speed you select, instead of<br/>what the markers say.</p><p>_MIXING_</p><p>Open pd mixer if you like, it&apos;s hiding to the right of the Tempo<br/>section of the main window.</p><p>_CAUTIONS_</p><p>There are many other features that I created and don&apos;t use much<br/>anymore, or just aren&apos;t as essential.  Experiment, but save your stuff<br/>if you come up with anything you like.  The save feature won&apos;t ask<br/>about overwriting, so make sure you type a new name for each file<br/>before saving.  The zoom has worked and not worked correctly at<br/>various stages; everything I added after the zoom had to incorporate a<br/>sort of &quot;zoom cosmological constant&quot; called &quot;zoomfact&quot;, and I can&apos;t<br/>guarantee I put it everywhere it should be.  The &quot;EDIT THE SCORE&quot;<br/>section is pretty much replaced by mouse editing.  It still works; it<br/>highlights individual notes in red... but sometimes leaves them red.<br/>That whole section is scary.<br/>The selecting/copy/paste/move/transpose section is also scary, but a<br/>little more reliable.  It reads the location of the playback cursor<br/>and selects what&apos;s between the Start and End spots.  This &quot;transpose&quot;<br/>function actually changes the heights and pitches of the selected<br/>notes, instead of just the ratio names.</p><p>_BIG BIG CAUTION_</p><p>The worst thing you can do is edit the patch itself and save it while<br/>a score is open.  The preset memory function stores the entire<br/>waveform for each preset added in memory, and if you save the patch it<br/>will grow in size giamongously.  If this happens, edit JI.pd in a text<br/>editor and remove everything between &quot;canvas .... presetmemory&quot; and<br/>&quot;restore .... presetmemory&quot;, and between &quot;canvas ..... score&quot; and<br/>&quot;restore ..... score&quot;.  If you edit the patch itself, I suggest<br/>closing it using the &quot;Close&quot; messagebox to the right of the Zoom<br/>function.  This clears the presets and score, and saves and closes the<br/>patch.</p><p>_LICENSE_</p><p>You may not become a millionaire off of my JI scoring idea and not<br/>split it with me.  Pretty much anything else is okay.  Unless you&apos;re<br/>already a millionaire, in which case you must pay me to write music.</p><p>-Chuckk</p></div>