<a href="/tuning">back to list</a><h1>Wave Convergents Problem solved</h1><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>6/13/2010 1:16:44 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi everybody,</p><p>I finally found the missing piece of the puzzle. I ran it by Bill Sethares and he said that when I work out the consequences, perhaps relating it to harmonic entropy, then I should have something quite publishable (which was nice) and even an alternate explanation for Terhardt&apos;s theory.</p><p>Ok, previously I said that given a complex wave of the form</p><p>f(t) = sin[2pi at] + sin[2pi bt]</p><p>where a/b is either coprime or a is irrational from b, then the GCD between each of its convergents [p/q,....a/b] corresponds to extrema of f(t). By solving for the times between periodic peaks/troughs and inverting, I obtained the value GCD = (a + b)/(p + q). The problem was that I didn&apos;t know *why* this was. IOW, what was it in the wave that seemed to &apos;favour&apos; these values above all others? This solves that problem.</p><p>Recall that the extrema of the original wave occurred at the times when it touched the envelope. That is,</p><p>sin[pi (a + b)t] = +/- 1 for t = (2k + 1)/2(a + b).</p><p>where k = 0,1,2,...Recall also that the envelope is at its maximum or minimum when</p><p>cos[pi (a - b)t] = +/- 1 and t = k/(a - b).</p><p>Now, since a/b are by definition coprime or irrational, then the sin and cos time solutions will never coincide. i.e. if t = (2k_1 + 1)/2(a + b) for sin and t = k_2/(a - b) for cos then no integer exists such that k_1 = k_2. However, for any given integer k_2, there exists one and only one integer k_1 such that the absolute value of the difference between the two times is smaller than any other. That is, defining</p><p>d_k = |(2k_1 + 1)/2(a + b) - k_2/(a - b)|</p><p>then d_(k - 1) &gt; d_k &lt; d_(k + 1).</p><p>It is easy to see that<br/>d_(k +/- 1) =<br/>|2(k_1 +/- 1) + 1)/2(a + b) - k_2/(a - b)| =<br/>|(2k_1 + 1)/2(a + b) +/- [1/(a + b)] - k_2/(a - b)|.</p><p>IOW, they will be half a cycle of 2/(a - b) away from the original &apos;target&apos; cycle at k_2, contra hype.</p><p>Next, we can extract unique integers (p, q) from K_2 in the following way:</p><p>a*k_2/(a - b) = [p] + r/(a - b),<br/>b*k_2/(a - b) = [q] + r/(a - b),</p><p>where [] means &apos;round&apos; and r = aq - pb.</p><p>Observe also that since only one k_1 corresponds to k_2 we then have</p><p>a*k_1/(a + b) = [p] + r/(a + b),<br/>b*k_1/(a + b) = [q] - r/(a + b).</p><p>It is easy to see that k_2 = (p - q) and k_1 = (p + q) which can now be substituted back into our original two time equations.</p><p>If we form the ratios p/q starting from k_2 = 1, 2, 3,... we obtain a list of &apos;convergents&apos; to a/b. However, unlike pure number theory, these convergents will correspond to extrema throughout the wave. And having solved the problem for simple dyads it is not difficult to extend them to more complex triads etc...</p><p>Eg: a/b = 81/64. k_2 = 1 gives</p><p>1*81/17 = 4 + 13/17 ~ 5 so [p] = 5 and 81/17 = 5 - 4/17,<br/>1*61/17 = 3 + 13/17 ~ 4 so [q] = 4 and 64/17 = 4 - 4/17.</p><p>k_1 = (5 + 4) = 9, k_2 = (5 - 4) = 1 and r = aq - pb = 81*4 - 5*64 = 4.</p><p>k_2 = 2 gives</p><p>2*81/17 = 10 - 8/17,<br/>2*64/17 = 8 - 8/17,</p><p>k_1 = (10 + 8) = 18 and k_2 = (10 - 8) = 2, r = 8 (= 2*4, our last one) and p/q = 5/4 once again.</p><p>Continuing we obtain the list of p/q&apos;s [5/4, 5/4, 14/11, 19/15, 24/19, 29/23, 33/26, 19/15 ...]. Observe that the &apos;stronger&apos; intervals 5/4 and 19/15 appear more than once and earlier in the wave (since k_2 = 1 = 1st cycle, etc...).</p><p>Finally, we obtain the ~ GCD by taking (2k_1 + 1)/2(a + b) - 1/2(a + b) = (p + q)/(a + b) or ~ GCD = (a + b)/(p + q) = g. So, for the first p/q we have g = 145/9 = 16.111...p*g = 5*16.111... = 80.555...~= 81 and q*g = 4*16.111... = 64.444...~= 64. For the third convergent 14/11, g = 145/25 = 5.8, 14*5.8 = 81.2 and 11*5.8 = 63.8 and so on. Already we see that the g is small compared to a and b.</p><p>As I said earlier, the original function can now be analysed into a set of &apos;simpler&apos; intervals p/q with a slowly modulating amplitude (envelope) of frequency r/(p + q). The approximate GCD between a/b represents the exact GCD between p*g and q*g. These values I propose as a possible candidate for virtual pitch. It also implies that our more complex intervals that initially seem distant from the fundamental are merely slightly detuned JI intervals after all.</p><p>Thanks</p><p>Rick</p></div><h3>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>6/13/2010 7:50:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Rick&gt;&quot;Observe that the &apos;stronger&apos; intervals 5/4 and 19/15 appear more than<br/>once and earlier in the wave (since k_2 = 1 = 1st cycle, etc...).&quot;<br/>  Now this is REALLY interesting as it seems to challenge odd limit theory and, perhaps, I&apos;ve already found evidence that in some cases odd-limit theory does not work ideally. For example, 22/15 I&apos;ve also found is ideal as an alternative to the perfect 5th, despite being so &quot;high limit&quot;.  Just wondering...what are the convergents of 3/2 via your formula?</p></div><h3>caleb morgan &#x3C;calebmrgn@...&#x3E;</h3><span>6/13/2010 7:59:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Yikes.  22/15?  (Plays on Pianoteq keyboard.)  1.46666?  Hideous if played with a piano sound too low.  Heck, even in a high register, it beats like crazy.</p><p>On Jun 13, 2010, at 10:50 AM, Michael wrote:</p><p>&gt;<br/>&gt; Rick&gt;&quot;Observe that the &apos;stronger&apos; intervals 5/4 and 19/15 appear more than once and earlier in the wave (since k_2 = 1 = 1st cycle, etc...).&quot;<br/>&gt;   Now this is REALLY interesting as it seems to challenge odd limit theory and, perhaps, I&apos;ve already found evidence that in some cases odd-limit theory does not work ideally. For example, 22/15 I&apos;ve also found is ideal as an alternative to the perfect 5th, despite being so &quot;high limit&quot;.  Just wondering...what are the convergents of 3/2 via your formula?<br/>&gt;<br/>&gt;<br/>&gt;</p></div><h3>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>6/13/2010 8:25:56 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Caleb&gt;&quot;Yikes.<br/> 22/15?  (Plays on Pianoteq keyboard.)  1.46666?  Hideous if played<br/>with a piano sound too low.  Heck, even in a high register, it beats<br/>like crazy.&quot;<br/>  I&apos;m not quite sure that&apos;s the most realistic test, since piano timbres are relatively in-harmonic sounds.</p><p>  Also, if you think that &quot;perfect fifth convergent&quot; sounds tense, try the other alternatives, like 17/11 and 16/11.  What then, between about 13/9 and 47/30 would you suggest as an alternative 5th (IE something not within 10 cents of a perfect fifth)?  The only other ones I can think that sound relatively ok to me are 50/33 and 13/9.</p><p>-Michael</p></div><h3>caleb morgan &#x3C;calebmrgn@...&#x3E;</h3><span>6/13/2010 8:52:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>You&apos;re right, I&apos;m basing my reaction on the sound of an instrument with harmonic partials.</p><p>One of these days, I hope to be able to explore non-harmonic partials, but the big obstacle is sound synthesis.</p><p>(I was thinking some combination of Little Miss Scale Oven and Metasynth might be worth trying, for a Mac user.)</p><p>Until I can make non-harmonic sounds (not just FM bells, which were already a cliche in the 80&apos;s) these intervals just seem out-of-tune to me, and<br/>therefore off-limits.  Hence my interest in and surprise at what Sethares has done, I think.</p><p>What are you using for synthesis?</p><p>Sorry for derail, but clearly, Michael, you&apos;re hearing something different from me, using different sounds.</p><p>Caleb</p><p>On Jun 13, 2010, at 11:25 AM, Michael wrote:</p><p>&gt;<br/>&gt;<br/>&gt;   Caleb&gt;&quot;Yikes.  22/15?  (Plays on Pianoteq keyboard.)  1.46666?  Hideous if played with a piano sound too low.  Heck, even in a high register, it beats like crazy.&quot;<br/>&gt;   I&apos;m not quite sure that&apos;s the most realistic test, since piano timbres are relatively in-harmonic sounds.<br/>&gt;<br/>&gt;   Also, if you think that &quot;perfect fifth convergent&quot; sounds tense, try the other alternatives, like 17/11 and 16/11.  What then, between about 13/9 and 47/30 would you suggest as an alternative 5th (IE something not within 10 cents of a perfect fifth)?  The only other ones I can think that sound relatively ok to me are 50/33 and 13/9.<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; -Michael<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;</p></div><h3>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>6/13/2010 9:24:34 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Me&gt;&quot;I&apos;m not quite sure that&apos;s the most realistic test, since piano timbres are relatively in-harmonic sounds.  &quot;<br/>Caleb&gt;&quot;You&apos;re right, I&apos;m basing my reaction on the sound of an instrument with harmonic partials.&quot;<br/>  Hehehe...actually, like I said above, I&apos;m saying the piano you tested with leans toward in-harmonic, not harmonic.  Try the same ratio with a more harmonic-timbre guitar sound and you&apos;ll likely get a far different result (I know I did).<br/>  For the in-harmonic piano timbre I found 13/9 AKA 1.44444 to be about the clearest sounding &quot;alternative/convergent&quot; fifth.</p><p>-------------------------------------</p><p>Caleb&gt;&quot;One of these days, I hope to be able to explore non-harmonic partials, but the big obstacle is sound synthesis.&quot;<br/>  (completely different topic from said above experiment, which concerned mostly harmonic partial instruments, but)...<br/>   If for some odd reason you want in-harmonic partials, I agree using bells is a good way to go.  Unless you want to go nuts and use things like the sounds of rocks clashing. :-D</p><p>&gt;&quot;Hence my interest in and surprise at what Sethares has done, I think.&quot;<br/>  Right (as in, for example) he made several tunings based on optimization for bell and (yes) rock timbres.</p><p>-----------------------<br/>Caleb&gt;&quot;Sorry for derail, but clearly, Michael, you&apos;re hearing something different from me, using different sounds.&quot;<br/>  Well just for sake of variety, using (as a timbre, for each case)<br/>A) a guitar (harmonic)<br/>B) a piano (fairly non-harmonic)<br/>C) a bell (very non-harmonic)<br/>......which ratios greater than about 12 cents from 3/2 do you see as being good alternative fifths?  Obviously, different instruments will yield different results, but I have a feeling some ratios, such as 13/9, will do well &quot;across the board&quot;.</p><p>_._,___</p></div><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>6/14/2010 3:11:02 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; Rick&gt;&quot;Observe that the &apos;stronger&apos; intervals 5/4 and 19/15 appear more than<br/>&gt; once and earlier in the wave (since k_2 = 1 = 1st cycle, etc...).&quot;<br/>&gt;   Now this is REALLY interesting as it seems to challenge odd limit theory and, perhaps, I&apos;ve already found evidence that in some cases odd-limit theory does not work ideally. For example, 22/15 I&apos;ve also found is ideal as an alternative to the perfect 5th, despite being so &quot;high limit&quot;.  Just wondering...what are the convergents of 3/2 via your formula?<br/>&gt;<br/>Well 3/2 wont so much &apos;have&apos; convergents but will &apos;be&apos; convergent to other intervals. But let&apos;s try 22/15 to see if 3/2 is one or more of its convergents (I haven&apos;t done it before). 22 - 15 = 17 so with a = 22, b = 15, k = 1,2,3,..., then ak/(a - b) and rounding gives p = 3, 6, 9... for the first three, bk/(a - b) gives q = 2, 4, 6. Therefore, p/q = [3/2, 3/2, 3/2,...]. So yes, the wave contains strong maxima at the perfect fifth.</p><p>Rick</p></div><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>6/14/2010 8:50:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Steve pointed out a typo. I meant to say that the distance from k_1 to k_1 +/- 1 is 1/(a + b) which is half the average cycle.</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Michael &lt;djtrancendance@...&gt; wrote:<br/>&gt;<br/>&gt; Rick&gt;&quot;Observe that the &apos;stronger&apos; intervals 5/4 and 19/15 appear more than<br/>&gt; once and earlier in the wave (since k_2 = 1 = 1st cycle, etc...).&quot;<br/>&gt;   Now this is REALLY interesting as it seems to challenge odd limit theory and, perhaps, I&apos;ve already found evidence that in some cases odd-limit theory does not work ideally. For example, 22/15 I&apos;ve also found is ideal as an alternative to the perfect 5th, despite being so &quot;high limit&quot;.  Just wondering...what are the convergents of 3/2 via your formula?<br/>&gt;</p></div>