<a href="/tuning">back to list</a><h1>microabc with support for Sagittal Notation System</h1><h3>Hudson Lacerda &#x3C;hfmlacerda@yahoo.com.br&#x3E;</h3><span>7/3/2006 12:45:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hello all.</p><p>I just uploaded the latest microabc:<br/><a href="http://br.geocities.com/hfmlacerda/abc/microabc-2006-07-03.zip">http://br.geocities.com/hfmlacerda/abc/microabc-2006-07-03.zip</a></p><p>This new version has a significant new feature: it can preprocess pitches represented in Sagittal (ASCII), converting them to ABC pitches for abc2midi or abcm2ps. It can be used to notate microtonal music in just intonation as well as in equal/linear temperaments.</p><p>I would like to ask any interested people to help me with testings. I can provide some additional examples and answer questions on how to compile and use microabc (and abc2midi/abcmp2s, if needed).</p><p>The music can be written like this:</p><p>X:1<br/>%%MIDI program 21<br/>Q:1/4=126<br/>K:C<br/>[C][D][E\][F^] [G][Bbt][D1][E\1] | [C1][Bbt][G][F^] [G]4 |<br/>[C][D][E\][F^] [G][Bbt][A\][G]   | [C1][Bbt][D][E\] [C]4 |</p><p>Some testing options could be:<br/>- JI with pithbends in cents (denominator 100):<br/>&#x9;microabc -i- -pinput.abp den:100 &gt; <a href="http://output.abc">output.abc</a><br/>&#x9;abc2midi <a href="http://output.abc">output.abc</a><br/>- 12-ET with pitchbend in cents, quantized:<br/>&#x9;microabc -i- -pinput.abp equaltemp:12 den:100 &gt; <a href="http://output.abc">output.abc</a><br/>&#x9;abc2midi <a href="http://output.abc">output.abc</a><br/>- 12-ET with pitchbend in cents:<br/>&#x9;microabc -i- -pinput.abp equaltemp:12 den:100 &gt; <a href="http://output.abc">output.abc</a><br/>&#x9;abc2midi <a href="http://output.abc">output.abc</a><br/>- Score (-P):<br/>&#x9;microabc -i- -Pinput.abp &gt; <a href="http://output.abc">output.abc</a><br/>&#x9;abcm2ps <a href="http://output.abc">output.abc</a><br/>See also inside examples/sagittal folder.</p><p>I would like still to ask anyone with a C compiler to build and publish executable binary files (microabc is distributed under GNU GPL), so that more people can use it. I release only the source code, but I can provide an executable for GNU/Linux i386 on request (however, GNU/Linux systems usually have a C compiler, and that is why I don&apos;t include any executable binaries).</p><p><a href="http://br.geocities.com/hfmlacerda/index.html#microabc">http://br.geocities.com/hfmlacerda/index.html#microabc</a><br/><a href="http://br.geocities.com/hfmlacerda/abc/microabc.html">http://br.geocities.com/hfmlacerda/abc/microabc.html</a><br/><a href="http://br.geocities.com/hfmlacerda/abc/microabc-2006-07-03.zip">http://br.geocities.com/hfmlacerda/abc/microabc-2006-07-03.zip</a><br/><a href="http://br.geocities.com/hfmlacerda/abc/microabc-Changes.txt">http://br.geocities.com/hfmlacerda/abc/microabc-Changes.txt</a></p><p>Many thanks and best regards,<br/>Hudson Lacerda</p><p>&#x9;&#x9;&#x9;       MICROABC<br/>&#x9;&#x9;&#x9;Hudson Lacerda (2006)</p><p>==INTRODUCTION==</p><p>microabc  is  a free  software  which  generates  macros to  represent<br/>microtonal music  in ABC notation.  It  is intended for  use along the<br/>preprocessor   abcpp,   although  it   contains   a  simple   built-in<br/>preprocessor, able to convert  delimited macros and to provide support<br/>for Sagittal  Notation System.  The preprocessed ABC  code is suitable<br/>for  abcm2ps  and/or  abcMIDI.   Other  related tools  are  scala  and<br/>timidity++ (for the  programs refered to, see links  below, at the end<br/>of this file).</p><p>The  program reads  commands and  data, and  outputs a  list  of macro<br/>definitions.   Macro  replacements   can   be:  chromatic,   diatonic,<br/>microtonal or literal.</p><p>Chromatic and diatonic  modes are useful to generate  MIDI files to be<br/>re-tuned with the program scala or played by timidity++. They can also<br/>be   used  to  generate   a  mapping   for  standard   staff  notation<br/>(tablature-wise approach).</p><p>Microtonal  mode  computes pitch  quantisation  in semitone  fractions<br/>relative   to   the   standard   equal   temperament   (quarter-tones,<br/>eighth-tones, integer  cents, etc.), using  microtonal ABC accidentals<br/>for abc2midi or abcm2ps.</p><p>Literal mode uses given replacement text strings.</p><p>The command line options -p  and -P preprocess a given file, replacing<br/>defined macros and pitches in Sagittal Notation System. All macros and<br/>Sagittal  pitches  must  be   enclosed  between  delimiters,  like  in<br/>[C#&apos;/|:2].</p><p>There are also commands to  generate equal and linear temperaments, to<br/>import/export scala  tuning files (*.scl) and  to write into  a file a<br/>list of frequencies for use by timidity++.</p><p>microabc is  released under the  GNU General Public License  (GNU GPL)<br/>&lt;<a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a>&gt;,   and  it   is   available  at<br/>&lt;<a href="http://br.geocities.com/hfmlacerda/index.html#microabc">http://br.geocities.com/hfmlacerda/index.html#microabc</a>&gt;.</p><p>Software you probably will need:<br/>- abcpp-1.3.2 (or newer)<br/>- abcm2ps-4.3.2 (or newer)<br/>- abcMIDI-2006-01-31 (or newer)</p><p>Due  to the  large number  of  macros normally  needed for  microtonal<br/>notation, it is strongly recommended to compile abcpp with enough room<br/>for macros.  For abcpp version  1.3.2, change the line 43 of &grave;abcpp.c&apos;<br/>to something like this:</p><p>#define MAX_MACROS     512      /* # of #defined macros */</p><p>--------------------------------------------------</p><p>==USAGE==</p><p>By default, the program reads from stdin and prints to stdout:</p><p>&#x9;microabc &lt; inputfile &gt; outputfile</p><p>The option -h shows a short info and then exits:</p><p>&#x9;microabc -h</p><p>There are options  -i and -o for input  and output files respectively,<br/>but one cannot put spaces before filenames:</p><p>&#x9;microabc -iinputfile -ooutputfile</p><p>The option  -i- is to get  no input at all  from file or  stdin -- all<br/>options should be given from command line.</p><p>microabc includes  a basic  preprocessor, which can  be used  with the<br/>option -p  or -P followed by the  name of the .abp  file to preprocess<br/>(ABC music file  with macros).  When -p or -P is  used, -o defines the<br/>ABC file to store the result of the preprocessing.  Macros defined via<br/>&grave;echo:&apos;, as  well as postscript commands  (&grave;abcm2ps:&apos;, &grave;psacc:&apos;), when<br/>used, are written to output  file above the preprocessed stuff. Macros<br/>must have both left and right delimiters.</p><p>Option -p  converts all Sagittal pitches to  ABC microtone accidentals<br/>(representing pitchbends), to render MIDI output with abc2midi.</p><p>&#x9;microabc -iinputfile -pabpfile -oabcfile4midi</p><p>Option -P  converts all Sagittal pitches to  ABC microtone accidentals<br/>representing Sagittal character code, to  render PS output. To get the<br/>score, a  format file defining the Sagittal  microtonal accidentals is<br/>required.  It can be  &grave;sagittal.fmt&apos; or &grave;sagittal-pfb.fmt&apos;. To get the<br/>accidentals in mixed-symbol  format, use also &grave;sagittal-mixed.fmt&apos;. To<br/>know how to use format files (.fmt), see the documentation of abcm2ps.</p><p>&#x9;microabc -iinputfile -Pabpfile -oabcfile4ps</p><p>Additional microabc commands can be given like in these examples:</p><p>&#x9;microabc centre:62 &lt; inputfile &gt; outputfile<br/>&#x9;microabc range:-6\ 6 -iinputfile -ooutputfile<br/>&#x9;microabc name:_ABCM2PS_ abcm2ps:4 -iinputfile -ooutputfile</p><p>Command  line  options  override  the corresponding  values  got  from<br/>inputfile.</p><p>--------------------------------------------------</p><p>== SAGITTAL PITCHES ==</p><p>The command line options -p and -P tell to microabc preprocess a file,<br/>replacing Sagittal pitches.  The scale can be set with &grave;equaltemp:&apos; or<br/>&grave;lineartemp:&apos;.  By  default, the  Sagittal pitches are  interpreted as<br/>being in just intonation.</p><p>microabc can process Sagittal pitches according to these rules:</p><p>-- pitches need  to be enclosed between  brackets [ and  ] (or another<br/>pair of user defined delimiters -- see &grave;delim:&apos;).</p><p>&#x9;[C] [A] [Ev] [B^]</p><p>-- pitches  must have  a nominal;  nominals can  be A-G  (only capital<br/>letters).</p><p>&#x9;[A] [B] [C] [D] [E] [F] [G]</p><p>-- Sagittal accidentals  can be given  in any of these  ASCII formats:<br/>long-pure,  short-pure, long-mixed,  short-mixed.   Accidental can  be<br/>placed after or before the nominal.</p><p>&#x9;[A/||\] [A#] [#A] [/||\A] [A#\] [\#A]</p><p>NOTE:  Mixed things  like [#\A]  or [A\#]  may work,  by they  are not<br/>recommended. Use [A#\] or [\#A] instead.</p><p>-- Additionally,  a Sagittal accidental  can be  given as  its decimal<br/>code, at left of the nominal.</p><p>&#x9;[144D] [144G] [144C]</p><p>-- Octave number can be indicated  at right of nominal and accidental.<br/>It can be preceded by &grave;.&apos;  or  &grave;:&apos; -- with no space between &grave;.&apos; or &grave;:&apos;<br/>and the number.</p><p>&#x9;[D0] [D.0] [D:0] [D1] [D2] [D.-1] [D:-2]</p><p>Currently, middle C is [C0] (or  [C.0] or [C:0]) -- future versions of<br/>microabc may change the numbering and let the user to define it.</p><p>NOTE:  [Db-1] doesn&apos;t  work  properly  yet.  Please  use  [Db -1]  (or<br/>[Db:-1] or  [Db.-1]) for Db in  octave -1.  Wilson&apos;s minus  (-) is not<br/>implemented yet, thus [Db-] cannot work.</p><p>-- Sagittal accents  . and &apos;  are parsed, but ignored  when processing<br/>Sagittal pitches.</p><p>&#x9;[C&apos;/|\..] [G&apos;]</p><p>Future releases will support accents for high-precision Sagittal.</p><p>-- Spaces can be  used to separate the items  (accidental, nominal and<br/>octave).</p><p>&#x9;[ C &apos;/|\.. -1 ] [ 144 A 0 ]</p><p>-- There is yet  another way to input Sagittal  pitches: as microtonal<br/>ABC notes,  using the denominator  as Sagittal code. Numerator  is not<br/>used.</p><p>&#x9;^/&lt;code&gt;&lt;nominal&gt;&#x9;e.g. ^/148F or ^/144D<br/>&#x9;_/&lt;code&gt;&lt;nominal&gt;&#x9;e.g. _/80E  or _/133A</p><p>NOTE:  Pure ABC notes  are not  touched, then  they will  likely sound<br/>wrong in MIDI (because nominals need to be adjusted to the tuning).</p><p>--------------------------------------------------</p><p>&#x9;</p><p>&#x9;<br/>&#x9;&#x9;<br/>_______________________________________________________ Voc&#xFFFD; quer respostas para suas perguntas? Ou voc&#xFFFD; sabe muito e quer compartilhar seu conhecimento? Experimente o Yahoo! Respostas !<br/><a href="http://br.answers.yahoo.com/">http://br.answers.yahoo.com/</a></p></div>