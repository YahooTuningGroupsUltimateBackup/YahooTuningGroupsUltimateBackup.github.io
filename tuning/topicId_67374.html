<a href="/tuning">back to list</a><h1>well-temperament comparator 2</h1><h3>Carl Lumma &#x3C;clumma@yahoo.com&#x3E;</h3><span>8/2/2006 2:14:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Some of you may remember my original &quot;temperament<br/>comparator&quot; spreadsheet.  Here&apos;s an updated version:</p><p><a href="http://lumma.org/stuff/WellTemperamentComparator.zip">http://lumma.org/stuff/WellTemperamentComparator.zip</a></p><p>Now included are 24 well temperaments, plus 12-tET.</p><p>The RMS error, and the sum of the Tenney-weighted absolute<br/>errors, of certain 5-limit consonaces (2:1, 3:2, 5:3, 5:4)<br/>are given for each &apos;key&apos; of each scale.  There&apos;s also a<br/>7-limit Tenney-weighted sheet which adds 7:4 to the above<br/>intervals.  The rationale behind this choice of intervals:</p><p>. Don&apos;t assume pure octaves, therefore the error of 2:1<br/>must be considered.</p><p>. Nevertheless, most WTs have pure octaves, or very nearly<br/>pure octaves.  And so inversions like 5:4 and 8:5 will<br/>tend to have equal but opposite errors -- improving one<br/>will tend to make the other worse.  The thing is, 5:4 is<br/>simpler than 8:5 (n*d = 20 vs. 40) and therefore the error<br/>of 5:4 should be more important.  Therefore simply omitting<br/>the error of 8:5 in the sum can be justified.  Tenney<br/>weighting takes care of this for us, and so all intervals<br/>should be included, but to save effort in Excel I think a<br/>good approximation is to again omit the contribution of<br/>these more complex intervals -- which will be comparatively<br/>small in the weighted scheme -- from the sum.  Maybe that&apos;s<br/>not right but it seems like it might be.  :)</p><p>. There&apos;s the question of which 5:3 should be measured for<br/>a &apos;key&apos; -- in C, should we measure Eb-C, or C-A?  I opted<br/>for the latter.  The error of the Eb-C sixth will count<br/>against the key of Eb in this scheme.  It&apos;s debatable which<br/>choice is more natural.</p><p>Anyway, this gives you the .scl files, let&apos;s you see the<br/>key contrast (hopefully), and if the temperament has more<br/>total error than 12-tET.</p><p>Comments appreciated.</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;clumma@yahoo.com&#x3E;</h3><span>8/2/2006 8:33:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; The RMS error, and the sum of the Tenney-weighted absolute<br/>&gt; errors, of certain 5-limit consonaces (2:1, 3:2, 5:3, 5:4)<br/>&gt; are given for each &apos;key&apos; of each scale.  There&apos;s also a<br/>&gt; 7-limit Tenney-weighted sheet which adds 7:4 to the above<br/>&gt; intervals.  The rationale behind this choice of intervals:</p><p>One could also say I considered all 5- and 7-limit<br/>intervals with Tenney Height (num * den) less than 30<br/>in the error calculations.</p><p>-Carl</p></div><h3>yahya_melb &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>8/3/2006 6:26:30 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl,</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; wrote:<br/>&gt;<br/>&gt; Some of you may remember my original &quot;temperament<br/>&gt; comparator&quot; spreadsheet.  Here&apos;s an updated version:<br/>&gt;<br/>&gt; <a href="http://lumma.org/stuff/WellTemperamentComparator.zip">http://lumma.org/stuff/WellTemperamentComparator.zip</a><br/>&gt;<br/>&gt; Now included are 24 well temperaments, plus 12-tET.<br/>&gt;<br/>&gt; The RMS error, and the sum of the Tenney-weighted absolute<br/>&gt; errors, of certain 5-limit consonaces (2:1, 3:2, 5:3, 5:4)<br/>&gt; are given for each &apos;key&apos; of each scale.  There&apos;s also a<br/>&gt; 7-limit Tenney-weighted sheet which adds 7:4 to the above<br/>&gt; intervals.  The rationale behind this choice of intervals:<br/>&gt;<br/>&gt; . Don&apos;t assume pure octaves, therefore the error of 2:1<br/>&gt; must be considered.</p><p>OK, good point.</p><p>&gt; . Nevertheless, most WTs have pure octaves, or very nearly<br/>&gt; pure octaves.  And so inversions like 5:4 and 8:5 will<br/>&gt; tend to have equal but opposite errors -- improving one<br/>&gt; will tend to make the other worse.  The thing is, 5:4 is<br/>&gt; simpler than 8:5 (n*d = 20 vs. 40) and therefore the error<br/>&gt; of 5:4 should be more important.  Therefore simply omitting<br/>&gt; the error of 8:5 in the sum can be justified.  Tenney<br/>&gt; weighting takes care of this for us, and so all intervals<br/>&gt; should be included, but to save effort in Excel I think a<br/>&gt; good approximation is to again omit the contribution of<br/>&gt; these more complex intervals -- which will be comparatively<br/>&gt; small in the weighted scheme -- from the sum.  Maybe that&apos;s<br/>&gt; not right but it seems like it might be.  :)</p><p>The effort you speak of is only the effort required to set up a<br/>formula for cloning, isn&apos;t it?  I can see that you can&apos;t just take<br/>the formulae you have presently and copy them across a range;<br/>however, perhaps a clever way could be found to do this, perhaps<br/>using xLOOKUP functions.  But this is just mechanics, and if the<br/>reward were great enough, perhaps someone would be motivated to do<br/>the tedious editing needed to add in further intervals, eg m3 and<br/>m6, and possibly M2 and M7.</p><p>More important, I think, are these two questions:<br/>(1)  Whether including other intervals would materially affect the<br/>results, ie the sensitivity of the analysis.  Given that octaves may<br/>be *quite* impure, perhaps it sometimes would.</p><p>(2)  Which other intervals need to be included.  I suspect the<br/>answer to this question is: that depends on your objectives.</p><p>Two other questions occur to me:<br/>(3)  Whether &quot;Tenney weighting&quot; is the most appropriate weighting to<br/>use.  (AFAICT, that seems to be weighting JI intervals inversely to<br/>the product of numerator and denominator, BICBW.)  It would be nice<br/>for particular users to be able to try out other weighting schemes<br/>that may seem more natural to them.  Other candidate weighting<br/>schemes include:<br/> a) 1/Square-root(numerator * denominator), or inverse geometric<br/>mean, weighting.<br/> b) 1/Max(numerator, denominator), or inverse max, weighting.<br/> c) 1/Mean(numerator, denominator), or inverse mean, weighting.</p><p>(2)  Whether to use sums (as you have) or averages for comparison.<br/>For example, to conduct a sensitivity analysis on whether to include<br/>m3 and m6, using averages would produce directly comparable values,<br/>which using sums would not.</p><p>&gt; . There&apos;s the question of which 5:3 should be measured for<br/>&gt; a &apos;key&apos; -- in C, should we measure Eb-C, or C-A?  I opted<br/>&gt; for the latter.  The error of the Eb-C sixth will count<br/>&gt; against the key of Eb in this scheme.  It&apos;s debatable which<br/>&gt; choice is more natural.</p><p>Indeed.  One could even argue that including all intervals of the<br/>diatonic scale was most natural.</p><p>&gt; Anyway, this gives you the .scl files, let&apos;s you see the<br/>&gt; key contrast (hopefully), and if the temperament has more<br/>&gt; total error than 12-tET.</p><p>Is there a reasonably natural measure of key contrast?  Perhaps the<br/>standard deviation of the mean weighted errors for all intervals for<br/>each key would serve.</p><p>&gt; Comments appreciated.</p><p>I&apos;ve tried. ;-)  Let me finish by saying I appreciate the work<br/>you&apos;ve put into the spreadsheet.</p><p>Regards,<br/>Yahya</p></div><h3>Carl Lumma &#x3C;clumma@yahoo.com&#x3E;</h3><span>8/3/2006 10:20:23 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; &gt; . Nevertheless, most WTs have pure octaves, or very nearly<br/>&gt; &gt; pure octaves.  And so inversions like 5:4 and 8:5 will<br/>&gt; &gt; tend to have equal but opposite errors -- improving one<br/>&gt; &gt; will tend to make the other worse.  The thing is, 5:4 is<br/>&gt; &gt; simpler than 8:5 (n*d = 20 vs. 40) and therefore the error<br/>&gt; &gt; of 5:4 should be more important.  Therefore simply omitting<br/>&gt; &gt; the error of 8:5 in the sum can be justified.  Tenney<br/>&gt; &gt; weighting takes care of this for us, and so all intervals<br/>&gt; &gt; should be included, but to save effort in Excel I think a<br/>&gt; &gt; good approximation is to again omit the contribution of<br/>&gt; &gt; these more complex intervals -- which will be comparatively<br/>&gt; &gt; small in the weighted scheme -- from the sum.  Maybe that&apos;s<br/>&gt; &gt; not right but it seems like it might be.  :)<br/>&gt;<br/>&gt; The effort you speak of is only the effort required to set up a<br/>&gt; formula for cloning, isn&apos;t it?</p><p>Partly -- and the formula does get rather long and unweildy --<br/>but also the way I set up this spreadsheet was a bit stupid (but<br/>haven&apos;t thought of a better way yet) and the cloning breaks<br/>in both directions now, due to a mixture of relative and<br/>absolute pointers, among other things.</p><p>&gt; Two other questions occur to me:<br/>&gt; (3)  Whether &quot;Tenney weighting&quot; is the most appropriate weighting<br/>&gt; to use.  (AFAICT, that seems to be weighting JI intervals<br/>&gt; inversely to the product of numerator and denominator, BICBW.)</p><p>The log of the product, yes.  It&apos;s open to debate whether it&apos;s<br/>best.  (I&apos;m currently working on a totally new version of this<br/>spreadsheet that will test that a bit!)</p><p>&gt; It would be nice<br/>&gt; for particular users to be able to try out other weighting schemes<br/>&gt; that may seem more natural to them.  Other candidate weighting<br/>&gt; schemes include:<br/>&gt;  a) 1/Square-root(numerator * denominator), or inverse geometric<br/>&gt; mean, weighting.</p><p>That&apos;s the harmonic entropy approximation.  log(n*d)<br/>gives the same ranking.</p><p>&gt;  b) 1/Max(numerator, denominator), or inverse max, weighting.<br/>&gt;  c) 1/Mean(numerator, denominator), or inverse mean, weighting.</p><p>Yes, if I were Dave Keenan I&apos;d be able to have a user interface<br/>for all this in my spreadsheet.</p><p>&gt; &gt; . There&apos;s the question of which 5:3 should be measured for<br/>&gt; &gt; a &apos;key&apos; -- in C, should we measure Eb-C, or C-A?  I opted<br/>&gt; &gt; for the latter.  The error of the Eb-C sixth will count<br/>&gt; &gt; against the key of Eb in this scheme.  It&apos;s debatable which<br/>&gt; &gt; choice is more natural.<br/>&gt;<br/>&gt; Indeed.  One could even argue that including all intervals of the<br/>&gt; diatonic scale was most natural.</p><p>Here each &apos;key&apos; is typically used for both major and minor<br/>scales.  But the question is which consonances matter most.<br/>If you consider *all* the intervals, all the keys would come<br/>out the same.  My new spreadsheet has answered this with some<br/>insight offerred by a paper in which the authors perform<br/>spectral analysis of a huge corpus of human speech sounds in<br/>several languages.</p><p>&gt; I&apos;ve tried. ;-)  Let me finish by saying I appreciate the work<br/>&gt; you&apos;ve put into the spreadsheet.</p><p>Thanks Yahya!</p><p>-Carl</p></div><h3>Carl Lumma &#x3C;clumma@yahoo.com&#x3E;</h3><span>8/3/2006 11:44:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Here each &apos;key&apos; is typically used for both major and minor<br/>&gt; scales.  But the question is which consonances matter most.<br/>&gt; If you consider *all* the intervals, all the keys would come<br/>&gt; out the same.  My new spreadsheet has answered this with some<br/>&gt; insight offerred by a paper in which the authors perform<br/>&gt; spectral analysis of a huge corpus of human speech sounds in<br/>&gt; several languages.</p><p>I should have said, *will* answer this (I&apos;m still working on<br/>it).  -C.</p></div><h3>yahya_melb &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>8/4/2006 6:23:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl,</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; wrote:<br/>&gt;<br/>&gt; &gt; Here each &apos;key&apos; is typically used for both major and minor<br/>&gt; &gt; scales.  But the question is which consonances matter most.<br/>&gt; &gt; If you consider *all* the intervals, all the keys would come<br/>&gt; &gt; out the same.  My new spreadsheet has answered this with some<br/>&gt; &gt; insight offerred by a paper in which the authors perform<br/>&gt; &gt; spectral analysis of a huge corpus of human speech sounds in<br/>&gt; &gt; several languages.</p><p>Good to know that the corpus linguistics approach (actually collecting<br/>a large body of linguistic data to improve its chance of being truly<br/>representative of its domain) now extends to spectral analysis for<br/>phonetics.  That means that ad hoc and a priori theories will no<br/>longer be the best we have to work with; science approaches, albeit<br/>incrementally, closer to understanding reality.</p><p>I do like the fact that you&apos;re taking insights for speech analysis<br/>into musical theory.</p><p>&gt; I should have said, *will* answer this (I&apos;m still working on<br/>&gt; it).  -C.</p><p>I look forward to seeing it.</p><p>Regards,<br/>Yahya</p></div>