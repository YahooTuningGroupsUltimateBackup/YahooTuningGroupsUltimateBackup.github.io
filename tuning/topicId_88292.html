<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning TOP for equal tunings</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>TOP for equal tunings</h1><h3><a id=88292 href="#88292">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@...&#x3E;</h3><span>4/27/2010 8:13:51 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi tuning dorks :),</p><p>could someone give me a concise formula for calculating Tenney optimal<br/>equal tunings from mappings to primes, for I seem to have forgotten how<br/>to do it.</p><p>I&apos;m planning to do some &quot;cheating&quot; and try out some evil Sethares-style<br/>spectrally mapped timbres with TOP-tuned partials.</p><p>thanks,<br/>Kalle Aho</p></div><h3><a id=88310 href="#88310">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>4/27/2010 10:57:11 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:<br/>&gt;<br/>&gt; Hi tuning dorks :),<br/>&gt; could someone give me a concise formula for calculating Tenney<br/>&gt; optimal equal tunings from mappings to primes, for I seem to<br/>&gt; have forgotten how to do it.<br/>&gt; I&apos;m planning to do some &quot;cheating&quot; and try out some evil<br/>&gt; Sethares-style spectrally mapped timbres with TOP-tuned partials.</p><p>Hi Kalle,</p><p>1. For an ET your mapping will be a val.</p><p>2. Divide each entry in the val by the base-2 log of its<br/>corresponding prime.  This gives you a list of the octave<br/>stretches (in notes/oct) that tune each prime in JI.</p><p>3. Find the mean of the largest and smallest of these<br/>stretches.  Divide each entry of the original val by<br/>this average.</p><p>4. Multiply each entry by 1200 to get the tuning in cents.</p><p>5. Divide the first term by the first term of the original<br/>val to get the step size.</p><p>-Carl</p></div><h3><a id=88315 href="#88315">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>4/27/2010 11:34:36 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:<br/>&gt;<br/>&gt; Hi tuning dorks :),<br/>&gt;<br/>&gt; could someone give me a concise formula for calculating Tenney optimal<br/>&gt; equal tunings from mappings to primes, for I seem to have forgotten how<br/>&gt; to do it.</p><p>My formulas are not very concise, involving comparing distances in &quot;val space&quot; to a &quot;JI point&quot; and sometimes using linear programming. What is it you wanted to tune?</p></div><h3><a id=88372 href="#88372">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/27/2010 10:07:13 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 27 April 2010 22:34, genewardsmith &lt;genewardsmith@...&gt; wrote:</p><p>&gt; My formulas are not very concise, involving comparing distances in<br/>&gt; &quot;val space&quot; to a &quot;JI point&quot; and sometimes using linear programming.<br/>&gt; What is it you wanted to tune?</p><p>Yes, I wanted to talk to you about that.  How do you feel about<br/>applying a Euclidean metric to this space?</p><p>                        Graham</p></div><h3><a id=88373 href="#88373">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>4/27/2010 10:15:49 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; On 27 April 2010 22:34, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; My formulas are not very concise, involving comparing distances in<br/>&gt; &gt; &quot;val space&quot; to a &quot;JI point&quot; and sometimes using linear programming.<br/>&gt; &gt; What is it you wanted to tune?<br/>&gt;<br/>&gt; Yes, I wanted to talk to you about that.  How do you feel about<br/>&gt; applying a Euclidean metric to this space?</p><p>Fine, but it won&apos;t be TOP tuning any more.</p></div><h3><a id=88374 href="#88374">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/27/2010 10:22:47 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 27 April 2010 19:13, Kalle Aho &lt;kalleaho@...&gt; wrote:<br/>&gt; Hi tuning dorks :),<br/>&gt;<br/>&gt; could someone give me a concise formula for calculating Tenney optimal<br/>&gt; equal tunings from mappings to primes, for I seem to have forgotten how<br/>&gt; to do it.</p><p>First you need what I call the weighted primes, or w.  You get that by<br/>multiplying each entry in the equal temperament mapping by the weight<br/>you assign to it and dividing by the number of steps to the octave.<br/>For TOP, that weight is one divided by the log to base 2 of the<br/>relevant prime number.  Carl explained all this.</p><p>For example, 12-equal in the 5-limit is</p><p>&lt;12, 19, 28]</p><p>The weights are 1/log2(2), 1/log2(3) and 1/log2(5), or 1.0, 0.63...,<br/>0.43... and there are 12 steps to the octave.  You should get</p><p>&lt;1.0, 0.99897210982147411, 1.0049119688379171]</p><p>So, this is w.  You can then calculate the TOP-RMS stretch as:</p><p>stretch = mean(w) / mean(w**2)</p><p>That is, the mean of w divided by the mean squared of w.</p><p>Or, for the dowdy old TOP-max:</p><p>stretch = 2 / [max(w) + min(w)]</p><p>What Carl gave seems to be neither of these.  You can also calculate<br/>the error in the optimal temperament:</p><p>TOP-RMS = mean(w)/rms(w)</p><p>TOP-max = [max(w) - min(w)]/[max(w) + min(w)]</p><p>                        Graham</p></div><h3><a id=88375 href="#88375">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/27/2010 10:25:25 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 28 April 2010 09:15, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; On 27 April 2010 22:34, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; &gt; My formulas are not very concise, involving comparing distances in<br/>&gt;&gt; &gt; &quot;val space&quot; to a &quot;JI point&quot; and sometimes using linear programming.<br/>&gt;&gt; &gt; What is it you wanted to tune?<br/>&gt;&gt;<br/>&gt;&gt; Yes, I wanted to talk to you about that. &nbsp;How do you feel about<br/>&gt;&gt; applying a Euclidean metric to this space?<br/>&gt;<br/>&gt; Fine, but it won&apos;t be TOP tuning any more.</p><p>You&apos;ll get a Tenney-optimal prime tuning, which I&apos;ve been calling<br/>TOP-RMS for a number of years now.  Paul Erlich hasn&apos;t objected, which<br/>is to say I haven&apos;t heard anything from him at all.  I don&apos;t see why<br/>the nice acronym &quot;TOP&quot; should be reserved for the less useful case.</p><p>                              Graham</p></div><h3><a id=88394 href="#88394">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>4/28/2010 1:57:44 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; Or, for the dowdy old TOP-max:<br/>&gt;<br/>&gt; stretch = 2 / [max(w) + min(w)]<br/>&gt;<br/>&gt; What Carl gave seems to be neither of these.</p><p>Sure I did.  The above is the inverse of the mean I<br/>mentioned.</p><p>-Carl</p></div><h3><a id=88444 href="#88444">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@...&#x3E;</h3><span>4/28/2010 3:47:40 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Thanks, Carl!</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Hi tuning dorks :),<br/>&gt; &gt; could someone give me a concise formula for calculating Tenney<br/>&gt; &gt; optimal equal tunings from mappings to primes, for I seem to<br/>&gt; &gt; have forgotten how to do it.<br/>&gt; &gt; I&apos;m planning to do some &quot;cheating&quot; and try out some evil<br/>&gt; &gt; Sethares-style spectrally mapped timbres with TOP-tuned partials.<br/>&gt;<br/>&gt; Hi Kalle,<br/>&gt;<br/>&gt; 1. For an ET your mapping will be a val.<br/>&gt;<br/>&gt; 2. Divide each entry in the val by the base-2 log of its<br/>&gt; corresponding prime.  This gives you a list of the octave<br/>&gt; stretches (in notes/oct) that tune each prime in JI.<br/>&gt;<br/>&gt; 3. Find the mean of the largest and smallest of these<br/>&gt; stretches.  Divide each entry of the original val by<br/>&gt; this average.<br/>&gt;<br/>&gt; 4. Multiply each entry by 1200 to get the tuning in cents.<br/>&gt;<br/>&gt; 5. Divide the first term by the first term of the original<br/>&gt; val to get the step size.<br/>&gt;<br/>&gt; -Carl<br/>&gt;</p></div><h3><a id=88445 href="#88445">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@...&#x3E;</h3><span>4/28/2010 3:57:21 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Graham,</p><p>what is the idea behind TOP-RMS? Why don&apos;t you like plain TOP?</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; You&apos;ll get a Tenney-optimal prime tuning, which I&apos;ve been calling<br/>&gt; TOP-RMS for a number of years now.  Paul Erlich hasn&apos;t objected, which<br/>&gt; is to say I haven&apos;t heard anything from him at all.  I don&apos;t see why<br/>&gt; the nice acronym &quot;TOP&quot; should be reserved for the less useful case.</p></div><h3><a id=88451 href="#88451">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>4/28/2010 4:45:24 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@...&gt; wrote:<br/>&gt;<br/>&gt; Hi Graham,<br/>&gt;<br/>&gt; what is the idea behind TOP-RMS? Why don&apos;t you like plain TOP?</p><p>I&apos;m not trying to answer for Graham, but just to put some mathematical perspective on the question. The &quot;four Ms&quot; of measures for &quot;central tendency&quot; (generalized averages) in statistics are mean, median, mode, and midrange. Of these, mode is not relevant in this case. The other three are associated to metrics. Normalizing by the midrange, which is what TOP does to a val, is associated with L-infinity norm and minimizes the maximum error. Normalizing by the mean is associated to the Euclidean norm and minimizes the sum of squared error. Normalizing by the median minimizes the sum of absolute error. Which you want to use depends on how much weight you want to give to outliers.</p></div><h3><a id=88452 href="#88452">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>4/28/2010 5:19:03 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:</p><p>&gt; &gt; what is the idea behind TOP-RMS? Why don&apos;t you like plain TOP?<br/>&gt;<br/>&gt; I&apos;m not trying to answer for Graham, but just to put some<br/>&gt; mathematical perspective on the question. The &quot;four Ms&quot; of<br/>&gt; measures for &quot;central tendency&quot; (generalized averages) in<br/>&gt; statistics are mean, median, mode, and midrange. Of these,<br/>&gt; mode is not relevant in this case. The other three are<br/>&gt; associated to metrics. Normalizing by the midrange, which is<br/>&gt; what TOP does to a val, is associated with L-infinity norm<br/>&gt; and minimizes the maximum error. Normalizing by the mean is<br/>&gt; associated to the Euclidean norm and minimizes the sum of<br/>&gt; squared error. Normalizing by the median minimizes the sum<br/>&gt; of absolute error. Which you want to use depends on how much<br/>&gt; weight you want to give to outliers.</p><p>Thanks, Gene, that&apos;s very clear.  I&apos;d like to bring this back<br/>to Graham&apos;s post</p><p><a href="/tuning/topicId_88292.html#88374">/tuning/topicId_88292.html#88374</a></p><p>Where w is a val, he said the TOP RMS stretch was given by</p><p>stretch = mean(w) / mean(w**2)</p><p>but translated this into English as &quot;...divided by the mean<br/>squared of w&quot; which left me confused.  How to actually<br/>implement this?</p><p>I suppose this is more a question for Graham at this point,<br/>but I also don&apos;t know what this</p><p>TOP-RMS = mean(w)/rms(w)</p><p>is the error of in the resulting tuning.  It can&apos;t be the<br/>weighted rms error of any collection of intervals, can it?</p><p>-Carl</p></div><h3><a id=88464 href="#88464">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@...&#x3E;</h3><span>4/29/2010 7:02:44 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; First you need what I call the weighted primes, or w.  You get that<br/>&gt; by multiplying each entry in the equal temperament mapping by the<br/>&gt; weight you assign to it and dividing by the number of steps to the<br/>&gt; octave. For TOP, that weight is one divided by the log to base 2 of<br/>&gt; the relevant prime number.  Carl explained all this.</p><p>But it seems to me that for calculating the TOP tuning you don&apos;t<br/>necessarily need base 2 logarithms. For example, you could divide<br/>each entry in the val by the natural logarithm of the corresponding<br/>prime and then the equal tempered step (in ratio form) would be</p><p>e^(2/(min+max)).</p><p>Kalle Aho</p></div><h3><a id=88465 href="#88465">ðŸ”—</a>Kalle Aho &#x3C;kalleaho@...&#x3E;</h3><span>4/29/2010 7:08:07 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Hi Graham,<br/>&gt; &gt;<br/>&gt; &gt; what is the idea behind TOP-RMS? Why don&apos;t you like plain TOP?<br/>&gt;<br/>&gt; I&apos;m not trying to answer for Graham, but just to put some<br/>mathematical perspective on the question. The &quot;four Ms&quot; of measures<br/>for &quot;central tendency&quot; (generalized averages) in statistics are mean,<br/>median, mode, and midrange. Of these, mode is not relevant in this<br/>case. The other three are associated to metrics. Normalizing by the<br/>midrange, which is what TOP does to a val, is associated with L-<br/>infinity norm and minimizes the maximum error. Normalizing by the<br/>mean is associated to the Euclidean norm and minimizes the sum of<br/>squared error. Normalizing by the median minimizes the sum of<br/>absolute error. Which you want to use depends on how much weight you<br/>want to give to outliers.<br/>&gt;</p><p>Okay, I understand that in the minimax TOP the composite ratios have<br/>the same max Tenney-weighted error as the TOP tuned primes but I<br/>don&apos;t understand how the primes and the composite ratios are related<br/>in the other cases.</p><p>Kalle Aho</p></div><h3><a id=88470 href="#88470">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/29/2010 9:32:01 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 29 April 2010 02:57, Kalle Aho &lt;kalleaho@...&gt; wrote:<br/>&gt; Hi Graham,<br/>&gt;<br/>&gt; what is the idea behind TOP-RMS? Why don&apos;t you like plain TOP?</p><p>Plain TOP, or TOP-max as I call it, is harder to optimize outside of<br/>rank 1 or n-1 cases.  It&apos;s a linear program whereas TOP-RMS is a<br/>linear least squares problem.</p><p>TOP-RMS also corresponds to a Euclidean &quot;val space&quot; or what I think<br/>should be called a val lattice in tuning space.  So I have neat<br/>algebra built around it.  TOP-max corresponds to a taxi cab metric.<br/>We used to think that was a good idea but I don&apos;t any more.  I can&apos;t<br/>think of any fundamental reason why Euclidean is wrong for music.  For<br/>higher rank temperaments, you need to define areas or volumes and so<br/>on, and I never learned how to do that in a geometry without angles.<br/>Anybody who wants to enlighten me on the tuning-math list can do so.</p><p>There are also psychoacoustic arguments.  What I&apos;ve concluded is that<br/>we should be minimizing mistuning badness.  If you assume that badness<br/>goes up as the square of mistuning, you don&apos;t need a detailed model.<br/>The residual badness of each interval, which has something to do with<br/>its discordance, cancels out when you do the mean.  TOP-max, though,<br/>is about the worst badness of any interval, with the badness added by<br/>mistuning being linear.  That can work, but you do need to specify the<br/>residual badness.  TOP doesn&apos;t.  It assumes everything&apos;s zero and I<br/>don&apos;t like that.  Of course, TOP-max works well enough by<br/>approximating TOP-RMS.</p><p>                             Graham</p></div><h3><a id=88471 href="#88471">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/29/2010 9:37:11 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 29 April 2010 18:02, Kalle Aho &lt;kalleaho@...&gt; wrote:</p><p>&gt; But it seems to me that for calculating the TOP tuning you don&apos;t<br/>&gt; necessarily need base 2 logarithms. For example, you could divide<br/>&gt; each entry in the val by the natural logarithm of the corresponding<br/>&gt; prime and then the equal tempered step (in ratio form) would be<br/>&gt;<br/>&gt; e^(2/(min+max)).</p><p>You can use any algorithms as long as you normalize properly.  The<br/>first entry in w should be approximately 1 for the stretch to be<br/>correct.  For the TOP errors even that doesn&apos;t matter, because the<br/>factors of w on the top and bottom are balanced.  Hence the error is<br/>dimensionless and you multiply by 1200 to get cents/octave.</p><p>                                   Graham</p></div><h3><a id=88472 href="#88472">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/29/2010 9:43:14 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 29 April 2010 04:19, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; Thanks, Gene, that&apos;s very clear. &nbsp;I&apos;d like to bring this back<br/>&gt; to Graham&apos;s post<br/>&gt;<br/>&gt; <a href="/tuning/topicId_88292.html#88374">/tuning/topicId_88292.html#88374</a><br/>&gt;<br/>&gt; Where w is a val, he said the TOP RMS stretch was given by</p><p>No, w is a weighted tuning map.</p><p>&gt; stretch = mean(w) / mean(w**2)<br/>&gt;<br/>&gt; but translated this into English as &quot;...divided by the mean<br/>&gt; squared of w&quot; which left me confused. &nbsp;How to actually<br/>&gt; implement this?</p><p>How is it difficult?  Scientific calculators have a sum-squared button.</p><p>&gt; I suppose this is more a question for Graham at this point,<br/>&gt; but I also don&apos;t know what this<br/>&gt;<br/>&gt; TOP-RMS = mean(w)/rms(w)<br/>&gt;<br/>&gt; is the error of in the resulting tuning. &nbsp;It can&apos;t be the<br/>&gt; weighted rms error of any collection of intervals, can it?</p><p>I talked about this in <a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a> remember?  A<br/>prime weighting corresponds to treating pairs like 5/3 and 15/1<br/>equally.  The Tenney prime weighting is an extrapolation to infinity<br/>of a family of weights that treat equally complex intervals equally.<br/>You can use other matrices if you like and keep most of the geometric<br/>properties of TOP-RMS.  If you keep octaves pure it makes sense to use<br/>asymmetric weights so that 5/3 is more important than 15/1. That&apos;s why<br/>I have other measures for the octave-equivalent case.</p><p>                          Graham</p></div><h3><a id=88474 href="#88474">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>4/29/2010 10:03:35 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; TOP-RMS also corresponds to a Euclidean &quot;val space&quot; or what I think<br/>&gt; should be called a val lattice in tuning space.  So I have neat<br/>&gt; algebra built around it.  TOP-max corresponds to a taxi cab metric.<br/>&gt; We used to think that was a good idea but I don&apos;t any more.  I can&apos;t<br/>&gt; think of any fundamental reason why Euclidean is wrong for music.</p><p>Paul was the one who liked taxicabs, and his observation that the weighted max error in TOP was constant as you went to more complex intervals was impressive. I did remark from time to time that Euclidean metrics held advantages, but at the time no one seemed to care. Until the TOP business came along with its plausible suggestion it wasn&apos;t clear how to define the Euclidean metric anyway.</p></div><h3><a id=88475 href="#88475">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>4/29/2010 10:37:51 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Thanks, Gene, that&apos;s very clear. &Acirc;&nbsp;I&apos;d like to bring this back<br/>&gt; &gt; to Graham&apos;s post<br/>&gt; &gt; <a href="/tuning/topicId_88292.html#88374">/tuning/topicId_88292.html#88374</a><br/>&gt; &gt; Where w is a val, he said the TOP RMS stretch was given by<br/>&gt;<br/>&gt; No, w is a weighted tuning map.</p><p>Ah, right.</p><p>&gt; &gt; stretch = mean(w) / mean(w**2)<br/>&gt; &gt;<br/>&gt; &gt; but translated this into English as &quot;...divided by the mean<br/>&gt; &gt; squared of w&quot; which left me confused. &Acirc;&nbsp;How to actually<br/>&gt; &gt; implement this?<br/>&gt;<br/>&gt; How is it difficult?  Scientific calculators have a sum-<br/>&gt; squared button.</p><p>It&apos;s not difficult now that I know what it is.</p><p>&gt; &gt; I suppose this is more a question for Graham at this point,<br/>&gt; &gt; but I also don&apos;t know what this<br/>&gt; &gt;<br/>&gt; &gt; TOP-RMS = mean(w)/rms(w)<br/>&gt; &gt;<br/>&gt; &gt; is the error of in the resulting tuning. &Acirc;&nbsp;It can&apos;t be the<br/>&gt; &gt; weighted rms error of any collection of intervals, can it?<br/>&gt;<br/>&gt; I talked about this in <a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a> remember?<br/>&gt; A prime weighting corresponds to treating pairs like 5/3 and 15/1<br/>&gt; equally.  The Tenney prime weighting is an extrapolation to<br/>&gt; infinity of a family of weights that treat equally complex<br/>&gt; intervals equally.  You can use other matrices if you like and<br/>&gt; keep most of the geometric properties of TOP-RMS.  If you keep<br/>&gt; octaves pure it makes sense to use asymmetric weights so that<br/>&gt; 5/3 is more important than 15/1. That&apos;s why I have other measures<br/>&gt; for the octave-equivalent case.</p><p>I notice you didn&apos;t answer the question. :P<br/>Is there any section in particular of this 24-page paper<br/>you think I should look at?</p><p>-Carl</p></div><h3><a id=88517 href="#88517">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/30/2010 6:43:42 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 29 April 2010 21:37, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; I notice you didn&apos;t answer the question. :P<br/>&gt; Is there any section in particular of this 24-page paper<br/>&gt; you think I should look at?</p><p>&quot;The Tenney prime weighting is an extrapolation to infinity of a<br/>family of weights that treat equally complex intervals equally.&quot;  I<br/>thought that was the answer to your question.</p><p>                   Graham</p></div><h3><a id=88528 href="#88528">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/30/2010 10:05:22 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 29 April 2010 19:37, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt;&gt; &gt; I suppose this is more a question for Graham at this point,<br/>&gt;&gt; &gt; but I also don&apos;t know what this<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt; TOP-RMS = mean(w)/rms(w)<br/>&gt;&gt; &gt;<br/>&gt;&gt; &gt; is the error of in the resulting tuning. &Acirc; It can&apos;t be the<br/>&gt;&gt; &gt; weighted rms error of any collection of intervals, can it?</p><p>Oh, that&apos;s wrong.  Maybe that was the question.  It should be</p><p>TOP-RMS = 1 - mean(w)**2/mean(w**2)</p><p>That is, one minus the mean squared divided by the mean squared.  Oh<br/>the joys of English!  Alternatively, the standard deviation of w<br/>divided by the RMS of w.</p><p>I made one simplification too many.  Sorry.</p><p>                            Graham</p></div><h3><a id=88529 href="#88529">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>4/30/2010 10:47:11 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt; I notice you didn&apos;t answer the question. :P<br/>&gt; &gt; Is there any section in particular of this 24-page paper<br/>&gt; &gt; you think I should look at?<br/>&gt;<br/>&gt; &quot;The Tenney prime weighting is an extrapolation to infinity of a<br/>&gt; family of weights that treat equally complex intervals equally.&quot;  I<br/>&gt; thought that was the answer to your question.</p><p>My question was, how does the TOP-RMS error you gave</p><p>TOP-RMS = mean(w)/rms(w)</p><p>relate to the weighted RMS error of arbitrary collections<br/>of intervals?  I believe Kalle asked the same question.<br/>I remember you once answering it, probably offlist, but I<br/>forget the answer.</p><p>-Carl</p></div><h3><a id=88534 href="#88534">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>4/30/2010 1:11:26 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@&gt; wrote:</p><p>&gt; My question was, how does the TOP-RMS error you gave<br/>&gt;<br/>&gt; TOP-RMS = mean(w)/rms(w)<br/>&gt;<br/>&gt; relate to the weighted RMS error of arbitrary collections<br/>&gt; of intervals?  I believe Kalle asked the same question.<br/>&gt; I remember you once answering it, probably offlist, but I<br/>&gt; forget the answer.<br/>&gt; -Carl</p><p>Another question is why don&apos;t you just take w and divide it by mean(w)?</p></div><h3><a id=88549 href="#88549">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/30/2010 10:19:39 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 30 April 2010 21:47, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; My question was, how does the TOP-RMS error you gave<br/>&gt;<br/>&gt; TOP-RMS = mean(w)/rms(w)</p><p>That&apos;s the formula for a weighted unison vector.  For a weighted val<br/>or tuning map it should be</p><p>TOP-RMS = std(w)/rms(w)</p><p>I sent the correction yesterday, let&apos;s not lose it.</p><p>&gt; relate to the weighted RMS error of arbitrary collections<br/>&gt; of intervals? &nbsp;I believe Kalle asked the same question.<br/>&gt; I remember you once answering it, probably offlist, but I<br/>&gt; forget the answer.</p><p>For the correct formula, the answer is &quot;yes&quot;.  The weighting isn&apos;t<br/>important but the way of collecting intervals is.  So it isn&apos;t<br/>completely arbitrary.  Tenney limits as they become arbitrarily<br/>complex will do it.  I gave a link before and the section you want<br/>will probably be called something like &quot;Tenney Limits&quot;.</p><p>I originally answered the question in that PDF file that I linked to<br/>from tuning-math when I wrote it.  If I can remember the URL, along<br/>with everything else:</p><p><a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a></p><p>                         Graham</p></div><h3><a id=88550 href="#88550">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>4/30/2010 10:24:25 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 1 May 2010 00:11, genewardsmith &lt;genewardsmith@...&gt; wrote:</p><p>&gt; Another question is why don&apos;t you just take w and divide it by mean(w)?</p><p>Why would I want to?  All I can think of is that 1/mean(w) might be a<br/>reasonable scale stretch.  Perhaps I wrote about it here:</p><p><a href="http://x31eq.com/primerr.pdf">http://x31eq.com/primerr.pdf</a></p><p>                       Graham</p></div><h3><a id=88551 href="#88551">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>4/30/2010 10:37:33 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; On 1 May 2010 00:11, genewardsmith &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Another question is why don&apos;t you just take w and divide it by mean(w)?<br/>&gt;<br/>&gt; Why would I want to?</p><p>Because the mean minimizes the squared error, just as the midrange minimizes the max error.</p></div><h3><a id=88552 href="#88552">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>4/30/2010 11:11:59 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; &gt; Another question is why don&apos;t you just take w and divide it<br/>&gt; &gt; &gt; by mean(w)?<br/>&gt; &gt;<br/>&gt; &gt; Why would I want to?<br/>&gt;<br/>&gt; Because the mean minimizes the squared error, just as the midrange<br/>&gt; minimizes the max error.</p><p>So I think Graham&apos;s claiming that mean(w)/mean(w**2) gives the<br/>*stretch* that minimizes the sum-squared error over a bag of<br/>intervals bounded by Tenney height.</p><p>Graham&apos;s stretch is, I think, a scalar for w.  So it&apos;s</p><p>w * mean(w) / mean(w**2)</p><p>You&apos;re claiming plain w/mean(w) minimizes sum-squared error<br/>over... what bag of intervals, exactly?</p><p>-Carl</p></div><h3><a id=88553 href="#88553">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>5/1/2010 2:07:06 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; &lt;carl@...&gt; wrote:</p><p>&gt; You&apos;re claiming plain w/mean(w) minimizes sum-squared error<br/>&gt; over... what bag of intervals, exactly?</p><p>All I&apos;m claiming is that it&apos;s just a general fact about the mean that it minimizes squared error. If you have n real numbers xi, and if M is the mean, then sum_i (xi - M)^2 is less for M than for any other number (if you don&apos;t believe me, take the derivative wrt to M). Similarly, is M is the median, then sum_i |xi - M| is minimized. Finally, if M is the midrange, then max_i |xi - M| is minimized.</p></div><h3><a id=88570 href="#88570">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>5/1/2010 1:42:40 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;genewardsmith&quot; &lt;genewardsmith@...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; &lt;carl@&gt; wrote:<br/>&gt;<br/>&gt; &gt; You&apos;re claiming plain w/mean(w) minimizes sum-squared error<br/>&gt; &gt; over... what bag of intervals, exactly?<br/>&gt;<br/>&gt; All I&apos;m claiming is that it&apos;s just a general fact about the mean<br/>&gt; that it minimizes squared error. If you have n real numbers xi,<br/>&gt; and if M is the mean, then sum_i (xi - M)^2 is less for M than for<br/>&gt; any other number (if you don&apos;t believe me, take the derivative wrt<br/>&gt; to M). Similarly, is M is the median, then sum_i |xi - M| is<br/>&gt; minimized. Finally, if M is the midrange, then max_i |xi - M| is<br/>&gt; minimized.</p><p>I understood, and believe that.  But we need to get to what I<br/>wrote above at some point.  -Carl</p></div><h3><a id=88572 href="#88572">ðŸ”—</a>genewardsmith &#x3C;genewardsmith@...&#x3E;</h3><span>5/1/2010 2:12:59 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Carl Lumma&quot; &lt;carl@...&gt; wrote:</p><p>&gt; I understood, and believe that.  But we need to get to what I<br/>&gt; wrote above at some point.  -Carl</p><p>Another thing I am claiming is that whatever the answer to your question is, &quot;TOP mean&quot; seems to give results quite close to what Graham gets, is very easy to compute for any rank of temperament, and minimizes a specific height function (exponents squared.)</p></div><h3><a id=88576 href="#88576">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>5/1/2010 3:05:11 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham wrote:</p><p>&gt; &gt; relate to the weighted RMS error of arbitrary collections<br/>&gt; &gt; of intervals? &Acirc;&nbsp;I believe Kalle asked the same question.<br/>&gt; &gt; I remember you once answering it, probably offlist, but I<br/>&gt; &gt; forget the answer.<br/>&gt;<br/>&gt; For the correct formula, the answer is &quot;yes&quot;.  The weighting<br/>&gt; isn&apos;t important but the way of collecting intervals is.  So it<br/>&gt; isn&apos;t completely arbitrary.  Tenney limits as they become<br/>&gt; arbitrarily complex will do it.  I gave a link before and the<br/>&gt; section you want will probably be called something like &quot;Tenney<br/>&gt; Limits&quot;.<br/>&gt;<br/>&gt; I originally answered the question in that PDF file that I<br/>&gt; linked to from tuning-math when I wrote it.  If I can remember<br/>&gt; the URL, along with everything else:<br/>&gt;<br/>&gt; <a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a></p><p>It looks like you talk about the intersection of Tenney limits<br/>and prime limits.  I don&apos;t agree with your motivation for that<br/>(19:1 should be about equally consonant to 5:4).  You also talk<br/>a lot about untempered-octave variants, which aren&apos;t interesting<br/>to me.  The right tuning optimization shouldn&apos;t make people ask<br/>you for a version with untempered octaves.</p><p>The reason I always &quot;forget&quot; your answer is that you never loop<br/>back and confirm I&apos;ve understood.  For example, is this right:</p><p>&gt;So I think Graham&apos;s claiming that mean(w)/mean(w**2) gives<br/>&gt;the *stretch* that minimizes the sum-squared error over a bag<br/>&gt;of intervals bounded by Tenney height.</p><p>?  If you do in fact prove this, it would be enough for me to<br/>stop using TOP-max and start using TOP-RMS.</p><p>-Carl</p></div><h3><a id=88586 href="#88586">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>5/1/2010 10:16:36 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 2 May 2010 02:05, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt;&gt; <a href="http://x31eq.com/composite.pdf">http://x31eq.com/composite.pdf</a><br/>&gt;<br/>&gt; It looks like you talk about the intersection of Tenney limits<br/>&gt; and prime limits. &nbsp;I don&apos;t agree with your motivation for that<br/>&gt; (19:1 should be about equally consonant to 5:4). &nbsp;You also talk<br/>&gt; a lot about untempered-octave variants, which aren&apos;t interesting<br/>&gt; to me. &nbsp;The right tuning optimization shouldn&apos;t make people ask<br/>&gt; you for a version with untempered octaves.</p><p>Yes, it&apos;s intersections like that.  It has to be like that.  Otherwise<br/>the weights shift for every new prime you add and it never converges.<br/>You can still take the exact matrix for the exact intervals you want<br/>to use.</p><p>Right, you shouldn&apos;t need to temper the octaves.  You do for Tenney<br/>limits because stupidly large intervals are considered on a par with<br/>intervals you can actually hear.  I think the Farey limits are more<br/>reasonable.  Using those matrices you can calculate the badness of any<br/>tuning and optimize with the octaves fixed.  I haven&apos;t looked at the<br/>details but maybe it&apos;s as simple as removing the top row and left hand<br/>column.</p><p>The same approach should work for odd limits.  That&apos;s another case<br/>where I haven&apos;t worked out the details.</p><p>My general solution for pure octaves is to optimize the standard<br/>deviation instead of the RMS.  The section on cross-weighted metrics<br/>is leading towards that.  But I didn&apos;t tie it up so that I can show<br/>Farey limits lead to a cross weighted metric which lead to a standard<br/>deviation.</p><p>It also happens that my parametric badness is a kind of cross-weighted metric.</p><p>&gt; The reason I always &quot;forget&quot; your answer is that you never loop<br/>&gt; back and confirm I&apos;ve understood. &nbsp;For example, is this right:</p><p>Oh, do I?  I&apos;m more likely to correct things that I think are wrong.</p><p>&gt;&gt;So I think Graham&apos;s claiming that mean(w)/mean(w**2) gives<br/>&gt;&gt;the *stretch* that minimizes the sum-squared error over a bag<br/>&gt;&gt;of intervals bounded by Tenney height.</p><p>Yes.</p><p>&gt; ? &nbsp;If you do in fact prove this, it would be enough for me to<br/>&gt; stop using TOP-max and start using TOP-RMS.</p><p>That&apos;s nice.</p><p>                   Graham</p></div><h3><a id=88588 href="#88588">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>5/1/2010 10:55:20 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; It looks like you talk about the intersection of Tenney limits<br/>&gt; &gt; and prime limits. &Acirc;&nbsp;I don&apos;t agree with your motivation for that<br/>&gt; &gt; (19:1 should be about equally consonant to 5:4). &Acirc;&nbsp;You also talk<br/>&gt; &gt; a lot about untempered-octave variants, which aren&apos;t interesting<br/>&gt; &gt; to me. &Acirc;&nbsp;The right tuning optimization shouldn&apos;t make people ask<br/>&gt; &gt; you for a version with untempered octaves.<br/>&gt;<br/>&gt; Yes, it&apos;s intersections like that.  It has to be like that.<br/>&gt; Otherwise the weights shift for every new prime you add and it<br/>&gt; never converges.  You can still take the exact matrix for the<br/>&gt; exact intervals you want to use.</p><p>Sorry, you lost me here.  I meant, I don&apos;t think there&apos;s<br/>any problem with 19:1 = 5:4.</p><p>&gt; Right, you shouldn&apos;t need to temper the octaves.  You do for<br/>&gt; Tenney limits because stupidly large intervals are considered<br/>&gt; on a par with intervals you can actually hear.</p><p>No, I meant, octaves definitely should be tempered.  At least,<br/>they should not be protected from temperament.  The correct<br/>weighting is one that produces tunings people prefer to ones<br/>where you left 2 out.  I don&apos;t know if log(p) that or not --<br/>some folks balked at the TOP tunings when they first debuted --<br/>but for now it&apos;s close enough for me.</p><p>&gt; &gt; The reason I always &quot;forget&quot; your answer is that you never loop<br/>&gt; &gt; back and confirm I&apos;ve understood. &Acirc;&nbsp;For example, is this right:<br/>&gt;<br/>&gt; Oh, do I?  I&apos;m more likely to correct things that I think<br/>&gt; are wrong.</p><p>I think psychologists have concluded that everyone is like that.<br/>But on mailing lists I think we need to work against it.  Sorry,<br/>I didn&apos;t mean to say &quot;never&quot;.</p><p>&gt; &gt;&gt;So I think Graham&apos;s claiming that mean(w)/mean(w**2) gives<br/>&gt; &gt;&gt;the *stretch* that minimizes the sum-squared error over a bag<br/>&gt; &gt;&gt;of intervals bounded by Tenney height.<br/>&gt;<br/>&gt; Yes.</p><p>Well, there we go.  I still don&apos;t see it in your paper, but<br/>I generally trust you.</p><p>-Carl</p></div><h3><a id=88589 href="#88589">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>5/1/2010 11:58:46 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 2 May 2010 09:55, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; Sorry, you lost me here. &nbsp;I meant, I don&apos;t think there&apos;s<br/>&gt; any problem with 19:1 = 5:4.</p><p>Right, if you&apos;re actively considering the 19-limit that&apos;s fine.  If<br/>you want to consider arbitrarily complex intervals you have to enforce<br/>a prime limit or favor the simple primes more than Tenney weighting<br/>does.  Favoring simple primes is theoretically fine if you aren&apos;t<br/>interested in infinite complexity.  But I don&apos;t have a formula for how<br/>much you should favor them, other than plugging in the intervals you<br/>want and turning the handle.</p><p>There&apos;s also the problem that, for example, 81/80 is comparable to<br/>81*80.  But 81/80 is clearly audible whereas 81*80 covers over 12<br/>octaves and even good human hearing is only about 10 octaves (16 Hz to<br/>16.4 kHz).</p><p>In real music, even ignoring aesthetic preferences, most intervals<br/>will be small because they occur between notes in chords.  That makes<br/>them more important.</p><p>&gt;&gt; Right, you shouldn&apos;t need to temper the octaves. &nbsp;You do for<br/>&gt;&gt; Tenney limits because stupidly large intervals are considered<br/>&gt;&gt; on a par with intervals you can actually hear.<br/>&gt;<br/>&gt; No, I meant, octaves definitely should be tempered. &nbsp;At least,<br/>&gt; they should not be protected from temperament. &nbsp;The correct<br/>&gt; weighting is one that produces tunings people prefer to ones<br/>&gt; where you left 2 out. &nbsp;I don&apos;t know if log(p) that or not --<br/>&gt; some folks balked at the TOP tunings when they first debuted --<br/>&gt; but for now it&apos;s close enough for me.</p><p>What was the problem with my PDF, then?</p><p>&gt;&gt; &gt; The reason I always &quot;forget&quot; your answer is that you never loop<br/>&gt;&gt; &gt; back and confirm I&apos;ve understood. &Acirc;&nbsp;For example, is this right:<br/>&gt;&gt;<br/>&gt;&gt; Oh, do I? &nbsp;I&apos;m more likely to correct things that I think<br/>&gt;&gt; are wrong.<br/>&gt;<br/>&gt; I think psychologists have concluded that everyone is like that.<br/>&gt; But on mailing lists I think we need to work against it. &nbsp;Sorry,<br/>&gt; I didn&apos;t mean to say &quot;never&quot;.</p><p>I didn&apos;t take any offense at the &quot;never&quot;, don&apos;t worry.</p><p>The danger now is that there&apos;s such a flurry of posts in different<br/>threads that I might miss some replies.</p><p>I see we&apos;re still on the big list as well ...</p><p>&gt;&gt; &gt;&gt;So I think Graham&apos;s claiming that mean(w)/mean(w**2) gives<br/>&gt;&gt; &gt;&gt;the *stretch* that minimizes the sum-squared error over a bag<br/>&gt;&gt; &gt;&gt;of intervals bounded by Tenney height.<br/>&gt;&gt;<br/>&gt;&gt; Yes.<br/>&gt;<br/>&gt; Well, there we go. &nbsp;I still don&apos;t see it in your paper, but<br/>&gt; I generally trust you.</p><p>I did calculations beyond what&apos;s in there, and it seemed to converge.<br/>You&apos;ll need to find a mathematician for a formal proof.  It&apos;s not at<br/>all difficult to duplicate these metrics.  You list your intervals in<br/>vector form, put them in a matrix, and multiply by the transpose.  Any<br/>programming language with a linear algebra library can do it.</p><p>                     Graham</p></div><h3><a id=88590 href="#88590">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>5/2/2010 12:39:52 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:</p><p>&gt; &gt; Sorry, you lost me here. &Acirc;&nbsp;I meant, I don&apos;t think there&apos;s<br/>&gt; &gt; any problem with 19:1 = 5:4.<br/>&gt;<br/>&gt; Right, if you&apos;re actively considering the 19-limit that&apos;s fine.</p><p>Oh right; obviously we&apos;re constrained to the prime limit of the<br/>intervals we&apos;re mapping.  So I withdrawal that criticism.</p><p>&gt; There&apos;s also the problem that, for example, 81/80 is comparable<br/>&gt; to 81*80.  But 81/80 is clearly audible whereas 81*80 covers<br/>&gt; over 12 octaves and even good human hearing is only about 10<br/>&gt; octaves (16 Hz to 16.4 kHz).</p><p>81*80 is way beyond where Tenney height is claimed to work.<br/>The highest 9-odd-limit interval is, what, 14*9 = 126.  That<br/>would be the upper limit of where I&apos;d claim it worked.<br/>128:1 is 7 octaves, which is audible.</p><p>&gt; In real music, even ignoring aesthetic preferences, most<br/>&gt; intervals will be small because they occur between notes in<br/>&gt; chords.  That makes them more important.</p><p>If you go to the orchestra you&apos;ll hear notes all over the place.<br/>It&apos;s known that very large intervals are less important because<br/>less of their spectra overlap.  I suppose you could say that<br/>Tenney weighting doesn&apos;t account for this.  But we&apos;re regular-<br/>mapping so we need prime limits (though I suppose we could<br/>consider other fields that generate the rationals).  So the best<br/>thing to do is bend them to be psychoacoustically relevant.<br/>I don&apos;t know of anything better than Tenney weighting for this.</p><p>&gt; &gt; No, I meant, octaves definitely should be tempered. &Acirc;&nbsp;At least,<br/>&gt; &gt; they should not be protected from temperament. &Acirc;&nbsp;The correct<br/>&gt; &gt; weighting is one that produces tunings people prefer to ones<br/>&gt; &gt; where you left 2 out. &Acirc;&nbsp;I don&apos;t know if log(p) that or not --<br/>&gt; &gt; some folks balked at the TOP tunings when they first debuted --<br/>&gt; &gt; but for now it&apos;s close enough for me.<br/>&gt;<br/>&gt; What was the problem with my PDF, then?</p><p>I was just bellyaching that you spent so much ink on pure-octave<br/>variants.</p><p>-Carl</p></div><h3><a id=88592 href="#88592">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>5/2/2010 3:01:28 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On 2 May 2010 11:39, Carl Lumma &lt;carl@...&gt; wrote:</p><p>&gt; Oh right; obviously we&apos;re constrained to the prime limit of the<br/>&gt; intervals we&apos;re mapping. &nbsp;So I withdrawal that criticism.</p><p>We need to choose some kind of limit, anyway.</p><p>&gt;&gt; There&apos;s also the problem that, for example, 81/80 is comparable<br/>&gt;&gt; to 81*80. &nbsp;But 81/80 is clearly audible whereas 81*80 covers<br/>&gt;&gt; over 12 octaves and even good human hearing is only about 10<br/>&gt;&gt; octaves (16 Hz to 16.4 kHz).<br/>&gt;<br/>&gt; 81*80 is way beyond where Tenney height is claimed to work.<br/>&gt; The highest 9-odd-limit interval is, what, 14*9 = 126. &nbsp;That<br/>&gt; would be the upper limit of where I&apos;d claim it worked.<br/>&gt; 128:1 is 7 octaves, which is audible.</p><p>You don&apos;t get anything very close to Tenney weighting until the<br/>intervals get stupidly complex.  Before that lower primes are given<br/>systematically higher weights.  But that assumes equal weighting of<br/>intervals within a Tenney limit is what you wanted.  If you don&apos;t know<br/>exactly what you want Tenney weighting&apos;s a pretty good bet.</p><p>&gt;&gt; In real music, even ignoring aesthetic preferences, most<br/>&gt;&gt; intervals will be small because they occur between notes in<br/>&gt;&gt; chords. &nbsp;That makes them more important.<br/>&gt;<br/>&gt; If you go to the orchestra you&apos;ll hear notes all over the place.<br/>&gt; It&apos;s known that very large intervals are less important because<br/>&gt; less of their spectra overlap. &nbsp;I suppose you could say that<br/>&gt; Tenney weighting doesn&apos;t account for this. &nbsp;But we&apos;re regular-<br/>&gt; mapping so we need prime limits (though I suppose we could<br/>&gt; consider other fields that generate the rationals). &nbsp;So the best<br/>&gt; thing to do is bend them to be psychoacoustically relevant.<br/>&gt; I don&apos;t know of anything better than Tenney weighting for this.</p><p>Notes all over the place means the majority of intervals will be<br/>small.  And, yes, the spectra overlap less.  So I count 14:9 as much<br/>more important than 126:1.  The good thing about octave stretching is<br/>that we can ignore this issue.  With TOP-Max you get the same solution<br/>for any set of intervals.  With TOP-RMS you&apos;re optimizing the largest<br/>intervals but the symmetry means it doesn&apos;t matter.</p><p>&gt; I was just bellyaching that you spent so much ink on pure-octave<br/>&gt; variants.</p><p>That must be primerr.pdf because I didn&apos;t consider pure octaves with<br/>the composite errors.</p><p>                       Graham</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            