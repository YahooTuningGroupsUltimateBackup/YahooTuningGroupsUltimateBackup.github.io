<a href="/tuning">back to list</a><h1>AKJ, you are slashdotted!</h1><h3>Carl Lumma &#x3C;clumma@yahoo.com&#x3E;</h3><span>5/7/2007 11:07:15 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Aaron &amp; All,</p><p>My Keyboard Magazine piece on Making Music with Linux<br/>was slashdotted today.</p><p><a href="http://linux.slashdot.org/article.pl?sid=07/05/07/159250">http://linux.slashdot.org/article.pl?sid=07/05/07/159250</a></p><p>And because the <a href="http://keyboardmag.com">keyboardmag.com</a> site went down<br/>immediately, the article has been posted right in the<br/>comments.  And one reader wants you to sourceforge<br/>your pymidichaos code...</p><p>&quot;&quot;<br/>I&apos;d like to see the guy who was interviewed put his<br/>python program up on sourceforge... it&apos;s neat and small<br/>and could do with more exposure... currently, there are<br/>precisely 4 links on Google for it, and one&apos;s in the<br/>article and I haven&apos;t a clue what licence he&apos;s got for<br/>it as there&apos;s nothing mentioned in the actual code or<br/>anywhere... I really want to know what licence he plans<br/>to let us use it under before I start messing with<br/>it myself...<br/>&quot;&quot;</p><p>For all of you joining in, I interviewed Aaron for<br/>this piece, and discussed the creation of his microtonal<br/>music in the article.</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/8/2007 4:45:51 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote:<br/>&gt; Aaron &amp; All,<br/>&gt; &gt; My Keyboard Magazine piece on Making Music with Linux<br/>&gt; was slashdotted today.<br/>&gt; &gt; <a href="http://linux.slashdot.org/article.pl?sid=07/05/07/159250">http://linux.slashdot.org/article.pl?sid=07/05/07/159250</a><br/>&gt; &gt; And because the <a href="http://keyboardmag.com">keyboardmag.com</a> site went down<br/>&gt; immediately, the article has been posted right in the<br/>&gt; comments.  And one reader wants you to sourceforge<br/>&gt; your pymidichaos code...</p><p>I followed up on LADSPA (<a href="http://www.ladspa.org/">http://www.ladspa.org/</a>).  Rather like OSC, it looks like a vague low-level protocol that doesn&apos;t go as far as specifying pitch.  But I checked out the example code and all the synthesizers take a frequency input.  So, if anybody writes a microtonal-aware LADSPA host it&apos;ll be able to embed any plug-in that follows this convention.</p><p>The bad news is that the suggested higher-level protocol for synthesizers, DSSI (<a href="http://dssi.sourceforge.net/">http://dssi.sourceforge.net/</a>) does seem to imply a 128 note limit.  Again, nothing about pitch is specified, but the specification is obviously incomplete so, again, I looked at the example code.  The trivial_synth.c still uses a LADSPA framework with a frequency control.  But it&apos;s controlled by ALSA events which I tracked down here:</p><p><a href="http://www.alsa-project.org/alsa-doc/alsa-lib/structsnd__seq__ev__note.html">http://www.alsa-project.org/alsa-doc/alsa-lib/structsnd__seq__ev__note.html</a></p><p>There&apos;s an unsigned char for &quot;note&quot; which of course means you can never get more than 256 notes and I&apos;m sure most plugins will ignore everything beyond 128.  There&apos;s also no &quot;frequency&quot; element so you have to specify tuning tables separately to the note-on, as with MIDI.</p><p>I don&apos;t know how settled this is, who we should complain to, or if it really matters.  But for microtonal purposes a frequency in Hz is a much better control value than a note number.  The note to frequency conversion should be handled in a MIDI abstraction layer, not in each synthesizer plugin.   I hope we can agree on that.</p><p>                  Graham</p></div><h3>Aaron Krister Johnson &#x3C;aaron@dividebypi.com&#x3E;</h3><span>5/8/2007 5:01:27 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham,</p><p>Yes, unfortunately it seems that the convention of most softsynths is<br/>being followed by the LADSPA and DSSI plugins.</p><p>I would however be willing to bet that if you forwarded your comments<br/>to the developers they might be considered in future releases. but who<br/>knows for sure....it&apos;s worth a try, anyway. Maybe at the very least, a<br/>fork could be developed.</p><p>Best,<br/>Aaron.</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; Carl Lumma wrote:<br/>&gt; &gt; Aaron &amp; All,<br/>&gt; &gt;<br/>&gt; &gt; My Keyboard Magazine piece on Making Music with Linux<br/>&gt; &gt; was slashdotted today.<br/>&gt; &gt;<br/>&gt; &gt; <a href="http://linux.slashdot.org/article.pl?sid=07/05/07/159250">http://linux.slashdot.org/article.pl?sid=07/05/07/159250</a><br/>&gt; &gt;<br/>&gt; &gt; And because the <a href="http://keyboardmag.com">keyboardmag.com</a> site went down<br/>&gt; &gt; immediately, the article has been posted right in the<br/>&gt; &gt; comments.  And one reader wants you to sourceforge<br/>&gt; &gt; your pymidichaos code...<br/>&gt;<br/>&gt; I followed up on LADSPA (<a href="http://www.ladspa.org/">http://www.ladspa.org/</a>).  Rather<br/>&gt; like OSC, it looks like a vague low-level protocol that<br/>&gt; doesn&apos;t go as far as specifying pitch.  But I checked out<br/>&gt; the example code and all the synthesizers take a frequency<br/>&gt; input.  So, if anybody writes a microtonal-aware LADSPA host<br/>&gt; it&apos;ll be able to embed any plug-in that follows this convention.<br/>&gt;<br/>&gt; The bad news is that the suggested higher-level protocol for<br/>&gt; synthesizers, DSSI (<a href="http://dssi.sourceforge.net/">http://dssi.sourceforge.net/</a>) does seem<br/>&gt; to imply a 128 note limit.  Again, nothing about pitch is<br/>&gt; specified, but the specification is obviously incomplete so,<br/>&gt; again, I looked at the example code.  The trivial_synth.c<br/>&gt; still uses a LADSPA framework with a frequency control.  But<br/>&gt; it&apos;s controlled by ALSA events which I tracked down here:<br/>&gt;<br/>&gt;<br/><a href="http://www.alsa-project.org/alsa-doc/alsa-lib/structsnd__seq__ev__note.html">http://www.alsa-project.org/alsa-doc/alsa-lib/structsnd__seq__ev__note.html</a><br/>&gt;<br/>&gt; There&apos;s an unsigned char for &quot;note&quot; which of course means<br/>&gt; you can never get more than 256 notes and I&apos;m sure most<br/>&gt; plugins will ignore everything beyond 128.  There&apos;s also no<br/>&gt; &quot;frequency&quot; element so you have to specify tuning tables<br/>&gt; separately to the note-on, as with MIDI.<br/>&gt;<br/>&gt; I don&apos;t know how settled this is, who we should complain to,<br/>&gt; or if it really matters.  But for microtonal purposes a<br/>&gt; frequency in Hz is a much better control value than a note<br/>&gt; number.  The note to frequency conversion should be handled<br/>&gt; in a MIDI abstraction layer, not in each synthesizer plugin.<br/>&gt;   I hope we can agree on that.<br/>&gt;<br/>&gt;<br/>&gt;                    Graham<br/>&gt;</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/8/2007 5:35:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Aaron Krister Johnson wrote:<br/>&gt; Graham,<br/>&gt; &gt; Yes, unfortunately it seems that the convention of most softsynths is<br/>&gt; being followed by the LADSPA and DSSI plugins.</p><p>LADSPA itself looks fine, which is to be expected because they considered Csound when they designed it.  Csound has never been restricted to a piano keyboard but still works fine with MIDI.  If synth plugins were written with a Csound-like interface that didn&apos;t require Csound to run that&apos;d be ideal for us.  If you have contrary experience with LADSPA in the real world that&apos;s too bad.</p><p>The problem with DSSI seems to be that they fell in the MIDI trap.  It means the tuning has to be implemented in the plugin, and so we need to lobby each softsynth developer to get them to support tuning tables.</p><p>&gt; I would however be willing to bet that if you forwarded your comments<br/>&gt; to the developers they might be considered in future releases. but who<br/>&gt; knows for sure....it&apos;s worth a try, anyway. Maybe at the very least, a<br/>&gt; fork could be developed.</p><p>No harm in trying!  The larger community I speak for the better.  It looks like they&apos;re too far down the line to break backwards compatibility with existing synths.  But perhaps a standard wrapper to make a more general synth fit the existing model would do the trick.  Then we could apply a different wrapper for a different model and ignore plugins that do it the current way.</p><p>It isn&apos;t only microtonalists this affects.  It&apos;s a pain for modelling violins and all kinds of other instruments as well.  Exactly the things a post-MIDI protocol should be fixing.</p><p>An alternative note-on message with a frequency parameter would work as well.  But the problem is that the simplest thing will be to ignore it and that&apos;s what programmers will do.  It should be easier to not worry about tuning at all.</p><p>                  Graham</p></div><h3>Herman Miller &#x3C;hmiller@IO.COM&#x3E;</h3><span>5/8/2007 7:43:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote:</p><p>&gt; It isn&apos;t only microtonalists this affects.  It&apos;s a pain for &gt; modelling violins and all kinds of other instruments as &gt; well.  Exactly the things a post-MIDI protocol should be fixing.</p><p>For modeling things like a violin, it would be useful to have a whole set of continuous parameters for things like bow pressure, speed, and distance from the bridge. You&apos;d need to deal with notes that start on one pitch and slide up or down at the end (for an expressive effect), and to have control over both rate and depth of vibrato. So I wonder if it would make sense to have pitch as just another continuous parameter like the rest. One difference is that the resolution for pitch would have to be higher than for other parameters. But you could say that there are really only four &quot;notes&quot; on a violin (one for each string) and use the pitch parameter to select any arbitrary pitch on the string (within the range of pitches that are usable on that string).</p><p>(Another thing about the violin that MIDI doesn&apos;t handle is the difference between whether or not the bow remains on the string after the end of the note. Although I guess that could be handled like the sustain pedal on a piano. Bow direction could be handled by using a signed value for bow speed.)</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/8/2007 8:05:56 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Aaron Krister Johnson wrote:<br/>&gt; Graham,<br/>&gt; &gt; Yes, unfortunately it seems that the convention of most softsynths is<br/>&gt; being followed by the LADSPA and DSSI plugins.</p><p>No comments overnight I see.  Does anybody care?</p><p>I&apos;ve done some more poking and discovered GMPI.  DSSI is only a stop-gap until we all start using GMPI (rather like Linux and HURD).  GMPI is being sponsored by the MIDI Manufacturers Association and they seem to have nearly finished and then stopped.</p><p>The nitty gritty is at links like this:</p><p><a href="http://www.gmpi-plugins.org/gmpi/requirements.php">http://www.gmpi-plugins.org/gmpi/requirements.php</a></p><p>which I can&apos;t reach.  But I found this old mailing list post, which is promising:</p><p><a href="http://www.freelists.org/archives/gmpi/02-2003/msg00016.html">http://www.freelists.org/archives/gmpi/02-2003/msg00016.html</a></p><p>&quot;&quot;&quot;<br/>- Abstract note support<br/>   - Note identification not based on pitch.<br/>   - Not restricted to MIDI limitations (microtonal pitches<br/>     for example)<br/>   - Full customizable set of parameters per note<br/>   - Note tracking after Note Off event.<br/>&quot;&quot;&quot;</p><p>That looks like what we want.  It isn&apos;t interesting enough that I could find any more discussion of it, though.</p><p>&gt; I would however be willing to bet that if you forwarded your comments<br/>&gt; to the developers they might be considered in future releases. but who<br/>&gt; knows for sure....it&apos;s worth a try, anyway. Maybe at the very least, a</p><p>If somebody could send a list of VST plugins that support tuning tables that might help.  Getting the protocol right would greatly help with implementing such plugins.  If we don&apos;t have clout as users the fact that VST authors are dealing with these issues is surely significant.</p><p>My prosed solution is:</p><p>URGENT</p><p>- add a floating point pitch specification to the note-on message (either specifying frequency in Hz or a fractional MIDI note number, whatever plugin developers feel they&apos;d rather work with).</p><p>- make the DSSI API set this pitch to be 12= A440 where the host doesn&apos;t supply it</p><p>- encourage pitched-instrument plugins to use this pitch value, instead of calculating it themselves</p><p>DESIRED</p><p>- allow hosts to specify the pitch of a note-on independently of the MIDI note number (which can still be used for unpitched instruments and channel stealing algorithms)</p><p>- add tuning table support to the DSSI layer (or maybe allow for plugins to handle this somehow)</p><p>- encourage MIDI interfaces to do the right thing with MIDI Tuning Specification messages</p><p>I think this will maintain backwards compatibility, but make it easy for plugins to be microtuneable.</p><p>The mailing list, if anybody wants to start complaining, is:</p><p><a href="http://sourceforge.net/mail/?group_id=104230">http://sourceforge.net/mail/?group_id=104230</a></p><p>As I don&apos;t use VST or LADSPA I&apos;m not an obvious potential user, although I do use Csound in a way that won&apos;t be compatible with what they have now as I understand it.</p><p>                Graham</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>5/8/2007 8:15:45 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Herman Miller wrote:<br/>&gt; Graham Breed wrote:<br/>&gt; &gt; &gt;&gt;It isn&apos;t only microtonalists this affects.  It&apos;s a pain for &gt;&gt;modelling violins and all kinds of other instruments as &gt;&gt;well.  Exactly the things a post-MIDI protocol should be fixing.<br/>&gt; &gt; For modeling things like a violin, it would be useful to have a whole &gt; set of continuous parameters for things like bow pressure, speed, and &gt; distance from the bridge. You&apos;d need to deal with notes that start on &gt; one pitch and slide up or down at the end (for an expressive effect), &gt; and to have control over both rate and depth of vibrato. So I wonder if &gt; it would make sense to have pitch as just another continuous parameter &gt; like the rest. One difference is that the resolution for pitch would &gt; have to be higher than for other parameters. But you could say that &gt; there are really only four &quot;notes&quot; on a violin (one for each string) and &gt; use the pitch parameter to select any arbitrary pitch on the string &gt; (within the range of pitches that are usable on that string).</p><p>LADSPA uses 32-bit floats for all parameters.  And it should also be capable of handling a model like this.  I&apos;m not sure if DSSI allows parameters to affect individual notes so you might have to make it one string per channel (which would also fit MIDI better).  Still, if violin models did use DSSI they&apos;d probably find a work-around so we don&apos;t need to bother the specification team.  Although a standard &quot;frequency&quot; parameter would be nice.</p><p>&gt; (Another thing about the violin that MIDI doesn&apos;t handle is the &gt; difference between whether or not the bow remains on the string after &gt; the end of the note. Although I guess that could be handled like the &gt; sustain pedal on a piano. Bow direction could be handled by using a &gt; signed value for bow speed.)</p><p>There&apos;s always a work-around!</p><p>                         Graham</p></div>