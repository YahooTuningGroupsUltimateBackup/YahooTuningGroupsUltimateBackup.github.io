<a href="/tuning">back to list</a><h1>Re: [tuning] tg77 correction</h1><h3>Darren Burgess &#x3C;DBURGESS@ACCELERATION.NET&#x3E;</h3><span>3/30/2000 9:32:56 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I made a slight error in the last message re: tg77 retuning.</p><p>&gt; 1.  The synth.par file needs to be edited.  The &quot;tune&quot; section of<br/>instrument<br/>&gt; type 3 need an extra bit (00 or probably 01 for the second internal tuning<br/>&gt; table).</p><p>Actually, 01 in this bit would indicate note number 64 to 127.<br/>so, given the following parameter change message:</p><p>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $02 $27 $01 end sysevent</p><p>Bit5 is the synths user definable internal tuning table, either 00 or 01<br/> bit 6 is either 00 for notes 0-63 or 01 for notes 64- 127.<br/>bit 7 is the note to retune, even hex value only from 00 to 7E, inclusive<br/>bit 8 is coarse tuning<br/>bit 9 is fine tuning</p><p>Darren</p><p>Here is the correct text:<br/>&gt;<br/>&gt; !<br/>&gt; ! Type 3<br/>&gt; !<br/>&gt; Yamaha SY77/TG77/SY99/VL-1/VL-7<br/>&gt; 1024.0<br/>&gt; 5120<br/>&gt; 261.6256<br/>&gt; 16384<br/>&gt; 0<br/>&gt; 127<br/>&gt; ! init<br/>&gt; F0 43 10 19 05 03 F7<br/>&gt; ! prefix<br/>&gt; F0 43 10<br/>&gt; ! tune<br/>&gt; 34 0B 00 00<br/>&gt; ! suffix<br/>&gt; F7<br/>&gt;<br/>&gt; 2.  Also, Scala does not build the tuning parameter lines properly for<br/>this<br/>&gt; synth.<br/>&gt;<br/>&gt; Scala generates the following tuning messages given my scale and keymap:<br/>&gt;<br/>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $00 $24 $37 end sysevent<br/>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $01 $25 $65 end sysevent<br/>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $02 $27 $01 end sysevent<br/>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $03 $28 $0D end sysevent<br/>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $04 $29 $0E end sysevent<br/>&gt; 2;sysevent $43 $10 $34 $0B $00 $00 $05 $2A $04 end sysevent<br/>&gt;<br/>&gt; However, the MIDI parameter change table only uses _even_ hex numbers for<br/>&gt; N2, which is the 7th bit in each line.  The above parameter change<br/>messages<br/>&gt; with odd hex numbers in the 7th bit are ignored by the synth.  The correct<br/>&gt; code would be as follows:<br/>&gt;<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $00 $00 $24 $37 end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $00 $02 $25 $65 end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $00 $04 $27 $01 end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $00 $06 $28 $0D end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $00 $08 $29 $0E end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $00 $0A $2A $04 end sysevent<br/>&gt; etc, etc<br/>&gt;<br/>&gt; This would only apply to notes 0 to 63.  For notes 64 to 127, N1=01 (6th<br/>&gt; bit), yeilding the following text:<br/>&gt;<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $01 $00 $24 $37 end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $01 $02 $25 $65 end sysevent<br/>&gt;   2;sysevent $43 $10 $34 $0B $00 $01 $04 $27 $01 end sysevent<br/>&gt; etc, etc<br/>&gt;<br/>&gt; V1 (8th bit) , however, increments by 1.   V1 sets the course tuning (note<br/>&gt; number).<br/>&gt;<br/>&gt; Is there a config or parameter file in scala that can be changed to<br/>&gt; accomodate this quirk?  Or does the Scala code need to be fixed?<br/>&gt;<br/>&gt; Darren<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; ------------------------------------------------------------------------<br/>&gt; Good friends, school spirit, hair-dos you&apos;d like to forget.<br/>&gt; <a href="http://Classmates.com">Classmates.com</a> has them all. And with 4.4 million alumni already<br/>&gt; registered, there&apos;s a good chance you&apos;ll find your friends here:<br/>&gt; <a href="http://click.egroups.com/1/2623/1/_/239029/_/954430197/">http://click.egroups.com/1/2623/1/_/239029/_/954430197/</a><br/>&gt; ------------------------------------------------------------------------<br/>&gt;<br/>&gt; You do not need web access to participate.  You may subscribe through<br/>&gt; email.  Send an empty email to one of these addresses:<br/>&gt;   <a href="mailto:tuning-subscribe@onelist.com">tuning-subscribe@onelist.com</a> - subscribe to the tuning list.<br/>&gt;   <a href="mailto:tuning-unsubscribe@onelist.com">tuning-unsubscribe@onelist.com</a> - unsubscribe from the tuning list.<br/>&gt;   <a href="mailto:tuning-digest@onelist.com">tuning-digest@onelist.com</a> - switch your subscription to digest mode.<br/>&gt;   <a href="mailto:tuning-normal@onelist.com">tuning-normal@onelist.com</a> - switch your subscription to normal mode.<br/>&gt;<br/>&gt;</p></div>