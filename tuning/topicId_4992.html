<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning Project Retune: my adaptive JI methods</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>Project Retune: my adaptive JI methods</h1><h3><a id=4992 href="#4992">ðŸ”—</a>John A. deLaubenfels &#x3C;jadl@xxxxxx.xxxx&#x3E;</h3><span>9/21/1999 10:22:49 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>There has been some interest expressed in how I retuned the Beethoven<br/>Pathetique Sonata on my web site, so here&apos;s a brief description.  To<br/>set forth &quot;exactly&quot; how it&apos;s done, as one list member requested, would<br/>take thousands of lines of jabbering and would leave everyone asleep.<br/>Also, while I very much encourage others to do what I do, and to do me<br/>one better if possible, it seems fair for each of us to do some of the<br/>&quot;grunt work&quot; ourselves.</p><p>First, the limitations of my methods that I am aware of:</p><p>   . I consider all pairs of notes simultaneously sounding, but do not<br/>     consider interactions of three or more notes.  One implication: if<br/>     sub-minor tuning is encouraged, so will &quot;super-major&quot; triads.</p><p>   . I do not consider inversions any differently from non-inversions.<br/>     Every set of notes is resolved to a set of &quot;pitch12&apos;s&quot;, with no<br/>     consideration of the octave(s) that a given pitch12 comes from.</p><p>   . I do not attempt to divine the home key of a piece.  Modulations<br/>     get equal consideration to the first and final chords.</p><p>   . Because I effect tuning using pitch bends, multi-voice sequences<br/>     can&apos;t be retuned using my program (fancy sound cards that listen<br/>     on many ports could support multiple voices, but the program<br/>     doesn&apos;t, yet...).</p><p>   . I do not consider any implications of the timbre of a voice.</p><p>   . I use General Midi, and don&apos;t support the unique characteristics<br/>     of specific synthesizers.</p><p>A general description of what the program does:</p><p>   . The sequence is read into program memory.  I use a long linked list<br/>     so that events can be added and removed easily.</p><p>   . A user-selected set of tuning file(s) is read into memory.  Each<br/>     file is nothing more than a bend set and a numerical rating of the<br/>     desirability of each of the intervals formed, which I&apos;ve pulled out<br/>     of the air over time.  Each tuning is assumed applicable in any of<br/>     12 keys.</p><p>   . Each note-on / note-off pair is resolved into a volume for a<br/>     particular pitch12 for a particular range of time.</p><p>   . Each range of time having a constant set of pitch12 volumes is<br/>     evaluated against all possible tunings present in the program, and<br/>     the best tuning is picked based upon the summation of the<br/>     &quot;goodness&quot; of each pair of notes as tuned.</p><p>The first Pathetique posting, almost 300K long, did no more than apply<br/>bends to match the above.  The result is interesting, but incomplete:<br/>the tuning is &quot;constantly&quot; changing, and therefore sounds glitchy in<br/>many places.  To add refinement,</p><p>   . Adjacent tunings form a &quot;seam&quot;, the characteristics of which depend<br/>     upon the tuning on each side as well as the pitch12&apos;s sounding<br/>     before, during and after the seam.  Many seams can be evaluated to<br/>     be unworkable because of the &quot;pain&quot; of retuning notes continuously<br/>     sounding.  Thus, a process of condensation begins, drastically<br/>     reducing the number of seams and therefore the byte length of the<br/>     sequence.  The Pathetique is at about 109K now, down from 297K!</p><p>Sometimes the set of notes present on each side of a seam &quot;forces&quot; the<br/>retuning of notes continuously sounding, and it&apos;s worth the pain of<br/>transition to get the pleasure of nice tuning on both sides.  The<br/>program has adjustable coefficients, so that one can tend to achieve<br/>either:</p><p>   . fewer transitions and therefore less retuning pain, in exchange for<br/>     some passages not being tuned ideally.</p><p>   . more transitions, more retuning pain, but better tuning in each<br/>     small moment of time.</p><p>I pick a set of coefficients that seems to my ears to strike about the<br/>right balance, but, once the program is polished enough to share, others<br/>can pick their own values to achieve a different balance.</p><p>I haven&apos;t yet mentioned &quot;drift&quot;, the tendency of the absolute tuning of<br/>a piece to move in time in response to &quot;comma pump&quot; sequences, the<br/>simplest of which may be C-A-D-G-C (long minor third down plus three<br/>short fourths up, ending a syntonic comma flat; to put it another way,<br/>5/6 * 4/3 * 4/3 * 4/3 = 320/162 = 80/81 (after octave correction)).<br/>Right now, the program &quot;takes&quot; drift and then exponentially decays it<br/>away, a not very sophisticated approach, but serviceable.</p><p>Well, that&apos;s enough to either bore or whet the appetite of fellow<br/>listers.  Any questions?  Any alternate theories, methods that might be<br/>superior?</p><p>JdL</p></div><h3><a id=5011 href="#5011">ðŸ”—</a>manuel.op.de.coul@xxx.xxx</h3><span>9/22/1999 2:40:05 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Any alternate theories, methods that might be superior?</p><p>The best approach I have heard so far is from Bill Sethares, described<br/>in his book &quot;Tuning, Timbre, Spectrum, Scale&quot;, see the chapter about<br/>adaptive tunings. A link to the web page about it is in the tuning<br/>bibliography. He takes the sound spectrum into consideration, but even<br/>if you don&apos;t want to do that, listening to the sound examples on the<br/>CD supplied with the book is instructive. There are a few bars of a<br/>Scarlatti sonata retuned by different methods.<br/>The big difference comes from retuning sounding notes slowly instead<br/>of suddenly. Try it!</p><p>Manuel Op de Coul    <a href="mailto:coul@ezh.nl">coul@ezh.nl</a></p></div><h3><a id=5021 href="#5021">ðŸ”—</a>Paul H. Erlich &#x3C;PErlich@xxxxxxxxxxxxx.xxxx&#x3E;</h3><span>9/22/1999 11:18:31 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Manuel wrote,</p><p>&gt;The big difference comes from retuning sounding notes slowly instead<br/>&gt;of suddenly. Try it!</p><p>John d.L. has already made the point that this would be preferable, in case<br/>you missed that. Anyway, I&apos;m curious, John: Since everything is<br/>mirror-symmetrical in your program, what happens to dominant ninth chords?<br/>It would seem that your program would have no way to decide between<br/>4:5:6:7:9 and 1/9:1/7:1/6:1/5:1/4, since they are equally close to 12-tET<br/>and have the same intervals.</p></div><h3><a id=5044 href="#5044">ðŸ”—</a>Carl Lumma &#x3C;clumma@xxx.xxxx&#x3E;</h3><span>9/22/1999 10:03:12 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;4:5:6:7 is a common tuning for the dominant seventh chord in barbershop<br/>&gt;music, but is more controversial for classical music.<br/>&gt;<br/>&gt;I haven&apos;t been able to get his retuned sequences to work on my computer,</p><p>The controversy should disappear when you do; certainly both of these<br/>tunings are viable for the sonata.</p><p>&gt;I wouldn&apos;t use it except for the augmented sixth chord, where it is<br/>&gt;historically appropriate.</p><p>Bach chorales harmonize nicely with 4:5:6:7 dominants in many spots,<br/>speaking by way of classical theory.</p><p>And please acknowledge that this way of speaking is generally at a loss to<br/>explain what is possible when notes can be retuned while they are sounding,<br/>and when modulations can by made by intervals outside the scale.</p><p>&gt;First of all, I would like to say that I don&apos;t like the idea of using just<br/>&gt;intonation for Mozart and Bach,</p><p>Why not?  Mozart is a sucker for it.  Bach probably reaches maximum<br/>goodness with extended meantone, save the chorales (in adaptive JI).</p><p>&gt;there is certainly no &quot;official solution&quot; recognized by &quot;USA&quot;.</p><p>So?  (USA = unsigned agreement?)</p><p>&gt;But anyway, I believe Mozart did occasionally reinterpret German augmented<br/>&gt;sixths as dominant seventh, while Bach did not, so that&apos;s one excuse for<br/>&gt;using 4:5:6:7 for Mozart but not Bach.</p><p>Eh?  One could just as well tune augmented sixths as 7/4&apos;s and dominant<br/>sevenths as 9/5&apos;s when resolving the 6th chord to the V.</p><p>-C.</p></div><h3><a id=5050 href="#5050">ðŸ”—</a>John A. deLaubenfels &#x3C;jadl@xxxxxx.xxxx&#x3E;</h3><span>9/23/1999 9:20:32 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[me, TD 326.7:]<br/>&gt;&gt; Any alternate theories, methods that might be superior?</p><p>[Manuel Op de Coul, TD 327.1:]<br/>&gt; The best approach I have heard so far is from Bill Sethares, described<br/>&gt; in his book &quot;Tuning, Timbre, Spectrum, Scale&quot;, see the chapter about<br/>&gt; adaptive tunings. A link to the web page about it is in the tuning<br/>&gt; bibliography. He takes the sound spectrum into consideration, but even<br/>&gt; if you don&apos;t want to do that, listening to the sound examples on the<br/>&gt; CD supplied with the book is instructive. There are a few bars of a<br/>&gt; Scarlatti sonata retuned by different methods.</p><p>Thanks for the reference; I just ordered the book from <a href="http://Amazon.com">Amazon.com</a>!  Is<br/>Bill still on the list? (I&apos;m pretty sure I remember seeing his name when<br/>I first joined early this year).</p><p>[Manuel Op de Coul, TD 327.1:]<br/>&gt; The big difference comes from retuning sounding notes slowly instead<br/>&gt; of suddenly. Try it!</p><p>[Paul Erlich, TD 327.11:]<br/>&gt; John d.L. has already made the point that this would be preferable, in<br/>&gt; case you missed that.</p><p>Yes, I have made that point, and I have used gradual bends, including<br/>in the existing version of JI Relay (April 1999), but Manuel has caught<br/>me: I haven&apos;t yet added gradual retuning to the Project Retune program<br/>used on the Pathetique.  It&apos;s just about next on my list of things to<br/>do!  To my ear, gradual retuning is most important for horns and winds,<br/>in which there is a non-percussive start to new notes that doesn&apos;t<br/>&quot;cover&quot; bends to already-sounding other notes.  But I&apos;m gonna get it in<br/>there!</p><p>[Paul Erlich, TD 327.11:]<br/>&gt; Anyway, I&apos;m curious, John: Since everything is mirror-symmetrical in<br/>&gt; your program, what happens to dominant ninth chords?  It would seem<br/>&gt; that your program would have no way to decide between 4:5:6:7:9 and<br/>&gt; 1/9:1/7:1/6:1/5:1/4, since they are equally close to 12-tET and have<br/>&gt; the same intervals.</p><p>Good question!  The answer is that I don&apos;t QUITE go entirely on the<br/>basis of pairs of notes alone.  The program is told to load one or more<br/>tuning files into memory.  This gives a finite set of possible tunings<br/>for each moment in time (for me, it&apos;s typically 13: 12 permutations of<br/>JI seven-limit and one 12-tet for things that won&apos;t JI tune well (see<br/>previous discussions for examples)).  In order to achieve a utonal<br/>1/9:1/7:1/6:1/5:1/4, I&apos;d need a tuning file which in and of itself<br/>provided tuning for such a chord, which I don&apos;t!  (I want to try it,<br/>though, and see what it sounds like!).</p><p>It would be more difficult, but perhaps not impossible, to manipulate<br/>the tuning files to achive sub-minor chords without super-major ones;<br/>I&apos;d have to give that more thought.</p><p>[Paul Erlich, TD 327.17:]<br/>&gt; (I haven&apos;t been able to get his retuned sequences to work on my<br/>&gt; computer, though other microtonal MIDI files have in the past).</p><p>Dang!  Are you streaming from the web, or are you downloading the file<br/>and playing it locally? (I recommend the latter).  Is it out of tune, or<br/>does it not play at all?</p><p>JdL</p></div><h3><a id=5055 href="#5055">ðŸ”—</a>Paul H. Erlich &#x3C;PErlich@xxxxxxxxxxxxx.xxxx&#x3E;</h3><span>9/23/1999 12:51:05 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma wrote,</p><p>&gt;And please acknowledge that this way of speaking is generally at a loss to<br/>&gt;explain what is possible when notes can be retuned while they are sounding,<br/>&gt;and when modulations can by made by intervals outside the scale.</p><p>Yes, it&apos;s very important to keep these issues in mind. I was thinking in<br/>terms of John&apos;s project, where there is no limitation on the total number of<br/>pitches, short-term sliding will hide comma shifts, and long-term sliding<br/>will hide comma drifts.</p><p>I wrote,</p><p>&gt;&gt;But anyway, I believe Mozart did occasionally reinterpret German augmented<br/>&gt;&gt;sixths as dominant seventh, while Bach did not, so that&apos;s one excuse for<br/>&gt;&gt;using 4:5:6:7 for Mozart but not Bach.</p><p>Carl Lumma wrote,</p><p>&gt;Eh?  One could just as well tune augmented sixths as 7/4&apos;s and dominant<br/>&gt;sevenths as 9/5&apos;s when resolving the 6th chord to the V.</p><p>I said _reinterpret_, not _resolve_. This would happen when modulating up a<br/>minor second.</p></div><h3><a id=5060 href="#5060">ðŸ”—</a>Paul H. Erlich &#x3C;PErlich@xxxxxxxxxxxxx.xxxx&#x3E;</h3><span>9/23/1999 1:35:30 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>John deLaubenfels wrote, wrote,</p><p>&gt;This gives a finite set of possible tunings<br/>&gt;for each moment in time (for me, it&apos;s typically 13: 12 permutations of<br/>&gt;JI seven-limit and one 12-tet for things that won&apos;t JI tune well (see<br/>&gt;previous discussions for examples)).  In order to achieve a utonal<br/>&gt;1/9:1/7:1/6:1/5:1/4, I&apos;d need a tuning file which in and of itself<br/>&gt;provided tuning for such a chord, which I don&apos;t!  (I want to try it,<br/>&gt;though, and see what it sounds like!).</p><p>&gt;It would be more difficult, but perhaps not impossible, to manipulate<br/>&gt;the tuning files to achive sub-minor chords without super-major ones;<br/>&gt;I&apos;d have to give that more thought.</p><p>I&apos;d love to see your finite set of tunings and discuss other possibilities<br/>with you. By the way, what do you think is the right tuning for the<br/>half-diminished seventh chord: 1/7:1/6:1/5:1/4, or 5:6:7:9? I think I would<br/>allow context to decide, and might have to slide between the two in some<br/>situations.</p><p>&gt;Dang!  Are you streaming from the web, or are you downloading the file<br/>&gt;and playing it locally? (I recommend the latter).  Is it out of tune, or<br/>&gt;does it not play at all?</p><p>I didn&apos;t notice any streaming going on when I successfully played the 12-tET<br/>file, so I assume it loaded first (I have a fast connection). The other<br/>files were said to contain errors.</p></div><h3><a id=5071 href="#5071">ðŸ”—</a>John A. deLaubenfels &#x3C;jadl@idcomm.com&#x3E;</h3><span>9/24/1999 10:36:17 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[Paul Erlich, TD 329.15 - problems playing retuned files...]</p><p>Paul, it sounds like you were streaming from the web.  Please try<br/>downloading the files to your local drive before you play them.  The<br/>sizes should be:</p><p>   105613  be-ps-08z5.mid<br/>   101793  be-ps-08z7.mid</p><p>If you don&apos;t get this number of bytes, I&apos;ll be glad to e-mail you the<br/>files.  I actually have slightly more up-to-date retunings that aren&apos;t<br/>on the web site yet - I don&apos;t want to post everyone to death!  If you DO<br/>get this number of bytes and still can&apos;t play the file, I&apos;d say, try<br/>another player program.  Are you running Win 95/98?  Media Player works<br/>well.</p><p>[Paul:]<br/>&gt; I&apos;d love to see your finite set of tunings and discuss other<br/>&gt; possibilities with you.</p><p>Sounds good!  Clearly I haven&apos;t explored the possibilities in depth.</p><p>&gt; By the way, what do you think is the right tuning for the<br/>&gt; half-diminished seventh chord: 1/7:1/6:1/5:1/4, or 5:6:7:9? I think I<br/>&gt; would allow context to decide, and might have to slide between the two<br/>&gt; in some situations.</p><p>I&apos;ve got to confess - I&apos;ve never tuned it 1/7:1/6:1/5:1/4; that would<br/>of course be consistent with the &quot;reverse dominant ninth&quot; for which a<br/>new tuning file would be needed.</p><p>The following are the current contents of the &quot;just7.tun&quot; file:</p><p>#<br/># just7.tun<br/>#<br/># modification history:<br/>#    08-17-99 (jdl): new from just1.tun.<br/>#<br/>#<br/>#<br/>#<br/># tuning:<br/># cols 1-8 have mbu for +/- 1 semitone voice; halve for +/- 2 (usual):<br/># (81.92 mbu/cent at this scale; 40.96 mbu/cent at +/- 2):<br/>#<br/>       0        # 0; the reference, &quot;C&quot;<br/>       0        # 1; has no known harmonic place in the scale...<br/>    +320        # 2; 9/8 of C<br/>   +1281        # 3; 6/5 of C<br/>   -1121        # 4; 5/4 of C<br/>    -160        # 5; 4/3 of C<br/>    -801        # 6; 15/16 of 7<br/>    +160        # 7; 3/2 of C<br/>   +1121        # 8; 4/5 of 12<br/>   -1281        # 9; 5/6 of C<br/>   -2553        # A; 7/8 of C: 7-limit!!!<br/>    -961        # B; 15/16 of C</p><p># interval goodness:<br/># 6 as 15/16 of 7; 8 as 4/5 of 12:<br/># interval starting at:<br/>#    0     1     2     3     4     5     6     7     8     9    10    11<br/># interval 0:<br/>    +8   -16     0     0     0     0   -16     0   -16     0     0     0<br/># interval 1:<br/>   -16   -16    +8   -16    +8   -16     0   -16  -128   -16     0   +16<br/># interval 2:<br/>    +8   -32     0     0    -8    +8  -128     0  -128    +8     0   -32<br/># interval 3:<br/>     0   -32   -64   -16   +16    +8   -64    +4  -128    +8   -64    +8<br/># interval 4:<br/>   +32   -64     0   +16  -256   +16  -128   +24    +8   -64     0  -128<br/># interval 5:<br/>     0  -256    +8    -8     0  -256    -8   +16  -256  -256  -256     0<br/># interval 6 (must repeat identical groups of 6):<br/>   -16   -32   -32   -32    +8   -16   -16   -32   -32   -32    +8   -16</p><p>[end of file...]</p><p>This is probably confusing as heck.  The first section gives the actual<br/>tuning to use.  Note 4 is tuned -1121 &quot;Midi Bend Units&quot; (mbu), which<br/>works out to -1121/81.92 = -13.68 cents, a more familiar number for<br/>adjusting E to sound well against C (-13.69 is theoretical, but anything<br/>finer than 1 mbu is unachievable with midi anyway...).</p><p>The second section tells how &quot;good&quot; each resultant interval is.  If we<br/>play, say, D and F together, that&apos;s interval 3 starting at 2, which<br/>shows -64: pythagorean tuning does not make a good minor third.  On the<br/>other hand, E and G together are interval 3 starting at 4, which shows<br/>+16: it&apos;s tuned 5:6, which is very good.</p><p>JdL</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            