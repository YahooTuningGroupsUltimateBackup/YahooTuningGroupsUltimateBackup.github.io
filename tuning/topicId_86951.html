<a href="/tuning">back to list</a><h1>Method for approximating intervals?</h1><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>3/8/2010 3:22:52 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi everyone,</p><p>Does anyone know of a good method for finding lower intervals from higher ones? For eg, given major third 81/64, the next closest interval down is 62/49. My idea is to apply this method repeatedly until we arrive at the lowest one, in this case 5/4. So far I&apos;ve been doing it with mediants (a + p)/(b + q) which seems to be working but is a bit laborious. John Chalmers kindly wrote me a &apos;brute force&apos; algorithm which works perfectly (thanks John) but I&apos;m not good with programming languages. Also Kraig sent me Viggo Brun&apos;s algorithm but without an example I find it hard to understand.</p><p>Thanks</p><p>-Rick</p></div><h3>hfmlacerda &#x3C;hfmlacerda@...&#x3E;</h3><span>3/8/2010 6:49:13 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;rick&quot; &lt;rick_ballan@...&gt; wrote:<br/>&gt; Does anyone know of a good method for finding lower intervals from higher ones?</p><p>Math software can have this facility.</p><p>For example, with GNU Octave, there is the function &quot;rats&quot; with arbitrary &quot;tolerance&quot;:</p><p>===========================================================<br/> -- Function File: S = rats (X, TOL)<br/>     Convert X into a rational approximation represented as a string.<br/>     You can convert the string back into a matrix as follows:</p><p>             eval([&quot;[&quot;,rats(hilb(4)),&quot;];&quot;])</p><p>     The optional second argument defines the tolerance to that the<br/>     rational approximation will be calculated to.<br/>   See also: rat.<br/>===========================================================</p><p>Examples:</p><p>octave:21&gt;  rats(81/64,.1)<br/>ans = 5/4<br/>octave:22&gt;  rats(81/64,.01)<br/>ans = 19/15<br/>octave:23&gt;  rats(81/64,.001)<br/>ans = 81/64</p></div><h3>hpiinstruments &#x3C;aaronhunt@...&#x3E;</h3><span>3/8/2010 7:32:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Rick. I think you&apos;re looking for &apos;convergents&apos;:<br/>&lt;<a href="http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/cfCALC.html?>">http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/cfCALC.html?></a><br/>Cheers,<br/>AAH<br/>=====</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;rick&quot; &lt;rick_ballan@...&gt; wrote:<br/>&gt;<br/>&gt; Hi everyone,<br/>&gt;<br/>&gt; Does anyone know of a good method for finding lower intervals from higher ones? For eg, given major third 81/64, the next closest interval down is 62/49. My idea is to apply this method repeatedly until we arrive at the lowest one, in this case 5/4. So far I&apos;ve been doing it with mediants (a + p)/(b + q) which seems to be working but is a bit laborious. John Chalmers kindly wrote me a &apos;brute force&apos; algorithm which works perfectly (thanks John) but I&apos;m not good with programming languages. Also Kraig sent me Viggo Brun&apos;s algorithm but without an example I find it hard to understand.<br/>&gt;<br/>&gt; Thanks<br/>&gt;<br/>&gt; -Rick<br/>&gt;</p></div><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>3/9/2010 4:57:13 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Thanks very much,</p><p>I&apos;ve been trying to figure out a similar thing with Mathematica 7 but its sooo deep. I&apos;ll have to look up this other program and language. What does rats stand for btw?</p><p>-Rick</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;hfmlacerda&quot; &lt;hfmlacerda@...&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;rick&quot; &lt;rick_ballan@&gt; wrote:<br/>&gt; &gt; Does anyone know of a good method for finding lower intervals from higher ones?<br/>&gt;<br/>&gt; Math software can have this facility.<br/>&gt;<br/>&gt; For example, with GNU Octave, there is the function &quot;rats&quot; with arbitrary &quot;tolerance&quot;:<br/>&gt;<br/>&gt; ===========================================================<br/>&gt;  -- Function File: S = rats (X, TOL)<br/>&gt;      Convert X into a rational approximation represented as a string.<br/>&gt;      You can convert the string back into a matrix as follows:<br/>&gt;<br/>&gt;              eval([&quot;[&quot;,rats(hilb(4)),&quot;];&quot;])<br/>&gt;<br/>&gt;      The optional second argument defines the tolerance to that the<br/>&gt;      rational approximation will be calculated to.<br/>&gt;    See also: rat.<br/>&gt; ===========================================================<br/>&gt;<br/>&gt; Examples:<br/>&gt;<br/>&gt; octave:21&gt;  rats(81/64,.1)<br/>&gt; ans = 5/4<br/>&gt; octave:22&gt;  rats(81/64,.01)<br/>&gt; ans = 19/15<br/>&gt; octave:23&gt;  rats(81/64,.001)<br/>&gt; ans = 81/64<br/>&gt;</p></div><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>3/9/2010 4:54:15 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Thanks Aaron,</p><p>Very handy indeed. I&apos;ve bookmarked that site.</p><p>-Rick</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;hpiinstruments&quot; &lt;aaronhunt@...&gt; wrote:<br/>&gt;<br/>&gt; Hi Rick. I think you&apos;re looking for &apos;convergents&apos;:<br/>&gt; &lt;<a href="http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/cfCALC.html?>">http://www.maths.surrey.ac.uk/hosted-sites/R.Knott/Fibonacci/cfCALC.html?></a><br/>&gt; Cheers,<br/>&gt; AAH<br/>&gt; =====<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;rick&quot; &lt;rick_ballan@&gt; wrote:<br/>&gt; &gt;<br/>&gt; &gt; Hi everyone,<br/>&gt; &gt;<br/>&gt; &gt; Does anyone know of a good method for finding lower intervals from higher ones? For eg, given major third 81/64, the next closest interval down is 62/49. My idea is to apply this method repeatedly until we arrive at the lowest one, in this case 5/4. So far I&apos;ve been doing it with mediants (a + p)/(b + q) which seems to be working but is a bit laborious. John Chalmers kindly wrote me a &apos;brute force&apos; algorithm which works perfectly (thanks John) but I&apos;m not good with programming languages. Also Kraig sent me Viggo Brun&apos;s algorithm but without an example I find it hard to understand.<br/>&gt; &gt;<br/>&gt; &gt; Thanks<br/>&gt; &gt;<br/>&gt; &gt; -Rick<br/>&gt; &gt;<br/>&gt;</p></div><h3>hfmlacerda &#x3C;hfmlacerda@...&#x3E;</h3><span>3/9/2010 4:42:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;rick&quot; &lt;rick_ballan@...&gt; wrote:<br/>&gt;<br/>&gt; What does rats stand for btw?</p><p>I guess it is something like &quot;ratio as string&quot;. Its output is a character string.</p></div><h3>rick &#x3C;rick_ballan@...&#x3E;</h3><span>3/9/2010 4:37:29 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Oh I&apos;ll take a wild guess that Rats = Ratios!</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;hfmlacerda&quot; &lt;hfmlacerda@...&gt; wrote:<br/>&gt;<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;rick&quot; &lt;rick_ballan@&gt; wrote:<br/>&gt; &gt; Does anyone know of a good method for finding lower intervals from higher ones?<br/>&gt;<br/>&gt; Math software can have this facility.<br/>&gt;<br/>&gt; For example, with GNU Octave, there is the function &quot;rats&quot; with arbitrary &quot;tolerance&quot;:<br/>&gt;<br/>&gt; ===========================================================<br/>&gt;  -- Function File: S = rats (X, TOL)<br/>&gt;      Convert X into a rational approximation represented as a string.<br/>&gt;      You can convert the string back into a matrix as follows:<br/>&gt;<br/>&gt;              eval([&quot;[&quot;,rats(hilb(4)),&quot;];&quot;])<br/>&gt;<br/>&gt;      The optional second argument defines the tolerance to that the<br/>&gt;      rational approximation will be calculated to.<br/>&gt;    See also: rat.<br/>&gt; ===========================================================<br/>&gt;<br/>&gt; Examples:<br/>&gt;<br/>&gt; octave:21&gt;  rats(81/64,.1)<br/>&gt; ans = 5/4<br/>&gt; octave:22&gt;  rats(81/64,.01)<br/>&gt; ans = 19/15<br/>&gt; octave:23&gt;  rats(81/64,.001)<br/>&gt; ans = 81/64<br/>&gt;</p></div>