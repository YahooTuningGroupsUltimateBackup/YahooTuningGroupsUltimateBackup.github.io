<a href="/tuning">back to list</a><h1>Re: How to cope with basic rounding errors?</h1><h3><a id=20548 href="#20548">ðŸ”—</a>M. Schulter &#x3C;MSCHULTER@VALUE.NET&#x3E;</h3><span>3/29/2001 2:53:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hello, there, everyone, and I have a simple but somewhat perplexing<br/>question maybe dealing more with conventions than strict logic: the<br/>best way to treat rounding errors in dealing with such quantities as<br/>the sizes of intervals in cents.</p><p>While discussions of such errors often focus on computer software<br/>issues, I&apos;m referring to a simpler and inevitable complication of<br/>decimal arithmetic: the situation where adding two intervals rounded<br/>in cents to a certain number of significant places produces a third<br/>value which, when similarly rounded, appears to be too large or<br/>small.</p><p>For example, in a paper otherwise ready to post, I discuss a tuning<br/>which has these rounded values for the diesis or &quot;12-comma&quot; (12 fifths<br/>up less 7 octaves), the &quot;17-comma&quot; (10 octaves less 17 fifths, or 17<br/>fourths up), and the diatonic semitone or limma (5 fourths up). Note<br/>that the first two intervals should add up precisely to the limma:</p><p>            diesis or 12-comma            ~55.28 cents<br/>            17-comma                      ~21.68 cents<br/>                                          ------------<br/>            diatonic semitone or limma    ~76.97 cents</p><p>What&apos;s happening here is that the two smaller intervals are actually<br/>about 55.283 cents and 21.683 cents, while the limma is about 76.965<br/>cents -- an explanation itself involving another rounding error of the<br/>same type at the next higher level of decimal precision! In contrast,<br/>going to yet another digit of precision seems to avoid this problem:</p><p>         diesis or 12-comma            ~55.2829 cents<br/>         17-comma                      ~21.6826 cents<br/>                                       --------------<br/>         diatonic semitone or limma    ~76.9655 cents</p><p>Here&apos;s the question: what is the best, and/or most conventional,<br/>way of coping with such results where the values don&apos;t seem quite to<br/>&quot;add up&quot; when each interval is correctly rounded at a given precision:</p><p>           (1) Simply let the result stand, maybe adding a<br/>               brief remark somewhere that this is the policy,<br/>               to reassure readers who may observe what appear<br/>               to be &quot;anomalies&quot; (e.g. 55.28 + 21.68 = 76.97);</p><p>           (2) Take the license of inaccurately rounding<br/>               whichever value would be closest to the next<br/>               higher or lower amount permitting a result<br/>               which &quot;looks&quot; correct -- maybe not so shocking<br/>               a proposal, given the common statement of the<br/>               Pythagorean comma as &quot;about 24 cents&quot; when it<br/>               is actually around 23.46 cents, or a rounded<br/>               23 cents -- (e.g. 55.28 + 21.68 = 76.96);</p><p>           (3) Use the closest convenient degree of precision<br/>               where accurately rounded values &quot;add up&quot; as<br/>               expected (e.g. 55.3 + 21.7 = 97.0; or<br/>               55.2829 + 21.6826 = 76.9655).</p><p>Might the context have something to do with the choice. In a table of<br/>intervals for a tuning, I would follow (1) as a matter of course.</p><p>The problem I raise here comes up specifically in the setting of a bar<br/>graph and discussion about the 12-comma or diesis, 17-comma, and<br/>diatonic semitone where the way that the first two intervals &quot;add up&quot;<br/>to the third is a main focus of attention, so that the rounding error<br/>problem seems more glaring.</p><p>Here two decimals of precision for values in cents seems to be a<br/>widespread style in the paper, so that I might lean toward (1) or<br/>possibly (2) if people consider it reasonable or acceptable; but any<br/>advice would be much appreciated.</p><p>Most respectfully,</p><p>Margo Schulter<br/><a href="mailto:mschulter@value.net">mschulter@value.net</a></p></div><h3><a id=20566 href="#20566">ðŸ”—</a>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/30/2001 6:24:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Margo,</p><p>This is just one of those awkward things one has to live with, and the<br/>methods you describe are the main ones for dealing with it I believe.</p><p>You get it especially obviously with percentages. 41.3% voted for A,<br/>36.4% for B, and 22.3 % for C. Round to the nearest percent, and<br/>41% voted for A, 26% for B, and 22% for C, and a sharp eye will notice<br/>the missing 1%.</p><p>I&apos;d be inclined to go for (1)<br/>&gt;            (1) Simply let the result stand, maybe adding a<br/>&gt;                brief remark somewhere that this is the policy,<br/>&gt;                to reassure readers who may observe what appear<br/>&gt;                to be &quot;anomalies&quot; (e.g. 55.28 + 21.68 = 76.97);</p><p>Just round normally, and quote one more place of decimals thatn the<br/>reader is going to need. Unless one is giving examples of how to<br/>calculate, and the calculation involves adding the two values in<br/>cents, in which case one miht feel it kinder to the beginner to<br/>make the answer sum of the two numbers added, just as it would<br/>be if they caclulated it themselves to the same number of<br/>decimal places.</p><p>If one shows one extra place beyond the decimal places of interest<br/>to the reader, only a very keen eye will spot anything, and one can<br/>probably reasonably assume that aif anyone sees it, they are also<br/>likely to understand the reason, or be able to derive it fairly<br/>easily.</p><p>I wonder if you know the geometrical paradoxes that exploit a kind<br/>of rounding error effect. Consists of a rectangle of squared paper<br/>cut into triangles and other shapes. You work out the area in the usual way as the<br/>number of squares. Then you re-arrange the triangles to make a rectangle<br/>of another shape, and when you count the squares this time, you find<br/>that there is an extra one. Where did the extra unit of area come<br/>from?</p><p>Here is a modern version of it.<br/><a href="http://www.mathematik.uni-bielefeld.de/~sillke/PUZZLES/jigsaw-paradox.html">http://www.mathematik.uni-bielefeld.de/~sillke/PUZZLES/jigsaw-paradox.html</a></p><p>The two large triangles are exactly the same shape, and made out of the<br/>same pieces, but the one below has a hole in it.</p><p>The pieces are accurately drawn, and there is no fudging involved in<br/>the diagram - it is an accurate diagram in all respects.</p><p>Robert</p></div><h3><a id=20567 href="#20567">ðŸ”—</a>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/30/2001 6:37:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Margo,</p><p>&gt; The two large triangles are exactly the same shape, and made out of the<br/>&gt; same pieces, but the one below has a hole in it.</p><p>Sorry, should have said, the two large shapes have exactly the same<br/>horizontal and vertical dimensions.</p><p>Hope this doesn&apos;t immediately give away the solution to the paradox.<br/>I think perhaps not, or at least, one needs a little thought and one<br/>has an extra step to accomplish.</p><p>Robert</p></div><h3><a id=20575 href="#20575">ðŸ”—</a>Haresh BAKSHI &#x3C;hareshbakshi@hotmail.com&#x3E;</h3><span>3/30/2001 6:32:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;M. Schulter&quot; &lt;MSCHULTER@V...&gt; wrote:<br/>&gt; Hello, there, everyone, and I have a simple but somewhat perplexing<br/>&gt; question maybe dealing more with conventions than strict logic: the<br/>&gt; best way to treat rounding errors in dealing with such quantities as<br/>&gt; the sizes of intervals in cents.<br/>&gt;</p><p>Hello Margo, while I am getting ready to post my response to your<br/>excellent &quot;Re: European counterpoint -- for Haresh&quot;, allow me to send<br/>you the following list of sites related to rounding off of numbers<br/>and significant figures.  I presume that this topic is very relevant,<br/>that rounding off has the same significance in music math as in day-<br/>to-day math, and that it may qualify to be included in the FAQ.  I<br/>understand that the data type determines whether a number must be<br/>rounded in order to be stored in any type of tabulation.   Please<br/>neglect this list if you think it may not serve any useful purpose.</p><p>Regards,<br/>Haresh.</p><p><a href="http://academic.brooklyn.cuny.edu/geology/leveson/core/linksa/roundoff">http://academic.brooklyn.cuny.edu/geology/leveson/core/linksa/roundoff</a><br/>.html<br/><a href="http://inst.santafe.cc.fl.us/~natsci/adjunct/pbennett/Jan-12/">http://inst.santafe.cc.fl.us/~natsci/adjunct/pbennett/Jan-12/</a><br/><a href="http://online.redwoods.cc.ca.us/instruct/Milo/1/tsld055.htm">http://online.redwoods.cc.ca.us/instruct/Milo/1/tsld055.htm</a><br/><a href="http://www.mathleague.com/help/decwholeexp/decwholeexp.htm">http://www.mathleague.com/help/decwholeexp/decwholeexp.htm</a><br/><a href="http://www.pmel.org/HandBook/HBpage7.htm">http://www.pmel.org/HandBook/HBpage7.htm</a><br/><a href="http://www.phys.unt.edu/PIC/Home/significant_figures.htm">http://www.phys.unt.edu/PIC/Home/significant_figures.htm</a><br/><a href="http://ecivwww.cwru.edu/civil/engr200/e200-lec1/tsld024.htm">http://ecivwww.cwru.edu/civil/engr200/e200-lec1/tsld024.htm</a><br/><a href="http://west.pima.edu/~achristensen/197/metricandsci/sld002.htm">http://west.pima.edu/~achristensen/197/metricandsci/sld002.htm</a><br/><a href="http://www.uop.edu/cop/psychology/Statistics/Rounding.html">http://www.uop.edu/cop/psychology/Statistics/Rounding.html</a><br/><a href="http://cstl.syr.edu/FIPSE/decunit/roundec/Roundec.htm">http://cstl.syr.edu/FIPSE/decunit/roundec/Roundec.htm</a><br/><a href="http://dl.clackamas.cc.or.us/ch104-02/signific1.htm">http://dl.clackamas.cc.or.us/ch104-02/signific1.htm</a><br/><a href="http://wwwchem.tamu.edu/class/fyp/mathrev/mr-sigfg.html">http://wwwchem.tamu.edu/class/fyp/mathrev/mr-sigfg.html</a><br/><a href="http://www.accessexcellence.com/AE/newatg/Wasielewski/">http://www.accessexcellence.com/AE/newatg/Wasielewski/</a><br/><a href="http://sunsite.informatik.rwth-aachen.de/fortran/ch4-1.html">http://sunsite.informatik.rwth-aachen.de/fortran/ch4-1.html</a><br/><a href="http://www.pcqna.com/Excel_Rounding.htm">http://www.pcqna.com/Excel_Rounding.htm</a><br/><a href="http://master.natsci.csulb.edu/151lab/exp0/guideline_1-4/guide1-4.html">http://master.natsci.csulb.edu/151lab/exp0/guideline_1-4/guide1-4.html</a></p><p><a href="http://www.kindermagic.com/real_math/rnd_dec.html">http://www.kindermagic.com/real_math/rnd_dec.html</a> Too elementary, but<br/>interesting<br/><a href="http://www.factmonster.com/ipka/A0875987.html">http://www.factmonster.com/ipka/A0875987.html</a>  -- &quot; --</p></div>