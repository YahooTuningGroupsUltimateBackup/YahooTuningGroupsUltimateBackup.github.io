<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning MMA official documentation about MTS (2)</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>MMA official documentation about MTS (2)</h1><h3><a id=45172 href="#45172">ðŸ”—</a>victorcerullo &#x3C;moog@libero.it&#x3E;</h3><span>6/27/2003 7:58:07 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>While we are on topic (regarding the previously mentioned MMA<br/>documentation page available at<br/><a href="http://www.midi.org/about-midi/tuning.shtml">http://www.midi.org/about-midi/tuning.shtml</a> ), and besides the<br/>obvious &quot;100 cents / 214&quot; typo found on the same page (that<br/>should be read as &quot;100 cents / 2 raised to the power of 14&quot;, i.e.<br/>16384), I am also wondering if the bulk tuning dump checksum<br/>formula is correct or not. E-MU reported an identical formula on<br/>their Proteus sysex manuals, but I don&apos;t understand how can the<br/>checksum be really safe in this case if it is limited to only 388<br/>bytes; shouldn&apos;t it  be computed on at least 384 (tuning data) +<br/>16 (tuning name) bytes instead? And what about that &quot;nn&quot;<br/>parameter?</p><p>Cheers,<br/>Vic</p></div><h3><a id=45174 href="#45174">ðŸ”—</a>Manuel Op de Coul &#x3C;manuel.op.de.coul@eon-benelux.com&#x3E;</h3><span>6/27/2003 8:20:09 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The formula on the webpage is the standard. E-mu got it wrong<br/>in the Proteus hardware. So that thing rejects good tuning dumps<br/>for a wrong checksum. That&apos;s the reason for the extra<br/>synth type 113 in Scala, otherwise it&apos;s a normal MTS dump.</p><p>Manuel</p></div><h3><a id=45176 href="#45176">ðŸ”—</a>monz &#x3C;monz@attglobal.net&#x3E;</h3><span>6/27/2003 10:25:42 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>hi Vic,</p><p>my webpage about the MIDI tuning spec also<br/>corrects these errors you mention.</p><p><a href="http://sonic-arts.org/monzo/miditune/miditune.htm">http://sonic-arts.org/monzo/miditune/miditune.htm</a></p><p>(my analysis of the highest and lowest frequencies<br/>is just past half-way down the page.)</p><p>however, i&apos;ve been informed recently that i put<br/>an error there too: the pitch-bend command covers<br/>a total range of plus and minus one semitone,<br/>for a total of 200 cents, not 100 as i state in<br/>my webpage.  i still have to fix it.</p><p>-monz</p><p>----- Original Message -----<br/>From: &quot;victorcerullo&quot; &lt;<a href="mailto:moog@libero.it">moog@libero.it</a>&gt;<br/>To: &lt;<a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>&gt;<br/>Sent: Friday, June 27, 2003 7:58 AM<br/>Subject: [tuning] MMA official documentation about MTS (2)</p><p>&gt; While we are on topic (regarding the previously mentioned MMA<br/>&gt; documentation page available at<br/>&gt; <a href="http://www.midi.org/about-midi/tuning.shtml">http://www.midi.org/about-midi/tuning.shtml</a> ), and besides the<br/>&gt; obvious &quot;100 cents / 214&quot; typo found on the same page (that<br/>&gt; should be read as &quot;100 cents / 2 raised to the power of 14&quot;, i.e.<br/>&gt; 16384), I am also wondering if the bulk tuning dump checksum<br/>&gt; formula is correct or not. E-MU reported an identical formula on<br/>&gt; their Proteus sysex manuals, but I don&apos;t understand how can the<br/>&gt; checksum be really safe in this case if it is limited to only 388<br/>&gt; bytes; shouldn&apos;t it  be computed on at least 384 (tuning data) +<br/>&gt; 16 (tuning name) bytes instead? And what about that &quot;nn&quot;<br/>&gt; parameter?<br/>&gt;<br/>&gt; Cheers,<br/>&gt; Vic</p></div><h3><a id=45177 href="#45177">ðŸ”—</a>victorcerullo &#x3C;moog@libero.it&#x3E;</h3><span>6/27/2003 10:36:10 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Thanks again for the info, Manuel. I will delve more into the<br/>Proteus problem in the next few days. Anyway, I am still<br/>convinced that the MMA checksum formula shown on that page<br/>is a little ho-hum, be it a standard or not, especially because of<br/>the insufficient number of bytes they considered. It looks like a<br/>decision taken in a hurry.</p><p>Cheers,<br/>VC</p><p>&gt;The formula on the webpage is the standard.<br/>&gt;E-mu got it wrong in the Proteus hardware.<br/>&gt;So that thing rejects good tuning dumps<br/>&gt; for a wrong checksum. That&apos;s the reason for<br/>&gt;the extra synth type 113 in Scala, otherwise<br/>&gt;it&apos;s a normal MTS dump.<br/>&gt;<br/>&gt; Manuel</p></div><h3><a id=45178 href="#45178">ðŸ”—</a>victorcerullo &#x3C;moog@libero.it&#x3E;</h3><span>6/27/2003 10:44:09 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>You did a great work there Monz, thanks a lot for the link.</p><p>Cheers,<br/>Vic</p><p>&gt; my webpage about the MIDI tuning spec also<br/>&gt; corrects these errors you mention.<br/>&gt;<br/>&gt; <a href="http://sonic-arts.org/monzo/miditune/miditune.htm">http://sonic-arts.org/monzo/miditune/miditune.htm</a></p></div><h3><a id=45194 href="#45194">ðŸ”—</a>victorcerullo &#x3C;moog@libero.it&#x3E;</h3><span>6/28/2003 2:25:52 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I spent some extra time last night on the checksum problem.<br/>The formula reported in the online MMA specifications about the<br/>&quot;old&quot; bulk tuning dump reply message is not precise and it<br/>creates more confusion than clarity. I really think this lack of<br/>clarity is one of the main reasons of the failure of MTS in<br/>becoming a real standard over the past ten years. Of course it&apos;s<br/>easy to receive an MTS bulk tuning dump when the checksum is<br/>totally ignored, like in the case of many E-mu products, but it&apos;s<br/>not easy to generate and send it when you don&apos;t know how the<br/>checksum must be precisely calculated (and those E-mu<br/>products, for instance, only transmit microtuning data using their<br/>own native tuning format). The checksum formula reported on<br/>the MMA page <a href="http://www.midi.org/about-midi/tuning.shtml">http://www.midi.org/about-midi/tuning.shtml</a> is:</p><p>chksum &#x9;cchecksum (XOR of 7E &lt;device ID&gt; nn tt &lt;388 bytes&gt;)</p><p>The meaning of  &quot;nn&quot; in this expression is not clear and there is<br/>no reference at all to this parameter in that document. So, what<br/>did they actually mean with &quot;388&quot; bytes? This expression can be<br/>interpreted in many different ways, and besides the fact that it&apos;s<br/>not clear why the MMA did not consider the additional 16 bytes of<br/>the tuning name in the checksum calculation, they added a little<br/>more confusion with the tuning enhancements document found<br/>at the following address:</p><p><a href="http://www.midi.org/about-midi/tuning_extens.shtml">http://www.midi.org/about-midi/tuning_extens.shtml</a></p><p>which is much clearer in terms of the checksum algorithm but<br/>that shows a significantly different approach with respect to the<br/>previous document because in this case all the bytes between<br/>F0 and the checksum are relevant for the checksum itself (safer).<br/>I really wonder why the MMA never corrected their &quot;old&quot; document<br/>after releasing the new key-based tuning dump specifications.</p><p>Cheers,<br/>VC</p><p>&gt; The formula on the webpage is the standard.<br/>&gt;E-mu got it wrong in the Proteus hardware.<br/>&gt;So that thing rejects good tuning dumps<br/>&gt; for a wrong checksum. That&apos;s the reason for the extra<br/>&gt; synth type 113 in Scala, otherwise it&apos;s a normal MTS dump.<br/>&gt; Manuel</p></div><h3><a id=45207 href="#45207">ðŸ”—</a>Manuel Op de Coul &#x3C;manuel.op.de.coul@eon-benelux.com&#x3E;</h3><span>6/30/2003 7:59:06 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Victor, I agree that the description is very vague.</p><p>&gt;chksum                  cchecksum (XOR of 7E &lt;device ID&gt; nn tt &lt;388<br/>bytes&gt;)</p><p>&gt;The meaning of  &quot;nn&quot; in this expression is not clear and there is<br/>&gt;no reference at all to this parameter in that document. So, what<br/>&gt;did they actually mean with &quot;388&quot; bytes?</p><p>The &quot;nn&quot; is the &quot;01&quot; preceding &quot;tt&quot;.</p><p>The 388 bytes are the total number of bytes the checksum is<br/>calculated upon, so 7E &lt;device ID&gt; 01 tt is four plus the 384<br/>(3 * 128) tuning bytes.</p><p>&gt;This expression can be<br/>&gt;interpreted in many different ways, and besides the fact that it&apos;s<br/>&gt;not clear why the MMA did not consider the additional 16 bytes of<br/>&gt;the tuning name in the checksum calculation</p><p>That makes sense, the tuning name is irrelevant so you don&apos;t want<br/>to throw away a dump just because the name was transferred incorrectly.</p><p>Manuel</p></div><h3><a id=45212 href="#45212">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>6/30/2003 2:23:21 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Manuel Op de Coul&quot;<br/>&lt;manuel.op.de.coul@e...&gt; wrote:</p><p>&gt; That makes sense, the tuning name is irrelevant so you don&apos;t want<br/>&gt; to throw away a dump just because the name was transferred<br/>incorrectly.</p><p>It&apos;s relevant if you are trying to make sense of MTS and are<br/>attempting to interpret it as tuning data of some kind. :)</p></div><h3><a id=45221 href="#45221">ðŸ”—</a>victorcerullo &#x3C;moog@libero.it&#x3E;</h3><span>7/1/2003 1:43:26 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; The &quot;nn&quot; is the &quot;01&quot; preceding &quot;tt&quot;.<br/>&gt; The 388 bytes are the total number of bytes the checksum is<br/>&gt; calculated upon, so 7E &lt;device ID&gt; 01 tt is four plus the 384<br/>&gt; (3 * 128) tuning bytes.</p><p>Yes, I tried with that combination of bytes and I noticed that the<br/>MTS files produced by Scala actually use nn = subID#2 = 01 for<br/>the checksum. What&apos;s really surprising is that they called it &quot;nn&quot;<br/>in a somewhat &quot;official&quot; online document; then, why not taking<br/>care of the first sub-ID byte, i.e. that &apos;&apos;08&quot; byte? This is so weird<br/>and confusing that the MMA should have released a correction<br/>document at least...</p><p>&gt; That makes sense, the tuning name is irrelevant<br/>&gt;so you don&apos;t want to throw away a dump just because<br/>&gt;the name was transferred incorrectly.</p><p>I think all transfer data should be considered relevant in terms of<br/>the checksum calculation, if we really want to calculate a<br/>checksum of course, and this for various reasons (including the<br/>reliability of the MIDI connections). Anyway, in the new MMA<br/>specifications regarding their MTS enhancements, the<br/>checksum calculation for the key-based 128-note tuning dump<br/>includes the tuning name bytes.</p><p>Regards,<br/>Victor Cerullo</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            