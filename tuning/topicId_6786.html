<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning A method for optimally distributing any comma</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>A method for optimally distributing any comma</h1><h3><a id=6786 href="#6786">ðŸ”—</a>David C Keenan &#x3C;d.keenan@xx.xxx.xxx&#x3E;</h3><span>12/9/1999 7:38:36 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Tempering secrets revealed! See</p><p><a href="http://dkeenan.com/Music/DistributingCommas.htm">http://dkeenan.com/Music/DistributingCommas.htm</a></p><p>All comments, questions and corrections gratefully received.</p><p>Regards,<br/>-- Dave Keenan<br/><a href="http://dkeenan.com">http://dkeenan.com</a></p></div><h3><a id=6828 href="#6828">ðŸ”—</a>Paul H. Erlich &#x3C;PErlich@xxxxxxxxxxxxx.xxxx&#x3E;</h3><span>12/10/1999 12:46:50 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dave Keenan&apos;s page <a href="http://dkeenan.com/Music/DistributingCommas.htm">http://dkeenan.com/Music/DistributingCommas.htm</a><br/>says,</p><p>&gt;but it does not seem amenable to minimising the RMS (or sum of squares)<br/>error.</p><p>Actually, that is even easier, since squared error is a differentiable<br/>function. Then one can simply use calculus to minimize the function, as I&apos;ve<br/>done for diatonic (meantone) and decatonic (22-equal-like) tunings.</p><p>What you describe in your page must be a linear programming algorithm (in<br/>the mathematical sense of programming, not the computer science sense).</p><p>&gt;So 1/6-comma meantone with 1/6 comma wide octaves is the optimum when<br/>ninths and classic &gt;minor sevenths are included (classic = 5-limit).</p><p>Dave, I&apos;m not sure &quot;1/6-comma meantone with 1/6 comma wide octaves&quot; is<br/>well-defined. Is there a  better way to describe this tuning?</p></div><h3><a id=6903 href="#6903">ðŸ”—</a>David C Keenan &#x3C;d.keenan@xx.xxx.xxx&#x3E;</h3><span>12/12/1999 4:33:07 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>In TD433.18 Paul H. Erlich wrote:<br/>&gt;Dave Keenan&apos;s page <a href="http://dkeenan.com/Music/DistributingCommas.htm">http://dkeenan.com/Music/DistributingCommas.htm</a><br/>&gt;says,<br/>&gt;<br/>&gt;&gt;but it does not seem amenable to minimising the RMS (or sum of squares)<br/>&gt;error.</p><p>&gt;Actually, that is even easier, since squared error is a differentiable<br/>&gt;function. Then one can simply use calculus to minimize the function, as<br/>&gt;I&apos;ve done for diatonic (meantone) and decatonic (22-equal-like) tunings.</p><p>Of course many people would say that &quot;simply use calculus&quot; is an oxymoron. WOuld you like to give a worked example for one of the cases in my web page. Say the meantone case where we are willing to temper the octave and we want to minimise the RMS error over all the intervals in 4:5:6:9, and their inversions except 8:9 and 9:10, and including the octave.</p><p>&gt;What you describe in your page must be a linear programming algorithm (in<br/>&gt;the mathematical sense of programming, not the computer science sense).</p><p>I don&apos;t know. I did an introductory linear programming course at university. I wouldn&apos;t say it *is* one, but it might be equivalent to one.</p><p>I have not given a proof of its optimality. I have better things to do. I&apos;ll wait for someone to find a counterexample instead. ;-)</p><p>&gt;&gt;So 1/6-comma meantone with 1/6 comma wide octaves is the optimum when<br/>&gt;ninths and classic &gt;minor sevenths are included (classic = 5-limit).<br/>&gt;<br/>&gt;Dave, I&apos;m not sure &quot;1/6-comma meantone with 1/6 comma wide octaves&quot; is<br/>&gt;well-defined. Is there a  better way to describe this tuning?</p><p>I can&apos;t think of a better way. It seems completely specified to me (I adopted it from Herman Miller). &quot;Meantone&quot; tells us that</p><p>2 * octave_error - 4 * fifth_error + major_third_error = syntonic_comma</p><p>The &quot;1/6-comma&quot; preceding the word &quot;meantone&quot; tells us that the fifths are that much narrower than just. &quot;1/6-comma wide octaves&quot; is self explanatory and from the above equation we find that the major thirds must be just.</p><p>I suppose, since just major thirds are usually associated with 1/4-comma meantone, it might be wise to redundantly mention the error in the major thirds as well. e.g. &quot;1/6-comma meantone with 1/6 comma wide octaves and just major thirds&quot;.<br/>-- Dave Keenan<br/><a href="http://dkeenan.com">http://dkeenan.com</a></p></div><h3><a id=6914 href="#6914">ðŸ”—</a>Paul H. Erlich &#x3C;PErlich@xxxxxxxxxxxxx.xxxx&#x3E;</h3><span>12/13/1999 2:52:05 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wrote,</p><p>&gt;&gt;Actually, that is even easier, since squared error is a differentiable<br/>&gt;&gt;function. Then one can simply use calculus to minimize the function, as<br/>&gt;&gt;I&apos;ve done for diatonic (meantone) and decatonic (22-equal-like) tunings.</p><p>Dave Keenan wrote,</p><p>&gt;Of course many people would say that &quot;simply use calculus&quot; is an oxymoron.<br/>WOuld you like to &gt;give a worked example for one of the cases in my web<br/>page. Say the meantone case where we &gt;are willing to temper the octave and<br/>we want to minimise the RMS error over all the intervals in &gt;4:5:6:9, and<br/>their inversions except 8:9 and 9:10, and including the octave.</p><p>OK. Meantone with tempered octaves means we are going to have two<br/>independent variables -- the logarithmic size of octave (call it u) and the<br/>logarithmic size of fifth (call it v). So this is a multivariate calculus<br/>problem.</p><p>First, let&apos;s express each of the intervals of interest in terms of u and v:</p><p>1:2 = perfect octave = one octave up = u<br/>2:3 = perfect fifth = one fifth up = v<br/>3:4 = perfect fourth = one octave up, one fifth down = u - v<br/>3:5 = major sixth = three fifths up, one octave down = 3*v - u<br/>4:5 = major third = four fifths up, two octaves down = 4*v - 2*u<br/>4:9 = major ninth = two fifths up = 2*v<br/>5:6 = minor third = two octaves up, three fifths down = 2*u - 3*v<br/>5:8 = minor sixth = three octaves up, four fifths down = 3*u - 4*v<br/>5:9 = minor seventh = two octaves up, two fifths down = 2*u - 2*v</p><p>I&apos;m assuming that for some reason you don&apos;t care about 1:3, 1:4, 1:6, 1:8,<br/>1:9, 2:5, 2:9, or 3:8.</p><p>Now let&apos;s write down our squared error function:</p><p>sqerr = (u - 1)^2 + (v - log(3/2)/log(2))^2 + (u - v - log(4/3)/log(2))^2 +<br/>(3*v - u - log(5/3)/log(2))^2 + (4*v - 2*u - log(5/4)/log(2))^2 + (2*v -<br/>log(9/4)/log(2))^2 + (2*u - 3*v - log(6/5)/log(2))^2 + (3*u - 4*v -<br/>log(8/5)/log(2))^2 + (2*u - 2*v - log(9/5)/log(2))^2</p><p>We set the partial derivative with respect to each variable equal to zero,<br/>using the chain rule, and divide through by 2:</p><p>d(sqerr)/du = (u - 1) + (u - v - log(4/3)/log(2)) - (3*v - u -<br/>log(5/3)/log(2)) - 2*(4*v - 2*u - log(5/4)/log(2)) + 2*(2*u - 3*v -<br/>log(6/5)/log(2)) + 3*(3*u - 4*v - log(8/5)/log(2)) + 2*(2*u - 2*v -<br/>log(9/5)/log(2)) = 0/2;</p><p>d(sqerr)/dv = (v - log(3/2)/log(2)) - (u - v - log(4/3)/log(2)) + 3*(3*v - u<br/>- log(5/3)/log(2)) + 4*(4*v - 2*u - log(5/4)/log(2)) + 2*(2*v -<br/>log(9/4)/log(2)) - 3*(2*u - 3*v - log(6/5)/log(2)) - 4*(3*u - 4*v -<br/>log(8/5)/log(2)) - 2*(2*u - 2*v - log(9/5)/log(2)) = 0/2.</p><p>Collecting terms:</p><p>u*(1 + 1 + 1 + 4 + 4 + 9 + 4) - v*(1 + 3 + 8 + 6 + 12 + 4) = (1 + 2 + 4 + 2<br/>+ 9) + (log(3)*(-1 + 1 + 2 + 4) + log(5)*(-1 - 2 - 2 - 3 - 2))/log(2);</p><p>v*(1 + 1 + 9 + 16 + 4 + 9 + 16 + 4) - u*(1 + 3 + 8 + 6 + 12 + 4) = (-1 - 2 -<br/>8 - 4 - 3 - 12) + (log(3)*(1 + 1 - 3 + 4 - 3 - 4) + log(5)*(3 + 4 + 3 + 4 +<br/>2))/log(2).</p><p>Adding and dividing through by 2:</p><p>12*u - 17*v = 9 + (3*log(3) - 5*log(5))/log(2);</p><p>30*v - 17*u = -15 + (-2*log(3) + 8*log(5))/log(2).</p><p>Solving the first equation for u:</p><p>u = (17*v + 9 + (3*log(3) - 5*log(5))/log(2))/12.</p><p>Plugging this into the second equation:</p><p>30*v - 17*(17*v + 9 + 3*(log(3) - 5*log(5))/log(2))/12 = -15 + (-2*log(3) +<br/>8*log(5))/log(2)</p><p>Multiplying both sides by 12:</p><p>360*v - 289*v = 153 - 180 + (51*log(3) - 24*log(3) - 85*log(5) +<br/>96*log(5))/log(2)</p><p>v = (-27 + (27*log(3) + 11*log(5))/log(2))/71<br/>[= 698.6230&#xFFFD;]<br/>= (-71 - 4*11)/71 + (71 - 4*11)/71*log(3)/log(2) + 11/71*log(5)/log(2)<br/>= log(3)/log(2) - 1 - 4*11/71*log(3)/log(2) + 11/71*log(5)/log(2) + 4*11/71<br/>= log(3/2)/log(2) - 11/71*log(81/80)/log(2)</p><p>So the fifths are those of 11/71-comma meantone.</p><p>Plugging back into the equation for u:</p><p>u = (17*(-27 + (27*log(3) + 11*log(5))/log(2))/71 + 9 + (3*log(3) -<br/>5*log(5))/log(2))/12</p><p>u = -459/852 + 639/852 + (459/852 + 213/852)*log(3)/log(2) + (187/852 -<br/>355/852)*log(5)/log(2)<br/>=(15 + (56*log(3) - 14*log(5))/log(2))/71<br/>[=1204.2407&#xFFFD;]<br/>= (71 - 4*14)/71 + 4*14/71*log(3)/log(2) - 14/71*log(5)/log(2)<br/>= 1 + 4*14/71*log(3)/log(2) - 14/71*log(5)/log(2) - 4*14/71<br/>= 1 + 14/71*log(81/80)/log(2)</p><p>So the octaves are stretched by 14/71 comma.</p><p>&gt;&gt;Dave, I&apos;m not sure &quot;1/6-comma meantone with 1/6 comma wide octaves&quot; is<br/>&gt;&gt;well-defined. Is there a  better way to describe this tuning?</p><p>&gt;I can&apos;t think of a better way. It seems completely specified to me (I<br/>adopted it from Herman Miller). &quot;Meantone&quot; tells us that</p><p>&gt;2 * octave_error - 4 * fifth_error + major_third_error = syntonic_comma</p><p>&gt;I suppose, since just major thirds are usually associated with 1/4-comma<br/>meantone, it might be wise to redundantly mention the error in the major<br/>thirds as well. &gt;e.g. &quot;1/6-comma meantone with 1/6 comma wide octaves and<br/>just major thirds&quot;.</p><p>See the confusion Herman&apos;s terminology creates? Perhaps it is better for now<br/>to describe it as a 2-dimensional tuning base on 1/6-comma narrow fifths and<br/>1/6-comma wide octaves. That way no one will assume that this is a stretched<br/>tuning, or that the fourths are 1/6-comma wide, or that the major thirds are<br/>1/3-comma wide. . . .</p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            