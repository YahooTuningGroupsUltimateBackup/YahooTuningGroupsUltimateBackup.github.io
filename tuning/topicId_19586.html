<a href="/tuning">back to list</a><h1>Re: 17, 23, 41 and 353-limit scales</h1><h3>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>2/28/2001 9:55:44 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Dave,</p><p>Notice anything just a little bit odd about this very 353 limit scale?<br/>107/101, 55/49, 201/169, 223/177, 263/197, 239/169, 295/197, 227/143, 301/179, 351/197,<br/>353/187, 399/199,</p><p>N.B. necessarily has to have a detuned octave!</p><p>This one should be scheduled for prime time listening<br/>1/1  107/101   257/229   151/127   349/277   311/233   41/29   421/281   173/109   523/311<br/>547/307   421/223   3947/1973<br/>or perhaps it is already, near enough anyway.</p><p>What about this 23 limit scale, which has gothic antecedants?</p><p>1/1, 23/22, 85/76, 55/46, 5/4, 91/68, 95/68, 136/91, 25/16, 117/70, 161/90, 144/77, 2/1</p><p>Here&apos;s a 17 limit scale that should sound very sweet<br/>1/1, 273/256, 9/8, 832/693, 1024/819, 4/3, 128/91, 3/2, 1331/832, 693/416, 416/231,<br/>512/273, 2/1,</p><p>and something very conspicuously missing from these 41 limit 12 and 17 tone scales</p><p>12-tone<br/>1/1, 475/451, 512/455, 493/416, 529/418, 589/442, 289/203, 740/493, 779/493, 832/493,<br/>697/392, 902/475, 2/1,</p><p>17-tone<br/>1/1, 475/451, 91/82, 512/455, 493/416, 437/350, 529/418, 589/442, 406/289, 37/25, 740/493,<br/>779/493, 308/185, 832/493, 697/392, 560/299, 221/112, 2/1,<br/>(clue: They have very nice fifths!)</p><p>Here is an 11-limit 19 tone scale<br/>1/1, 28/27, 15/14, 49/44, 81/70, 6/5, 56/45, 128/99, 75/56, 25/18, 121/84, 121/81, 99/64,<br/>45/28, 5/3, 140/81, 88/49, 28/15, 27/14, 2/1,</p><p>and an 11-limit 31 tone scale<br/>1/1, 45/44, 22/21, 77/72, 35/32, 28/25, 8/7, 90/77, 176/147, 11/9, 5/4, 225/176, 98/75,<br/>147/110, 175/128, 7/5, 10/7, 256/175, 220/147, 75/49, 25/16, 8/5, 18/11, 147/88, 77/45,<br/>7/4, 315/176, 64/35, 144/77, 375/196, 88/45, 2/1,</p><p>Actually, I&apos;ve done a little javascript page which happens to be very good at making them.<br/>Follows on from a suggestion Dan made, which turned out to be surprisingly easy to do and<br/>reasonably efficient.</p><p>More of that in a minute, when it&apos;s finished.</p><p>Robert</p></div><h3>Dave Keenan &#x3C;D.KEENAN@UQ.NET.AU&#x3E;</h3><span>3/1/2001 8:09:56 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;Robert Walker&quot; &lt;robert_walker@r...&gt; wrote:<br/>&gt; Hi Dave,<br/>&gt;<br/>&gt; Notice anything just a little bit odd about this very 353 limit<br/>scale?<br/>&gt; 107/101, 55/49, 201/169, 223/177, 263/197, 239/169, 295/197,<br/>227/143, 301/179, 351/197,<br/>&gt; 353/187, 399/199,<br/>&gt;<br/>&gt; N.B. necessarily has to have a detuned octave!</p><p>I see that, except for the last note, it _is_ 12-tET, since no<br/>interval is more than 1.2 cent different from a theoretically perfect<br/>12-tET. But with the last note it goes up to 5.3 c.</p><p>It&apos;s &quot;odd&quot; because no factor is even, which explains the necc. detuned<br/>octave.</p><p>I see you checked out my &quot;19-limit&quot; scale. No interval off by more<br/>than 4 c and only using primes 2,3,5,17,19 with 5,17,19 having no<br/>power greater than 1, and 3 having no power greater than 2.</p><p>My point of course is that just because it can be described as<br/>19-limit, doesn&apos;t make it JI.</p><p>&gt; This one should be scheduled for prime time listening<br/>&gt; 1/1  107/101   257/229   151/127   349/277   311/233   41/29<br/>421/281   173/109   523/311<br/>&gt; 547/307   421/223   3947/1973<br/>&gt; or perhaps it is already, near enough anyway.</p><p>Yes. Another &quot;odd&quot; one. 12-tET again (this time within 1.0 cent, or<br/>0.6 cents if you fix the octave).</p><p>&gt; What about this 23 limit scale, which has gothic antecedants?<br/>&gt;<br/>&gt; 1/1, 23/22, 85/76, 55/46, 5/4, 91/68, 95/68, 136/91, 25/16, 117/70,<br/>161/90, 144/77, 2/1</p><p>Ok. 1/4-comma meantone within 2c.</p><p>&gt; Here&apos;s a 17 limit scale that should sound very sweet<br/>&gt; 1/1, 273/256, 9/8, 832/693, 1024/819, 4/3, 128/91, 3/2, 1331/832,<br/>693/416, 416/231,<br/>&gt; 512/273, 2/1,<br/>...</p><p>Whew! I&apos;ve had enough. You or someone else will have to explain the<br/>others.</p><p>&gt; Actually, I&apos;ve done a little javascript page which happens to be<br/>very good at making them.<br/>&gt; Follows on from a suggestion Dan made, which turned out to be<br/>surprisingly easy to do and<br/>&gt; reasonably efficient.</p><p>Ok. But what&apos;s the point? Apart from making &quot;recognise the scale&quot; type<br/>puzzles?</p><p>-- Dave Keenan</p></div><h3>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/2/2001 12:14:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Dave,</p><p>&gt; Ok. But what&apos;s the point? Apart from making &quot;recognise the scale&quot;<br/>type<br/>&gt; puzzles?</p><p>I see, of course, naturally you will think I wrote it in response to<br/>your scale.</p><p>Especially since I also forgot to add any explanation at all to the<br/>&quot;calculator&quot; page.</p><p>Actually it was the other way round. I&apos;d had it in mind to do it for<br/>about a week, since Dan Stearns suggested the idea.</p><p>I&apos;d just taken a few days off from FTS to catch up on other things,<br/>and started on it when I saw your e-mail about the scales, and<br/>realised it would make ones in that family easily.</p><p>Here&apos;s the reason for it.</p><p><a href="http://homepage.ntlworld.com/robertwalker/site_ex/robertwalker/ratio">http://homepage.ntlworld.com/robertwalker/site_ex/robertwalker/ratio</a><br/>s_with_factors.htm</p><p>Try 250 cents using the continued fraction algorithm<br/>1/1, 7/6, 15/13, 52/45, 119/103, 766/663,</p><p>0.0  266.8709  247.7411  250.3039  249.9807  250.0026</p><p>Okay, by the continued fraction algorithm result, 7/6 is closer than<br/>any other approximation with larger quotient.</p><p>However my other applet finds</p><p>1/1, 4/3, 5/4, 6/5, 7/6, 15/13, 37/32, 52/45, 67/58, 119/103,<br/>528/457, 647/560,<br/>cents:<br/>0, 498.045, 386.314, 315.641, 266.871, 247.741, 251.344, 250.304,<br/>249.73, 249.981, 250.013, 250.007,</p><p>Notice it is finding many more ratios.</p><p>N.B. I&apos;ve found a bug in that page, so it wasn&apos;t getting the best<br/>answers before - anyone whose been trying it out, please have<br/>another go, sorry.</p><p>Also found that I used ..\ instead of ../ in the html which Netscape<br/>won&apos;t recognise - affects the &quot;show tree&quot; link.</p><p>I&apos;ve just uploaded the fixed versions.</p><p>The continued fraction algorithm is leaving out 4/3, 5/4 and 6/5,<br/>which are successively better approximations to 250, all of them<br/>better than<br/>1/1.</p><p>So clearly, the continued fraction method doesn&apos;t find _all_ the<br/>best ratios, just some of them. It&apos;s a fast algorithm for finding<br/>close<br/>rationals, but very gappy.</p><p>But we aren&apos;t that worried about speed, and more interested<br/>in getting a reasonably complete list of all the close rationals to<br/>an interval.</p><p>So, what about a slower algorithm that just tests all the<br/>denominators in turn,<br/>and for each one, works out what the denumerator must be.</p><p>For instance, let&apos;s try 1.15535... as the decimal, and quotient 17,<br/>we want denum/17 ~= 1.15535... , so denum ~= 17*1.15535 = 19.64...<br/>so clearly we want a number between 19/17 and 20/17.</p><p>Testing each quotient in that way will be fast enough with small<br/>numbers for the quotient.</p><p>That&apos;s exactly what I did. For details, see comments in the code. It<br/>is coded for an interpreted language - one would do it slightly<br/>differently in a compiled language, but difference isn&apos;t significant<br/>as the optimising prob. makes less than a factor of two difference<br/>in speed.</p><p>Javascript isn&apos;t speedy, and I expect in a native language it would<br/>be at least ten times faster, maybe more. But, it&apos;s fast enough.</p><p>Factorising<br/>1/1, 4/3, 5/4, 6/5, 7/6, 15/13, 37/32, 52/45, 67/58, 119/103,<br/>528/457, 647/560,</p><p>gives<br/>1/1  2^2/3   5/2^2   2*3/5   7/(2*3)   3*5/13   37/2^5<br/>2^2*13/(3^2*5)   67/(2*29)   7*17/103   2^4*3*11/457   647/(2^4*5*7)</p><p>So this method isn&apos;t particularly good for finding n-limit ratios<br/>for n small.</p><p>To deal with that, I added an extra test of whether the denumerator<br/>or denom. is n-limit.</p><p>It is really slow, one would think, as it just tries to factorise by<br/>repeated division, and returns false if it fails, true if it<br/>succeeds.</p><p>However, and this is the nice thing, had the thought to do the<br/>factorisation test _last_.</p><p>I.e. first see if the ratio is closer than any previous one found.<br/>If it is, then apply the factorisation test. Only a tiny percentage<br/>of the ratios will be so close, with the percentage getting less<br/>as one moves to higher quotients. So the slow<br/>factorisation test is applied very occasionally.</p><p>With that idea, whole thing became very practical.</p><p>(actually I did a version of this before that I&apos;d forgotten about,<br/>and even posted it to the TL, but it would have been a bit too slow<br/>for javascript probably).</p><p>Now try for 11 limit approximations to 250 and we find<br/>1/1, 4/3, 5/4, 6/5, 7/6, 55/48, 64/55, 81/70, 140/121, 231/200,<br/>1155/1000, 1331/1152,<br/>0, 498.045, 386.314, 315.641, 266.871, 235.677, 262.368, 252.68,<br/>252.504, 249.471, 249.471, 250.044,</p><p>Try for 5-limit ones and we get<br/>1/1, 4/3, 5/4, 6/5, 9/8, 32/27, 125/108,<br/>and so on.</p><p>.................................................</p><p>I also did another program using the continued fractions method<br/>sometime back that found very close approximations of the form<br/>a^n/b^m, which demonstrated a Kronecker&apos;s theorem result.<br/>Applying Kronecker&apos;s theorem to the logs shows that you can<br/>get arbitrarily close to any number by suitable choice of m<br/>and n provided that a has at least one prime factor that doesn&apos;t<br/>divide into b, and vice versa.</p><p>In particular, works with a, b prime.</p><p>This gave results like:<br/>&quot;<br/>Successive approx. to 7/6 in form 5^m/3^n</p><p>1/1 5^7/3^10 5^9/3^13 5^11/3^16 5^24/3^35 5^39/3^57 5^153/3^224<br/>5^1138/3^1667<br/>5^1295/3^1897 5^2437/3^3570 5^3579/3^5243</p><p>Values in cents<br/>0 484.65 351.41 218.17 303.1 254.8 268.08 266.02 267.62 267.17<br/>266.71<br/>&quot;<br/>These numbers are large. For instance,<br/>5^7/3^10 = 78125/59049</p><p>However it uses the continued fraction algorithm, this time on the<br/>logs of the denum and denom rather than the numbers themselves, or<br/>something likt that, if I remember correctly.</p><p>So, was very fast to run, but one expects gaps.</p><p>Let&apos;s try to fill them with the applet</p><p>Going to the &quot;cents to ratios and back&quot; page, we find<br/>7/6 = 266.8709056037376 cents</p><p>Now going to the &quot;ratios with factors&quot; page, and trying this,<br/>with 3 and 5 as the prime factors, we get<br/>729/625 = 266.475,<br/>to within .396,</p><p>Factorising:<br/> 3^6/5^4</p><p>.................................................</p><p>Now that the bugs have been sorted out pretty much, imagine it may<br/>be useful to newbies, and old hands alike.</p><p>Hope so anyway, and thanks Dan for the suggestion!</p><p>Now, for your &quot;solutions&quot;:</p><p>Yes, Yes, Yes,</p><p>However</p><p>&gt; This one should be scheduled for prime time listening<br/>&gt; 1/1  107/101   257/229   151/127   349/277   311/233   41/29<br/>421/281   173/109   523/311<br/>&gt; 547/307   421/223   3947/1973<br/>&gt; or perhaps it is already, near enough anyway.</p><p>missing something.</p><p>Rest are pretty easy, clues for them all, but I&apos;ll leave it for<br/>anyone who wants to try.</p><p>Thought, maybe a bit of fun, that&apos;s all.</p><p>Robert</p></div><h3>jpehrson@rcn.com</h3><span>3/2/2001 12:15:12 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;Dave Keenan&quot; &lt;D.KEENAN@U...&gt; wrote:</p><p><a href="http://groups.yahoo.com/group/tuning/message/19626">http://groups.yahoo.com/group/tuning/message/19626</a></p><p>&gt; --- In tuning@y..., &quot;Robert Walker&quot; &lt;robert_walker@r...&gt; wrote:<br/>&gt; &gt; Hi Dave,<br/>&gt; &gt;<br/>&gt; &gt; Notice anything just a little bit odd about this very 353 limit<br/>&gt; scale? 107/101, 55/49, 201/169, 223/177, 263/197, 239/169, 295/197,<br/>&gt; 227/143, 301/179, 351/197,<br/>&gt; &gt; 353/187, 399/199,<br/>&gt; &gt;<br/>&gt; &gt; N.B. necessarily has to have a detuned octave!<br/>&gt;<br/>&gt; I see that, except for the last note, it _is_ 12-tET, since no<br/>&gt; interval is more than 1.2 cent different from a theoretically<br/>perfect 12-tET. But with the last note it goes up to 5.3 c.<br/>&gt;<br/>&gt; It&apos;s &quot;odd&quot; because no factor is even, which explains the necc.<br/>detuned octave.<br/>&gt;<br/>&gt; I see you checked out my &quot;19-limit&quot; scale. No interval off by more<br/>&gt; than 4 c and only using primes 2,3,5,17,19 with 5,17,19 having no<br/>&gt; power greater than 1, and 3 having no power greater than 2.<br/>&gt;<br/>&gt; My point of course is that just because it can be described as<br/>&gt; 19-limit, doesn&apos;t make it JI.<br/>&gt;</p><p>Thanks to Dave Keenan and Robert Walker for the interesting tuning<br/>puzzles!  Lots of interesting &quot;philosophical&quot; ramifications to all of<br/>this... but, hopefully, I&apos;m smart enough to stay out of THAT<br/>quagmire...</p><p>I think it&apos;s great to create a program that can make this kind of<br/>&quot;tuning spam...&quot;</p><p>Frankly, it might be nice to have a &quot;puzzles&quot; section of the FAQ.<br/>There&apos;s nothing like the moment when one finally &quot;gets it,&quot; if one<br/>does...</p><p>Thanks again!</p><p>________ _____ _____ ___<br/>Joseph Pehrson</p></div><h3>kraiggrady@anaphoria.com</h3><span>3/2/2001 4:16:20 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>well i don&apos;t seem to be getting messages from tuning list?<br/>maybe it is a sign1</p></div><h3>jpehrson@rcn.com</h3><span>3/2/2001 5:43:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., kraiggrady@a... wrote:</p><p><a href="http://groups.yahoo.com/group/tuning/message/19679">http://groups.yahoo.com/group/tuning/message/19679</a></p><p>&gt; well i don&apos;t seem to be getting messages from tuning list?<br/>&gt; maybe it is a sign1</p><p>Hi Kraig...</p><p>Did you check your &quot;delivery options&quot; under &quot;preferences&quot; on the<br/>Yahoo egroups website??  I thought you had completely &quot;unsubscribed&quot;<br/>before...  Maybe you&apos;re not set to receive e-mail (??)</p><p>______ _____ _____ ____<br/>Joseph Pehrson</p></div><h3>kraiggrady@anaphoria.com</h3><span>3/2/2001 8:15:51 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>it appears that earthlink is having trouble with its relay. so anything sent to me is not getting through either from this list or otherwise. Please be<br/>advised that any response if one is even necessicery i cannot do. this i am reading directly from the yahoo site. I guess this means I just have to go<br/>back and write music. seeyallsoonnoworlater !!</p><p>&gt;<br/>&gt; Hi Kraig...<br/>&gt;<br/>&gt; Did you check your &quot;delivery options&quot; under &quot;preferences&quot; on the<br/>&gt; Yahoo egroups website??  I thought you had completely &quot;unsubscribed&quot;<br/>&gt; before...  Maybe you&apos;re not set to receive e-mail (??)<br/>&gt;<br/>&gt; ______ _____ _____ ____<br/>&gt; Joseph Pehrson</p></div><h3>D.Stearns &#x3C;STEARNS@CAPECOD.NET&#x3E;</h3><span>3/2/2001 4:06:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Robert Walker wrote,</p><p>&lt;&lt;Actually it was the other way round. I&apos;d had it in mind to do it for<br/>about a week, since Dan Stearns suggested the idea.&gt;&gt;</p><p>Yeah, very nice Robert! I somehow missed this one and hadn&apos;t seen this<br/>yet.</p><p>Indeed, this is exactly what I had in mind, and so far as I can tell<br/>at the moment, it seems to work great too.</p><p>thanks!,</p><p>--Dan Stearns</p></div><h3>Dave Keenan &#x3C;D.KEENAN@UQ.NET.AU&#x3E;</h3><span>3/2/2001 11:24:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;Robert Walker&quot; &lt;robert_walker@r...&gt; wrote:<br/>&gt; Hi Dave,<br/>&gt;<br/>&gt; &gt; Ok. But what&apos;s the point? Apart from making &quot;recognise the scale&quot;<br/>&gt; type<br/>&gt; &gt; puzzles?<br/>&gt;<br/>&gt; Here&apos;s the reason for it.<br/>&gt;<br/>&gt; <a href="http://homepage.ntlworld.com/robertwalker/site_ex/robertwalker/ratio">http://homepage.ntlworld.com/robertwalker/site_ex/robertwalker/ratio</a><br/>&gt; s_with_factors.htm</p><p>It doesn&apos;t really answer my question. It&apos;s very clever, but why would<br/>one want to approximate a tempered scale by ratios? Seems sort of<br/>back-to-front. Why not use a just scale to start with, where the<br/>harmonic relationship between the notes (i.e the lattice) has been<br/>considered in its design?</p><p>Regards,<br/>-- Dave Keenan</p></div><h3>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/3/2001 11:44:52 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Dan,</p><p>&gt; Yeah, very nice Robert! I somehow missed this one and hadn&apos;t seen this<br/>&gt; yet.<br/>&gt;<br/>&gt; Indeed, this is exactly what I had in mind, and so far as I can tell<br/>&gt; at the moment, it seems to work great too.<br/>&gt;</p><p>Great, thanks!</p><p>Definitely more to come of this sort....</p><p>Robert</p></div><h3>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/3/2001 11:46:38 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Dave,</p><p>&gt; It doesn&apos;t really answer my question. It&apos;s very clever, but why would<br/>&gt; one want to approximate a tempered scale by ratios? Seems sort of<br/>&gt; back-to-front. Why not use a just scale to start with, where the<br/>&gt; harmonic relationship between the notes (i.e the lattice) has been<br/>&gt; considered in its design?</p><p>There is no particular aim for it. It is meant to be open ended, a<br/>general calculation tool that anyone may find useful.</p><p>If you want to find the nearest ratio to a measured scale in<br/>cents, then the continued fraction algorithm gives a succession<br/>of closer intervals, but though all the entries are closest<br/>possible for the size of quotient, it is also rapidly converging,<br/>and has many gaps.</p><p>This method will show many more intervals, and for example,<br/>one can look to see what the measured scale has in the way of<br/>low quotient 7-limit or 5-limit ratios, or whatever, as approximants.</p><p>One can vary the prime factors, and generally, have a lot more<br/>variables to play around with to find the ratios than one does<br/>using the ordinary continued fractions method.</p><p>My original reason for getting interested last year was because<br/>I was wondering what there is to the notion of a 5-ness,<br/>7-ness, or 11-ness of an interval.</p><p>This finds, say, 5-limit ratios close to a 7-limit one, so<br/>one can explore the way one can gradually move from a 5-limit<br/>ratio to a 7-limit one.</p><p>Original reason for this particular one is because Dan Stearns<br/>suggested the idea, and pointed out the gap in the continued<br/>fractions approximants, which I hadn&apos;t given much thought<br/>to before,</p><p>Robert</p></div><h3>D.Stearns &#x3C;STEARNS@CAPECOD.NET&#x3E;</h3><span>3/3/2001 8:17:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dave Keenan wrote,</p><p>&lt;&lt;why would one want to approximate a tempered scale by ratios? Seems<br/>sort of back-to-front.&gt;&gt;</p><p>Not really, or rather only from a certain perspective... but luckily<br/>there&apos;s more than one perspective &lt;!&gt;.</p><p>While different from the approach Robert is using here, the<br/>&quot;equaltone&quot; posts that I put up a while ago were an attempt on my part<br/>to frame equal tunings as a series akin to undertone and overtone<br/>series. Call this an aesthetic approach to theory if you must, but it<br/>is in line with what I do musically, and I think it&apos;s not irrelevant<br/>that the two -- music and theory -- try to get to know each other. At<br/>the very least I find it pleasing that one underscores rather than<br/>undermines the other!</p><p>Anyway, as you probably know by now I use a lot of equal tunings. And<br/>an RI approach similar to the &quot;morphing series&quot; method that I&apos;ve used,<br/>or the &quot;like prime&quot; approach that Robert&apos;s sieve enables, allows one<br/>to inject some new shades into a given equal tuning. This I find quite<br/>useful for what should be obvious reasons.</p><p>Now I myself don&apos;t call these things whatever-limit JI and such... and<br/>I, like you I&apos;m sure, would say that there&apos;s a good argument why<br/>they&apos;re not best described in these terms most of the time. But I have<br/>really warmed to Margo&apos;s &quot;RI&quot;, and I think it is a very good term for<br/>a lot of what I do in this regard...</p><p>And for what it&apos;s worth, a lot of folks have been interested in<br/>finding good ET to JI conversion methods over the years. So just the<br/>spirit of answering an interesting question answers your &quot;why would<br/>one want to approximate a tempered scale by ratios&quot; question to my<br/>mind! However, I have other reasons, and hopefully I&apos;ve been able to<br/>make at least some of them clear here.</p><p>--Dan Stearns</p></div><h3>D.Stearns &#x3C;STEARNS@CAPECOD.NET&#x3E;</h3><span>3/3/2001 9:01:40 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Robert Walker wrote,</p><p>&lt;&lt;Definitely more to come of this sort....&gt;&gt;</p><p>Great, can&apos;t wait to see them! Let me know if there&apos;s anyway I can<br/>help with the two and three-term, Fibonacci and Tribonacci ideas...<br/>BTW, adding some sort of a GCD function so that the cents to ratios<br/>calculator will always give the ratios in their reduced form might not<br/>be a bad idea too?</p><p>thanks,</p><p>--Dan Stearns</p></div><h3>Dave Keenan &#x3C;D.KEENAN@UQ.NET.AU&#x3E;</h3><span>3/3/2001 6:52:54 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;Robert Walker&quot; &lt;robert_walker@r...&gt; wrote:<br/>&gt; If you want to find the nearest ratio to a measured scale in<br/>&gt; cents, then the continued fraction algorithm gives a succession<br/>&gt; of closer intervals, but though all the entries are closest<br/>&gt; possible for the size of quotient, it is also rapidly converging,<br/>&gt; and has many gaps.</p><p>&gt; Original reason for this particular one is because Dan Stearns<br/>&gt; suggested the idea, and pointed out the gap in the continued<br/>&gt; fractions approximants, which I hadn&apos;t given much thought<br/>&gt; to before.</p><p>And thanks Dan, for explaining your application.</p><p>Robert,</p><p>The gaps between the convergents can be filled in by the<br/>&quot;semi-convergents&quot; as described in<br/><a href="http://depts.washington.edu/pnm/CLAMPITT.pdf">http://depts.washington.edu/pnm/CLAMPITT.pdf</a></p><p>Of course in that paper it&apos;s used to find rational fractions of an<br/>octave (melodic/logarithmic), whereas here we&apos;re using it for<br/>frequency ratios (harmonic/linear).</p><p>Here&apos;s an Excel spreadsheet implementation for frequency ratios.<br/><a href="http://uq.net.au/~zzdkeena/Music/CentsToRatios.xls">http://uq.net.au/~zzdkeena/Music/CentsToRatios.xls</a></p><p>Yours doesn&apos;t seem to generate all the semi-convergents.</p><p>Regards,<br/>-- Dave Keenan</p></div><h3>D.Stearns &#x3C;STEARNS@CAPECOD.NET&#x3E;</h3><span>3/3/2001 11:10:47 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dave Keenan wrote,</p><p>&lt;&lt;Yours doesn&apos;t seem to generate all the semi-convergents.&gt;&gt;</p><p>Thanks for the spreadsheet Dave (nice as always), and I do remember<br/>someone pointing out these &quot;semi-convergents&quot; before. But what<br/>Robert&apos;s calculator is doing, or one of the things it can do, is to<br/>sieve out *only* the next smallest ratio with a closer approximation<br/>than the one preceding it (set &quot;max quotient&quot; to some suitably big<br/>number, the &quot;tolerance&quot; to zero, and leave the &quot;primes&quot; sieve empty).<br/>So naturally this wouldn&apos;t give all the semi-convergents.</p><p>I had a (fairly tedious) way to do this before, but this here zippitty<br/>split calculator is pretty darned slick I think.</p><p>--Dan Stearns</p></div><h3>Dave Keenan &#x3C;D.KEENAN@UQ.NET.AU&#x3E;</h3><span>3/4/2001 12:12:45 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In tuning@y..., &quot;D.Stearns&quot; &lt;STEARNS@C...&gt; wrote:<br/>&gt; Dave Keenan wrote,<br/>&gt;<br/>&gt; &lt;&lt;Yours doesn&apos;t seem to generate all the semi-convergents.&gt;&gt;<br/>&gt;<br/>&gt; Thanks for the spreadsheet Dave (nice as always), and I do remember<br/>&gt; someone pointing out these &quot;semi-convergents&quot; before. But what<br/>&gt; Robert&apos;s calculator is doing, or one of the things it can do, is to<br/>&gt; sieve out *only* the next smallest ratio with a closer approximation<br/>&gt; than the one preceding it (set &quot;max quotient&quot; to some suitably big<br/>&gt; number, the &quot;tolerance&quot; to zero, and leave the &quot;primes&quot; sieve<br/>empty).<br/>&gt; So naturally this wouldn&apos;t give all the semi-convergents.</p><p>Ok. That makes sense.</p><p>&gt; I had a (fairly tedious) way to do this before, but this here<br/>zippitty<br/>&gt; split calculator is pretty darned slick I think.</p><p>Yes. Very nice. Especially the prime-factor filtering.</p><p>Robert,</p><p>An optional power limit on each prime factor might be a good addition.<br/>Let zero stand for infinity, and an empty list is the same as a list<br/>of infinities.</p><p>I don&apos;t see it as very useful to operate on a whole scale and only see<br/>a single ratio for each degree, because that is only tending to relate<br/>each degree back to the tonic. I&apos;d be more interested in the multiple<br/>interpretations (or puns) available for each degree. But I can of<br/>course still do that, one degree at a time.</p><p>-- Dave Keenan</p></div><h3>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/4/2001 3:34:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Dave</p><p>&gt; An optional power limit on each prime factor might be a good addition.<br/>&gt; Let zero stand for infinity, and an empty list is the same as a list<br/>&gt; of infinities.</p><p>&gt; I don&apos;t see it as very useful to operate on a whole scale and only see<br/>&gt; a single ratio for each degree, because that is only tending to relate<br/>&gt; each degree back to the tonic. I&apos;d be more interested in the multiple<br/>&gt; interpretations (or puns) available for each degree. But I can of<br/>&gt; course still do that, one degree at a time.</p><p>Thanks. I&apos;ve added a text field to show all the approximations for<br/>each note of the scale, up to 32 notes.</p><p>Also it now finds upper convergents, lower, both, or closest only.</p><p>Robert</p></div><h3>Robert Walker &#x3C;robert_walker@rcwalker.freeserve.co.uk&#x3E;</h3><span>3/4/2001 3:34:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Dan</p><p>&gt; Great, can&apos;t wait to see them! Let me know if there&apos;s anyway I can<br/>&gt; help with the two and three-term, Fibonacci and Tribonacci ideas...<br/>Will do.</p><p>&gt; BTW, adding some sort of a GCD function so that the cents to ratios<br/>&gt; calculator will always give the ratios in their reduced form might not<br/>&gt; be a bad idea too?<br/>Thanks, I&apos;ve done that.</p><p>Robert</p></div>