<a href="/tuning">back to list</a><h1>What exactly is TOP?</h1><h3>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>1/11/2004 4:58:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi!</p><p>This TOP business sounds really exciting for me mainly because we are<br/>at last tempering the octaves too! But I&apos;m lost in the archives of<br/>tuning and tuning-math and can&apos;t quite figure out what it exactly is.<br/>Please help!</p><p>I understand that it is some kind of minimax optimization over<br/>intervals divided by log(n*d) but what exactly are those intervals?</p><p>And how is the calculation done?</p><p>Kalle</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>1/11/2004 5:10:24 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Hi!<br/>&gt;<br/>&gt;This TOP business sounds really exciting for me mainly because we are<br/>&gt;at last tempering the octaves too! But I&apos;m lost in the archives of<br/>&gt;tuning and tuning-math and can&apos;t quite figure out what it exactly is.<br/>&gt;Please help!<br/>&gt;<br/>&gt;I understand that it is some kind of minimax optimization over<br/>&gt;intervals divided by log(n*d) but what exactly are those intervals?<br/>&gt;<br/>&gt;And how is the calculation done?</p><p>Hi Kalle!  Good to hear from you.</p><p>Try this thread...</p><p><a href="http://groups.yahoo.com/group/tuning-math/message/8387">http://groups.yahoo.com/group/tuning-math/message/8387</a></p><p>-Carl</p></div><h3>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>1/11/2004 8:07:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Carl Lumma &lt;ekin@l...&gt; wrote:</p><p>&gt; Try this thread...<br/>&gt;<br/>&gt; <a href="http://groups.yahoo.com/group/tuning-math/message/8387">http://groups.yahoo.com/group/tuning-math/message/8387</a></p><p>I&apos;m hoping to have formulas going directly from the wedgie to the<br/>tuning some time.</p></div><h3>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>1/14/2004 12:04:28 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi, TOPpers!</p><p>I still don&apos;t quite get this TOP business. I would be very pleased if<br/>someone would write some kind of summary for dummies like me!</p><p>I understand what Tenney harmonic distance is and that it is related<br/>to harmonic entropy. BUT:</p><p>What is this talk about all intervals?<br/>Can TOP be used in all cases: linear, planar and equal temperaments?<br/>How?<br/>What is it good for?<br/>How and in what way does it minimize the errors in (all?) intervals?</p><p>Would it be good for me to tune decatonic scales or 22-equal<br/>differently? How to calculate these? And by the way, doesn&apos;t Pajara<br/>have a half-octave period?</p><p>I know, too many questions. :)</p><p>Kalle</p></div><h3>wallyesterpaulrus &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/14/2004 12:20:10 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:<br/>&gt; Hi, TOPpers!<br/>&gt;<br/>&gt; I still don&apos;t quite get this TOP business. I would be very pleased<br/>if<br/>&gt; someone would write some kind of summary for dummies like me!</p><p>Eventually . . . there are still some things that might be<br/>simplifyable . . . I&apos;d love to explain more but I must run off<br/>now . . .</p><p>&gt; I understand what Tenney harmonic distance is and that it is<br/>related<br/>&gt; to harmonic entropy. BUT:<br/>&gt;<br/>&gt; What is this talk about all intervals?</p><p>All intervals that occur in the infinite just lattice you&apos;re<br/>tempering. In the 5-limit, it&apos;s 3-dimensional. If you&apos;re tempering<br/>out a comma, it will only affect the primes that occur in the comma,<br/>so if you know the TOP tuning for a given comma being tempered out,<br/>it&apos;s trivial to extend the result to a just lattice of any prime<br/>limit.</p><p>&gt; Can TOP be used in all cases: linear, planar and equal<br/>&gt;temperaments?</p><p>Yes but so far I&apos;ve been able to figure out easy methods for only the<br/>equal case and the co-dimension 1 case (that is, where only one comma<br/>is tempered out).</p><p>&gt; How?</p><p>If you&apos;re tempering one comma out, then for each prime p that occurs<br/>in the comma n/d,</p><p>if p occurs in the numerator, then it gets approximated as (in cents)</p><p>cents(p) - cents(n/d)*log(p)/log(n*d)</p><p>if p occurs in the denominator, then it gets approximated as (in<br/>cents)</p><p>cents(p) + cents(n/d)*log(p)/log(n*d)</p><p>&gt; What is it good for?</p><p>Everything :)</p><p>&gt; How and in what way does it minimize the errors in (all?)<br/>&gt;intervals?</p><p>It minimizes the maximum *weighted* error, meaning the error divided<br/>by log(n*d), over all ratios n/d in the original just lattice.</p><p>&gt; Would it be good for me to tune decatonic scales or 22-equal<br/>&gt; differently?</p><p>Yes.</p><p>&gt; How to calculate these?</p><p>Gene did so on tuning-math.</p><p>&gt; And by the way, doesn&apos;t Pajara<br/>&gt; have a half-octave period?</p><p>Yes, it does. Whether it&apos;s TOP or not. Though in TOP, it&apos;s not<br/>precisely 600 cents.</p></div><h3>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>1/14/2004 1:08:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:</p><p>&gt; I still don&apos;t quite get this TOP business. I would be very pleased<br/>if<br/>&gt; someone would write some kind of summary for dummies like me!</p><p>I&apos;m not good at that, but will try to say something useful.</p><p>&gt; Can TOP be used in all cases: linear, planar and equal<br/>temperaments?</p><p>Yes.</p><p>&gt; How?</p><p>The heavy-duty mathematical explanation can be found here:</p><p><a href="http://66.98.148.43/~xenharmo/top.htm">http://66.98.148.43/~xenharmo/top.htm</a></p><p>So far this hasn&apos;t been translated into English; the gist is that<br/>just intonation can be identified with a point in a certain space,<br/>and temperaments with a subpsace. TOP tuning is the point in the<br/>subspace closest to the just intonation point (JIP.)</p><p>&gt; What is it good for?</p><p>We are still finding that out. One thing it is good for is giving us<br/>a theoretically justifified canonical tuning for every temperament,<br/>but that is just theory. My rendition of a Haydn string quartet in<br/>TOP can be found here, so you can form your own judgment:</p><p><a href="http://66.98.148.43/~xenharmo/meantop.htm">http://66.98.148.43/~xenharmo/meantop.htm</a></p><p>So far I haven&apos;t heard any comments, possibly because people are<br/>afraid of getting caught in the crossfire if they say anything. I&apos;ve<br/>also finished Act I of Rigoletto, and used TOP where some high<br/>sceechy notes I wanted to make screech even more, and then resolve to<br/>something very smooth and quiet. Act I has various interesting tunings<br/>(meantone top, Marvel, extended meantone, meaning more than 12 notes<br/>to the octave of meantone) but it also has a lot of things to offend<br/>the purists, even excluding the tuning. Given the atmosphere here, I<br/>am hesitating about putting it up, but probably will. If I do, I<br/>would ask (as I would ask about any music I put up, whether an<br/>original composition or an arragement) that any critical comments not<br/>be personal comments, but concern themselves solely with the music.</p><p>&gt; How and in what way does it minimize the errors in (all?)<br/>intervals?</p><p>It minimizes a certain kind of weighted error; the math which shows<br/>it can do that is on my web page.</p><p>&gt; Would it be good for me to tune decatonic scales or 22-equal<br/>&gt; differently?</p><p>Try it and see if you like it.</p></div><h3>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>1/14/2004 5:05:33 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;wallyesterpaulrus&quot; &lt;paul@s...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:<br/>&gt; &gt; I understand what Tenney harmonic distance is and that it is<br/>&gt; related<br/>&gt; &gt; to harmonic entropy. BUT:<br/>&gt; &gt;<br/>&gt; &gt; What is this talk about all intervals?<br/>&gt;<br/>&gt; All intervals that occur in the infinite just lattice you&apos;re<br/>&gt; tempering.</p><p>I knew it!</p><p>&gt; In the 5-limit, it&apos;s 3-dimensional. If you&apos;re tempering<br/>&gt; out a comma, it will only affect the primes that occur in the<br/>comma,</p><p>Aha!</p><p>&gt; so if you know the TOP tuning for a given comma being tempered out,<br/>&gt; it&apos;s trivial to extend the result to a just lattice of any prime<br/>&gt; limit.</p><p>But what if you introduce more commas?</p><p>&gt; &gt; Can TOP be used in all cases: linear, planar and equal<br/>&gt; &gt;temperaments?<br/>&gt;<br/>&gt; Yes but so far I&apos;ve been able to figure out easy methods for only<br/>the<br/>&gt; equal case and the co-dimension 1 case (that is, where only one<br/>comma<br/>&gt; is tempered out).</p><p>Ok. Co-dimension 1 case is linear temperament, right? What&apos;s co-<br/>dimension?</p><p>&gt; &gt; How?<br/>&gt;<br/>&gt; If you&apos;re tempering one comma out, then for each prime p that<br/>occurs<br/>&gt; in the comma n/d,<br/>&gt;<br/>&gt; if p occurs in the numerator, then it gets approximated as (in<br/>cents)<br/>&gt;<br/>&gt; cents(p) - cents(n/d)*log(p)/log(n*d)<br/>&gt;<br/>&gt; if p occurs in the denominator, then it gets approximated as (in<br/>&gt; cents)<br/>&gt;<br/>&gt; cents(p) + cents(n/d)*log(p)/log(n*d)</p><p>Thanks for this!</p><p>&gt; &gt; What is it good for?<br/>&gt;<br/>&gt; Everything :)</p><p>Great!</p><p>&gt; &gt; How and in what way does it minimize the errors in (all?)<br/>&gt; &gt;intervals?<br/>&gt;<br/>&gt; It minimizes the maximum *weighted* error, meaning the error<br/>divided<br/>&gt; by log(n*d), over all ratios n/d in the original just lattice.</p><p>Wow! That&apos;s pretty awesome!</p><p>&gt; &gt; Would it be good for me to tune decatonic scales or 22-equal<br/>&gt; &gt; differently?<br/>&gt;<br/>&gt; Yes.</p><p>Cool! I&apos;ll try that.</p><p>&gt; &gt; How to calculate these?<br/>&gt;<br/>&gt; Gene did so on tuning-math.</p><p>Right. I found Pajara but where&apos;s 22-equal? Is that Diminished<br/>Seventh-temperament the one I was talking about in my<br/>dorian/mixolydian thread?</p><p>&gt; &gt; And by the way, doesn&apos;t Pajara<br/>&gt; &gt; have a half-octave period?<br/>&gt;<br/>&gt; Yes, it does. Whether it&apos;s TOP or not. Though in TOP, it&apos;s not<br/>&gt; precisely 600 cents.</p><p>So I have to divide by 2 the value Gene gave for 2:1 to get the<br/>period, right?</p><p>Kalle</p></div><h3>Kalle Aho &#x3C;kalleaho@mappi.helsinki.fi&#x3E;</h3><span>1/14/2004 5:28:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Gene Ward Smith&quot; &lt;gwsmith@s...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:<br/>&gt;<br/>&gt; &gt; I still don&apos;t quite get this TOP business. I would be very<br/>pleased<br/>&gt; if<br/>&gt; &gt; someone would write some kind of summary for dummies like me!<br/>&gt;<br/>&gt; I&apos;m not good at that, but will try to say something useful.</p><p>:)</p><p>&gt; &gt; Can TOP be used in all cases: linear, planar and equal<br/>&gt; temperaments?<br/>&gt;<br/>&gt; Yes.<br/>&gt;<br/>&gt; &gt; How?<br/>&gt;<br/>&gt; The heavy-duty mathematical explanation can be found here:<br/>&gt;<br/>&gt; <a href="http://66.98.148.43/~xenharmo/top.htm">http://66.98.148.43/~xenharmo/top.htm</a></p><p>Yep. I had a course in linear algebra but I&apos;ve already forgotten<br/>almost everything. :)</p><p>&gt; So far this hasn&apos;t been translated into English; the gist is that<br/>&gt; just intonation can be identified with a point in a certain space,<br/>&gt; and temperaments with a subpsace. TOP tuning is the point in the<br/>&gt; subspace closest to the just intonation point (JIP.)</p><p>So every point in a subspace is a different tuning? What&apos;s the metric<br/>of this space, Tenney harmonic distance?</p><p>&gt; &gt; What is it good for?<br/>&gt;<br/>&gt; We are still finding that out. One thing it is good for is giving<br/>us<br/>&gt; a theoretically justifified canonical tuning for every temperament,</p><p>That&apos;s a good thing in my opinion.</p><p>&gt; but that is just theory. My rendition of a Haydn string quartet in<br/>&gt; TOP can be found here, so you can form your own judgment:<br/>&gt;<br/>&gt; <a href="http://66.98.148.43/~xenharmo/meantop.htm">http://66.98.148.43/~xenharmo/meantop.htm</a></p><p>I&apos;m listening to the third movement right now. That one sounds quite<br/>good to me though I&apos;m hearing some weird noises in some of the<br/>attacks of the samples. I have to listen to the other ones too.</p><p>&gt; So far I haven&apos;t heard any comments, possibly because people are<br/>&gt; afraid of getting caught in the crossfire if they say anything.</p><p>Really? I&apos;m not afraid of that.</p><p>I&apos;ve<br/>&gt; also finished Act I of Rigoletto, and used TOP where some high<br/>&gt; sceechy notes I wanted to make screech even more, and then resolve<br/>to<br/>&gt; something very smooth and quiet. Act I has various interesting<br/>tunings<br/>&gt; (meantone top, Marvel, extended meantone, meaning more than 12<br/>notes<br/>&gt; to the octave of meantone) but it also has a lot of things to<br/>offend<br/>&gt; the purists, even excluding the tuning. Given the atmosphere here,<br/>I<br/>&gt; am hesitating about putting it up, but probably will. If I do, I<br/>&gt; would ask (as I would ask about any music I put up, whether an<br/>&gt; original composition or an arragement) that any critical comments<br/>not<br/>&gt; be personal comments, but concern themselves solely with the music.</p><p>Fair enough.</p><p>&gt; &gt; How and in what way does it minimize the errors in (all?)<br/>&gt; intervals?<br/>&gt;<br/>&gt; It minimizes a certain kind of weighted error; the math which shows<br/>&gt; it can do that is on my web page.</p><p>&gt; &gt; Would it be good for me to tune decatonic scales or 22-equal<br/>&gt; &gt; differently?<br/>&gt;<br/>&gt; Try it and see if you like it.</p><p>I&apos;ll do that.</p><p>Kalle</p></div><h3>Gene Ward Smith &#x3C;gwsmith@svpal.org&#x3E;</h3><span>1/14/2004 6:44:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:</p><p>&gt; So every point in a subspace is a different tuning?</p><p>Past a certain point it becomes absurd to call it a tuning, but if<br/>you ignore that little bit of reality, yes.</p><p> What&apos;s the metric<br/>&gt; of this space, Tenney harmonic distance?</p><p>It&apos;s the dual of Tenney harmonic distance.</p><p>|| &lt;v2 v3 v5 ... vp| || = Max(|v2/log2(2)|, |v3/log2(3)|, ...,<br/>|vp/log2(p)|)</p><p>&gt; &gt; <a href="http://66.98.148.43/~xenharmo/meantop.htm">http://66.98.148.43/~xenharmo/meantop.htm</a><br/>&gt;<br/>&gt; I&apos;m listening to the third movement right now. That one sounds<br/>quite<br/>&gt; good to me though I&apos;m hearing some weird noises in some of the<br/>&gt; attacks of the samples. I have to listen to the other ones too.</p><p>Soundfonts always seem a little flakey one way or another. I thought<br/>of using the Cadenza Strings font on this movement and perhaps I<br/>should have.</p></div><h3>wallyesterpaulrus &#x3C;paul@stretch-music.com&#x3E;</h3><span>1/15/2004 1:16:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;wallyesterpaulrus&quot; &lt;paul@s...&gt;<br/>wrote:<br/>&gt; &gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Kalle Aho&quot; &lt;kalleaho@m...&gt; wrote:<br/>&gt; &gt; &gt; I understand what Tenney harmonic distance is and that it is<br/>&gt; &gt; related<br/>&gt; &gt; &gt; to harmonic entropy. BUT:<br/>&gt; &gt; &gt;<br/>&gt; &gt; &gt; What is this talk about all intervals?<br/>&gt; &gt;<br/>&gt; &gt; All intervals that occur in the infinite just lattice you&apos;re<br/>&gt; &gt; tempering.<br/>&gt;<br/>&gt; I knew it!<br/>&gt;<br/>&gt; &gt; In the 5-limit, it&apos;s 3-dimensional. If you&apos;re tempering<br/>&gt; &gt; out a comma, it will only affect the primes that occur in the<br/>&gt; comma,<br/>&gt;<br/>&gt; Aha!<br/>&gt;<br/>&gt; &gt; so if you know the TOP tuning for a given comma being tempered<br/>out,<br/>&gt; &gt; it&apos;s trivial to extend the result to a just lattice of any prime<br/>&gt; &gt; limit.<br/>&gt;<br/>&gt; But what if you introduce more commas?</p><p>Then things get a bit messier . . . but there&apos;s still a solution<br/>(sometimes there&apos;ll be a range of possible values for one of the<br/>primes, if that prime never appears in any of the intervals that hit<br/>the maximum).</p><p>&gt; &gt; &gt; Can TOP be used in all cases: linear, planar and equal<br/>&gt; &gt; &gt;temperaments?<br/>&gt; &gt;<br/>&gt; &gt; Yes but so far I&apos;ve been able to figure out easy methods for only<br/>&gt; the<br/>&gt; &gt; equal case and the co-dimension 1 case (that is, where only one<br/>&gt; comma<br/>&gt; &gt; is tempered out).<br/>&gt;<br/>&gt; Ok. Co-dimension 1 case is linear temperament, right?</p><p>Only in 5-limit. In 7-limit, it&apos;s planar temperament, etc.</p><p>&gt; What&apos;s co-<br/>&gt; dimension?</p><p>The dimension of the lattice of tempered-out commas.</p><p>&gt; &gt; &gt; Would it be good for me to tune decatonic scales or 22-equal<br/>&gt; &gt; &gt; differently?<br/>&gt; &gt;<br/>&gt; &gt; Yes.<br/>&gt;<br/>&gt; Cool! I&apos;ll try that.<br/>&gt;<br/>&gt; &gt; &gt; How to calculate these?<br/>&gt; &gt;<br/>&gt; &gt; Gene did so on tuning-math.<br/>&gt;<br/>&gt; Right. I found Pajara but where&apos;s 22-equal?</p><p>Let&apos;s see if Carl or someone can beat me to this.</p><p>&gt; Is that Diminished<br/>&gt; Seventh-temperament the one I was talking about in my<br/>&gt; dorian/mixolydian thread?</p><p>Yes.</p><p>&gt; &gt; &gt; And by the way, doesn&apos;t Pajara<br/>&gt; &gt; &gt; have a half-octave period?<br/>&gt; &gt;<br/>&gt; &gt; Yes, it does. Whether it&apos;s TOP or not. Though in TOP, it&apos;s not<br/>&gt; &gt; precisely 600 cents.<br/>&gt;<br/>&gt; So I have to divide by 2 the value Gene gave for 2:1 to get the<br/>&gt; period, right?</p><p>Yes.</p></div>