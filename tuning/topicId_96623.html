<a href="/tuning">back to list</a><h1>Average Complexity/Diatonic Stuff</h1><h3>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>3/5/2011 6:41:20 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Mar 5, 2011 at 8:44 PM, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Mike wrote:<br/>&gt; &gt;I talked about this all before. It&apos;s a rough concept and I&apos;m<br/>&gt; &gt;interested in testing it, and I&apos;m not sure exactly what&apos;s going to<br/>&gt; &gt;work the best. Mean and std. dev are two different metrics I&apos;d like to<br/>&gt; &gt;test out.<br/>&gt;<br/>&gt; Those are easy enough to compute. Not sure what you&apos;re computing<br/>&gt; the mean of though. Also we should move this to tuning.</p><p>I&apos;m computing the mean complexity of all of the chords in the scale.<br/>Ideally, I&apos;d be computing the mean concordance by HE of all of the<br/>chords in the scale, or with the HE transform I&apos;ve hypothesized, but<br/>those don&apos;t exist yet, so we&apos;ll have to settle for this for now. I<br/>guess you&apos;d have to normalize it such that 4:5:6 and 4:5:6:7 have<br/>comparable complexity, so (a;b:c:...)^(1/N) is probably the way to go,<br/>where N is the number of notes in the scale.</p><p>&gt; &gt;I have no idea how to run these tests, though, because I have no idea<br/>&gt; &gt;how to open MATLAB and figure out what the least complex meantone<br/>&gt; &gt;mapping for C C# D is.<br/>&gt;<br/>&gt; I don&apos;t know what you mean with this notation.</p><p>That is standard meantone notation. If you&apos;re looking at meantone[12],<br/>and you&apos;re trying to get the average complexity of every chord in the<br/>scale, you&apos;ll first have to get the complexity of every chord in the<br/>scale. C C# D is the triad formed by 0-1-2 in meantone[12].</p><p>There are an infinite number of intervals that C C# D maps to in<br/>meantone - they could be 1/1 25/24 9/8, or it could be 81/80 135/128<br/>10/9. Since I&apos;m using Tenney height here as a replacement for HE, it&apos;s<br/>probably a safe assumption to make that when there are an infinite<br/>series of intervals that a tempered interval could be, that the<br/>simplest one is how it will be perceived. That is, C-D in quarter<br/>comma meantone is more likely to be heard as 9/8 than 10/9, since 9/8<br/>has a larger field of attraction than 10/9.</p><p>What I don&apos;t understand is how to do this for chords. C-D-E in quarter<br/>comma meantone could be mapped as 64:72:81 or 81:90:100, but the<br/>simplest possible mapping for it is 8:9:10, and that&apos;s probably how<br/>also it will be heard. So a good way to start doing this since we<br/>don&apos;t have HE available is to find the simplest possible mapping for<br/>whatever chord you&apos;re looking at, get the complexity for that mapping,<br/>and then do all of the statistical analysis based off of the<br/>complexities of the simplest possible mappings for every chord in the<br/>scale.</p><p>&gt; &gt;How do I come up with the complexity for that<br/>&gt; &gt;chord and make some kind of histogram when I don&apos;t even know what the<br/>&gt; &gt;mapping for the chord is?<br/>&gt;<br/>&gt; Don&apos;t you just take all the chords in the scale and score their<br/>&gt; concordance?</p><p>OK, but I don&apos;t want to do this by hand, I want to write a MATLAB<br/>program that does it for me if I dial in a mapping and a number of<br/>notes. Given the information 81/80, 7, how do I figure out the<br/>complexity of the chord 0-1-2? 81/80 and 7 specifies the meantone<br/>diatonic scale, and the concordance for 0-1-2 should be<br/>(8*9*10)^(1/3). How do I figure out that 8:9:10 is the mapping to use<br/>for the complexity calculation, when it could also be 64:72:81 or<br/>81:90:100 or 72:80:81?</p><p>For porcupine[7], assuming all generators are going up, if I want to<br/>find the complexity of 7-0-1-2-3, how on earth do I work out that<br/>that&apos;s an octave-equivalent 8:9:10:11:12? My linear algebra mojo is<br/>rising, but it isn&apos;t THAT good.</p><p>&gt; &gt;Precisely, what I want to do is this:<br/>&gt; &gt;1) Come up with a one-sided PMF for a scale that represents the<br/>&gt; &gt;concordance (measured right now in complexity) of a random chord in<br/>&gt; &gt;that scale.<br/>&gt;<br/>&gt; PMF?</p><p>Probability mass function.</p><p>&gt; &gt;2) I predict that the meantone pentatonic scale will have a higher<br/>&gt; &gt;mean concordance than the meantone diatonic scale, and the meantone<br/>&gt; &gt;diatonic scale will have a higher mean concordance than the meantone<br/>&gt; &gt;chromatic scale, for obvious reasons.<br/>&gt; &gt;3) I predict that the maximum value of concordance in the PMF will be<br/>&gt; &gt;higher in meantone[12] then meantone[7] and likewise with meantone[5].<br/>&gt; &gt;4) Thus predictable changes in both the mean and standard deviation<br/>&gt; &gt;will occur with this PMF if more notes are added, and experiment will<br/>&gt; &gt;show which of the two, if any, turn out to be more relevant. There are<br/>&gt; &gt;advantages to both.<br/>&gt;<br/>&gt; If you want to use this on larger scales you&apos;ll have to normalize<br/>&gt; it to step size. But since you only want small scales to come<br/>&gt; out good, you might not normalize it.</p><p>Do you mean normalize it to average step size, meaning to normalize it<br/>to the number of notes in the scale? The normalized version would be<br/>interesting as well, although not what I was aiming for.</p><p>&gt; &gt;&gt;&gt; Until I have a program that can actually<br/>&gt; &gt;&gt;&gt;compute the TH for every chord in a scale and then find out the mean<br/>&gt; &gt;&gt;&gt;and stdev of the resulting distribution, I won&apos;t know.<br/>&gt;<br/>&gt; Yeah I read that. Have no idea what it means.</p><p>TH stands for Tenney Height, sorry.</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>3/5/2011 6:53:53 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Mar 5, 2011 at 9:41 PM, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;&gt; &gt;How do I come up with the complexity for that<br/>&gt;&gt; &gt;chord and make some kind of histogram when I don&apos;t even know what the<br/>&gt;&gt; &gt;mapping for the chord is?<br/>&gt;&gt;<br/>&gt;&gt; Don&apos;t you just take all the chords in the scale and score their<br/>&gt;&gt; concordance?</p><p>I also want to add that - I have a hunch that if you do this, the<br/>results will be similarly ordered as if you just find the simplest<br/>mapping for the entire scale as though it were a chord and just take<br/>the complexity of that. I don&apos;t claim any special significance for<br/>this last part, other than that I suspect it will yield mathematically<br/>similar results and be a lot faster.</p><p>You&apos;d have to use the 2-equivalent Tenney height for this as described<br/>in the post from a while ago about the otonality coefficient.</p><p>-Mike</p></div><h3>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>3/5/2011 11:14:32 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Mar 5, 2011 at 9:41 PM, Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt; On Sat, Mar 5, 2011 at 8:44 PM, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; Mike wrote:<br/>&gt;&gt; &gt;I talked about this all before. It&apos;s a rough concept and I&apos;m<br/>&gt;&gt; &gt;interested in testing it, and I&apos;m not sure exactly what&apos;s going to<br/>&gt;&gt; &gt;work the best. Mean and std. dev are two different metrics I&apos;d like to<br/>&gt;&gt; &gt;test out.</p><p>Actually, forget mean and std. deviation, entropy might work here too!<br/>That is, take the PMF that results from all of this, and then another<br/>statistical measure you can take is the entropy of the distribution.<br/>I&apos;m not sure exactly what that means, but it&apos;ll work out, I guess,<br/>that &quot;chromatic&quot; scales will be lower in this newer type of entropy<br/>than diatonic scales, and the pentatonic scale will be higher than<br/>both.</p><p>-Mike</p></div><h3>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>3/6/2011 3:21:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>Geez Mike, slow down.</p><p>&gt; I&apos;m computing the mean complexity of all of the chords in the<br/>&gt; scale.  Ideally, I&apos;d be computing the mean concordance by HE of<br/>&gt; all of the chords in the scale, or with the HE transform I&apos;ve<br/>&gt; hypothesized, but those don&apos;t exist yet, so we&apos;ll have to settle<br/>&gt; for this for now.</p><p>Triadic harmonic entropy exists, and it&apos;s about to get slightly<br/>better.  Since you mostly have been talking about triads with<br/>this business, why not start with them?  To my knowledge it&apos;s<br/>never been done.  In a later message you say you think the<br/>n-adic entropy will resemble the average m-adic entropy where<br/>m &lt; n.  I agree.  We know there are many chords where all the<br/>dyads are good that aren&apos;t themselves good.  But I think triads<br/>are already muuch stronger.  So basically just do what Paul did<br/>with his entropy minimzier but for triads.</p><p>&gt; That is standard meantone notation. If you&apos;re looking at<br/>&gt; meantone[12], and you&apos;re trying to get the average complexity<br/>&gt; of every chord in the scale, you&apos;ll first have to get the<br/>&gt; complexity of every chord in the scale. C C# D is the triad<br/>&gt; formed by 0-1-2 in meantone[12].</p><p>Please let me again suggest you not use &quot;standard notation&quot;.</p><p>&gt; What I don&apos;t understand is how to do this for chords.</p><p>That&apos;s because there isn&apos;t a reasonable way to do it for<br/>arbitrary chords.</p><p>&gt; So a good way to start doing this since we don&apos;t have<br/>&gt; HE available is to find the simplest possible mapping for<br/>&gt; whatever chord you&apos;re looking at, get the complexity for that<br/>&gt; mapping, and then do all of the statistical analysis based<br/>&gt; off of the complexities of the simplest possible mappings<br/>&gt; for every chord in the scale.</p><p>Howabout this reasoning: If you mash n notes on a keyboard,<br/>you&apos;re most likely to get the simplest chord of n notes, just<br/>because they outnumber more complex n-note chords.  So that&apos;s<br/>just Graham complexity relative to the scale size.  And since<br/>large chords tend to be discordant anyway, we can focus on<br/>the simplest triad or tetrad generated by the mapping group<br/>or subgroup.  I think Gene may have said earlier to just use<br/>Graham complexity.  It&apos;s closely related to chord coverage,<br/>which tells us it ought to be good for mashability too.</p><p>&gt; &gt; If you want to use this on larger scales you&apos;ll have to<br/>&gt; &gt; normalize it to step size. But since you only want small<br/>&gt; &gt; scales to come out good, you might not normalize it.<br/>&gt;<br/>&gt; Do you mean normalize it to average step size, meaning to<br/>&gt; normalize it to the number of notes in the scale?</p><p>They&apos;re not quite the same but yes.</p><p>-Carl</p></div><h3>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>3/6/2011 10:19:05 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sun, Mar 6, 2011 at 6:21 AM, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; Geez Mike, slow down.</p><p>Can&apos;t slow down!</p><p>&gt; &gt; I&apos;m computing the mean complexity of all of the chords in the<br/>&gt; &gt; scale. Ideally, I&apos;d be computing the mean concordance by HE of<br/>&gt; &gt; all of the chords in the scale, or with the HE transform I&apos;ve<br/>&gt; &gt; hypothesized, but those don&apos;t exist yet, so we&apos;ll have to settle<br/>&gt; &gt; for this for now.<br/>&gt;<br/>&gt; Triadic harmonic entropy exists, and it&apos;s about to get slightly<br/>&gt; better. Since you mostly have been talking about triads with<br/>&gt; this business, why not start with them? To my knowledge it&apos;s<br/>&gt; never been done. In a later message you say you think the<br/>&gt; n-adic entropy will resemble the average m-adic entropy where<br/>&gt; m &lt; n. I agree. We know there are many chords where all the<br/>&gt; dyads are good that aren&apos;t themselves good. But I think triads<br/>&gt; are already muuch stronger. So basically just do what Paul did<br/>&gt; with his entropy minimzier but for triads.</p><p>OK, let&apos;s do that. Do we have tabulated data for it somewhere?</p><p>I should say that I think for the full results to come through on<br/>this, we&apos;d have to do a tetradic minimizer for tetrads of the form<br/>0.5a:a:b:c, which means we&apos;re minimizing the entropy of triads that<br/>have the root note doubled down an octave. Diminished chords will rank<br/>as more discordant this way, but I think they&apos;ll be less concordant<br/>than minor chords the other way.</p><p>&gt; &gt; That is standard meantone notation. If you&apos;re looking at<br/>&gt; &gt; meantone[12], and you&apos;re trying to get the average complexity<br/>&gt; &gt; of every chord in the scale, you&apos;ll first have to get the<br/>&gt; &gt; complexity of every chord in the scale. C C# D is the triad<br/>&gt; &gt; formed by 0-1-2 in meantone[12].<br/>&gt;<br/>&gt; Please let me again suggest you not use &quot;standard notation&quot;.</p><p>My example was a meantone example, and meantone notation is a way to<br/>identify chords in meantone. What&apos;s the problem?</p><p>&gt; &gt; What I don&apos;t understand is how to do this for chords.<br/>&gt;<br/>&gt; That&apos;s because there isn&apos;t a reasonable way to do it for<br/>&gt; arbitrary chords.</p><p>There&apos;s no reasonable way to find the simplest possible mapping for an<br/>arbitrary chord in a temperament?</p><p>&gt; &gt; So a good way to start doing this since we don&apos;t have<br/>&gt; &gt; HE available is to find the simplest possible mapping for<br/>&gt; &gt; whatever chord you&apos;re looking at, get the complexity for that<br/>&gt; &gt; mapping, and then do all of the statistical analysis based<br/>&gt; &gt; off of the complexities of the simplest possible mappings<br/>&gt; &gt; for every chord in the scale.<br/>&gt;<br/>&gt; Howabout this reasoning: If you mash n notes on a keyboard,<br/>&gt; you&apos;re most likely to get the simplest chord of n notes, just<br/>&gt; because they outnumber more complex n-note chords. So that&apos;s<br/>&gt; just Graham complexity relative to the scale size.</p><p>When you say &quot;simplest,&quot; you mean in terms of Graham complexity now? I<br/>was talking about complexity as in how it refers to Tenney Height.</p><p>&gt; And since large chords tend to be discordant anyway, we can focus on<br/>&gt; the simplest triad or tetrad generated by the mapping group<br/>&gt; or subgroup. I think Gene may have said earlier to just use<br/>&gt; Graham complexity. It&apos;s closely related to chord coverage,<br/>&gt; which tells us it ought to be good for mashability too.</p><p>That might be an even simpler way to do it. We should compare the<br/>results for all of these.</p><p>-Mike</p></div><h3>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>3/6/2011 1:47:58 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt;&gt; Geez Mike, slow down.<br/>&gt;<br/>&gt; Can&apos;t slow down!</p><p>You should.  I think it would be a win.</p><p>&gt;&gt; Triadic harmonic entropy exists, and it&apos;s about to get slightly<br/>&gt;&gt; better. Since you mostly have been talking about triads with<br/>&gt;&gt; this business, why not start with them? To my knowledge it&apos;s<br/>&gt;&gt; never been done. In a later message you say you think the<br/>&gt;&gt; n-adic entropy will resemble the average m-adic entropy where<br/>&gt;&gt; m &lt; n. I agree. We know there are many chords where all the<br/>&gt;&gt; dyads are good that aren&apos;t themselves good. But I think triads<br/>&gt;&gt; are already muuch stronger. So basically just do what Paul did<br/>&gt;&gt; with his entropy minimzier but for triads.<br/>&gt;<br/>&gt; OK, let&apos;s do that. Do we have tabulated data for it somewhere?</p><p>Yes, in Steve&apos;s folder here or mine, as you know.</p><p>&gt; I should say that I think for the full results to come through<br/>&gt; on this, we&apos;d have to do a tetradic minimizer for tetrads of<br/>&gt; the form 0.5a:a:b:c, which means we&apos;re minimizing the entropy<br/>&gt; of triads that have the root note doubled down an octave.<br/>&gt; Diminished chords will rank as more discordant this way, but<br/>&gt; I think they&apos;ll be less concordant than minor chords the<br/>&gt; other way.</p><p>And I think triads are sufficient, at least for now.  One of<br/>the things you&apos;ll need to get precise about is how to handle<br/>octave equivalence.  We&apos;ve got two octaves of 3HE data, so<br/>perhaps just extend the scale under test to two octaves and<br/>pull triads out of that.  If we&apos;re going up to 12/oct, that&apos;s<br/>3|24 or about 2000 chords to score, which is no problem.</p><p>&gt;&gt;&gt; C C# D is the triad formed by 0-1-2 in meantone[12].<br/>&gt;&gt;<br/>&gt;&gt; Please let me again suggest you not use &quot;standard notation&quot;.<br/>&gt;<br/>&gt; My example was a meantone example, and meantone notation is a<br/>&gt; way to identify chords in meantone. What&apos;s the problem?</p><p>Standard notation is usually understood in 12-ET.  If it&apos;s<br/>meantone you&apos;ll also need to say where the wolf is.  Once you<br/>do that you should realize that there are many more chords<br/>than C C# D formed by 0-1-2 in the scale, unless C is zero,<br/>which you haven&apos;t specified.</p><p>&gt; &gt; there isn&apos;t a reasonable way to do it for arbitrary chords.<br/>&gt;<br/>&gt; There&apos;s no reasonable way to find the simplest possible<br/>&gt; mapping for an arbitrary chord in a temperament?</p><p>There are, but for most chords the mapping is irrelevant,<br/>in that it leads to JI chords with geomean(a*b*c...) &gt; 10.</p><p>&gt;&gt; Howabout this reasoning: If you mash n notes on a keyboard,<br/>&gt;&gt; you&apos;re most likely to get the simplest chord of n notes, just<br/>&gt;&gt; because they outnumber more complex n-note chords. So that&apos;s<br/>&gt;&gt; just Graham complexity relative to the scale size.<br/>&gt;<br/>&gt; When you say &quot;simplest,&quot; you mean in terms of Graham complexity<br/>&gt; now? I was talking about complexity as in how it refers to<br/>&gt; Tenney Height.</p><p>Yes.  The latter is sometimes also called complexity, but<br/>calling it discordance in this thread may reduce confusion.</p><p>&gt; That might be an even simpler way to do it. We should compare<br/>&gt; the results for all of these.</p><p>The first idea (looking up the 3HE of all triads) is a<br/>straightforward problem.  3-combinations, lookup, mean or<br/>std., done.</p><p>The latter idea is something very close to what Igs was doing.<br/>Find the simplest triad or tetrad within an octave generated<br/>by the mapping group.  Subtract from the scale size then divide<br/>that by the scale size.  That gives you the chords per note.<br/>Multiply by the chord size (3 or 4 as appropriate) and you get<br/>the chord coverage per note.  Scala reports chord coverage in<br/>its show locations output by the way.</p><p>-Carl</p></div><h3>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>3/6/2011 2:28:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sun, Mar 6, 2011 at 4:47 PM, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt;<br/>&gt; &gt;&gt; Geez Mike, slow down.<br/>&gt; &gt;<br/>&gt; &gt; Can&apos;t slow down!<br/>&gt;<br/>&gt; You should. I think it would be a win.</p><p>I&apos;ll try, but the problem is that I&apos;m already onto taking the mellin<br/>transform of the magnitude spectrum of a signal and trying to see if<br/>that yields useful periodicity information, because I stayed up to 4<br/>AM last night working some stuff out that I didn&apos;t bother to post in<br/>an uninhibited orgy of spam to tuning-math. My brain works in quick<br/>spurts and then it&apos;s done.</p><p>&gt; &gt; I should say that I think for the full results to come through<br/>&gt; &gt; on this, we&apos;d have to do a tetradic minimizer for tetrads of<br/>&gt; &gt; the form 0.5a:a:b:c, which means we&apos;re minimizing the entropy<br/>&gt; &gt; of triads that have the root note doubled down an octave.<br/>&gt; &gt; Diminished chords will rank as more discordant this way, but<br/>&gt; &gt; I think they&apos;ll be less concordant than minor chords the<br/>&gt; &gt; other way.<br/>&gt;<br/>&gt; And I think triads are sufficient, at least for now. One of<br/>&gt; the things you&apos;ll need to get precise about is how to handle<br/>&gt; octave equivalence. We&apos;ve got two octaves of 3HE data, so<br/>&gt; perhaps just extend the scale under test to two octaves and<br/>&gt; pull triads out of that. If we&apos;re going up to 12/oct, that&apos;s<br/>&gt; 3|24 or about 2000 chords to score, which is no problem.</p><p>I was going to use reduced-octave chords for all of this. Maybe a<br/>better approach is to go with simplest octave-equivalent mapping<br/>chords within 2 octaves, meaning 8:9:11:14 turns into 4:7:9:11.</p><p>&gt; &gt;&gt;&gt; C C# D is the triad formed by 0-1-2 in meantone[12].<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Please let me again suggest you not use &quot;standard notation&quot;.<br/>&gt; &gt;<br/>&gt; &gt; My example was a meantone example, and meantone notation is a<br/>&gt; &gt; way to identify chords in meantone. What&apos;s the problem?<br/>&gt;<br/>&gt; Standard notation is usually understood in 12-ET. If it&apos;s<br/>&gt; meantone you&apos;ll also need to say where the wolf is. Once you<br/>&gt; do that you should realize that there are many more chords<br/>&gt; than C C# D formed by 0-1-2 in the scale, unless C is zero,<br/>&gt; which you haven&apos;t specified.</p><p>I meant C C# D as in contrast to C Db D. I guess C is zero. I left out<br/>the C as being zero on purpose, because it doesn&apos;t matter for this<br/>experiment - if we&apos;re going to hit every single triad in the scale,<br/>then it doesn&apos;t matter which mode of the (let&apos;s say 31-tet) meantone<br/>chromatic scale you&apos;re using.</p><p>&gt; &gt; There&apos;s no reasonable way to find the simplest possible<br/>&gt; &gt; mapping for an arbitrary chord in a temperament?<br/>&gt;<br/>&gt; There are, but for most chords the mapping is irrelevant,<br/>&gt; in that it leads to JI chords with geomean(a*b*c...) &gt; 10.</p><p>Yes, but it&apos;s just supposed to be a rough metric for evaluating<br/>consonance for more than triads. I guess if you want you could do<br/>something like min(geomean(a,b,c,...),10), which traps the discordance<br/>at a certain cutoff and avoids skewing the results.</p><p>&gt; The first idea (looking up the 3HE of all triads) is a<br/>&gt; straightforward problem. 3-combinations, lookup, mean or<br/>&gt; std., done.<br/>&gt;<br/>&gt; The latter idea is something very close to what Igs was doing.<br/>&gt; Find the simplest triad or tetrad within an octave generated<br/>&gt; by the mapping group. Subtract from the scale size then divide<br/>&gt; that by the scale size. That gives you the chords per note.</p><p>What do you mean by chords per note? So for meantone[12], we&apos;re<br/>looking at 4:5:6. 12 - 3 is 9, and 9/12 is 3/4, and that&apos;s the amount<br/>of chords per note. What does 3/4 chords per note mean...?</p><p>&gt; Multiply by the chord size (3 or 4 as appropriate) and you get<br/>&gt; the chord coverage per note. Scala reports chord coverage in<br/>&gt; its show locations output by the way.</p><p>So you get 9/4 coverage of the scale per note? I&apos;m completely lost now.</p><p>The three things we&apos;re proposing to test, and what we need to do them, are:</p><p>1) Mean/standard deviation/etc of discordance of all of the chords in<br/>the scale. We can place a strict limit on Tenney height discordance at<br/>10 if you think that&apos;ll be better. Either way, that to automate this I<br/>need to figure out what every random chord is mapped to, in simplest<br/>terms, or else I can&apos;t get its Tenney Height.<br/>2) Triadic HE minimizer. To do this, we need to work out the octave<br/>equivalent-stuff. I recommend going with the most concordant,<br/>simplest, etc way to voice the triad that fits into two octaves (e.g.<br/>8:9:10 becomes 4:5:9, 8:9:14 becomes 4:7:9, etc).<br/>3) Find the simplest chord of n notes and work out what its<br/>concordance is, and then work out its chord coverage. I don&apos;t really<br/>understand this one.</p><p>The three things that would be ideal to do in the future are:<br/>1) Replace every instance of Tenney height above with HE.<br/>2) Work out the HE signal processing transform.<br/>3) Test the concordance of the scale as a whole, and see if it&apos;s<br/>quicker and gives similar results.</p><p>Yes?</p><p>-Mike</p></div><h3>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>3/6/2011 3:45:19 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; &gt; There are, but for most chords the mapping is irrelevant,<br/>&gt; &gt; in that it leads to JI chords with geomean(a*b*c...) &gt; 10.<br/>&gt;<br/>&gt; Yes, but it&apos;s just supposed to be a rough metric for evaluating<br/>&gt; consonance for more than triads. I guess if you want you could<br/>&gt; do something like min(geomean(a,b,c,...),10), which traps the<br/>&gt; discordance at a certain cutoff and avoids skewing the results.</p><p>geomean(a*b*c...) &gt; 10 doesn&apos;t mean the discordance is high,<br/>it means Tenney Height is useless.</p><p>&gt; &gt; The first idea (looking up the 3HE of all triads) is a<br/>&gt; &gt; straightforward problem. 3-combinations, lookup, mean or<br/>&gt; &gt; std., done.<br/>&gt; &gt;<br/>&gt; &gt; The latter idea is something very close to what Igs was doing.<br/>&gt; &gt; Find the simplest triad or tetrad within an octave generated<br/>&gt; &gt; by the mapping group. Subtract from the scale size then divide<br/>&gt; &gt; that by the scale size. That gives you the chords per note.<br/>&gt;<br/>&gt; What do you mean by chords per note? So for meantone[12],<br/>&gt; we&apos;re looking at 4:5:6.</p><p>Maybe.</p><p>&gt; 12 - 3 is 9, and 9/12 is 3/4, and that&apos;s the amount<br/>&gt; of chords per note.</p><p>Right.</p><p>&gt; What does 3/4 chords per note mean...?</p><p>It means you&apos;re more likely to get a concordant chord when<br/>you mash the keyboard.</p><p>&gt; &gt; Multiply by the chord size (3 or 4 as appropriate) and you get<br/>&gt; &gt; the chord coverage per note. Scala reports chord coverage in<br/>&gt; &gt; its show locations output by the way.<br/>&gt;<br/>&gt; So you get 9/4 coverage of the scale per note? I&apos;m completely<br/>&gt; lost now.</p><p>This just normalizes for larger chords.  What you get when you<br/>mash depends on the number of ways a given note can participate<br/>in a concordance.  That&apos;s chords/note, except if it&apos;s triads<br/>it&apos;s representing fewer relationships to the other notes in the<br/>scale than if it&apos;s tetrads.  So now do a show locations 4:5:6<br/>on the diatonic scale.  It says all 7 notes are covered, and<br/>two are covered more than once (the C major mode both C and G<br/>participate in two major triads).</p><p>&gt; The three things we&apos;re proposing to test, and what we need to<br/>&gt; do them, are:<br/>&gt; 1) Mean/standard deviation/etc of discordance of all of the<br/>&gt; chords in the scale. We can place a strict limit on Tenney<br/>&gt; height discordance at 10 if you think that&apos;ll be better.</p><p>I think 3HE on all the triads is a better bet.</p><p>&gt; Either way, that to automate this I need to figure out what<br/>&gt; every random chord is mapped to, in simplest terms, or else<br/>&gt; I can&apos;t get its Tenney Height.</p><p>If you want to do it this way it&apos;s a lattice search problem.<br/>For a scale like meantone[12] which is a MOS of a rank 2<br/>temperament, you get the linear val for the scale.  Then you<br/>tune the JI lattice out to some radius using this val.  Then<br/>you draw circles around the notes of the incoming chord on<br/>your labeled lattice and finally, pick the smallest circle.</p><p>&gt; 2) Triadic HE minimizer. To do this, we need to work out</p><p>Running the minimizer is harder than just scoring given<br/>scales.  The minimizer requires Monte Carlo search.  Scoring<br/>is just combinations and lookup, as I said.</p><p>&gt; the octave<br/>&gt; equivalent-stuff. I recommend going with the most concordant,<br/>&gt; simplest, etc way to voice the triad that fits into two<br/>&gt; octaves (e.g. 8:9:10 becomes 4:5:9, 8:9:14 becomes 4:7:9, etc).</p><p>You&apos;re thinking about starting with JI chords.  I&apos;m saying<br/>just take all 3-combinations of two octaves of the scale and<br/>look up their 3HE.  You should be able to do it an hour.</p><p>&gt; 3) Find the simplest chord of n notes and work out what its<br/>&gt; concordance is, and then work out its chord coverage. I don&apos;t<br/>&gt; really understand this one.</p><p>That&apos;s basically just the Graham complexity.</p><p>(scale size - G.C.) * chord size) / scale size</p><p>should be the average chord coverage.  Just use the one-octave<br/>voicing of the mapping group.  4:5:6:7 for 7-limit etc.</p><p>&gt; The three things that would be ideal to do in the future are:<br/>&gt; 1) Replace every instance of Tenney height above with HE.<br/>&gt; 2) Work out the HE signal processing transform.<br/>&gt; 3) Test the concordance of the scale as a whole, and see if it&apos;s<br/>&gt; quicker and gives similar results.<br/>&gt;<br/>&gt; Yes?</p><p>Yes but the above two methods are no slouch and should be<br/>easy enough.  If you run them both for a bunch of scales we<br/>can see if I&apos;m right that they&apos;re basically the same.</p><p>-Carl</p></div><h3>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>3/7/2011 1:56:19 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl,</p><p>Lots of stuff here, I think I&apos;m on the same page now. Just a few things:</p><p>On Sun, Mar 6, 2011 at 6:45 PM, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; &gt; Either way, that to automate this I need to figure out what<br/>&gt; &gt; every random chord is mapped to, in simplest terms, or else<br/>&gt; &gt; I can&apos;t get its Tenney Height.<br/>&gt;<br/>&gt; If you want to do it this way it&apos;s a lattice search problem.<br/>&gt; For a scale like meantone[12] which is a MOS of a rank 2<br/>&gt; temperament, you get the linear val for the scale. Then you<br/>&gt; tune the JI lattice out to some radius using this val. Then<br/>&gt; you draw circles around the notes of the incoming chord on<br/>&gt; your labeled lattice and finally, pick the smallest circle.</p><p>What do you mean pick the smallest circle? You just said to &quot;draw<br/>circles,&quot; what determines the size of these circles to begin with so I<br/>can pick the smallest one?</p><p>&gt; &gt; 2) Triadic HE minimizer. To do this, we need to work out<br/>&gt;<br/>&gt; Running the minimizer is harder than just scoring given<br/>&gt; scales. The minimizer requires Monte Carlo search. Scoring<br/>&gt; is just combinations and lookup, as I said.</p><p>I thought scoring was minimized. OK, so just scoring.</p><p>&gt; &gt; the octave<br/>&gt; &gt; equivalent-stuff. I recommend going with the most concordant,<br/>&gt; &gt; simplest, etc way to voice the triad that fits into two<br/>&gt; &gt; octaves (e.g. 8:9:10 becomes 4:5:9, 8:9:14 becomes 4:7:9, etc).<br/>&gt;<br/>&gt; You&apos;re thinking about starting with JI chords. I&apos;m saying<br/>&gt; just take all 3-combinations of two octaves of the scale and<br/>&gt; look up their 3HE. You should be able to do it an hour.</p><p>This might have to be next week.</p><p>&gt; &gt; 3) Find the simplest chord of n notes and work out what its<br/>&gt; &gt; concordance is, and then work out its chord coverage. I don&apos;t<br/>&gt; &gt; really understand this one.<br/>&gt;<br/>&gt; That&apos;s basically just the Graham complexity.<br/>&gt;<br/>&gt; (scale size - G.C.) * chord size) / scale size<br/>&gt;<br/>&gt; should be the average chord coverage. Just use the one-octave<br/>&gt; voicing of the mapping group. 4:5:6:7 for 7-limit etc.</p><p>You mean the average chord coverage for that chord, in the sense that<br/>you defined before? This is the same thing as the first type of chord<br/>coverage test you proposed?</p><p>&gt; &gt; Yes?<br/>&gt;<br/>&gt; Yes but the above two methods are no slouch and should be<br/>&gt; easy enough. If you run them both for a bunch of scales we<br/>&gt; can see if I&apos;m right that they&apos;re basically the same.</p><p>Feel free to start trying to hack away at it but I&apos;m going to be out<br/>of action for a bit. If someone can work out some kind of way to at<br/>least work out the Tenney height for an arbitrary chord in some<br/>temperament, I can load it up and at least do that test. Otherwise the<br/>rest will have to wait.</p><p>-Mike</p></div><h3>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>3/7/2011 1:47:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; &gt; If you want to do it this way it&apos;s a lattice search problem.<br/>&gt; &gt; For a scale like meantone[12] which is a MOS of a rank 2<br/>&gt; &gt; temperament, you get the linear val for the scale. Then you<br/>&gt; &gt; tune the JI lattice out to some radius using this val. Then<br/>&gt; &gt; you draw circles around the notes of the incoming chord on<br/>&gt; &gt; your labeled lattice and finally, pick the smallest circle.<br/>&gt;<br/>&gt; What do you mean pick the smallest circle? You just said to<br/>&gt; &quot;draw circles,&quot; what determines the size of these circles to<br/>&gt; begin with so I can pick the smallest one?</p><p>What you actually do is find the volume of the smallest convex<br/>lattice region which includes all the points of the chord<br/>once each.</p><p>&gt; &gt; &gt; 2) Triadic HE minimizer. To do this, we need to work out<br/>&gt; &gt;<br/>&gt; &gt; Running the minimizer is harder than just scoring given<br/>&gt; &gt; scales. The minimizer requires Monte Carlo search. Scoring<br/>&gt; &gt; is just combinations and lookup, as I said.<br/>&gt;<br/>&gt; I thought scoring was minimized. OK, so just scoring.</p><p>Scoring is just looking up the triads on Steve&apos;s list and<br/>then taking the mean or stdev or whatever you like.  That<br/>gives you the mashability number for a given scale.</p><p>Minimizing is *finding* the most mashable scale directly.<br/>Paul&apos;s dyadic minimizer did, FWIW, find the meantone<br/>pentatonic scale.  The triadic minimizer is going to be a<br/>lot harder because of the additional interrelationships.</p><p>&gt; &gt; &gt; 3) Find the simplest chord of n notes and work out what its<br/>&gt; &gt; &gt; concordance is, and then work out its chord coverage. I don&apos;t<br/>&gt; &gt; &gt; really understand this one.<br/>&gt; &gt;<br/>&gt; &gt; That&apos;s basically just the Graham complexity.<br/>&gt; &gt;<br/>&gt; &gt; (scale size - G.C.) * chord size) / scale size<br/>&gt; &gt;<br/>&gt; &gt; should be the average chord coverage. Just use the one-octave<br/>&gt; &gt; voicing of the mapping group. 4:5:6:7 for 7-limit etc.<br/>&gt;<br/>&gt; You mean the average chord coverage for that chord, in the<br/>&gt; sense that you defined before? This is the same thing as<br/>&gt; the first type of chord coverage test you proposed?</p><p>Yes, it&apos;s the same formula I mentioned before.</p><p>&gt; Feel free to start trying to hack away at it but I&apos;m going to<br/>&gt; be out of action for a bit.</p><p>I&apos;m swamped.  It&apos;s your idea, and it&apos;s a good one.  You should<br/>see it through to completion!  If that&apos;s next week that&apos;s no<br/>problem.</p><p>&gt; If someone can work out some kind of way to at<br/>&gt; least work out the Tenney height for an arbitrary chord</p><p>I&apos;ve told you to forget Tenney height about as many times<br/>as I can.  You don&apos;t have to listen to me but then let&apos;s<br/>stop discussing it.  Anyway I told you how I&apos;d do it (first<br/>paragraph here).</p><p>&gt; I can load it up and at least do that test.</p><p>If you can do that you can do the 3HE thing! -- it&apos;s WAAAY<br/>easier.  -Carl</p></div>