<a href="/tuning">back to list</a><h1>Re: Using a Midi Keyboard to Play Computer</h1><h3><a id=58599 href="#58599">ðŸ”—</a>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>5/16/2005 6:26:27 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Jon,</p><p>&gt; My God, man, can&apos;t you write a short and concise post?????? How in the<br/>&gt; world can one respond to all that???????</p><p>&gt; :)</p><p>Sorry, I know. The thing is that I type very fast so e-mails<br/>just come out very long first time, and if I want them short I<br/>often have to edit them to shorten them - but didn&apos;t<br/>with that one. It only took a few minutes to type.<br/>(I usually do about 60 wpm).</p><p>&gt; Robert, if I&apos;m not mistaken, Scala doesn&apos;t have any ASIO setting, but<br/>&gt;that doesn&apos;t matter: Scala is only using my internal soundcard, which<br/>&gt;I *never* use for real music making. Are the DirectSound buffers going<br/>&gt;to affect sound settings in other programs?</p><p>Oh well I expect it is your internal soundcard that&apos;s the source<br/>of the latency- not the card as such but whatever the midi synth<br/>is that it has on it. It&apos;s probalby like my laptop one that<br/>suddenly switches to a huge latency of 0.5 secs or so<br/>- maybe yours is like that all the time. I&apos;m sure it<br/>isn&apos;t happening in Scala itself, can&apos;t be, the speed with<br/>which Scala processes the data won&apos;t be affected by the<br/>soundcard the notes get relayed to.</p><p>The thing to do is to install something like Midi Yoke<br/>or if you are using XP, better to get the Maple Sound<br/>software loopback because Midi Yoke is incompatible<br/>with Giga on XP (slows it down to a crawl).</p><p>Both of those have a very fast transmission<br/>rate indeed; you won&apos;t notice that it is there.</p><p>Then route it to something better, such as Virtual<br/>Sampler or whatever, preferably with Asio. Or play on a hardware synth.</p><p>The midi synth on your soundcard probably can&apos;t be<br/>configured at all if it is a basic one but<br/>a sound sampler like Virtual Sampler will let you<br/>choose any of the direct sound or Asio settings<br/>and then set the buffer size, number of buffers,<br/>and other things that affect latency. And it is<br/>definitely worth having a look at Asio4all<br/>if your card doesn&apos;t have asio drivers already.</p><p>Don&apos;t forget, one of the people you are speaking to has been standing<br/>inside an orchestra for 30 years. And I hasten to add that -<br/>especially for those of us in the back - we have learned and are<br/>required to play measurably ahead of what we see (and, to a certain<br/>extent, *hear*) so that our sounds meet at the podium at the same time<br/>as the concertmaster&apos;s (or &quot;leader&quot;, in your land...). We personally<br/>have to account for the distance.</p><p>Yes I know that. The point in my geometrical argument was<br/>that if the orchestra syncrhonises their timings as you<br/>describe in order to achieve perfect timing from<br/>the point of view of the conductor, if you<br/>then have someone sitting an equal distance<br/>behind the conductor in the audience, then<br/>just because he or she is listening to the<br/>orchestra from a different viewpoint, then your<br/>notes will no longer be exactly in time. They<br/>are only exactly in time as heard by the<br/>conductor. Someone in the audience directly<br/>behind the conductor will hear maybe 2 or<br/>3 ms of differnces in the timings in the<br/>case where you are playing all dead on time.<br/>Someone to the side of the orchestra will hear<br/>your bang on time chord from the conductor&apos;s<br/>point of view as spread out over 15 ms<br/>for them. That&apos;s supposing your orchestra is<br/>about 5 m across from one side to another.<br/>I&apos;ve not measured an orchestra but I imagine<br/>that is quite small and many are probably larger<br/>than that.</p><p>It&apos;s not a lack on the part of any of the players<br/>or the conductor. The argument was assuming that they<br/>are all playing perfectly, and you nevertheless<br/>will get this effect just because of geometry and<br/>the finite speed fo sound.</p><p>&gt; Wrong - 3.0 Ghz, 1 gig ram, completely optimised for music-only<br/>&gt; applications (i.e. very, very little overhead in terms of services<br/>&gt; running, etc.). I can assure you that the latency is far greater than<br/>&gt; in any of my hosts (Sonar, Chainer, Audiomulch).</p><p>Well in that case I&apos;m sure if you try something like<br/>the setup I just tried here - your keyboard<br/>to Scala then Virtual Sampler using Asio then<br/>you will get almost no latency.</p><p>It must be due to the midi synth on the soundcard<br/>and the reason you don&apos;t get it with those other<br/>programs is because even if they use the soundcard<br/>they won&apos;t be using its midi synth.</p><p>Also the synths are a bit temperamental. For instance<br/>Scala sends a lot of pitch bends surely. I haven&apos;t<br/>figured out what it is that makes my soundcard<br/>(or chip or whatever it is on my laptop) synth switch into<br/>its high latency 0.5 second delay mode, but<br/>maybe it is to do with pitch bends or<br/>the instructions to set the pitch bend range<br/>or something. The thing is that my one only<br/>does it sporadically and not consistently<br/>so it is hard to figure out what it is about.</p><p>&gt; I&apos;m sorry, but you are ruminating in extreme complexity! A simple<br/>&gt; keyboard input, via USB, right into the computer should be able to<br/>&gt; create a sound from the card almost instantaneously. I believe there<br/>&gt; are either settings that *might* help, or the relay function in Scala<br/>&gt; (i.e. channel-splitting, allocating, and sending pitch bends) isn&apos;t<br/>&gt; efficient.</p><p>It&apos;s not the internals in Scala because I&apos;ve measured that.<br/>My laptop is 2.4 Ghz so a bit slower than yours if anything.<br/>So there is no reason to suppose yours is spending more time<br/>there. In fact I suspect some of the little overhead there<br/>is isn&apos;t Scala at all,but just the process of getting the<br/>midi data from Windows and returnign it to Windows for<br/>sending on around the chain. But we are talking about<br/>a fifth of a millisecond of so here all combined.</p><p>Well, I don&apos;t get it then. I can play the soundcard through any other<br/>host, in realtime, and get virtually no latency. It is only on Scala.<br/>Anyhow, I don&apos;t think anyone would attempt to really do a lot of music<br/>making this way - it was simply a suggestion that if one has a<br/>keyboard and Scala (and soundcard, which seems common on most all<br/>systems), they already have the tools to be able to hear these tunings.</p><p>I think the thing is that it isn&apos;t the soundcard as such.<br/>It will be the midi synth on the soundcard. That probably<br/>isn&apos;t a particularly good implementation of a midi synth.<br/>If you think about it - on a consumer level soundcard<br/>the midi synth is normally going to be used only for<br/>playing midi files. Typical users won&apos;t be using it for music<br/>making normally. So the engineers and programmers probably<br/>didn&apos;t spend much time on making sure that it was low<br/>latency.</p><p>Even on good soundcards sometimes the midi synth may<br/>be very high latency too - I&apos;ve read some posts, e.g.<br/>somehwere about a Yamaha reasonable soundcard that<br/>had a 0.5 second latency midi synth though I&apos;m not<br/>sure how up to date that is.</p><p>Anyway if you want to give it a fair go,<br/>I&apos;d try Scala with Virtual Sampler, Asio4all<br/>(if you don&apos;t have asio drivers already that is)<br/>and MapleSound to connect Scala to Virtual Sampler,<br/>then maybe you&apos;ll get a suprise :-).</p><p>&gt; Hope all is well with you these days, you&apos;ve been somewhat quiet of late!!</p><p>Oh I&apos;ve been working _very_ hard on FTS 3.0.<br/>That&apos;s why. Just taking a day or two off<br/>right now - well letting up a little anyway.<br/>The back to work again quite soon. I very much<br/>want to get this release done. So I&apos;ll probably<br/>lapse into silence again for a week or two<br/>soon after this. But I&apos;m still around don&apos;t<br/>you worry and still interested and involved,<br/>just pre-occupied.</p><p>I see this e-mail is also fairly long and again<br/>it only took a few seconds to write this<br/>time. It takes much more time if I have<br/>to go back and cut it so I hope this is<br/>okay as it is.</p><p>Robert</p></div><h3><a id=58605 href="#58605">ðŸ”—</a>Jon Szanto &#x3C;jszanto@cox.net&#x3E;</h3><span>5/16/2005 9:41:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;Robert Walker&quot; &lt;robertwalker@n...&gt; wrote:<br/>&gt; I see this e-mail is also fairly long and again<br/>&gt; it only took a few seconds to write this<br/>&gt; time. It takes much more time if I have<br/>&gt; to go back and cut it so I hope this is<br/>&gt; okay as it is.</p><p>&lt;grin&gt; What *will* we do with you??? :) You need to slow down, and<br/>think about what you&apos;ll write, rather than type as you think - your<br/>inventor&apos;s brain contains so much info that if you just transcribe on<br/>the fly you&apos;ll always end up with an essay!</p><p>Ah, but it is done in such good interest that it&apos;s no problem.</p><p>Look, Rbt, the entire point of my post was in response to someone who<br/>wanted a very simple method to hear a tuning. The midi kbd / Scala<br/>relay is the most simple way to go, so that is what I suggested (even<br/>with the slight delay involved). I think you may be right that it<br/>isn&apos;t the soundcard necessarily but the software that is making the<br/>sound; in fact, there isn&apos;t a soundcard for that stuff, it is built<br/>into the motherboard (I use an Aardvark LX6 Pro for the actual audio<br/>stuff). But I *did* want to avoid other instruments or tools, such as<br/>loopbacks and whatnot, because trying to get someone up and running,<br/>simply with email, can really fail a lot. Some of these setups can be<br/>so touchy, depending on how someone has their box configured - I&apos;ve<br/>got one guy that can&apos;t figure out how to even get the Scala relay<br/>happening!</p><p>I was going for the simplest, most direct solution. There are other<br/>ways, and they certainly have many benefits. I have 4 different<br/>software instruments that can be completely tuned to any tuning I<br/>wish, so that is where I do my real work.</p><p>Cheers,<br/>Jon</p><p>P.S. Hope my brevity isn&apos;t a problem... :)</p></div>