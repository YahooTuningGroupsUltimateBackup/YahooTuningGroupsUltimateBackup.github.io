<a href="/tuning">back to list</a><h1>[tuning] Tuning list csound pitch bend midi instrument colaboration.</h1><h3><a id=85577 href="#85577">ðŸ”—</a>Marcel de Velde &#x3C;m.develde@...&#x3E;</h3><span>1/10/2010 5:30:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>After the recent discussion on what would make the best instrument to assess<br/>tuning systems with in the &euro;100 tuning competition thread, I thought it<br/>would be a good idea to start a new thread on this.<br/>My idea is to create a csound instrument that will play midi files tuned by<br/>pitch bend, and has an ideal timbre to make maximally audible melodic pitch<br/>and harmonic purity/consonance.<br/>I&apos;m seeking opinions on what will make the best timbre for these goals.<br/>And I&apos;m seeking people with csound experience to help write it (as I have<br/>allmost no csound experience).<br/>The idea is offcourse to share this csound instrument with the tuning<br/>community after it is finished.<br/>And I hope it will help people with developing and assessing their tuning<br/>systems, simply because this instrument will make things more audible.</p><p>To start off.<br/>I think the timbre should have both odd and even harmonics, like a sawtooth<br/>wave perhaps.<br/>Probably have a different slope for amplitude of harmonics dropoff than a<br/>standard sawtooth, since the sawtooth wave is in my opinion a little bit too<br/>bright which obscures the melodies a bit in many harmonic progressions (it<br/>seems to me). In the other thread a dropoff of 1/n^2 of the harmonics was<br/>mentioned.<br/>Besides playing multi channel pitchbend midi files (like the ones output by<br/>scala), it should repond to midi volume and midi pan for each channel.<br/>The instrument should offcourse make maximal use of pitch bend resolution,<br/>when this is done the pitch bend precision is by far precise enough (can<br/>anybody mention the exact cents precision for +-2semitone pitchbend<br/>resolution?)<br/>The reason I&apos;m saying csound instrument and not supercollider etc is because<br/>csound seems to me to be the most used so far on the tuning list, it&apos;s free,<br/>supports both realtime and non realtime rendering with any sample rate, and<br/>is fairly easily learnt and instrument timbre changed etc. It&apos;s also fairly<br/>easy to install these days.</p><p>So anybody who has any additional ideas on what this instrument should be<br/>like, and anybody who wished to help writing it, let us know!</p><p>Marcel</p></div><h3><a id=85580 href="#85580">ðŸ”—</a>Chris Vaisvil &#x3C;chrisvaisvil@...&#x3E;</h3><span>1/10/2010 8:04:41 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>What, may I ask, was the instrument Beethoven wrote it for in the first<br/>place?</p><p>Choir I thought?</p><p>I&apos;d stick with this. After all whatever instrumentation intended by the<br/>composer would seem the natural choice - it would seem to make sense</p><p>I thought I read it was possible for csound to drive a vsti - if so, problem<br/>solved.</p><p>Chris</p><p>On Sun, Jan 10, 2010 at 8:30 PM, Marcel de Velde &lt;m.develde@...&gt;wrote:</p><p>&gt;<br/>&gt;<br/>&gt; After the recent discussion on what would make the best instrument to<br/>&gt; assess tuning systems with in the &euro;100 tuning competition thread, I thought<br/>&gt; it would be a good idea to start a new thread on this.<br/>&gt; My idea is to create a csound instrument that will play midi files tuned by<br/>&gt; pitch bend, and has an ideal timbre to make maximally audible melodic pitch<br/>&gt; and harmonic purity/consonance.<br/>&gt;</p></div><h3><a id=85582 href="#85582">ðŸ”—</a>Marcel de Velde &#x3C;m.develde@...&#x3E;</h3><span>1/10/2010 8:31:42 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Chris,</p><p>What, may I ask, was the instrument Beethoven wrote it for in the first<br/>&gt; place?<br/>&gt;<br/>&gt; Choir I thought?<br/>&gt;</p><p>Nope, trombone quartet.<br/>And choir is horrible for determining pitch imho.</p><p>But I see this instrument as more than only for this competition.<br/>I mean seems like it could become a great &quot;reference&quot; instrument for this<br/>list?</p><p>&gt;<br/>&gt; I&apos;d stick with this. After all whatever instrumentation intended by the<br/>&gt; composer would seem the natural choice - it would seem to make sense<br/>&gt;</p><p>Well I&apos;d love to use a real trombone quartet, or live in the future where<br/>there&apos;s a sample library or virtual instrument that has a great sounding<br/>trombone.<br/>But this isn&apos;t the case, all sampled trombones and virtual physical modeling<br/>trombones sound horrible. I think I&apos;ve tried most of them.<br/>And even then, with a real trombone quartet the tuning isn&apos;t that obvious.<br/>I&apos;ve listened to 4 different recording of the drei equale, and all 4<br/>trombone quartets play it different tuning wise. But all sound amaaazing.<br/>Not due to the tuning but due to how great a good trombone quartet sounds.<br/>But the actual tuning they play in, it&apos;s pretty hard to hear actually, one<br/>has to listen very very carefully and even then it&apos;s hard to tell.<br/>So even a real trombone quartet playing exactly the tuning as is in the midi<br/>files wouldn&apos;t be best choice for a tuning competition.</p><p>&gt; I thought I read it was possible for csound to drive a vsti - if so,<br/>&gt; problem solved.<br/>&gt;<br/>&gt;<br/>&gt; Chris<br/>&gt;</p><p>Well, the instrument itself I think I&apos;ll find the easyest to write.<br/>And with a VST there&apos;s often the problem that it&apos;s built in pitchbend<br/>resolution isn&apos;t high enough.<br/>I have this problem with several VST&apos;s Ive tried in cubase, they have louse<br/>pitch bend resolution that audibly slowly floats with a perfect major JI<br/>chord!<br/>And besides this, with csound one can develope the perfect instrument in<br/>detail and know it&apos;s done right. With VST&apos;s one is often limited to<br/>filtering a sawwave, or with bigger vst&apos;s like additive synths where one has<br/>more control perhaps then they&apos;re not free so can&apos;t be used by everybody.<br/>And probably still has the lack of pitch bend resolution (programmers almost<br/>allways use code that&apos;s ligter and faster than full midi spec pitch bend<br/>implementation it seems)</p><p>The thing is I don&apos;t have mich csound experience, virtually none or i&apos;d have<br/>written the instrument i&apos;m describing allready.<br/>But it should be doable pretty easily it seems to me.<br/>I&apos;m allready in the csound manual, hope to have it done in 2 weeks or so.<br/>Btw if anybody else wishes to help let me know so I&apos;m not wasting time doing<br/>things double :)</p><p>Marcel</p></div><h3><a id=85588 href="#85588">ðŸ”—</a>Chris Vaisvil &#x3C;chrisvaisvil@...&#x3E;</h3><span>1/10/2010 8:50:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Marcel,</p><p>I understand your points - let me try to help</p><p>The people on the csound mailing may be able to help, or, possibly have done<br/>what you want.</p><p><a href="http://www.csounds.com/list/index.html">http://www.csounds.com/list/index.html</a></p><p>Dr. Boulger (sp??) is on there and he is the primary person responsible for<br/>the creation of csound as I understand.</p><p>Be warned it is a *busy* email list.</p><p>AND....</p><p>to keep this to one reply</p><p>Mike - your observation about tuning errors in the samples themselves is<br/>compelling. I can&apos;t argue with you there.<br/>To use samples then one would have to resort to Melodyne - or VVocal (which<br/>I have - but only a cent resolution) to correct the pitches. For many<br/>entries this turns into lots and lots of trouble.</p><p>Thanks for the replies guys!!</p><p>Chris</p></div><h3><a id=85595 href="#85595">ðŸ”—</a>Marcel de Velde &#x3C;m.develde@...&#x3E;</h3><span>1/10/2010 10:48:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Never mind this thread and csound.</p><p>I&apos;ve found (thanks to Oz) the greatest synth setup for microtonal music and<br/>pitch bend midi files rendering :)</p><p>I downloaded the newest VSThost software (free) at:<br/><a href="http://www.hermannseib.com/english/vsthost.htm">http://www.hermannseib.com/english/vsthost.htm</a><br/>And the ZynAddSubFX VST version at:<br/><a href="http://www.kvraudio.com/forum/viewtopic.php?t=268277">http://www.kvraudio.com/forum/viewtopic.php?t=268277</a></p><p>Now the great thing is that the newest VSThost has a built in midi player.<br/>And it plays pitch bend midi files correctly.<br/>And ZynAddSubFX can be set to receive in mono on multiple midi channels.<br/>It&apos;s the easyest microtonal midi pitch bend file setup ever! A true dream :)<br/>And all free and everybody can use it, and it also supports Scala .scl files<br/>:)<br/>Highly recomended!</p><p>Marcel</p></div><h3><a id=85600 href="#85600">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>1/11/2010 11:48:23 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Marcel de Velde &lt;m.develde@...&gt; wrote:<br/>&gt;<br/>&gt; Never mind this thread and csound.<br/>&gt;<br/>&gt; I&apos;ve found (thanks to Oz) the greatest synth setup for<br/>&gt; microtonal music and pitch bend midi files rendering :)</p><p>It&apos;s great that you&apos;ve got Zyn working.  But I know I&apos;d feel<br/>much more comfortable if MIDI submissions and renderings were<br/>made by a 3rd party (like Mike), especially if you&apos;re going<br/>to be submitting an entry.</p><p>-Carl</p></div><h3><a id=85603 href="#85603">ðŸ”—</a>Marcel de Velde &#x3C;m.develde@...&#x3E;</h3><span>1/11/2010 8:26:34 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>After more testing, listening and making sounds with ZynAddSubFX I think I&apos;m<br/>going to make a Csoun instrument afterall.<br/>I just don&apos;t feel ZynAddSubFX has very high audio quality (digital sound,<br/>muddy bass, harsh not smooth etc) and I&apos;m a bit of a perfectionist when I&apos;m<br/>going to do an effort for it anyhow.<br/>Thanks Mike for the suggestion of the mailing list, I&apos;ve applied, waiting<br/>for approval now.</p><p>It&apos;s great that you&apos;ve got Zyn working. But I know I&apos;d feel<br/>&gt; much more comfortable if MIDI submissions and renderings were<br/>&gt; made by a 3rd party (like Mike), especially if you&apos;re going<br/>&gt; to be submitting an entry.<br/>&gt;<br/>&gt; -Carl<br/>&gt;</p><p>Well I don&apos;t think a third party is going to make all the effort I am.<br/>I also trust my own ears the most at the moment for deciding wether a given<br/>sound gives good melodic pitch defenition etc.<br/>But what I will do is make my process 100% transparent and open on how to<br/>render the soundfiles.<br/>So much so that anybody can render the files just like me and the resulting<br/>files should cancel to 0 if mixed with mine in phase reversed.<br/>I&apos;m going to be very precise, miticulate and fair in rendering the files,<br/>and I&apos;ll give everybody plenty of opportunity to object or come with other<br/>suggestions before the voting starts.<br/>I&apos;m not in this competition to win, I&apos;ve made this competition because I<br/>belief the outcome can be very helpful in the tuning community for several<br/>reasons but that this can most powerfully come if the competition is truly<br/>fair and open / transparent.</p><p>Marcel</p></div><h3><a id=85656 href="#85656">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>1/13/2010 4:25:27 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>2010/1/12 Marcel de Velde &lt;m.develde@...&gt;<br/>&gt;<br/>&gt; After more testing, listening and making sounds with ZynAddSubFX I think I&apos;m going to make a Csoun instrument afterall.<br/>&gt; I just don&apos;t feel ZynAddSubFX has very high audio quality (digital sound, muddy bass, harsh not smooth etc) and I&apos;m a bit of a perfectionist when I&apos;m going to do an effort for it anyhow.<br/>&gt; Thanks Mike for the suggestion of the mailing list, I&apos;ve applied, waiting for approval now.</p><p>How is this getting on?  Do you have an idea of what you want the<br/>Csound instrument to be like?  My experience is that one evening with<br/>zyn got me better results than years of Csound.  It&apos;s much easier to<br/>tweak the sounds with the graphical tools.  Sure, Csound can duplicate<br/>everything, but it&apos;s a lot of work.</p><p>Csound is good for microtonality in that you can use whatever tunings<br/>you want, with an unbounded number of notes, and have parameters<br/>change during the piece.  All that is irrelevant if you&apos;re using MIDI<br/>with pitch bends.  Not that that should be difficult: see the<br/>midipitchbend opcode.  You can also make a 1/n^2 timbre easily, but it<br/>won&apos;t satisfy a perfectionist.</p><p>I happen to have my zyn patches here:</p><p><a href="http://x31eq.com/zasf/">http://x31eq.com/zasf/</a></p><p>I don&apos;t know what you mean by &quot;muddy bass&quot;.  I always thought it was<br/>doing what I told it.  Maybe I could look through the source code for<br/>whatever routine makes it muddier.  And you may have noticed that<br/>Csound is digital as well.  They both use simple algorithms, and<br/>should sound pretty much the same if you tell them to do the same<br/>things.</p><p>                              Graham</p></div><h3><a id=85704 href="#85704">ðŸ”—</a>Marcel de Velde &#x3C;m.develde@...&#x3E;</h3><span>1/13/2010 10:22:44 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Graham,</p><p>How is this getting on? Do you have an idea of what you want the<br/>&gt; Csound instrument to be like?<br/>&gt;</p><p>Yes, I simply want a band limited alias free mathematically correct waveform<br/>with both even and odd harmonics, that&apos;ll start at zero crossing so there<br/>won&apos;t be a click, that&apos;ll release with a very short anti click release, and<br/>no amplitude envelope, and where I can tweak the strength / amplitude slope<br/>of the harmonics.<br/>I want it to play a pitch bend multi channel midi files acurately including<br/>panning.<br/>That&apos;s it. Nothing more nothing less.</p><p>&gt; My experience is that one evening with<br/>&gt; zyn got me better results than years of Csound. It&apos;s much easier to<br/>&gt; tweak the sounds with the graphical tools. Sure, Csound can duplicate<br/>&gt; everything, but it&apos;s a lot of work.<br/>&gt;<br/>&gt; Csound is good for microtonality in that you can use whatever tunings<br/>&gt; you want, with an unbounded number of notes, and have parameters<br/>&gt; change during the piece. All that is irrelevant if you&apos;re using MIDI<br/>&gt; with pitch bends. Not that that should be difficult: see the<br/>&gt; midipitchbend opcode. You can also make a 1/n^2 timbre easily, but it<br/>&gt; won&apos;t satisfy a perfectionist.<br/>&gt;<br/>&gt; I happen to have my zyn patches here:<br/>&gt;<br/>&gt; <a href="http://x31eq.com/zasf/">http://x31eq.com/zasf/</a><br/>&gt;<br/>&gt; I don&apos;t know what you mean by &quot;muddy bass&quot;. I always thought it was<br/>&gt; doing what I told it. Maybe I could look through the source code for<br/>&gt; whatever routine makes it muddier. And you may have noticed that<br/>&gt; Csound is digital as well. They both use simple algorithms, and<br/>&gt; should sound pretty much the same if you tell them to do the same<br/>&gt; things.<br/>&gt;<br/>&gt; Graham<br/>&gt;</p><p>Thanks for you help and patches.<br/>But I&apos;ve had a better listen to zynaddsubfx again, and it definately cuts a<br/>lot of corners soundquality wise.<br/>There&apos;s lots of aliasing in basic waveforms, by far enough to confuse the<br/>ear in precise listening to tuning.<br/>So I can&apos;t use it I think.<br/>Csound it will be.</p><p>Marcel</p></div><h3><a id=85705 href="#85705">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>1/13/2010 10:26:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Marcel, again: if you are unsatisfied with the aliasing in ZynAddSubFX -<br/>render the files at a ridiculously high sample rate, use a zero-phase<br/>brickwall filter to cut out everything above 22.05k, and then downsample.<br/>You can&apos;t be worried about aliasing artefacts that are lower than the noise<br/>floor of the atmosphere, which is what you&apos;ll hit if you upsample enough.</p><p>-Mike</p><p>On Thu, Jan 14, 2010 at 1:22 AM, Marcel de Velde &lt;m.develde@...&gt;wrote:</p><p>&gt;<br/>&gt;<br/>&gt; Hi Graham,<br/>&gt;<br/>&gt; How is this getting on? Do you have an idea of what you want the<br/>&gt;&gt; Csound instrument to be like?<br/>&gt;&gt;<br/>&gt;<br/>&gt; Yes, I simply want a band limited alias free mathematically correct<br/>&gt; waveform with both even and odd harmonics, that&apos;ll start at zero crossing so<br/>&gt; there won&apos;t be a click, that&apos;ll release with a very short anti click<br/>&gt; release, and no amplitude envelope, and where I can tweak the strength /<br/>&gt; amplitude slope of the harmonics.<br/>&gt; I want it to play a pitch bend multi channel midi files acurately including<br/>&gt; panning.<br/>&gt; That&apos;s it. Nothing more nothing less.<br/>&gt;<br/>&gt;<br/>&gt;&gt;  My experience is that one evening with<br/>&gt;&gt; zyn got me better results than years of Csound. It&apos;s much easier to<br/>&gt;&gt; tweak the sounds with the graphical tools. Sure, Csound can duplicate<br/>&gt;&gt; everything, but it&apos;s a lot of work.<br/>&gt;&gt;<br/>&gt;&gt; Csound is good for microtonality in that you can use whatever tunings<br/>&gt;&gt; you want, with an unbounded number of notes, and have parameters<br/>&gt;&gt; change during the piece. All that is irrelevant if you&apos;re using MIDI<br/>&gt;&gt; with pitch bends. Not that that should be difficult: see the<br/>&gt;&gt; midipitchbend opcode. You can also make a 1/n^2 timbre easily, but it<br/>&gt;&gt; won&apos;t satisfy a perfectionist.<br/>&gt;&gt;<br/>&gt;&gt; I happen to have my zyn patches here:<br/>&gt;&gt;<br/>&gt;&gt; <a href="http://x31eq.com/zasf/">http://x31eq.com/zasf/</a><br/>&gt;&gt;<br/>&gt;&gt; I don&apos;t know what you mean by &quot;muddy bass&quot;. I always thought it was<br/>&gt;&gt; doing what I told it. Maybe I could look through the source code for<br/>&gt;&gt; whatever routine makes it muddier. And you may have noticed that<br/>&gt;&gt; Csound is digital as well. They both use simple algorithms, and<br/>&gt;&gt; should sound pretty much the same if you tell them to do the same<br/>&gt;&gt; things.<br/>&gt;&gt;<br/>&gt;&gt; Graham<br/>&gt;&gt;<br/>&gt;<br/>&gt; Thanks for you help and patches.<br/>&gt; But I&apos;ve had a better listen to zynaddsubfx again, and it definately cuts a<br/>&gt; lot of corners soundquality wise.<br/>&gt; There&apos;s lots of aliasing in basic waveforms, by far enough to confuse the<br/>&gt; ear in precise listening to tuning.<br/>&gt; So I can&apos;t use it I think.<br/>&gt; Csound it will be.<br/>&gt;<br/>&gt; Marcel<br/>&gt;<br/>&gt;</p></div><h3><a id=85706 href="#85706">ðŸ”—</a>Marcel de Velde &#x3C;m.develde@...&#x3E;</h3><span>1/13/2010 11:02:01 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Mike,</p><p>Marcel, again: if you are unsatisfied with the aliasing in ZynAddSubFX -<br/>&gt; render the files at a ridiculously high sample rate, use a zero-phase<br/>&gt; brickwall filter to cut out everything above 22.05k, and then downsample.<br/>&gt; You can&apos;t be worried about aliasing artefacts that are lower than the noise<br/>&gt; floor of the atmosphere, which is what you&apos;ll hit if you upsample enough.<br/>&gt;<br/>&gt; -Mike<br/>&gt;</p><p>I was testing it while running at 96khz (highest my dac takes) but zyn can<br/>render till 192khz but that won&apos;t make enough difference.<br/>It sounds like aliasing at 96khz, I don&apos;t know how the internals are<br/>written, perhaps this aliasing isn&apos;t due to sample rate but due to internal<br/>fixed lookup tables or something. I don&apos;t know but also don&apos;t care to look<br/>into it, it sounds bad I&apos;m not going to bother any further.<br/>Besides, it&apos;s not only aliasing, I think a lot more corners were cut. It<br/>simply doesn&apos;t sound very good to me. It sounds like an old digital synth<br/>(which is fun in it&apos;s own way but not right for listening to tunings).<br/>Modern VST&apos;s sound much better, and Csound sounds better still if done<br/>right.</p><p>Marcel</p></div><h3><a id=85726 href="#85726">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>1/14/2010 6:41:28 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>2010/1/14 Marcel de Velde &lt;m.develde@...&gt;</p><p>&gt; I was testing it while running at 96khz (highest my dac takes) but zyn can render till 192khz but that won&apos;t make enough difference.<br/>&lt;snip&gt;</p><p>It doesn&apos;t sound like aliasing, then, does it?</p><p>Zyn does promise an anti-aliasing filter for the additive synth.  From<br/>what I can see from a quick code search, this amounts to not adding<br/>partials above the Nyquist frequency.  That may not work when the<br/>partials aren&apos;t pure sine waves.  So the best way of avoiding aliasing<br/>is to use addition of sine waves, which should be suitable for your<br/>purposes.  Is that what you&apos;re doing?  It&apos;s really impossible to tell<br/>because you give no details.  If you find the additive synth isn&apos;t<br/>adding sine waves the way it should, which is hardly difficult, try<br/>posting a bug report.</p><p>It may be doing something else with &quot;adaptive harmonics&quot;.  Are you<br/>using them?  And how about the SUB and PAD engines that use completely<br/>different algorithms?</p><p>                                 Graham</p></div>