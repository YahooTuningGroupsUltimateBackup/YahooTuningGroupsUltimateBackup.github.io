<a href="/tuning">back to list</a><h1>Wedge update</h1><h3>Graham Breed &#x3C;graham@microtonal.co.uk&#x3E;</h3><span>12/9/2001 2:18:29 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;ve been hard at work debugging my program.  It can now clear all the tests<br/>I had for generating temperaments from unison vectors.  Source code is at</p><p>&lt;<a href="http://www.microtona.co.uk/temper.py">http://www.microtona.co.uk/temper.py</a>&gt;</p><p>and for the test scripts</p><p>&lt;<a href="http://www.microtonal.co.uk/wedgeTest.py">http://www.microtonal.co.uk/wedgeTest.py</a>&gt;<br/>&lt;<a href="http://www.microtona.co.uk/findWedges.py">http://www.microtona.co.uk/findWedges.py</a>&gt;<br/>&lt;<a href="http://www.microtonal.co.uk/writetemper.py">http://www.microtonal.co.uk/writetemper.py</a>&gt;</p><p>Of those, wedgeTest goes over my own list of unison vectors, findWedges takes<br/>an input file with one set of unison vectors per line, chromatic last, and<br/>writetemper is the usual script for starting with ETs.</p><p>I forgot to upload the last script, but it&apos;s quite short so I&apos;ll copy it<br/>here.  It takes as input a file containing a list of 7-limit ratios, and<br/>nothing else that looks like a ratio.</p><p>import temper</p><p>write = open(&apos;survey.wedge&apos;,&apos;w&apos;).write</p><p>for basis in temper.getCombinations(open(&apos;paul.survey&apos;).read()):<br/>    write(str(temper.temperOut(basis)))<br/>    write(&quot;\n\n&quot;)</p><p>I&apos;m not sure if the input files are still there.  But try</p><p>&lt;<a href="http://www.microtonal.co.uk/paul.survey">http://www.microtonal.co.uk/paul.survey</a>&gt;</p><p>for that one, and</p><p>&lt;<a href="http://www.microtonal.co.uk/paul.limit7.vectors">http://www.microtonal.co.uk/paul.limit7.vectors</a>&gt;<br/>&lt;<a href="http://www.microtonal.co.uk/gene.limit7.vectors">http://www.microtonal.co.uk/gene.limit7.vectors</a>&gt;</p><p>for <a href="http://findWedges.py">findWedges.py</a></p><p>I&apos;ve solved a knotty problem that prevented some temperametns being printed.<br/>It turns out that wtih some chromas, the generator ends up as a negative<br/>interval.  That meant the MOS finder went into an infinite loop, becasue it<br/>can never be negative.  So I fixed that by getting it to look for the<br/>absolute value.  One example is an early sighting of ennealimmal from Gene&apos;s<br/>list.</p><p>(-1, -7, 4, 1, 0, 0, 0, 0), (-5, -1, -2, 4, 0, 0, 0, 0), (2, 2, -1, -1, 0, 0,<br/>0, 0)]</p><p>0/1, -49.0 cent generator</p><p>basis:<br/>(0.1111111111111111, -0.040838783185694151)</p><p>mapping by period and generator:<br/>[(9, 0), (15, 2), (22, 3), (26, 2)]</p><p>mapping by steps:<br/>[(9, 0), (13, 2), (19, 3), (24, 2)]</p><p>highest interval width: 3<br/>complexity measure: 27  (45 for smallest MOS)<br/>highest error: 0.000170  (0.204 cents)<br/>unique</p><p>I still can&apos;t handle combinations beyond the 7-limit, but I expect I&apos;ll work<br/>it out once I sit down and think about it.  Most higher priority loose ends<br/>have been tied up now.</p><p>                              Graham</p></div>