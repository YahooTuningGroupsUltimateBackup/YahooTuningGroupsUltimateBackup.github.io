<a href="/tuning">back to list</a><h1>Re: (d / O * F) * f</h1><h3>Dave Keenan &#x3C;d.keenan@xx.xxx.xxx&#x3E;</h3><span>2/17/1999 12:39:47 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dear Dan,</p><p>At last, I&apos;ve cracked the code. :-) That&apos;s what it felt like, even after your second lot of explanation (by private email).</p><p>Here&apos;s how I would have said it.</p><p>To find a ratio N/D that is approximated by n steps of a d-tET scale i.e. 2^(n/d), first find the magic number m = Round(d * 35/12), where .5&apos;s round down. [ ^ means &quot;raised to the power of&quot; ]</p><p>If n &lt;= d/2, i.e. in the lower half-octave<br/>[ &lt;= means &quot;is less than or equal to&quot; ]<br/>  N = m + n<br/>  D = m - n</p><p>or all on one line we can say</p><p>2^(n/d) ~= (d * 35/12 + n) / (d * 35/12 - n) , for 0 &lt;= n &lt;= d/2</p><p>If n &gt;= d/2, i.e. upper half octave, use the inversions of the intervals in the lower half octave so<br/>  N = 2 * (m - (d-n))<br/>  D = m + (d-n)</p><p>This means that when d is even we have two equally valid candidates for the half-octave. Of course each N/D should be reduced to lowest terms.</p><p>Now, I find this fascinating because it isn&apos;t the kind of approximation I would have ever come up with. I suspect it is precisely *because* you don&apos;t have a conventional math background that you came up with it, though what a shame if we had not been able to communicate.</p><p>It comes out with many N&apos;s and D&apos;s that are too high for my liking, but I am curious to understand why it works at all, and what its limitations may be.</p><p>You appear to claim (correct me if I&apos;m wrong) that 35/12 works because it is the number of semitones (12-tET scale divisions) that best approximates a fifth (3/2) times the number of semitones that best approximates a fourth (4/3) divided by the number of semitones in an octave. This sounds like numerology to me. I don&apos;t understand why this should work. What&apos;s special about 12-tET except that it has good approximations to fifths (and hence fourths). What if we use 53-tET and get 31 * 22 / 53. This clearly doesn&apos;t work.</p><p>I recall that for large d<br/>   2^(1/d)<br/>~= 1 + ln(2)/d &#x9;              [ ln(x) means the natural logarithm of x ]<br/>~= (d + ln(2)/2) / (d - ln(2)/2)<br/>=  (d * 2/ln(2) + 1) / (d * 2/ln(2) - 1)</p><p>So instead of 35/12 = 2.916666... we have<br/>2/ln(2) ~=  2.885390081778</p><p>So it appears that 35/12 works because it is a reasonable approximation of 2/ln(2), not because of any numbers of semitones. Anyone feel like searching for other rational approximations to 2/ln(2).</p><p>So m = Round(d * 2.88539) should work even better above, and we don&apos;t need to worry about which way .5&apos;s go, since they won&apos;t occur.</p><p>How high does d have to go before this diverges from the original formula?</p><p>Regards,<br/>-- Dave Keenan<br/><a href="http://uq.net.au/~zzdkeena">http://uq.net.au/~zzdkeena</a></p></div>