<a href="/tuning">back to list</a><h1>Small temperament finder request</h1><h3><a id=101845 href="#101845">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>10/20/2011 9:05:19 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I&apos;ve had my eye on 91/90 for a while, because it turns 1/(6:7:9) into<br/>10:13:15, and 10:13:15 is roughly equal in complexity to 10:12:15.</p><p>When I search in the temperament finder&apos;s <a href="http://2.3.7.13/5">2.3.7.13/5</a> subgroup, I end<br/>up getting different results for error and complexity than if I search<br/>the <a href="http://2.3.7.13/10">2.3.7.13/10</a> subgroup, and different than if I search the<br/><a href="http://2.3.7.208/5">2.3.7.208/5</a> subgroup. We talked about this before and I think you said<br/>it was because it weights the interval something like<br/>log(2)/log(13/10) instead of weighting it like<br/>sqrt((log2(2)/log(13))^2 + (log2(2)/log(10))^2).</p><p>So I was wondering if it would be too much trouble to change that. I<br/>guess it&apos;ll depend on whether or not Python has a primitive type for<br/>rationals. If there&apos;s any way to do it though, I&apos;d really appreciate<br/>it, it would be very useful in sorting out biome temperament.</p><p>-Mike</p></div><h3><a id=101854 href="#101854">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>10/22/2011 3:59:59 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:<br/>&gt; I&apos;ve had my eye on 91/90 for a while, because it turns<br/>&gt; 1/(6:7:9) into 10:13:15, and 10:13:15 is roughly equal in<br/>&gt; complexity to 10:12:15.<br/>&gt;<br/>&gt; When I search in the temperament finder&apos;s <a href="http://2.3.7.13/5">2.3.7.13/5</a><br/>&gt; subgroup, I end up getting different results for error<br/>&gt; and complexity than if I search the <a href="http://2.3.7.13/10">2.3.7.13/10</a> subgroup,<br/>&gt; and different than if I search the <a href="http://2.3.7.208/5">2.3.7.208/5</a> subgroup.<br/>&gt; We talked about this before and I think you said it was<br/>&gt; because it weights the interval something like<br/>&gt; log(2)/log(13/10) instead of weighting it like<br/>&gt; sqrt((log2(2)/log(13))^2 + (log2(2)/log(10))^2).<br/>&gt;<br/>&gt; So I was wondering if it would be too much trouble to<br/>&gt; change that. I guess it&apos;ll depend on whether or not<br/>&gt; Python has a primitive type for rationals. If there&apos;s any<br/>&gt; way to do it though, I&apos;d really appreciate it, it would<br/>&gt; be very useful in sorting out biome temperament.</p><p>I don&apos;t think it&apos;d be easy to change.  Partly because you<br/>haven&apos;t specified what you want to change it to.</p><p>Rationals have nothing to do with it.  I can write<br/><a href="http://2.3.7.13/5">2.3.7.13/5</a> as a subgroup of 2.3.5.7.13 with the mapping</p><p>[&lt;1, 0, 0, 0, 0],<br/> &lt;0, 1, 0, 0, 0],<br/> &lt;0, 0, 0, 1, 0],<br/> &lt;0, 0, -1, 0, 1]&gt;</p><p>Then I could use that mapping to define an inner product.<br/>The result would be the same as defining a temperament<br/>class with this mapping as far as I can see.  You can try<br/>it if you like.  It comes from tempering out 65:1.  It<br/>doesn&apos;t make much sense because that leads to a huge error,<br/>but I don&apos;t know where else to go.</p><p>Custom weightings would complicate the interface.  If you<br/>want them, you can use Pari/GP.</p><p>                           Graham</p></div><h3><a id=101882 href="#101882">ðŸ”—</a>Mike Battaglia &#x3C;battaglia01@...&#x3E;</h3><span>10/30/2011 3:40:48 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sat, Oct 22, 2011 at 6:59 AM, Graham Breed &lt;gbreed@...&gt; wrote:<br/>&gt;<br/>&gt; I don&apos;t think it&apos;d be easy to change. Partly because you<br/>&gt; haven&apos;t specified what you want to change it to.</p><p>Sorry, I completely missed this response. You worked it out a while ago here</p><p><a href="http://tech.groups.yahoo.com/group/tuning-math/message/19195">http://tech.groups.yahoo.com/group/tuning-math/message/19195</a></p><p>For 13/5, you said the correct weighting would be<br/>sqrt((log(2)/log(5))^2 +(log(2)/log(13))^2). So, for any rational a/b,<br/>I assume the correct weighting would instead be sqrt((log(2)/log(a))^2<br/>+ (log(2)/log(b))^2).</p><p>I think that right now, it&apos;s treating it as sqrt((log(2)/log(a/b))^2,<br/>or something like that, so subgroup entries like 13/10 or 7/6 end up<br/>getting enormous weights.</p><p>To code sqrt((log(2)/log(a))^2 + (log(2)/log(b))^2) naively would run<br/>into problems with something like 13/1, because you&apos;d end up with a<br/>log(2)/log(1) term, which is infinity. But, I assume if you&apos;re going<br/>to handle <a href="http://2.3.7.13/5">2.3.7.13/5</a> internally as a projection matrix down from<br/>2.3.5.7.13, then there won&apos;t be a problem unless you try to create a<br/>1-axis to project things onto.</p><p>&gt; Then I could use that mapping to define an inner product.<br/>&gt; The result would be the same as defining a temperament<br/>&gt; class with this mapping as far as I can see. You can try<br/>&gt; it if you like. It comes from tempering out 65:1. It<br/>&gt; doesn&apos;t make much sense because that leads to a huge error,<br/>&gt; but I don&apos;t know where else to go.</p><p>The error would be huge for the 2.3.5.7.13 65/1 temperament because<br/>you&apos;re going to calculate it relative to primes 5 and 13. If those<br/>primes don&apos;t exist, then there won&apos;t be such a huge error for the<br/><a href="http://2.3.7.13/5">2.3.7.13/5</a> subgroup, no?</p><p>But if you&apos;re talking about auto-generating a temperament for<br/><a href="http://2.3.7.13/5">2.3.7.13/5</a> from 2.3.5.7.13, it seems like the problem would arise if<br/>you kept using the mapping matrix for 2.3.5.7.13 - you&apos;d have to<br/>autogenerate the right mapping matrix as well. Perhaps you could<br/>cleverly devise a matrix such that the huge error for 13, and the huge<br/>error for 5, cancel out so as to yield the proper error for 13/5.</p><p>But perhaps even that&apos;s too complicated - what if you just did this:</p><p>1) Read the limit from the URL.<br/>2) Turn each entry into a vector v(i), similarly to how you did above.<br/>3) Weight each vector as RMS_i log(2)/log(i).</p><p>It seems like you&apos;re already doing something like the above, except<br/>step #3 is replaced by weighting each vector as log(2)/log(entry). I<br/>think what I suggested above is the same thing you suggested with<br/>calculating the Gram matrix of the weighted mapping matrix and taking<br/>the square root and so on.</p><p>-Mike</p></div><h3><a id=101912 href="#101912">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>11/6/2011 6:05:24 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Mike Battaglia &lt;battaglia01@...&gt; wrote:</p><p>&gt; But perhaps even that&apos;s too complicated - what if you<br/>&gt; just did this:<br/>&gt;<br/>&gt; 1) Read the limit from the URL.<br/>&gt; 2) Turn each entry into a vector v(i), similarly to how<br/>&gt; you did above. 3) Weight each vector as RMS_i<br/>&gt; log(2)/log(i).</p><p>Given that a bug came up in the ambiguity calculation, it<br/>shows how much of the code assumes Tenney weighting and<br/>will break if the errors are calculated wrongly.  There is<br/>some code for arbitrary weighting matrices but only for<br/>searches.  Moving the whole site over to it won&apos;t be<br/>simple.  You could work with the Python code, or develop<br/>your own code with this in mind.</p><p>                              Graham</p></div><h3><a id=101915 href="#101915">ðŸ”—</a>clamengh &#x3C;clamengh@...&#x3E;</h3><span>11/7/2011 6:52:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p><a href="http://youtu">http://youtu</a>. be/Pw3YHqd8nbA<br/>Hi all,<br/>I am pleased to propose you Pachelbel&apos;s Canon and Gigue, rendered in four different tunings:<br/>01 - Just intonation, 2 layers of pythagorean fifths at a distance of a natural third, plus septimal C;<br/>02 - 31 equal;<br/>03 - Fokker&apos;s 31 just scale centered on D;<br/>04 - Septimal meantone.<br/>Natural C&apos;s at the end of the canon have been rendered as septimal notes in all examples; ambiguous notes arising in the Gigue in example 01 have been resolved by syntactic considerations.<br/>Played at midi organ. Tuned with Scala. Implemented with Timidity++<br/>Soundfont: English Chamber Organ (EngChamberOrgan. SF2).<br/>Tempo: close to Jordi Savall&apos;s performance.<br/>Best wishes!<br/>Claudi</p></div>