<a href="/tuning">back to list</a><h1>RatioKey, a ratio-based keyboard app for the iPad</h1><h3>johnorado &#x3C;jt511p@...&#x3E;</h3><span>8/31/2010 9:11:49 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Some years ago I came to this group to discuss the possibility of using computers to create novel instruments, well-adapted to particular tunings or tuning systems.  At that time I promised to return when I had something to share.</p><p>Since that time, the touchscreen device revolution has come about, and the introduction of the iPad presented me with an unprecedented opportunity to realize that dream.</p><p>My first iPad app is called RatioKey, and it is available on the App Store.  The following link will take you to a page on Apple&apos;s website which itself contains a link that will open iTunes directly to RatioKey...</p><p><a href="http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8">http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8</a></p><p>It&apos;s free!</p></div><h3>Ozan Yarman &#x3C;ozanyarman@...&#x3E;</h3><span>8/31/2010 10:48:27 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Unfortunately, one must have a US-based bank account for the iTunes<br/>membership to be activated in order to download this nifty little<br/>gagdet. How should one proceed then to obtain it?</p><p>Oz.</p><p>&#x2729; &#x2729; &#x2729;<br/><a href="http://www.ozanyarman.com">www.ozanyarman.com</a></p><p>On Aug 31, 2010, at 7:11 PM, johnorado wrote:</p><p>&gt; Some years ago I came to this group to discuss the possibility of<br/>&gt; using computers to create novel instruments, well-adapted to<br/>&gt; particular tunings or tuning systems.  At that time I promised to<br/>&gt; return when I had something to share.<br/>&gt;<br/>&gt; Since that time, the touchscreen device revolution has come about,<br/>&gt; and the introduction of the iPad presented me with an unprecedented<br/>&gt; opportunity to realize that dream.<br/>&gt;<br/>&gt; My first iPad app is called RatioKey, and it is available on the App<br/>&gt; Store.  The following link will take you to a page on Apple&apos;s<br/>&gt; website which itself contains a link that will open iTunes directly<br/>&gt; to RatioKey...<br/>&gt;<br/>&gt; <a href="http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8">http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8</a><br/>&gt;<br/>&gt; It&apos;s free!<br/>&gt;<br/>&gt;</p></div><h3>johnorado &#x3C;jt511p@...&#x3E;</h3><span>9/1/2010 7:39:07 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>While it&apos;s true the app is only available in English, and the link I posted is probably specific to the US store, it should be available through the iTunes Store in any country where the iPad itself is already on sale.  I just checked the stats, and they show that it&apos;s already been downloaded in more than twenty countries.</p><p>First open iTunes to your national iTunes Store, then search on &quot;RatioKey&quot;, then look under iPad Apps in the search results.  It may be the only exact match and therefore appear at the top of the list.</p><p>If you don&apos;t live in one of the countries where the iPad is already on sale, chances are it will be coming to you soon, as supply just caught up with demand, at least in the U.S.</p><p>If you can&apos;t open an iTunes account for lack of a credit card, whether due to bad credit or because you&apos;re opposed to them, I can&apos;t help with that.</p><p>-john</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Ozan Yarman &lt;ozanyarman@...&gt; wrote:<br/>&gt;<br/>&gt; Unfortunately, one must have a US-based bank account for the iTunes<br/>&gt; membership to be activated in order to download this nifty little<br/>&gt; gagdet. How should one proceed then to obtain it?<br/>&gt;<br/>&gt; Oz.<br/>&gt;<br/>&gt; &acirc;&copy; &acirc;&copy; &acirc;&copy;<br/>&gt; <a href="http://www.ozanyarman.com">www.ozanyarman.com</a><br/>&gt;<br/>&gt; On Aug 31, 2010, at 7:11 PM, johnorado wrote:<br/>&gt;<br/>&gt; &gt; Some years ago I came to this group to discuss the possibility of<br/>&gt; &gt; using computers to create novel instruments, well-adapted to<br/>&gt; &gt; particular tunings or tuning systems.  At that time I promised to<br/>&gt; &gt; return when I had something to share.<br/>&gt; &gt;<br/>&gt; &gt; Since that time, the touchscreen device revolution has come about,<br/>&gt; &gt; and the introduction of the iPad presented me with an unprecedented<br/>&gt; &gt; opportunity to realize that dream.<br/>&gt; &gt;<br/>&gt; &gt; My first iPad app is called RatioKey, and it is available on the App<br/>&gt; &gt; Store.  The following link will take you to a page on Apple&apos;s<br/>&gt; &gt; website which itself contains a link that will open iTunes directly<br/>&gt; &gt; to RatioKey...<br/>&gt; &gt;<br/>&gt; &gt; <a href="http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8">http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8</a><br/>&gt; &gt;<br/>&gt; &gt; It&apos;s free!<br/>&gt; &gt;<br/>&gt; &gt;<br/>&gt;</p></div><h3>Ozan Yarman &#x3C;ozanyarman@...&#x3E;</h3><span>9/1/2010 7:46:35 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>The issue is that to download any software or media from iTunes, you<br/>need to become a member; and to become a member you need to provide a<br/>viable US address and a US-based bank account or credit card number.<br/>Catch-22.</p><p>Cannot you provide a clean link for us people living overseas to<br/>benefit from this wonderous freeware?</p><p>Oz.</p><p>&#x2729; &#x2729; &#x2729;<br/><a href="http://www.ozanyarman.com">www.ozanyarman.com</a></p><p>On Sep 1, 2010, at 5:39 PM, johnorado wrote:</p><p>&gt; While it&apos;s true the app is only available in English, and the link I<br/>&gt; posted is probably specific to the US store, it should be available<br/>&gt; through the iTunes Store in any country where the iPad itself is<br/>&gt; already on sale.  I just checked the stats, and they show that it&apos;s<br/>&gt; already been downloaded in more than twenty countries.<br/>&gt;<br/>&gt; First open iTunes to your national iTunes Store, then search on<br/>&gt; &quot;RatioKey&quot;, then look under iPad Apps in the search results.  It may<br/>&gt; be the only exact match and therefore appear at the top of the list.<br/>&gt;<br/>&gt; If you don&apos;t live in one of the countries where the iPad is already<br/>&gt; on sale, chances are it will be coming to you soon, as supply just<br/>&gt; caught up with demand, at least in the U.S.<br/>&gt;<br/>&gt; If you can&apos;t open an iTunes account for lack of a credit card,<br/>&gt; whether due to bad credit or because you&apos;re opposed to them, I can&apos;t<br/>&gt; help with that.<br/>&gt;<br/>&gt; -john<br/>&gt;<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Ozan Yarman &lt;ozanyarman@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; Unfortunately, one must have a US-based bank account for the iTunes<br/>&gt;&gt; membership to be activated in order to download this nifty little<br/>&gt;&gt; gagdet. How should one proceed then to obtain it?<br/>&gt;&gt;<br/>&gt;&gt; Oz.<br/>&gt;&gt;<br/>&gt;&gt; &acirc;&oelig;&copy; &acirc;&oelig;&copy; &acirc;&oelig;&copy;<br/>&gt;&gt; <a href="http://www.ozanyarman.com">www.ozanyarman.com</a><br/>&gt;&gt;<br/>&gt;&gt; On Aug 31, 2010, at 7:11 PM, johnorado wrote:<br/>&gt;&gt;<br/>&gt;&gt;&gt; Some years ago I came to this group to discuss the possibility of<br/>&gt;&gt;&gt; using computers to create novel instruments, well-adapted to<br/>&gt;&gt;&gt; particular tunings or tuning systems.  At that time I promised to<br/>&gt;&gt;&gt; return when I had something to share.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; Since that time, the touchscreen device revolution has come about,<br/>&gt;&gt;&gt; and the introduction of the iPad presented me with an unprecedented<br/>&gt;&gt;&gt; opportunity to realize that dream.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; My first iPad app is called RatioKey, and it is available on the App<br/>&gt;&gt;&gt; Store.  The following link will take you to a page on Apple&apos;s<br/>&gt;&gt;&gt; website which itself contains a link that will open iTunes directly<br/>&gt;&gt;&gt; to RatioKey...<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; <a href="http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8">http://itunes.apple.com/us/app/ratiokey/id387640139?mt=8</a><br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; It&apos;s free!<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt;<br/>&gt;&gt;<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; ------------------------------------<br/>&gt;<br/>&gt; You can configure your subscription by sending an empty email to one<br/>&gt; of these addresses (from the address at which you receive the list):<br/>&gt;  <a href="mailto:tuning-subscribe@yahoogroups.com">tuning-subscribe@yahoogroups.com</a> - join the tuning group.<br/>&gt;  <a href="mailto:tuning-unsubscribe@yahoogroups.com">tuning-unsubscribe@yahoogroups.com</a> - leave the group.<br/>&gt;  <a href="mailto:tuning-nomail@yahoogroups.com">tuning-nomail@yahoogroups.com</a> - turn off mail from the group.<br/>&gt;  <a href="mailto:tuning-digest@yahoogroups.com">tuning-digest@yahoogroups.com</a> - set group to send daily digests.<br/>&gt;  <a href="mailto:tuning-normal@yahoogroups.com">tuning-normal@yahoogroups.com</a> - set group to send individual emails.<br/>&gt;  <a href="mailto:tuning-help@yahoogroups.com">tuning-help@yahoogroups.com</a> - receive general help information.<br/>&gt; Yahoo! Groups Links<br/>&gt;<br/>&gt;<br/>&gt;</p></div><h3>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>9/1/2010 8:03:07 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Ozan&gt;&quot;to become a member you need to provide a viable US address and a US-based<br/>bank account or credit card number.</p><p>Catch-22.&quot;</p><p>   Ah yes...Jobs/Apple never seem(s) to learn when even the most simple apps<br/>can&apos;t be accessed by so many.</p><p>   First they get beat by Microsoft Windows 3.1 (and then<br/>95,98,ME,XP,Vista,Windows 7, etc.) on both price and software selection because<br/>they allow non-proprietary soft and hardware.  They had a winner with the<br/>I-Phone by being very inexpensive (by Apple standards).  But even then Android<br/>is catching up, quickly, much by allowing programmers to submit applications<br/>without a $100 registration fee and often another $400 or so for a special<br/>I-Phone needed for uploading/testing the apps directly rather than waiting for<br/>Apple&apos;s 2 week or so long &quot;in-house application debugging&quot; process before an app<br/>can go on the app store (is it any wonder more and more programmers are leaning<br/>toward Android and more and more apps are being made for it?!).  Did I mention<br/>you need an Apple PC to run I-Phone apps and the latest version of the &quot;Mac OS&quot;<br/>to make apps that will pass Apple&apos;s debugging (which is always done on the<br/>latest OS)?   Or that rumors says they are dropping support for C programs on<br/>the I-Phone and forcing everything to be in their Objective C language (which is<br/>more stable, but very awkward to learn and slow to code in)?    Or their forcing<br/>you to only purchase apps via their App Store?</p><p>    Are those valid quality control measures...sure....but at what cost?!</p><p>     Now even to buy information (IE music) you have be in Apple&apos;s &quot;home<br/>country&quot; (I wonder if this restriction applies for being a &quot;registered Apple<br/>Developer&quot; for the I-Phone as well).   They must be losing a FORTUNE worth of<br/>overseas business because of this.  If anyone here works for or has inroads to<br/>Apple...what&apos;s you take on this and/or do you think anything can/should be done?</p></div><h3>Michael &#x3C;djtrancendance@...&#x3E;</h3><span>9/1/2010 8:05:59 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Blah, scratch that part about app availability...I just read John&apos;s note<br/>that RatioKey is available in several countries.</p><p>________________________________<br/>From: Michael &lt;djtrancendance@...&gt;<br/>To: <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a><br/>Sent: Wed, September 1, 2010 10:03:07 AM<br/>Subject: Re: [tuning] Re: RatioKey, a ratio-based keyboard app for the iPad</p><p>Ozan&gt;&quot;to become a member you need to provide a viable US address and a US-based<br/>bank account or credit card number.</p><p>Catch-22.&quot;</p><p>   Ah yes...Jobs/Apple never seem(s) to learn when even the most simple apps<br/>can&apos;t be accessed by so many.</p><p>   First they get beat by Microsoft Windows 3.1 (and then<br/>95,98,ME,XP,Vista,Windows 7, etc.) on both price and software selection because<br/>they allow non-proprietary soft and hardware.  They had a winner with the<br/>I-Phone by being very inexpensive (by Apple standards).  But even then Android<br/>is catching up, quickly, much by allowing programmers to submit applications<br/>without a $100 registration fee and often another $400 or so for a special<br/>I-Phone needed for uploading/testing the apps directly rather than waiting for<br/>Apple&apos;s 2 week or so long &quot;in-house application debugging&quot; process before an app<br/>can go on the app store (is it any wonder more and more programmers are leaning<br/>toward Android and more and more apps are being made for it?!).  Did I mention<br/>you need an Apple PC to run I-Phone  apps and the latest version of the &quot;Mac OS&quot;<br/>to make apps that will pass Apple&apos;s debugging (which is always done on the<br/>latest OS)?   Or that rumors says they are dropping support for C programs on<br/>the I-Phone and forcing everything to be in their Objective C language (which is<br/>more stable, but very awkward to learn and slow to code in)?    Or their forcing<br/>you to only purchase apps via their App Store?</p><p>    Are those valid quality control measures...sure....but at what cost?!</p><p>     Now even to buy information (IE music) you have be in Apple&apos;s &quot;home<br/>country&quot; (I wonder if this restriction applies for being a &quot;registered Apple<br/>Developer&quot; for the I-Phone as well).   They must be losing a FORTUNE worth of<br/>overseas business because of this.  If anyone here works for or has inroads to<br/>Apple...what&apos;s you take on this and/or do you think anything can/should be<br/>done?</p></div><h3>John Payne &#x3C;jt511p@...&#x3E;</h3><span>9/2/2010 8:59:15 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>My apologies.  I was not aware that the situation was as you describe it in so much of the world.</p><p>Apple does have online iTunes Stores in many countries, as you can see here<br/><a href="http://store.apple.com/Catalog/US/Images/intlstoreroutingpage.html">http://store.apple.com/Catalog/US/Images/intlstoreroutingpage.html</a><br/>but there are many more countries in which they don&apos;t yet, including not only Turkey but all of the countries which surround it.</p><p>As to your request for a &quot;clean link&quot; I&apos;m afraid that is beyond my power, as the application only runs on the iPad and, short of a process called &quot;jailbreaking&quot;, which, at least for a developer, constitutes a breach of contract, apps can only be installed on an iPad using iTunes.  For most of the people living in one of the countries where the iTunes Store exists, this is an acceptable compromise, since it renders the iPad more secure than the typical desktop machine and vastly simplifies maintenance.</p><p>What I can do is to describe in more detail how the application works.</p><p>The code is divided into the user interface and an audio engine.  They communicate via C structures that are passed back and forth between them, with the main item of interest in these structures being a pitch.  That pitch could be expressed in cycles per second (Hz), but I have instead chosen to express it in terms of a proportional unit, which plugs directly into the sound generation code without conversion.  That proportional unit needs some explanation.</p><p>To avoid having to calculate sine values while the audio hardware waits for input, I have set up a table of precalculated sines, which holds values for one complete cycle (2pi radians).  The size of this table is one of the components of the proportional unit mentioned above.  The other is the sample rate, which is 44100 samples per second, the same as a CD.</p><p>((table indices)/cycle) / (samples/second) ~ (table indices)/sample</p><p>and that&apos;s the proportional unit, (table indices)/sample.  Given this quantity, the audio engine progresses from one sample to the next by adding this value to the previous value (resetting whenever it reaches the size of the table) and then uses the result it to look up the sine, which is what&apos;s passed to the hardware.</p><p>The user interface is composed of buttons, labeled with ratios, and associated with these values that are proportional to pitch.  If the &quot;1/1&quot; frequency is changed, then all of the others are also changed.</p><p>The selection of ratios is a bit complicated.  I begin with a permutation of every combination of powers of 2, 3, 5, 7, and 11, permitting the powers of 2 to vary from 1/32 to 32, the powers of 3 from 1/27 to 27, the powers of 5 from 1/25 to 25, the powers of 7 from 1/7 to 7, and the powers of 11 from 1/11 to 11.  Fractional powers, like 1/32 and 1/25, appear as integers in the denominator of a ratio.  The numerator and denominator are the products of their prime power components.</p><p>I then discard all combinations resulting in a ratio with a value greater than 2 or smaller than 1/2.  Further I discard any combinations where either the numerator or the denominator is larger than 32.</p><p>There is a third test which may seem a bit arbitrary, but which I decided to use to make sure that I was winnowing out the more complicated ratios.  For this test, each prime number is multiplied by the absolute value of its power (1/32 and 32 both yield 5, 5 times 2 is 10), and then these products are added together.  If the sum of these is greater than 21, I also discard that ratio.</p><p>What&apos;s left after passing through these tests is what you find on the keyboard, arranged in ascending order from bottom to top, 105 distinct tones over two octaves.</p><p>Setting &quot;1/1&quot; is also a bit complicated.  I use an arbitrary base frequency (which defaults to 11 Hz) and a picker to select powers of 2, 3, 5, 7, and 11, with the same limits as before, to produce a ratio which is resolved into a single quotient, which is then multiplied by the base frequency to produce the &quot;1/1&quot; frequency.  This allows transposition by simply fiddling the prime powers to generate a different quotient.</p><p>The interface arrangement is far from ideal.  It has no structure other than higher tones being placed closer to the top, and it&apos;s difficult to play.  I&apos;ve put a great deal of thought into how to fix this, and have some ideas that I hope to put into practice, but for the moment it is what it is, and, having published the app in this form, the current keyboard will have to remain as an option in any future version.  My apologies to any who see gaping holes in my reasoning.</p><p>-john</p><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, Ozan Yarman &lt;ozanyarman@...&gt; wrote:<br/>&gt;<br/>&gt; The issue is that to download any software or media from iTunes, you<br/>&gt; need to become a member; and to become a member you need to provide a<br/>&gt; viable US address and a US-based bank account or credit card number.<br/>&gt; Catch-22.<br/>&gt;<br/>&gt; Cannot you provide a clean link for us people living overseas to<br/>&gt; benefit from this wonderous freeware?<br/>&gt;<br/>&gt; Oz.<br/>&gt;<br/>&gt; &acirc;&copy; &acirc;&copy; &acirc;&copy;<br/>&gt; <a href="http://www.ozanyarman.com">www.ozanyarman.com</a></p></div>