<a href="/tuning">back to list</a><h1>Tribonacci and 3D lattices</h1><h3>Pierre Lamothe &#x3C;plamothe@aei.ca&#x3E;</h3><span>3/9/2001 8:44:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[ To Paul Erlich ] (cf. 18650)</p><p>As I wrote, the method I found is so simple there might well be known.</p><p>------------------------------------------------------<br/>Using Tribonacci series for 3D lattices representation<br/>------------------------------------------------------</p><p>We use normally square meshes for 2D lattices with horizontal and vertical<br/>unit vectors.</p><p>QUESTION :</p><p>How to represent a third unit vector to have the nodes always distincts and<br/>well distributed on the plane (even if there are many nodes on the third<br/>axis)?</p><p>ANSWER :</p><p>To keep it simple, I will limit maths and give only recipes.</p><p>Let us suppose we have to draw on a squared paper a 3D lattice having less<br/>than 7 nodes on the third axis. Using 7 x 7 squares for the unit mesh -- so<br/>the end of the X-unit is (7,0) and the end of the Y-unit is (0,7) -- one of<br/>the good solution for the end of the Z-unit is (5,4) :</p><p>   Y . . . . . . .<br/>   . . . . . . . .<br/>   . . . . . . . .<br/>   . . . . .(Z). .<br/>   . . . . . . . .<br/>   . . . . . . . .<br/>   . . . . . . . .<br/>   O . . . . . . X</p><p>Q. Why it is a good solution?</p><p>Let visualize in the same (modulo) mesh the 0-to-7 multiples of the Z-unit<br/>vector. We observe a good distribution of the nodes in the plane suitable<br/>for less than 7 nodes on Z-axis.</p><p>   . . . . . . .(7)<br/>   . . . .(5). . .<br/>   .(3). . . . . .<br/>   . . . . .(1). .<br/>   . .(6). . . . .<br/>   . . . . . .(4).<br/>   . . .(2). . . .<br/>  (0). . . . . . .</p><p>We have to understand here that any lattice of whatever size in Z-axis will<br/>have its nodes on the set of these 7 periodical possible positions. So if a<br/>lattice has more than 6 nodes on the Z-axis then some nodes will be hidden.</p><p>In that case we could use another good solution with greater periodicity<br/>such Z-unit = (9,7) when X-unit = (13,0) and Y-unit = (0,13) :</p><p>   Y . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . .(Z). . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . .<br/>   O . . . . . . . . . . . . X</p><p>   . . . . . . . . . . . . .(D)<br/>   . . . . . . . .(B). . . . .<br/>   . . .(9). . . . . . . . . .<br/>   . . . . . . . . . . .(7). .<br/>   . . . . . .(5). . . . . . .<br/>   .(3). . . . . . . . . . . .<br/>   . . . . . . . . .(1). . . .<br/>   . . . .(C). . . . . . . . .<br/>   . . . . . . . . . . . .(A).<br/>   . . . . . . .(8). . . . . .<br/>   . .(6). . . . . . . . . . .<br/>   . . . . . . . . . .(4). . .<br/>   . . . . .(2). . . . . . . .<br/>  (O). . . . . . . . . . . . .</p><p>-----</p><p>Q. How to find these good distributions?</p><p>Let 2 4 7 13 24 44 81 .. be the Tribonacci series (following 2) and a-b-c<br/>be three successive numbers in that series (e.g. 2-4-7, 4-7-13, 7-13-24<br/>..). With (c,0) and (0,c) for the end of X-unit and Y-unit vectors, our<br/>precedent solutions for the end of Z-unit were (c-a,b).</p><p>Indeed (5,4) = (7-2,4) and (9,7) = (13-4,7).</p><p>-----</p><p>Q. Is that the only possibility?</p><p>The solution already calculated belongs to the first quadrant defined by X<br/>and Y vectors. Naturally, by symmetry X | Y, the value (b,c-a) in the same<br/>quadrant is also a good solution.</p><p>However the two solutions have a light flaw. The right-hand convention for<br/>the direction of unit vectors is not respected (for we perceive the Z-axis<br/>entering in the plane and the convention ask emerging from the plane). We<br/>could simply permute Y and Z vectors to respect the convention.</p><p>We could also reverse the direction of Z taking (a-c,-b) in the third<br/>quadrant  to have a solution respecting the right-hand convention.</p><p>More, taking (a-c,b) and (c-a,-b) in the second and fourth quadrant we<br/>would have yet equivalent solutions. In fact, there exist a total of 8<br/>symmetrical solutions. Here is one of the third quadrant solution using<br/>2-4-7 and the set of possible positions. The sign (-) indicates that the<br/>right-hand convention is not respected so we have to permute two letters.<br/>(That stands on not so obvious perception that Z-axis emerge in lower part,<br/>for we normally look downwards).</p><p>   . . . . . . . Y . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . .(-). . . . . . .(-). . .<br/>   . .(-). . . . . . . . .-z . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>  -x . . . . . . O . . . . . . X<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . Z . . . . . . . . .(+). .<br/>   . . .(+). . . . . . .(+). . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . .-y . . . . . . .</p><p>Let us note finally that (c,c) - (c-a,b) = (a,c-b) which gives the position<br/>of multiple c-1 -- so we would have the reverse sequence c-1, c-2, c-3 ...<br/>-- gives also a compressed Z-axis solution. Here are the 8 new<br/>possibilities with the values 2-4-7 :</p><p>   . . . . . . . Y . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . .(z). . .(z). . . . .<br/>   . . . .(z). . . . .(z). . . .<br/>   . . . . . . . . . . . . . . .<br/>  -x . . . . . . O . . . . . . X<br/>   . . . . . . . . . . . . . . .<br/>   . . . .(z). . . . .(z). . . .<br/>   . . . . .(z). . .(z). . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . . . . . . . . . .<br/>   . . . . . . .-y . . . . . . .</p><p>That corresponds to the same set of positions in reverse order. Here are<br/>that positions with 4-7-13 :</p><p>   Y . . . . . . . . . . . . .<br/>   . . . . . . . .( ). . . . .<br/>   . . .( ). . . . . . . . . .<br/>   . . . . . . . . . . .( ). .<br/>   . . . . . .( ). . . . . . .<br/>   .( ). . . . . . . . . . . .<br/>   . . . . . . . . .( ). . . .<br/>   . . . . Z . . . . . . . . .<br/>   . . . . . . . . . . . .( ).<br/>   . . . . . . .( ). . . . . .<br/>   . .( ). . . . . . . . . . .<br/>   . . . . . . . . . .( ). . .<br/>   . . . . .( ). . . . . . . .<br/>   O . . . . . . . . . . . . X</p><p>-----</p><p>Q. How to calculate with normal X-unit = (1,0) and Y-unit = (0,1)?</p><p>We have simply to divise the solution by c. The value for the Z-unit will<br/>be then (1-a/c, b/c).</p><p>-----</p><p>Q. Finally how to have a universal solution with no periodicity so all<br/>finite lattices have all their nodes always separated?</p><p>We know that the ratio, at the limit, of successive numbers in the<br/>Tribonacci series is the Psi number. Using rt2 for square root and rt3 for<br/>cubic root, we may calculate its value with this formula :</p><p>  Psi = (1/3)(1 + rt3(19 + rt2(33)) + rt3(19 - rt2(33)))</p><p>      = 1.839 286 755 ...</p><p>So if X-unit = (1,0) and Y-unit = (1,0), taking for a-b-c the successive</p><p>  (1/Psi^2) (1/Psi) (1)</p><p>we obtain for (1-a/c, b/c) the expression (1-1/Psi^2, 1/Psi) whose values<br/>approximated with 4 digits give</p><p>  Z-unit = (0.7044, 0.5437)</p><p>With permutation and sign changes we obtain the 8 symmetrical solutions.</p><p>Pierre Lamothe</p></div><h3>Dave Keenan &#x3C;D.KEENAN@UQ.NET.AU&#x3E;</h3><span>3/13/2001 9:57:02 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Pierre,</p><p>That is so beautiful! It gave me goosebumps.</p><p>Many list members will be familiar with the idea that phi or the<br/>golden mean, with its Fibonacci approximations, results in the minimum<br/>of near-coincidences in one dimension. For example between the<br/>harmonic partials of two notes whose fundamantals have a frequency<br/>ratio of phi.</p><p>Pierre has shown how to generalise this to give minimum coincidences<br/>between regular 2D arrays.</p><p>The only problem is, I&apos;ve forgotten what the intended application was<br/>to tuning. Can someone remind us?</p><p>Regards,<br/>-- Dave Keenan</p></div><h3>Graham Breed &#x3C;graham@microtonal.co.uk&#x3E;</h3><span>3/14/2001 4:04:25 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dave Keenan wrote:</p><p>&gt; The only problem is, I&apos;ve forgotten what the intended application<br/>was<br/>&gt; to tuning. Can someone remind us?</p><p>What I&apos;d like to do is automatically generate a family of scales that<br/>approximate a given chord.  Like now we can start with a perfect<br/>fifths, and get mostly schismic scales out.  What would happen if you<br/>started with a major triad?  Or a 5:6:7 diminished or 7:9:11 augmented<br/>triad?</p><p>Of course we can get the right results by listing all ETs and taking<br/>those with the best approximation.  But a 3-D equivalent of the Scale<br/>Tree would be sweet.</p><p>I haven&apos;t been following the mathematical detail of this at all.  I<br/>still don&apos;t know what a tribonacci series is.  A friendly summary<br/>would be much appreciated.</p><p>                   Graham</p></div><h3>D.Stearns &#x3C;STEARNS@CAPECOD.NET&#x3E;</h3><span>3/17/2001 10:39:28 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dave Keenan wrote,</p><p>&lt;&lt;Pierre, That is so beautiful! It gave me goosebumps.&gt;&gt;</p><p>I&apos;m glad to see someone enjoying Pierre&apos;s work here. Perhaps a summery<br/>or paraphrasing of sorts by someone like yourself Dave (as I think you<br/>have a knack for presenting potentially difficult concepts in a<br/>patient and easily understandable way) might help others get a better<br/>idea of what Pierre is doing here.</p><p>&lt;&lt;Pierre has shown how to generalise this to give minimum coincidences<br/>between regular 2D arrays.&gt;&gt;</p><p>Again, could you elaborate on this a bit more? (Thanks.)</p><p>&lt;&lt;The only problem is, I&apos;ve forgotten what the intended application<br/>was to tuning. Can someone remind us?&gt;&gt;</p><p>If this is analogous to a three-term Stern-Brocot Tree, or three<br/>fraction &quot;adjacent fractions&quot;, then its applications would hopefully<br/>run along similar lines. In other words think of Erv Wilson&apos;s scale<br/>tree only it would pertain to three-term scales as opposed to two...<br/>or &quot;Tribonacci&quot; scales as opposed to &quot;Fibonacci&quot; scales.</p><p>--Dan Stearns</p></div><h3>D.Stearns &#x3C;STEARNS@CAPECOD.NET&#x3E;</h3><span>3/17/2001 11:18:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Graham Breed wrote,</p><p>&lt;&lt;I haven&apos;t been following the mathematical detail of this at all.  I<br/>still don&apos;t know what a tribonacci series is.  A friendly summary<br/>would be much appreciated.&gt;&gt;</p><p>Though I&apos;ve posted quite a bit on this over the last few months, I<br/>also know that I&apos;m definitely the wrong person to try and give a<br/>(friendly) summary...</p><p>But I would like to bump this question back on up in the hopes that<br/>(friendly) Robert Walker -- or anyone else who might want to give it a<br/>(friendly) go -- is lurking!</p><p>--Dan Stearns</p></div>