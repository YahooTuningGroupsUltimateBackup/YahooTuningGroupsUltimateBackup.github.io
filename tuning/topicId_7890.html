<a href="/tuning">back to list</a><h1>Adaptive tuning methods</h1><h3><a id=7890 href="#7890">ðŸ”—</a>John A. deLaubenfels &#x3C;jadl@idcomm.com&#x3E;</h3><span>1/18/2000 7:24:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I Wrestling with the demon.</p><p>In common with many or most members of the list, I&apos;m not exactly rolling<br/>in dough.  Also in common with many or most, I&apos;d love to make a living,<br/>or even a tiny token dollar, from the pursuit of music.  So there is a<br/>part of me that wants to hoard any bit of knowledge I might have.</p><p>On the other hand, the heck with that attitude; this is MUSIC.</p><p>II Methods.</p><p>Springs.  Thousands of springs.  Hundreds of thousands, if necessary.<br/>Springs are a way that competing interests can communicate with each<br/>other for the purpose of overall reduction of energy, or &quot;pain&quot;.</p><p>At least one list member has sneered at the idea of using the word<br/>&quot;pain&quot; in a meaningful model of adaptive tuning.  To this I would say,<br/>if your quibble is with the choice of words, suggest others.  If<br/>your thesis is that there is no meaningful way to measure musical<br/>tradeoffs, well, I&apos;d say that history is in the process of proving you<br/>wrong.</p><p>We all know that tuning, whether adaptive or fixed, is a matter of<br/>tradeoffs.  If anyone is in doubt, then consider the simple sequence<br/>C to A to D to G to C.  This is the &quot;comma pump&quot;, and there is no way to<br/>avoid some &quot;pain&quot;.  Either the ending C is shy of the beginning by<br/>80:81, or someone along the way has to give.</p><p>How much do the competing needs hurt when they&apos;re not fully met?  In<br/>general, my belief is that pain is proportional to the square of<br/>deviation.  Deviation can be: mistuned intervals, motion in the tuning<br/>of a note continuously sounding or remembered, or an overall drift of<br/>the center of tuning away from what is expected.  And this is only a<br/>partial list, to be sure, but it includes perhaps the three most<br/>important factors.</p><p>When a fifth, say, is mistuned by 1 cent, most ears cannot tell.  Bump<br/>it to 2 cents, as in 12-tET, and the tuning is still very good.  But<br/>double it again, to be near 1/4 comma meantone reduction, and the pain<br/>is real.  Double it again and the interval really starts to hurt.  I<br/>would measure the relative pain as 1, 4, 16, and 64, the square of<br/>deviation.</p><p>Again, when a continuously sounding note is retuned by 1 cent, even the<br/>most sensitive ear grasps for a clue.  But with each doubling of motion,<br/>pain jumps, I would say by the square of motion.</p><p>It happens that this relationship is in close correspondence to physical<br/>reality.  In a former life, I worked in the design of nuclear power<br/>plants (don&apos;t all hiss at once!), and in that life I learned a lot about<br/>springs.  An ideal spring has some point of rest, and its resisting<br/>force to deviation is linearly proportional to that deviation.  If<br/>deflecting 1 inch causes 10 pounds of resisting force, then deflecting 2<br/>inches will cause 20 pounds of back pressure.</p><p>But didn&apos;t I say squared, not linear???  Ah, but the energy held by a<br/>spring is proportional to the square of deviation, and in this model,<br/>energy and pain are equivalent.</p><p>In the physical model, it can be shown mathematically that minimum<br/>total system energy is represented by a summation of spring force at<br/>each node of zero.  To put it another way, any change of the state of<br/>deflection which is supported by net spring force also reduces the<br/>total energy, or &quot;pain&quot;, of the system.</p><p>So, my tuning model in principle is extremely simple.  I load the<br/>sequence and start wiring up springs.  Across every simultaneous<br/>(&quot;vertical&quot;) interval, springs pull toward ideal JI tuning, while at<br/>the same time allowing deviation therefrom at measured cost.  Each<br/>note&apos;s tuning is sprung to &quot;ground&quot;, the center expectation for tuning<br/>of that note.  And each note is sprung horizontally in time to<br/>previous and successive tunings of itself.</p><p>The strength of each spring is dependent upon both the particulars of<br/>the moment (largely the loudness of the notes) and upon chosen<br/>coefficients of importance that partially reflect individual taste.<br/>I tolerate a lot of motion for the sake of good tuning; other list<br/>members have ears that easily cringe at motion and tolerate greater<br/>mistuning.</p><p>Once the springs are wired, I simply move the tunings of each node to<br/>achieve zero total spring force everywhere, this being in one-to-one<br/>correspondence with minimum pain, to the extent that the model is<br/>correct.</p><p>One way of solving a spring matrix is by inverting the matrix.  But<br/>a large musical sequence is too large for this, I believe.  I just use<br/>successive approximation, in conjunction with &quot;monte carlo&quot; pseudo-<br/>random motion through the piece.</p><p>Note that the springs need not be linear.  What is important is that the<br/>spring force represents the derivative of pain with respect to tuning<br/>motion, whether linear or not.  Once non-linearities are possible,<br/>matrix inversion is not an option; only successive approximation can<br/>do the job.</p><p>Many important factors are still not represented by this method.  But<br/>at the same time, the results are impressive, I believe.  I&apos;ll soon<br/>be posting more examples to illustrate.  All feedback is welcome,<br/>ESPECIALLY (constructive) negative feedback.</p><p>JdL</p></div><h3><a id=7891 href="#7891">ðŸ”—</a>Paul H. Erlich &#x3C;PErlich@Acadian-Asset.com&#x3E;</h3><span>1/18/2000 7:28:03 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Again, when a continuously sounding note is retuned by 1 cent, even the<br/>&gt;most sensitive ear grasps for a clue.  But with each doubling of motion,<br/>&gt;pain jumps, I would say by the square of motion.</p><p>That might be disputable. There is a psychologically measurable quantity<br/>known as the &quot;just noticeable difference.&quot; In the circumstance of a single<br/>note, this amounts to over 8 cents in most cases. So, rather than a<br/>parabola, I would use a curve which is very low up to 8 cents, then rises<br/>dramatically up to about 10 cents, then rises less dramatically.</p><p>&gt;Each<br/>&gt;note&apos;s tuning is sprung to &quot;ground&quot;, the center expectation for tuning<br/>&gt;of that note.</p><p>Which is?</p></div><h3><a id=7895 href="#7895">ðŸ”—</a>Carl Lumma &#x3C;clumma@nni.com&#x3E;</h3><span>1/18/2000 11:17:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Many important factors are still not represented by this method.  But<br/>&gt;at the same time, the results are impressive, I believe.  I&apos;ll soon<br/>&gt;be posting more examples to illustrate.  All feedback is welcome,<br/>&gt;ESPECIALLY (constructive) negative feedback.</p><p>It&apos;s great.  Seems like the ideal adaptive tuning scheme.</p><p>I can easily explain my method in terms of springs.  It would produce the<br/>same results as your method if you...</p><p>1. Left out the vertical error spring.</p><p>2. Set the resistences of the horizontal drift, tonic drift, and chord<br/>choice springs all to max.  &quot;But you might as well not have resistences!&quot;<br/>True, but this explaination is in terms of your method, and there is #3,</p><p>3. Instead of minimizing the total energy, minimize the horizonal drift<br/>energy.  Minimize total energy only when horizontal drift has more than one<br/>minimum.</p><p>...other that that, there&apos;s really a shocking resemblance in our approaches!<br/>:)</p><p>Seriously -- I&apos;m using mean squared error, and loudness of parts.  Our list<br/>of chords may vary, but that&apos;s to be expected.  How did you come up with<br/>your list of chords, by the way?  And do you even have a &quot;chord choice<br/>spring&quot; (I rate the dissonance of each chord), or do you assume all the<br/>chords are equally consonant before the vertical error begins?</p><p>Once again, my method is explained in its native tongue at:<br/><a href="http://lumma.org/adaptive.txt">http://lumma.org/adaptive.txt</a></p><p>Your method is better for the composer interested in increasing the<br/>consonance of his music while maintaining the overall framework and intent<br/>of the tempered composition.  [The number of consonant relationships in the<br/>vocabulary is increased, but not in an especially consistent or exploitable<br/>way.  Both the vertical puns (same dyad occupying two spots in the harmonic<br/>series) and horizontal puns (same frequency occupying two spots in pitch<br/>space) of temperament are valued.]</p><p>My method is better for the composer who wants to maximize the number of<br/>harmonic relationships, and to be able to access them simply by scoring<br/>their best tempered approximation -- who values vertical puns but not<br/>horizontal ones (that&apos;s me!, hope I&apos;ve gotten that across on this list<br/>already!).</p><p>Of course, your method is better as far as flexibility goes (it might even<br/>be possible to approximate my method with the right &quot;mix&quot; of resistences).<br/>Which brings us to...</p><p>&gt;&gt;Each note&apos;s tuning is sprung to &quot;ground&quot;, the center expectation for<br/>&gt;&gt;tuning of that note.<br/>&gt;<br/>&gt;Which is?</p><p>Yeah!  I already asked if you have a spring for chord choice, and if so,<br/>how you came up with your chord list.  I&apos;m also curious about what you use<br/>for ideal horizontal motion.  Meatone?  12-tone?  Have you considered<br/>adding a &quot;choose your ideal template&quot; option for the different springs?<br/>So, in the case of horizontal motion, I could pick which commas to try and<br/>zap, and which to keep?</p><p>&gt;&gt;Again, when a continuously sounding note is retuned by 1 cent, even the<br/>&gt;&gt;most sensitive ear grasps for a clue.  But with each doubling of motion,<br/>&gt;&gt;pain jumps, I would say by the square of motion.<br/>&gt;<br/>&gt;That might be disputable. There is a psychologically measurable quantity<br/>&gt;known as the &quot;just noticeable difference.&quot; In the circumstance of a single<br/>&gt;note, this amounts to over 8 cents in most cases. So, rather than a<br/>&gt;parabola, I would use a curve which is very low up to 8 cents, then rises<br/>&gt;dramatically up to about 10 cents, then rises less dramatically.</p><p>To me, the cool thing about John&apos;s approach is that it lets you mix these<br/>priorities and get results that correspond to what&apos;s on the mixing board,<br/>even though the different knobs all affect eachother.  In other words, it<br/>would be easy to design a non-sprung version of John&apos;s method with<br/>motorized knobs, so that when you turn one the others move accordingly.<br/>But it would drive you nuts -- you couldn&apos;t get what you wanted.  Bravo, John!</p><p>Thing is, the knobs will respond differently depending on how you rate the<br/>deviations, but it won&apos;t change the main cool thing about John&apos;s method (in<br/>my eyes).  It&apos;s nice to have knobs that respond like your ear, but the<br/>quoted experimental results give me little reason to prefer one way over<br/>another without knowing the circumstances under which they were obtained<br/>(&quot;just noticable&quot;?, &quot;most cases&quot;?).</p><p>Thanks for sharing John!  Your ideas are super-valuable to the cause.  And<br/>look around -- you&apos;ve got enough of a head start on this that nobody here<br/>is going to be able to catch you if you wanted to make the thing.  Did you<br/>say you considered a patent?  Sounds like a patent-worthy &quot;method&quot; if there<br/>ever was one!!</p><p>-Carl</p></div><h3><a id=7907 href="#7907">ðŸ”—</a>John A. deLaubenfels &#x3C;jadl@idcomm.com&#x3E;</h3><span>1/19/2000 10:57:55 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[I wrote:]<br/>&gt;&gt;Each note&apos;s tuning is sprung to &quot;ground&quot;, the center expectation for<br/>&gt;&gt;tuning of that note.</p><p>[Paul Erlich, TD 493.24:]<br/>&gt;Which is?</p><p>You KNOW what I&apos;m going to answer, just as I know (unless you&apos;ve changed<br/>your mind) that you&apos;ll object.  I wire each note to the center, 0.00<br/>cents deviation, from 12-tET.  As the original sequences I&apos;m working<br/>with are IN 12-tET, that seems reasonable.</p><p>As before, I wouldn&apos;t rule out some other center of shift, but have yet<br/>to see a compelling reason to use anything else.  Your proposed meantone<br/>centering would, as we&apos;ve discussed at length, have trouble with 19th<br/>century sequences with their diesis pumps.</p><p>[Carl Lumma, TD 494.3:]<br/>&gt;Yeah!  I already asked if you have a spring for chord choice, and if<br/>&gt;so, how you came up with your chord list.</p><p>Mmmm.  I&apos;m not using a chord list per se; rather, each set of sounding<br/>notes tries to fit itself to one of the tuning files loaded, in each of<br/>the possible 12 keys the file can be transposed to.</p><p>[Carl:]<br/>&gt;I&apos;m also curious about what you use for ideal horizontal motion.<br/>&gt;Meatone?  12-tone?</p><p>I must not be understanding the question, because I want to answer, the<br/>ideal horizontal motion for a unison is zero.  For successive notes of<br/>different pitches, I don&apos;t yet have springs wired, but if I do, they&apos;ll<br/>reflect the same expectation that I have for ideal centering of single<br/>notes: good ol&apos; 12-tET.</p><p>&gt;Have you considered adding a &quot;choose your ideal template&quot; option for<br/>&gt;the different springs?  So, in the case of horizontal motion, I could<br/>&gt;pick which commas to try and zap, and which to keep?</p><p>I&apos;m not following you here.</p><p>Carl, I apologize for not yet having found more time to understand your<br/>proposed method, which you&apos;ve obviously thought about in some detail.<br/>I&apos;ll see if I can rectify that and answer more of your questions.</p><p>&gt;Did you say you considered a patent?  Sounds like a patent-worthy<br/>&gt;&quot;method&quot; if there ever was one!!</p><p>The idea of being protected is appealing, but I have to imagine the<br/>inverse situation: what if someone else had played with springs,<br/>patented the idea, and now had his/her hand out when I show up?  The<br/>heck with that: let&apos;s all run as fast as we can without restriction!  If<br/>Murphy, the laughing god of chance, cuts me out of the deal, so be it: I<br/>can still say (imagine a shrill old-man voice here)  &quot;By cracky!  There<br/>was a time I was in the thick of that danged retuning game!  Those young<br/>whippersnappers have gone and pulled the rug right out from under me!&quot;</p><p>Yes, it would seem (unless someone is lurking silently, which is always<br/>possible!) that I have a head-start in this adaptive retuning game.  But<br/>a couple of months hard work could easily put someone else ahead of me!<br/>I say this not so much to frighten myself as to encourage others - this<br/>game is still W-I-I-I-I-DE open!</p><p>JdL</p></div><h3><a id=7924 href="#7924">ðŸ”—</a>Carl Lumma &#x3C;clumma@nni.com&#x3E;</h3><span>1/19/2000 10:08:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;[Carl Lumma, TD 494.3:]<br/>&gt;&gt;Yeah!  I already asked if you have a spring for chord choice, and if<br/>&gt;&gt;so, how you came up with your chord list.<br/>&gt;<br/>&gt;Mmmm.  I&apos;m not using a chord list per se; rather, each set of sounding<br/>&gt;notes tries to fit itself to one of the tuning files loaded, in each of<br/>&gt;the possible 12 keys the file can be transposed to.</p><p>You&apos;ve got to have something that pairs 12-tone chords with just ones.  The<br/>question is, do you consider all just verions equally consonant?</p><p>&gt;[Carl:]<br/>&gt;&gt;I&apos;m also curious about what you use for ideal horizontal motion.<br/>&gt;&gt;Meatone?  12-tone?<br/>&gt;<br/>&gt;I must not be understanding the question, because I want to answer, the<br/>&gt;ideal horizontal motion for a unison is zero.  For successive notes of<br/>&gt;different pitches, I don&apos;t yet have springs wired, but if I do, they&apos;ll<br/>&gt;reflect the same expectation that I have for ideal centering of single<br/>&gt;notes: good ol&apos; 12-tET.</p><p>You understood exactly -- &quot;what is it zero from?&quot;.  12-tet, eh?  That&apos;s<br/>what I use in my (vaporware) method.  My method does consider successive<br/>notes of different pitches, but only if there are no unisons to deal with.</p><p>I should also point out that the existence of unisons sometimes depends on<br/>what tuning you assume the score to be in.  Since MIDI files don&apos;t<br/>distinguish enharmonic spellings, I guess we&apos;re assuming 12.</p><p>&gt;&gt;Have you considered adding a &quot;choose your ideal template&quot; option for<br/>&gt;&gt;the different springs?  So, in the case of horizontal motion, I could<br/>&gt;&gt;pick which commas to try and zap, and which to keep?<br/>&gt;<br/>&gt;I&apos;m not following you here.</p><p>What if I didn&apos;t want to zero from 12-tet?  What if I consider meantone<br/>ideal?  12 zaps the pythagorean and syntonic commas, but say I want to keep<br/>the pythagorean comma?  Would it be difficult to let the user specify the<br/>ideal case in a file?  In general could this be done for for all<br/>deviations, not just horizontal motion?</p><p>&gt;Carl, I apologize for not yet having found more time to understand your<br/>&gt;proposed method, which you&apos;ve obviously thought about in some detail.<br/>&gt;I&apos;ll see if I can rectify that and answer more of your questions.</p><p>No apology necessary, obviously.  I&apos;m just all over you because you<br/>actually seem capable and interested in developing software that allows<br/>people to control the tuning of music.  I&apos;ve paid money for software that<br/>only _claimed_ to do that.</p><p>-Carl</p></div><h3><a id=28751 href="#28751">ðŸ”—</a>monxmood@free.fr</h3><span>9/29/2001 12:19:15 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Springs I like, and like you I have wrestled with the daemon apropos<br/>of a realTime tuning adjustment prog that was going to bring peace to<br/>the world and money to my pocket. The gimmick I used was based on the<br/>fact that horizontal &quot;pain&quot; is unnoticeable compared to vertical<br/>pain. This allows one to overcome both drift and burst by microtonal<br/>portamento. Are you any good at coding? I am still looking for<br/>someone to code this baby. More details on my site <a href="http://www.ii4i.net">www.ii4i.net</a> under<br/>Atlas of Tonespace. The weighting tables are all ready and tested<br/>(for deciding which tone of any chord/cluster to call &quot;reference<br/>tone&quot; and allot ET value) as well as the output cent adjustment<br/>tables.</p><p>The only reward would be having it bundled for free with some<br/>computer music magazine plus free copies for everyone on this list<br/>but who cares. Making the world sound better gets daily more<br/>important for all.</p><p>Paul Hirsh</p></div><h3><a id=28777 href="#28777">ðŸ”—</a>John A. deLaubenfels &#x3C;jdl@adaptune.com&#x3E;</h3><span>9/30/2001 7:02:13 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[Paul Hirsh wrote:]<br/>&gt;Springs I like, and like you I have wrestled with the daemon apropos<br/>&gt;of a realTime tuning adjustment prog that was going to bring peace to<br/>&gt;the world and money to my pocket. The gimmick I used was based on the<br/>&gt;fact that horizontal &quot;pain&quot; is unnoticeable compared to vertical<br/>&gt;pain. This allows one to overcome both drift and burst by microtonal<br/>&gt;portamento.</p><p>Hi, Paul!  You&apos;re referring to my post from 01-18-00, linked from my<br/>web site:</p><p>   <a href="/tuning/topicId_7890.html#7890">/tuning/topicId_7890.html#7890</a></p><p>It&apos;s interesting that you say horizontal pain is unnoticeable compared<br/>to vertical.  In my experience this is not always the case; it depends<br/>upon the particular sequence of notes and chords.  Certainly, it is true<br/>that a shift of a few cents isn&apos;t audible to most ears, but at around 15<br/>cents it starts to get painful pretty fast, if the jump is sudden.  In<br/>the long run, I probably want to use non-linear horizontal springs, but<br/>haven&apos;t yet worked out the details of how to wire them.  Another option<br/>would be no horizontal springs but non-linear grounding springs that<br/>forbid going more than a certain distance from the calculated ideal<br/>grounding tuning.</p><p>&gt;Are you any good at coding? I am still looking for someone to code this<br/>&gt;baby. More details on my site <a href="http://www.ii4i.net">www.ii4i.net</a> under Atlas of Tonespace.<br/>&gt;The weighting tables are all ready and tested (for deciding which tone<br/>&gt;of any chord/cluster to call &quot;reference tone&quot; and allot ET value) as<br/>&gt;well as the output cent adjustment tables.</p><p>I&apos;m a professional C++ programmer.  Alas, I hardly have time to code up<br/>my own methods, so am not able to assist others beyond strategic advice<br/>(which I am always happy to give).  I urge you to bite the bullet and<br/>learn to program.  Any available language will do: Basic, C/C++, Java,<br/>etc. all have plenty of power.</p><p>&gt;The only reward would be having it bundled for free with some<br/>&gt;computer music magazine plus free copies for everyone on this list<br/>&gt;but who cares.  Making the world sound better gets daily more<br/>&gt;important for all.</p><p>I agree!  Did you see the article in the paper last week (in the Denver<br/>Post, at least) about how music stimulates the same rewarding parts of<br/>the brain as food and sex?  IMHO, well tuned music stimulates so much<br/>better than 12-tET!  And, as we know, music is not fattening and doesn&apos;t<br/>lead to pregnancy, disease transmission, emotional entanglements, and<br/>so on.</p><p>I offer free tuning for non-commercial use of anyone&apos;s midi files.  For<br/>the most part, I&apos;ve not distributed the program itself; it&apos;s run from<br/>a command prompt and is not particularly user-friendly.</p><p>Please do everything you can to bring your ideas to life.  The world of<br/>adaptive tuning is wide open for exploration, and what a fertile land it<br/>is!  It will take the contributions of many individuals to realize its<br/>highest potential.</p><p>JdL</p></div><h3><a id=28779 href="#28779">ðŸ”—</a>monxmood@free.fr</h3><span>9/30/2001 1:11:52 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>JdL wrote<br/>&gt;I urge you to bite the bullet and<br/>&gt; learn to program.  Any available language will do: Basic, C/C++,<br/>Java,<br/>&gt; etc. all have plenty of power.</p><p>Hi John</p><p>I have bitten the bullet with actionScript and found it quite tasty.<br/>What fun it is when your first function works!(my guitar chord<br/>dictionary) But I couldn&apos;t get into C++ because I couldn&apos;t make it do<br/>anything visual. I read a whole book on it and felt impressed but...<br/>At any rate the hard part comes when you interface with live MIDI (I<br/>think). And there is probably a more idiomatic less gatesy way of<br/>using OOLs for JI (once you know them well) than my method which is<br/>based on weighting tables.</p><p>&gt;Did you see the article in the paper last week (in the Denver<br/>&gt; Post, at least) about how music stimulates the same rewarding parts<br/>of<br/>&gt; the brain as food and sex?</p><p>We don&apos;t get the Denver Post in Toulouse, but it stimulates OK.</p><p>&gt; IMHO, well tuned music stimulates so much<br/>&gt; better than 12-tET!  And, as we know, music is not fattening and<br/>doesn&apos;t<br/>&gt; lead to pregnancy, disease transmission, emotional entanglements,<br/>and<br/>&gt; so on.</p><p>We get a few cases of emotional entanglements being abetted by music.<br/>Did&apos;nt Shakespeare say something about that?</p><p>&gt;It will take the contributions of many individuals to realize its<br/>&gt; highest potential.</p><p>Hear hear. This must be one of the liveliest groups on the web! Hope<br/>we don&apos;t get kicked by Yahoo for giving them bandwidth problems</p><p>Paul H</p></div>