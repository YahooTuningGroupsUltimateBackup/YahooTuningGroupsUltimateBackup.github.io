<a href="/tuning">back to list</a><h1>Re: [MMM] Improvisation on pitches from a recording of a song</h1><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/14/2005 2:42:39 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl,</p><p>&gt; This sort of thing could be useful not only for bird song, but for<br/>&gt; extracting scales from traditional music!</p><p>Yes. It can do it already if the music is on a wind<br/>instrument of suitable timbre such as a flute,<br/>or something which is very amenable to the technique.</p><p>&gt; May I ask, how do you cope with note transitions? How do you decide<br/>&gt; what discrete pitches to choose? Surely the thrush does not sing in<br/>&gt; discrete pitches.</p><p>Yes you are right, that&apos;s maybe not so very reaalistic of it<br/>to make it into a scale, though it is interesting as a kind<br/>of found scale coming out of the interaction between the<br/>program and the bird song.</p><p>It takes the average pitch during a glissandi and when it<br/>slides far enough makes a new pitch. You can play it with<br/>pitch glides between them all I suppose strictly speaking<br/>it should try and transcribe it using continuously varying<br/>pitches.</p><p>I just tried slowing down the thrushes song and it does have<br/>many large pitch glissandi. Some other birds are a bit more discrete<br/>in the pitches they sing.</p><p>&gt; My suggestion for extracting scales from melodic performances is as<br/>&gt; follows. Normal audio signals plot energy over time. After continuous<br/>&gt; pitch extraction, we have pitch over time. If we apply a time-domain<br/>&gt; transform to *that*, we have &apos;pitch frequencies&apos; -- the amount of time<br/>&gt; the performer spent playing each pitch in the entire performance (the<br/>&gt; duration of musical tones is typically great compared to the period of<br/>&gt; musical pitches, so I think we&apos;re OK here). We can now slice the pitch<br/>&gt; continuum into octaves, and in each octave hopefully see a manageable<br/>&gt; number of Gaussian lumps (if not, we might say there is no discrete<br/>&gt; scale abstraction used in the performance). When we superimpose these<br/>&gt; octave slices, a majority of lumps hopefully coincide. Finally, the<br/>&gt; local maxima of this summed function are written to a Scala file.</p><p>Does this make sense? Perhaps we should take this to the tuning<br/>list...</p><p>Yes could do that. FTS extracts the notes as a sequence<br/>of volume, time and frequency triples. So one could analyse<br/>those however one wants to try and extract the scale.</p><p>At present it just analyses them by using a tolerance<br/>factor. It orders all the pitches in ascending order,<br/>using an interval of equivalence set by the user,<br/>or it can just use the highest pitch found as the interval<br/>of equivalence if that is appropriate.</p><p>Then it walks up the scale and bundles the pitches<br/>using the tolerance limit as it finds them.<br/>So you set the tolerance limit high enough to allow<br/>for variability in pitch but low enough to distinguish<br/>pitches that should be distinguished so will depend on<br/>the context. Or one could just use all the pitches<br/>found in ascending order by making the tolerance<br/>level 0.</p><p>I don&apos;t do anything about weighting by the duration of the pitches, but one<br/>could do that too, especially since longer duration pitches<br/>are perhaps likely to be pitched more exactly, or heard<br/>with more exactness of pitch too, I mean a grace note<br/>of just a hundredth of a second for instance may not<br/>be so exactly pitched as a one second note for instance.<br/>So maybe one could take that into account. I could<br/>add an option to FTS to print out all the pitches found<br/>as pitch / volume / duration triples for anyone to analyse<br/>as they please using their own software too.<br/>Well it is visible in the interface but<br/>as three rows of numbers - you could just<br/>use those too copy / paste and use them<br/>as input to ones program.</p><p>I&apos;ve cc&apos;d this reply to the main tuning list.</p><p>I&apos;ll take a look at the next few digests<br/>in case there are any replies on this<br/>particular thread. It&apos;s relevant to what I&apos;m working<br/>on in the programming right now so for me it&apos;s<br/>&quot;work&quot; :-). But with the high volume of posts<br/>there I&apos;ll probably miss some replies if it<br/>gets followed up much - that doesn&apos;t mean I&apos;m<br/>uninterested, just working hard that&apos;s<br/>all right now on the FTS 3.0 release.</p><p>Thanks,</p><p>Robert</p><p>----- Original Message ----- From: &lt;<a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>&gt;<br/>To: &lt;<a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>&gt;<br/>Sent: Wednesday, April 13, 2005 10:20 PM<br/>Subject: [MMM] Digest Number 1187</p><p>&gt;<br/>&gt;<br/>&gt; There are 3 messages in this issue.<br/>&gt;<br/>&gt; Topics in this digest:<br/>&gt;<br/>&gt;      1. Re: Rhapsody for Dan Stearns (mp3)<br/>&gt;           From: Margo Schulter &lt;<a href="mailto:mschulter@calweb.com">mschulter@calweb.com</a>&gt;<br/>&gt;      2. Improvisation on pitches from a recording of a song thrush<br/>&gt;           From: &quot;Robert Walker&quot; &lt;<a href="mailto:robertwalker@ntlworld.com">robertwalker@ntlworld.com</a>&gt;<br/>&gt;      3. Re: Improvisation on pitches from a recording of a song thrush<br/>&gt;           From: Carl Lumma &lt;<a href="mailto:ekin@lumma.org">ekin@lumma.org</a>&gt;<br/>&gt;<br/>&gt;<br/>&gt; ________________________________________________________________________<br/>&gt; ________________________________________________________________________<br/>&gt;<br/>&gt; Message: 1<br/>&gt;   Date: Wed, 13 Apr 2005 00:37:55 -0700 (PDT)<br/>&gt;   From: Margo Schulter &lt;<a href="mailto:mschulter@calweb.com">mschulter@calweb.com</a>&gt;<br/>&gt; Subject: Re: Rhapsody for Dan Stearns (mp3)<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; On Tue, 12 Apr 2005 Aaron Krister Johnson wrote:<br/>&gt;<br/>&gt;&gt; I&apos;m behind on my posting, but I did listen--I enjoyed this....is this in &gt;&gt; your<br/>&gt;&gt; 2/7 comma &apos;temperament extraordinaire&apos;?<br/>&gt;&gt;<br/>&gt;&gt; All best,<br/>&gt;&gt; Aaron.<br/>&gt;&gt;<br/>&gt;&gt; &gt; &lt;<a href="http://www.bestii.com/~mschulter/RhapsodyForDanStearns1.mp3">http://www.bestii.com/~mschulter/RhapsodyForDanStearns1.mp3</a>&gt;<br/>&gt;<br/>&gt; Hello there, Aaron and all.<br/>&gt;<br/>&gt; Actually I&apos;m just catching up myself, since I&apos;ve just downloaded some<br/>&gt; of your pieces on your newly formatted page<br/>&gt;<br/>&gt; &lt;<a href="http://www.akjmusic.com/works.html">http://www.akjmusic.com/works.html</a>&gt;<br/>&gt;<br/>&gt; For now I&apos;ll just say that your a cappella renditon of _Most Blessed<br/>&gt; of Mornings_ in a Neidhardt temperament is beautiful; the _I Dream of<br/>&gt; Tibet_ piece in 7-tET is most wonderful; and _Melancholic_ is for me a<br/>&gt; fascinating mixture or medley of styles, and from a theoretical<br/>&gt; viewpoint one might ask how much of this is specific is to the 53-EDO<br/>&gt; tuning, and how much to some other creative elements -- but a<br/>&gt; consummate piece of music.<br/>&gt;<br/>&gt; There&apos;s also some Prent Rodgers and Dan Stearns I&apos;m been catching up<br/>&gt; on, another reason for me to post again soon.<br/>&gt;<br/>&gt; It&apos;s curious that you mention this tuning (the temperament extraordinaire<br/>&gt; based on Zarlino&apos;s 2/7-comma meantone), since it&apos;s what I&apos;ve mostly<br/>&gt; been playing in lately, and indeed I&apos;m trying to get some pieces ready<br/>&gt; for recording.<br/>&gt;<br/>&gt; This piece, however, is in something I did in part as a change of pace<br/>&gt; -- 11-tET (or 11-EDO, as people prefer), based on a main scale of a<br/>&gt; kind which I came upon in the Spring of 2002 and which it turned out Dan<br/>&gt; Stearns had earlier found. This basic type of pattern is:<br/>&gt;<br/>&gt;      0   2   4   6   8   9   11<br/>&gt;      0  218 436 655 873 982 1200<br/>&gt;<br/>&gt; Part of the fun was finding synthesizer timbres so that the 6-step<br/>&gt; interval (about 654.55 cents) would serve musically as a &quot;fifth.&quot; The<br/>&gt; fact that it&apos;s considerably narrow of 3:2 makes possible a special<br/>&gt; effect: when the excellent 11-tET major third (just wide of a pure<br/>&gt; 9:7) expands to a fifth, both voices move by a semitone of 1 step<br/>&gt; (about 109.09 cents), a progression I use to open the piece. This<br/>&gt; progression calls for some steps outside the above basic hexatonic<br/>&gt; scale, here:<br/>&gt;<br/>&gt;     5   6<br/>&gt;     1   0<br/>&gt;<br/>&gt; However, the final cadence formula is available within the basic<br/>&gt; scale:<br/>&gt;<br/>&gt;      9  11<br/>&gt;      8  6<br/>&gt;      2  0<br/>&gt;<br/>&gt; This might be approximately described as a xentonal variation on a<br/>&gt; 13th-century European formula where an outer minor sixth (here very<br/>&gt; close to a just 14:9) expands to an octave and an upper minor second<br/>&gt; to a fourth. Both the original and this 11-EDO variation are very<br/>&gt; moving and and powerful and beautiful, each in its own way.<br/>&gt;<br/>&gt; Anyway, sooner or later I wanted to document this tuning/timbre, but<br/>&gt; the desire for a &quot;change of pace&quot; gave me an immediate incentive.<br/>&gt;<br/>&gt; Again, thank you both for your response to this piece, and for your<br/>&gt; beautiful music.<br/>&gt;<br/>&gt; Peace and love,<br/>&gt;<br/>&gt; Margo<br/>&gt;<br/>&gt;<br/>&gt; ________________________________________________________________________<br/>&gt; ________________________________________________________________________<br/>&gt;<br/>&gt; Message: 2<br/>&gt;   Date: Wed, 13 Apr 2005 20:08:21 +0100<br/>&gt;   From: &quot;Robert Walker&quot; &lt;<a href="mailto:robertwalker@ntlworld.com">robertwalker@ntlworld.com</a>&gt;<br/>&gt; Subject: Improvisation on pitches from a recording of a song thrush<br/>&gt;<br/>&gt; Hi there,<br/>&gt;<br/>&gt; <a href="http://www.robertinventor.com/improvisation_on_thrush_song_pitches.mp3">http://www.robertinventor.com/improvisation_on_thrush_song_pitches.mp3</a><br/>&gt;<br/>&gt; [4 Mb]<br/>&gt;<br/>&gt; Robert<br/>&gt;<br/>&gt;<br/>&gt; ________________________________________________________________________<br/>&gt; ________________________________________________________________________<br/>&gt;<br/>&gt; Message: 3<br/>&gt;   Date: Wed, 13 Apr 2005 13:34:20 -0700<br/>&gt;   From: Carl Lumma &lt;<a href="mailto:ekin@lumma.org">ekin@lumma.org</a>&gt;<br/>&gt; Subject: Re: Improvisation on pitches from a recording of a song thrush<br/>&gt;<br/>&gt;&gt;Hi there,<br/>&gt;&gt;<br/>&gt;&gt;<a href="http://www.robertinventor.com/improvisation_on_thrush_song_pitches.mp3">http://www.robertinventor.com/improvisation_on_thrush_song_pitches.mp3</a><br/>&gt;&gt;<br/>&gt;&gt;[4 Mb]<br/>&gt;&gt;<br/>&gt;&gt;Robert<br/>&gt;<br/>&gt; Fascinating!  How&apos;d you do it?  -Carl<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; ________________________________________________________________________<br/>&gt; ________________________________________________________________________<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; ------------------------------------------------------------------------<br/>&gt; Yahoo! Groups Links<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt; ------------------------------------------------------------------------<br/>&gt;<br/>&gt;<br/>&gt;<br/>&gt;</p></div><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/14/2005 2:53:14 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl,</p><p>BTW one idea I had for analysing bird song<br/>is to try and fit a best fit sine wave to it.</p><p>I just did a search, and there are methods for finding best fit<br/>sine waves though it is a bit tricky. When you have several<br/>sine waves superimposed to find it must be even harder.<br/>But maybe still better than using FFT for the case where there<br/>are relatively few partials, or the partials are harmonics<br/>so that they all are multiples of the same period.<br/>I don&apos;t know though how well it would cope with the irregular<br/>low frequency additional signals you get with bird song such as the one here:<br/><a href="http://www.robertinventor.com/robin.png">http://www.robertinventor.com/robin.png</a></p><p>Anyway that is more for the future, won&apos;t do it right now<br/>unless it turns out to be very easy to do.</p><p>Sending this just to the tuning list as anyone at MMM would<br/>know to follow the thread here, and this is decidedly<br/>mathematical waters, or would be to follow it through<br/>properly. Maybe tuning-math if anyone happens to know<br/>anything about it and wants to reply in a mathematical way.</p><p>Robert</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/14/2005 3:03:25 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>[This thread is from MMM.]</p><p>&gt;&gt; My suggestion for extracting scales from melodic performances is as<br/>&gt;&gt; follows. Normal audio signals plot energy over time. After continuous<br/>&gt;&gt; pitch extraction, we have pitch over time. If we apply a time-domain<br/>&gt;&gt; transform to *that*, we have &apos;pitch frequencies&apos; -- the amount of time<br/>&gt;&gt; the performer spent playing each pitch in the entire performance (the<br/>&gt;&gt; duration of musical tones is typically great compared to the period of<br/>&gt;&gt; musical pitches, so I think we&apos;re OK here). We can now slice the pitch<br/>&gt;&gt; continuum into octaves, and in each octave hopefully see a manageable<br/>&gt;&gt; number of Gaussian lumps (if not, we might say there is no discrete<br/>&gt;&gt; scale abstraction used in the performance). When we superimpose these<br/>&gt;&gt; octave slices, a majority of lumps hopefully coincide. Finally, the<br/>&gt;&gt; local maxima of this summed function are written to a Scala file.<br/>&gt;<br/>&gt;Yes could do that. FTS extracts the notes as a sequence<br/>&gt;of volume, time and frequency triples. So one could analyse<br/>&gt;those however one wants to try and extract the scale.</p><p>Hi Robert,</p><p>It never gives two simultaneous pitches, does it?  If it doesn&apos;t,<br/>the volume part of the triple is not needed in technique.</p><p>&gt;I don&apos;t do anything about weighting by the duration of the pitches,<br/>&gt;but one could do that too, especially since longer duration pitches<br/>&gt;are perhaps likely to be pitched more exactly, or heard with more<br/>&gt;exactness of pitch too, I mean a grace note of just a hundredth of<br/>&gt;a second for instance may not be so exactly pitched as a one second<br/>&gt;note for instance.</p><p>Indeed.  And in fact, portamenti, glissandi, and even legato note<br/>transitions should not contribute to the scale analysis in my view.</p><p>Plus, duration-based analysis could even tell us something about<br/>melodies played on keyboard instruments.  There, it isn&apos;t needed to<br/>distinguish note transitions from scale tones, but it could tell us<br/>something about central vs. passing/auxillary tones -- even<br/>&quot;diatonic&quot; melodies rarely use all 7 notes equally.</p><p>&gt;So maybe one could take that into account. I could add an option to<br/>&gt;FTS to print out all the pitches found as pitch / volume / duration<br/>&gt;triples for anyone to analyse as they please using their own software<br/>&gt;too.</p><p>That would be great!</p><p>&gt;Well it is visible in the interface but as three rows of<br/>&gt;numbers - you could just use those too copy / paste and use them<br/>&gt;as input to ones program.</p><p>It does this now?  What&apos;s the download url?</p><p>-Carl</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>4/14/2005 3:15:08 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Robert Walker wrote:</p><p>&gt; BTW one idea I had for analysing bird song<br/>&gt; is to try and fit a best fit sine wave to it.</p><p>Have you looked at Csound?  Chapter 21 of &quot;The Csound Book&quot; describes how to make a pitch to MIDI convertor.  I haven&apos;t tried it out, but it looks like a lot of thought has gone into the pitch tracking utilities.   I think the source code is LGPL, so you can use it, but with restrictions.</p><p>It&apos;s a few weeks since I read it, but I think they do best fits for the full harmonic series.</p><p>                    Graham</p></div><h3>Ozan Yarman &#x3C;ozanyarman@superonline.com&#x3E;</h3><span>4/14/2005 5:15:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Solo Explorer 1.0 from <a href="http://www.recognisoft.com">www.recognisoft.com</a> has a modest pitch to midi<br/>conversion feature for monophonic wave files.</p><p>Cordially,<br/>Ozan</p><p>----- Original Message -----<br/>From: &quot;Graham Breed&quot; &lt;<a href="mailto:gbreed@gmail.com">gbreed@gmail.com</a>&gt;<br/>To: &lt;<a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>&gt;<br/>Sent: 14 Nisan 2005 Per&iuml;&iquest;&half;embe 13:15<br/>Subject: Re: [tuning] Re: [MMM] Improvisation on pitches from a recording of<br/>a song</p><p>&gt;<br/>&gt; Robert Walker wrote:<br/>&gt;<br/>&gt; &gt; BTW one idea I had for analysing bird song<br/>&gt; &gt; is to try and fit a best fit sine wave to it.<br/>&gt;<br/>&gt; Have you looked at Csound?  Chapter 21 of &quot;The Csound Book&quot; describes<br/>&gt; how to make a pitch to MIDI convertor.  I haven&apos;t tried it out, but it<br/>&gt; looks like a lot of thought has gone into the pitch tracking utilities.<br/>&gt;   I think the source code is LGPL, so you can use it, but with<br/>restrictions.<br/>&gt;<br/>&gt; It&apos;s a few weeks since I read it, but I think they do best fits for the<br/>&gt; full harmonic series.<br/>&gt;<br/>&gt;<br/>&gt;                      Graham</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/14/2005 12:19:16 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt; Solo Explorer 1.0 from <a href="http://www.recognisoft.com">www.recognisoft.com</a> has a modest pitch<br/>&gt; to midi conversion feature for monophonic wave files.<br/>&gt;<br/>&gt; Cordially,<br/>&gt; Ozan</p><p>Hi Ozan,</p><p>Funny enough, I was looking through my correspondence with<br/>Can Akkoc last night when I found that link.  When you then<br/>mentioned it, I downloaded their demo.  Unfortunately, the<br/>demo expired April 1st!  I&apos;ve sent a support request.</p><p>...well, this is a pain.  I&apos;ve tried gmail, yahoo mail, and<br/><a href="http://lumma.org">lumma.org</a> mail, and their server keeps returning my mail as<br/>undeliverable because of a &quot;Non-encoded 8-bit data (char 82 hex)<br/>in message header &apos;X-Source&apos;&quot;.  Hmm.</p><p>-Carl</p></div><h3>Ozan Yarman &#x3C;ozanyarman@superonline.com&#x3E;</h3><span>4/14/2005 2:01:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl, you should just as well pay for it. I have done so and can tell you that it&apos;s pretty accurate and easy to use. Gaulius Raskinis has done a fine job there.</p><p>Cordially,<br/>Ozan<br/>  ----- Original Message -----<br/>  From: Carl Lumma<br/>  To: <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a><br/>  Sent: 14 Nisan 2005 Per&scedil;embe 22:19<br/>  Subject: [tuning] Re: [MMM] Improvisation on pitches from a recording of a song</p><p>  &gt; Solo Explorer 1.0 from <a href="http://www.recognisoft.com">www.recognisoft.com</a> has a modest pitch<br/>  &gt; to midi conversion feature for monophonic wave files.<br/>  &gt;<br/>  &gt; Cordially,<br/>  &gt; Ozan</p><p>  Hi Ozan,</p><p>  Funny enough, I was looking through my correspondence with<br/>  Can Akkoc last night when I found that link.  When you then<br/>  mentioned it, I downloaded their demo.  Unfortunately, the<br/>  demo expired April 1st!  I&apos;ve sent a support request.</p><p>  ...well, this is a pain.  I&apos;ve tried gmail, yahoo mail, and<br/>  <a href="http://lumma.org">lumma.org</a> mail, and their server keeps returning my mail as<br/>  undeliverable because of a &quot;Non-encoded 8-bit data (char 82 hex)<br/>  in message header &apos;X-Source&apos;&quot;.  Hmm.</p><p>  -Carl</p></div><h3>jon wild &#x3C;wild@fas.harvard.edu&#x3E;</h3><span>4/14/2005 3:12:27 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Dear Robert and others,</p><p>you might enjoy composer David Jaffe&apos;s work on transcribing birdsong for<br/>electronics. His piece &quot;Imaginary Animals&quot; is fantastic - it uses a<br/>transformed transcription of the song of a Winter Wren. You can read about<br/>it here (scroll down past the section on birdsong in instrumental music):</p><p><a href="http://www.jaffe.com/IA.html">http://www.jaffe.com/IA.html</a></p><p>Try to find a recording of Imaginary Animals - it&apos;s a terrific piece.</p><p>--Jon</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/14/2005 3:21:14 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt; Solo Explorer 1.0 from <a href="http://www.recognisoft.com">www.recognisoft.com</a> has a modest<br/>&gt;&gt;&gt; pitch to midi conversion feature for monophonic wave files.<br/>&gt;&gt;<br/>&gt;&gt;  Hi Ozan,<br/>&gt;&gt;<br/>&gt;&gt;  Funny enough, I was looking through my correspondence with<br/>&gt;&gt;  Can Akkoc last night when I found that link.  When you then<br/>&gt;&gt;  mentioned it, I downloaded their demo.  Unfortunately, the<br/>&gt;&gt;  demo expired April 1st!  I&apos;ve sent a support request.<br/>&gt;&gt;<br/>&gt;&gt;  ...well, this is a pain.  I&apos;ve tried gmail, yahoo mail, and<br/>&gt;&gt;  <a href="http://lumma.org">lumma.org</a> mail, and their server keeps returning my mail as<br/>&gt;&gt;  undeliverable because of a &quot;Non-encoded 8-bit data (char 82<br/>&gt;&gt;  hex) in message header &apos;X-Source&apos;&quot;.  Hmm.<br/>&gt;<br/>&gt; Carl, you should just as well pay for it. I have done so and<br/>&gt; can tell you that it&apos;s pretty accurate and easy to use.<br/>&gt; Gaulius Raskinis has done a fine job there.</p><p>I expect I would like to buy it, but an expired demo and<br/>unreachable e-mail address do not encourage me to do so.</p><p>-Carl</p></div><h3>Ozan Yarman &#x3C;ozanyarman@superonline.com&#x3E;</h3><span>4/14/2005 4:12:09 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>You may have a point there. Best to get in touch with the Raskinis fellow. Or better yet, I can send you a copy of the demo-ware by e-mail if you like.</p><p>Cordially,<br/>Ozan<br/>  ----- Original Message -----<br/>  From: Carl Lumma<br/>  To: <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a><br/>  Sent: 15 Nisan 2005 Cuma 1:21<br/>  Subject: [tuning] Re: [MMM] Improvisation on pitches from a recording of a song</p><p>  &gt;&gt;&gt; Solo Explorer 1.0 from <a href="http://www.recognisoft.com">www.recognisoft.com</a> has a modest<br/>  &gt;&gt;&gt; pitch to midi conversion feature for monophonic wave files.<br/>  &gt;&gt;<br/>  &gt;&gt;  Hi Ozan,<br/>  &gt;&gt;<br/>  &gt;&gt;  Funny enough, I was looking through my correspondence with<br/>  &gt;&gt;  Can Akkoc last night when I found that link.  When you then<br/>  &gt;&gt;  mentioned it, I downloaded their demo.  Unfortunately, the<br/>  &gt;&gt;  demo expired April 1st!  I&apos;ve sent a support request.<br/>  &gt;&gt;<br/>  &gt;&gt;  ...well, this is a pain.  I&apos;ve tried gmail, yahoo mail, and<br/>  &gt;&gt;  <a href="http://lumma.org">lumma.org</a> mail, and their server keeps returning my mail as<br/>  &gt;&gt;  undeliverable because of a &quot;Non-encoded 8-bit data (char 82<br/>  &gt;&gt;  hex) in message header &apos;X-Source&apos;&quot;.  Hmm.<br/>  &gt;<br/>  &gt; Carl, you should just as well pay for it. I have done so and<br/>  &gt; can tell you that it&apos;s pretty accurate and easy to use.<br/>  &gt; Gaulius Raskinis has done a fine job there.</p><p>  I expect I would like to buy it, but an expired demo and<br/>  unreachable e-mail address do not encourage me to do so.</p><p>  -Carl</p><p>  You can configure your subscription by sending an empty email to one<br/>  of these addresses (from the address at which you receive the list):<br/>    <a href="mailto:tuning-subscribe@yahoogroups.com">tuning-subscribe@yahoogroups.com</a> - join the tuning group.<br/>    <a href="mailto:tuning-unsubscribe@yahoogroups.com">tuning-unsubscribe@yahoogroups.com</a> - leave the group.<br/>    <a href="mailto:tuning-nomail@yahoogroups.com">tuning-nomail@yahoogroups.com</a> - turn off mail from the group.<br/>    <a href="mailto:tuning-digest@yahoogroups.com">tuning-digest@yahoogroups.com</a> - set group to send daily digests.<br/>    <a href="mailto:tuning-normal@yahoogroups.com">tuning-normal@yahoogroups.com</a> - set group to send individual emails.<br/>    <a href="mailto:tuning-help@yahoogroups.com">tuning-help@yahoogroups.com</a> - receive general help information.</p><p>------------------------------------------------------------------------------<br/>  Yahoo! Groups Links</p><p>    a.. To visit your group on the web, go to:<br/>    <a href="http://groups.yahoo.com/group/tuning/">http://groups.yahoo.com/group/tuning/</a></p><p>    b.. To unsubscribe from this group, send an email to:<br/>    <a href="mailto:tuning-unsubscribe@yahoogroups.com">tuning-unsubscribe@yahoogroups.com</a></p><p>    c.. Your use of Yahoo! Groups is subject to the Yahoo! Terms of Service.</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/14/2005 5:01:13 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;&gt;&gt;&gt; Solo Explorer 1.0 from <a href="http://www.recognisoft.com">www.recognisoft.com</a> has a modest<br/>&gt;&gt;&gt;&gt;&gt; pitch to midi conversion feature for monophonic wave files.<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;  Hi Ozan,<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;  Funny enough, I was looking through my correspondence with<br/>&gt;&gt;&gt;&gt;  Can Akkoc last night when I found that link.  When you then<br/>&gt;&gt;&gt;&gt;  mentioned it, I downloaded their demo.  Unfortunately, the<br/>&gt;&gt;&gt;&gt;  demo expired April 1st!  I&apos;ve sent a support request.<br/>&gt;&gt;&gt;&gt;<br/>&gt;&gt;&gt;&gt;  ...well, this is a pain.  I&apos;ve tried gmail, yahoo mail, and<br/>&gt;&gt;&gt;&gt;  <a href="http://lumma.org">lumma.org</a> mail, and their server keeps returning my mail as<br/>&gt;&gt;&gt;&gt;  undeliverable because of a &quot;Non-encoded 8-bit data (char 82<br/>&gt;&gt;&gt;&gt;  hex) in message header &apos;X-Source&apos;&quot;.  Hmm.<br/>&gt;&gt;&gt;<br/>&gt;&gt;&gt; Carl, you should just as well pay for it. I have done so and<br/>&gt;&gt;&gt; can tell you that it&apos;s pretty accurate and easy to use.<br/>&gt;&gt;&gt; Gaulius Raskinis has done a fine job there.<br/>&gt;&gt;<br/>&gt;&gt;I expect I would like to buy it, but an expired demo and<br/>&gt;&gt;unreachable e-mail address do not encourage me to do so.<br/>&gt;<br/>&gt;You may have a point there. Best to get in touch with the Raskinis<br/>&gt;fellow. Or better yet, I can send you a copy of the demo-ware by<br/>&gt;e-mail if you like.</p><p>I&apos;ll bet you if you tried to install that demo it wouldn&apos;t work --<br/>it looks like it has a kill switch dated April 1st.  Also, I<br/>apparently can&apos;t get in touch with Raskinis.  Maybe you could<br/>forward the following to him?</p><p>&quot;&quot;&quot;</p><p>Hello,</p><p>I downloaded...</p><p><a href="http://www.recognisoft.com/bin/solexp10.exe">http://www.recognisoft.com/bin/solexp10.exe</a></p><p>...but when I try to run it I the following error...</p><p>&quot;The certificate has expired 4/1/2005 and the application<br/>cannot start.  Please check the Web for recent software updates.&quot;</p><p>Further, when trying to send this message to <a href="mailto:support@recognisoft.com">support@recognisoft.com</a>,<br/>my mail is bounced for the following reason...</p><p>&quot;Non-encoded 8-bit data (char 82 hex) in message header &apos;X-Source&apos;&quot;</p><p>Thanks,</p><p>-Carl</p><p>&quot;&quot;&quot;</p></div><h3>Yahya Abdal-Aziz &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>4/14/2005 7:19:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl Lumma replied to Robert Walker:<br/>_______________________________________________________________________<br/>...</p><p>Plus, duration-based analysis could even tell us something about<br/>melodies played on keyboard instruments.  There, it isn&apos;t needed to<br/>distinguish note transitions from scale tones, but it could tell us<br/>something about central vs. passing/auxillary tones -- even<br/>&quot;diatonic&quot; melodies rarely use all 7 notes equally.<br/>...<br/>________________________________________________________________________</p><p>It may be worth mentioning that some of the early<br/>algorithmic composition software (in the 60s) had<br/>parameters for controlling the duration spectrum,<br/>based on analyses of several historically important<br/>musical styles.  So for example, you could produce a<br/>stately processional piece, in several voices, in the<br/>style of a (somewhat rule-bound) GF Handel, simply<br/>by making certain scale degrees function mostly as<br/>passing tones.  Or in a more sophisticated version,<br/>you could specify a matrix of transition probabilities<br/>for (pitch, duration) pairs.</p><p>Regards,<br/>Yahya</p><p>--<br/>No virus found in this outgoing message.<br/>Checked by AVG Anti-Virus.<br/>Version: 7.0.308 / Virus Database: 266.9.9 - Release Date: 13/4/05</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/14/2005 9:34:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Carl Lumma replied to Robert Walker:<br/>&gt;_______________________________________________________________________<br/>&gt;...<br/>&gt;<br/>&gt;Plus, duration-based analysis could even tell us something about<br/>&gt;melodies played on keyboard instruments.  There, it isn&apos;t needed to<br/>&gt;distinguish note transitions from scale tones, but it could tell us<br/>&gt;something about central vs. passing/auxillary tones -- even<br/>&gt;&quot;diatonic&quot; melodies rarely use all 7 notes equally.<br/>&gt;...<br/>&gt;________________________________________________________________________<br/>&gt;<br/>&gt;It may be worth mentioning that some of the early<br/>&gt;algorithmic composition software (in the 60s) had<br/>&gt;parameters for controlling the duration spectrum,<br/>&gt;based on analyses of several historically important<br/>&gt;musical styles.  So for example, you could produce a<br/>&gt;stately processional piece, in several voices, in the<br/>&gt;style of a (somewhat rule-bound) GF Handel, simply<br/>&gt;by making certain scale degrees function mostly as<br/>&gt;passing tones.  Or in a more sophisticated version,<br/>&gt;you could specify a matrix of transition probabilities<br/>&gt;for (pitch, duration) pairs.<br/>&gt;<br/>&gt;Regards,<br/>&gt;Yahya</p><p>Cool.  Recall any references?</p><p>-Carl</p></div><h3>Yahya Abdal-Aziz &#x3C;yahya@melbpc.org.au&#x3E;</h3><span>4/15/2005 8:17:31 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Carl,</p><p>Sorry, it WAS back then that I read about this stuff in<br/>the Science library at Monash.  :-)  I was burning to try<br/>something along those lines myself, but computer time on<br/>the IBM 360 &amp; 370 was VERY strictly rationed at the<br/>time - especially for undergrads.</p><p>The code was (I think) FORTRAN IV, and the tone source<br/>was - NIL!  All that was output was a string of numbers<br/>that you would then have to convert to notation by hand.</p><p>The analysis was pretty primitive; when I wrote &quot;more<br/>sophisticated&quot;, my tongue was very definitely in my cheek ...</p><p>It would make more sense today to try the same ideas<br/>afresh with modern software on your own PC.  If it doesn&apos;t<br/>yet exist, maybe interested list members could get together<br/>to write some?</p><p>Regards,<br/>Yahya</p><p>Carl wrote:<br/>________________________________________________________________________<br/>   Date: Thu, 14 Apr 2005 21:34:17 -0700<br/>   From: Carl Lumma &lt;ekin@...&gt;</p><p>&gt;Carl Lumma replied to Robert Walker:<br/>&gt;_______________________________________________________________________<br/>&gt;...<br/>&gt;<br/>&gt;Plus, duration-based analysis could even tell us something about<br/>&gt;melodies played on keyboard instruments.  There, it isn&apos;t needed to<br/>&gt;distinguish note transitions from scale tones, but it could tell us<br/>&gt;something about central vs. passing/auxillary tones -- even<br/>&gt;&quot;diatonic&quot; melodies rarely use all 7 notes equally.<br/>&gt;...<br/>&gt;________________________________________________________________________<br/>&gt;<br/>&gt;It may be worth mentioning that some of the early<br/>&gt;algorithmic composition software (in the 60s) had<br/>&gt;parameters for controlling the duration spectrum,<br/>&gt;based on analyses of several historically important<br/>&gt;musical styles.  So for example, you could produce a<br/>&gt;stately processional piece, in several voices, in the<br/>&gt;style of a (somewhat rule-bound) GF Handel, simply<br/>&gt;by making certain scale degrees function mostly as<br/>&gt;passing tones.  Or in a more sophisticated version,<br/>&gt;you could specify a matrix of transition probabilities<br/>&gt;for (pitch, duration) pairs.<br/>&gt;<br/>&gt;Regards,<br/>&gt;Yahya</p><p>Cool.  Recall any references?</p><p>-Carl<br/>________________________________________________________________________</p><p>--<br/>No virus found in this outgoing message.<br/>Checked by AVG Anti-Virus.<br/>Version: 7.0.308 / Virus Database: 266.9.13 - Release Date: 16/4/05</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/15/2005 8:56:39 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Carl,<br/>&gt;<br/>&gt;Sorry, it WAS back then that I read about this stuff in<br/>&gt;the Science library at Monash.  :-)  I was burning to try<br/>&gt;something along those lines myself, but computer time on<br/>&gt;the IBM 360 &amp; 370 was VERY strictly rationed at the<br/>&gt;time - especially for undergrads.<br/>&gt;<br/>&gt;The code was (I think) FORTRAN IV, and the tone source<br/>&gt;was - NIL!  All that was output was a string of numbers<br/>&gt;that you would then have to convert to notation by hand.<br/>&gt;<br/>&gt;The analysis was pretty primitive; when I wrote &quot;more<br/>&gt;sophisticated&quot;, my tongue was very definitely in my cheek ...<br/>&gt;<br/>&gt;It would make more sense today to try the same ideas<br/>&gt;afresh with modern software on your own PC.  If it doesn&apos;t<br/>&gt;yet exist, maybe interested list members could get together<br/>&gt;to write some?</p><p>I wonder if Symbolic Composer does it?</p><p><a href="http://www.symboliccomposer.com/">http://www.symboliccomposer.com/</a></p><p>-Carl</p></div><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/16/2005 3:11:53 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl,</p><p>&gt; It never gives two simultaneous pitches, does it?  If it doesn&apos;t,<br/>&gt; the volume part of the triple is not needed in technique.</p><p>No, you are right, it&apos;s strictly monophonic. I do have an frequency<br/>spectrum type pitch tracking<br/>option as well which could find multiple pitches. That one isn&apos;t that good<br/>at finding the  starts and ends of notes. However what you can do with FTS<br/>is to edit the  results after it finds the notes - can other wave to midi<br/>programs do this?</p><p>FTS shows blue vertical lines on the recording for all the note  boundaries<br/>it found - and you can click anywhere to add or remove them,<br/>then get it to refind all the frequencies for the notes again,<br/>using just the note boundaries you have marked out yourself.</p><p>If you do that then the frequency spectrum (FFT) version of the note finding<br/>is pretty good at getting the exact pitches also,<br/>because it uses peak interpolation methods to refine the estimate of<br/>the pitch at the peak. With various tweaks, it is now roughly comparable<br/>with the exact wave count in its precision though the exact wave count has a<br/>slight edge I think. Both it seems can find pitch accurate to a few hundredths of a cent<br/>or so for computer generated steady pitched notes of a second or so. The<br/>wave counting routinely manages better than a hundredth of a cent for a one<br/>second note if the waveform is suitable  - e.g. computer generated exact<br/>pitches of a regular waveform  shapge.</p><p>So if you want exact pitches, and aren&apos;t too bothered about the exact rhythm,<br/>it makes sesnse to analyse rich timbres in FTS using FFT with user interaction<br/>to find the note boundaries.</p><p>So one could do that, and then it could find more than one simultaneous pitch<br/>as it could then find all the partials for all those<br/>notes if one wanted them.</p><p>At present it just tries to match a harmonic series<br/>to them to find the note, and that part isn&apos;t particularly configurable yet, you<br/>just have to try it as it is. But you can get it to show its analysis of a<br/>particular note - and later I can have a go at refining it somewhat. I<br/>could at any rate easily get it to output all the simultaneous pitches it finds<br/>as it goes along the recording to make data for anyone who wants to analyse<br/>them as they please.</p><p>But I don&apos;t have any plans at all to attempt polyphony, have made a design<br/>decision in advance just not to attempt that. The task seems a hard one<br/>- my hunch is that it is a sort of pattern recognition thing like<br/>understanding speech or recognising faces which are both things that<br/>are particularly hard to program. You need to reckon to devote all your programming<br/>and research time to the task for some yeaars if you expect to get anywhere at<br/>all in those areas I think.</p><p>The ear can hear a whole jumble of partials and instantly pick out that it<br/>consists of say a basson, oboe and violin playing a chord, while a program<br/>will have a much harder time of that because how would it tell which<br/>partials belong with which instruments? Maybe by fitting harmonic series for<br/>harmonic partials, but there may be some inharmonicity and the notes may be<br/>very well also be played in near to harmonic series type harmonies with each<br/>other. So, maybe really it would need a bank of templates of likely sounds<br/>which it could then try and match against the recording, so you could tell<br/>it that it uses such and such instruments, e.g. a guitar, or may have one in<br/>it, and it could then look for the characterstic fingerprints of that<br/>instrument.</p><p>I think if one were ever to be presented with an orchestra consisting of<br/>entirely unfamiliar instruments, it&apos;s possible it might take one quite a<br/>while to learn to recognise them - if there were no familiar ones in the orchestra<br/>at all to get you started. Because the same partials could be divided up<br/>in different ways. E.g. a flute and oboe in unison could just as easily<br/>be a single  &quot;flute oboe&quot; instrument say. Or e.g. the sound of a<br/>car or a door creaking could be made up of a large number of instruments<br/>playing quiet sounds, and I&apos;m not sure, if one were unfamiliar with<br/>doors, that one would know that that complex sound was a single thing rather<br/>than the unison of several things played at once well synchronised.</p><p>So that&apos;s the situation that the computer program  faces, no instruments<br/>are familiar to it at all, unless you can figure out how to program it to<br/>recognise them. It could listen to a bell and hear ten tuning forks<br/>played at differnt pitches and volumes simultaneously.</p><p>I think when it comes to it once these polyphonic programs are a bit<br/>more advanced they will surely have to build in experience of timbres<br/>of real instruments into them in order to follow polyphonic lines<br/>in complex musical textures. That&apos;s my hunch anyway.</p><p>Anyway it would be too much for me to attempt that as well, so yes, I&apos;m<br/>specialising on monophonic lines in FTS.</p><p>&gt; &gt;I don&apos;t do anything about weighting by the duration of the pitches,<br/>&gt; &gt;but one could do that too, especially since longer duration pitches<br/>&gt; &gt;are perhaps likely to be pitched more exactly, or heard with more<br/>&gt; &gt;exactness of pitch too, I mean a grace note of just a hundredth of<br/>&gt; &gt;a second for instance may not be so exactly pitched as a one second<br/>&gt; &gt;note for instance.</p><p>&gt; Indeed.  And in fact, portamenti, glissandi, and even legato note<br/>&gt; transitions should not contribute to the scale analysis in my view.</p><p>Rightio. Another thing to bear in mind as well is that the<br/>pitch detection is more accurate the longer the note is<br/>so very short grace notes may not be recognised quite so<br/>accurately by FTS. Depending that is on the quality of<br/>the recording, the better the quality then the more easily<br/>it will be able to detect shorter notes.</p><p>The bird song recordings I tested it with have all<br/>been 8-bit just because that&apos;s what I found on the<br/>web sites of bird song I tried, though I didn&apos;t look<br/>very far, surely there must be other ones with higher<br/>resolution recordings.</p><p>BTW I&apos;ve just done some more tweaking and fixed a bug,<br/>and as a result it is getting the robin song better<br/>now, see what you think:</p><p><a href="http://www.robertinventor.com/Robin_v2.mid">http://www.robertinventor.com/Robin_v2.mid</a></p><p>On Celeste for a bit of fun :-).</p><p>compare with the original 8 bit recording:<br/>on this page:<br/><a href="http://www.scricciolo.com/eurosongs/canti.htm">http://www.scricciolo.com/eurosongs/canti.htm</a></p><p>European Robin Erithacus rubecula:</p><p><a href="http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav">http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav</a></p><p>The one thing FTS can&apos;t do at the moment is to deal<br/>with repeated notes with very brief rests between them.<br/>It just runs them all together treating the rest between<br/>the notes as a bit of interference in the signal. The thing is that it<br/>pays no attention to the amplitude particularly, except to ignore<br/>all information below a threshold to deal with noise.</p><p>You notice that in the robin clip that the first high<br/>note is just a single pitch rather than a repeated<br/>one. It should repeat it twice, each time with a<br/>rapid decay with a fast tremulo effect, if one<br/>listens to the recording slowed down. The Celeste<br/>helps there by being a short duration note at least<br/>- it actually just plays a single long note through<br/>all that part of the song so if you play it on e.g.<br/>whistle it puts a lot of emphasis on the note<br/>and it changes the perceived shape of the melody line<br/>rather a lot at that point. So playing on<br/>Celeste helps to make the melody line sound<br/>more similar.</p><p>Actually it would be pretty easy to<br/>just extract a volume envelope for the entire<br/>recording and superimpose that on the pitches<br/>played - play the pitches all at the same volume<br/>on say a whistle, or oboe or whatever depending<br/>on the bird, and then use the midi expression controller<br/>on top of that to match the original volumes<br/>of the recording exactly.</p><p>I may give that a go, which will get the<br/>subtleties of tremulo at least though not<br/>vibrato or glissandi of course, and it will deal with repeated<br/>notes at least as far as the effect on the listener<br/>is concerened. They use vibrato of course,<br/>but not quite as much as one might expect,<br/>many of the songs use just pitch glissandi<br/>and then some tremulo now and again, or<br/>alteratively a little in the way of vibrato.<br/>The glissandi too aren&apos;t continuous, some<br/>notes are discrete steady pitches, and<br/>others are glissandi and if you listen to it<br/>slowly, it really doesn&apos;t run that many<br/>notes together either. It&apos;s quite a bit like<br/>human speech, with phrases with gaps between<br/>them.</p><p>It&apos;s clear that birds do have faster reactions than<br/>humans and live a bit faster, and I wonder if<br/>they could be so very much faster that they<br/>can actually hear all those details in their songs<br/>as they sing... It is interesting to speculate.<br/>I don&apos;t know how one could find out,.</p><p>Some birds have a lot of vibrato.<br/>The curlew has a continuous vibrato,<br/>and the meadow pipit also has a lot of vibrato<br/>of the ones I&apos;ve done.</p><p>BTW if you listen to the robin slowed down<br/>it sings quite a few very steady discrete pitches though it does<br/>have some legato / portamento type glissandi<br/>- but lots of very steady notes amongst it.</p><p>&gt; Plus, duration-based analysis could even tell us something about<br/>&gt; melodies played on keyboard instruments.  There, it isn&apos;t needed to<br/>&gt; distinguish note transitions from scale tones, but it could tell us<br/>&gt; something about central vs. passing/auxillary tones -- even<br/>&gt; &quot;diatonic&quot; melodies rarely use all 7 notes equally.</p><p>&gt; &gt;So maybe one could take that into account. I could add an option to<br/>&gt; &gt;FTS to print out all the pitches found as pitch / volume / duration<br/>&gt; &gt;triples for anyone to analyse as they please using their own software<br/>&gt; &gt;too.</p><p>&gt; That would be great!</p><p>Done! I&apos;ve done it so it saves them as a comma separated values<br/>file so it shows up in database programs, and should be easy for<br/>a program to read.</p><p>&gt; &gt;Well it is visible in the interface but as three rows of<br/>&gt; &gt;numbers - you could just use those too copy / paste and use them<br/>&gt; &gt;as input to ones program.</p><p>&gt; It does this now?  What&apos;s the download url?</p><p>I&apos;m just getting it ready now with the new changes and<br/>will upload it and let you know when it is ready.</p><p>Done - I&apos;ve just send the url to you privately.</p><p>Note to everyone else:</p><p>This update isn&apos;t ready for release quite yet.<br/>it will be quite soon. Meanwhile<br/>if you are very keen just ask and you can try<br/>it out and see what you make of the feature.<br/>However I like to know who is testing it out<br/>at this stage.</p><p>Iit is definitely in a state  of flux, this particular<br/>feature at least, and may possibly change, may not work in quite<br/>the same way when it comes to the release as it does<br/>right now. You may spend some time tweaking the<br/>settings to get it to work well with some particular<br/>isntrument then with the next upload everything gets<br/>chanaged and you have to start again, for instance.</p><p>But if you are keen to give it a go anyway let me know.<br/>BTW it does install as a separate program so you<br/>don&apos;t need to worry about it interfering with your<br/>installation of FTS 2.4 if you have that already.<br/>I plan to keep it like that for the release because<br/>there has been quite a change in some sections and<br/>some users may well want to run both programs<br/>concurrently until they get used to 3.0.<br/>Hopefully they will feel it has improved and<br/>it is easier to find ones way around it<br/>though with even more features there<br/>is yet more to distract one on ones searh to<br/>find out how to do some particular thing<br/>:-).</p><p>Robert</p></div><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/16/2005 3:31:46 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Jon,</p><p>Thanks, I had a look at the site and his home page<br/>and I&apos;ve bookmarked it to come back to and<br/>read at my leisure later.</p><p>Yes I&apos;d like to hear his &quot;Imaginary Animals&quot;<br/>with the transformed Winter Wren recording.</p><p>I&apos;ve tried listening to bird songs slowed<br/>down and they sound so kind of human<br/>or animal like in timbre at the slower speeds.<br/>I can imagine they could morph well.</p><p>Robert</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/16/2005 11:55:26 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Hi Carl,<br/>&gt;<br/>&gt;&gt; It never gives two simultaneous pitches, does it?  If it doesn&apos;t,<br/>&gt;&gt; the volume part of the triple is not needed in technique.<br/>&gt;<br/>&gt;No, you are right, it&apos;s strictly monophonic.</p><p>That&apos;s a good thing, for my present purposes.</p><p>&gt;I do have an frequency spectrum type pitch tracking option as well<br/>&gt;which could find multiple pitches. That one isn&apos;t that good at finding<br/>&gt;the starts and ends of notes. However what you can do with FTS is to<br/>&gt;edit the results after it finds the notes - can other wave to midi<br/>&gt;programs do this?</p><p>Many of them can, yes.  The best one in this regard is Widisoft (.com).</p><p>&gt;FTS shows blue vertical lines on the recording for all the note<br/>&gt;boundaries it found - and you can click anywhere to add or remove<br/>&gt;them, then get it to refind all the frequencies for the notes again,<br/>&gt;using just the note boundaries you have marked out yourself.</p><p>I&apos;ll have to check it out.</p><p>&gt;If you do that then the frequency spectrum (FFT) version of the note<br/>&gt;finding is pretty good at getting the exact pitches also, because it<br/>&gt;uses peak interpolation methods to refine the estimate of the pitch<br/>&gt;at the peak. With various tweaks, it is now roughly comparable with<br/>&gt;the exact wave count in its precision though the exact wave count has<br/>&gt;a slight edge I think. Both it seems can find pitch accurate to a few<br/>&gt;hundredths of a cent or so for computer generated steady pitched notes<br/>&gt;of a second or so. The wave counting routinely manages better than a<br/>&gt;hundredth of a cent for a one second note if the waveform is<br/>&gt;suitable  - e.g. computer generated exact pitches of a regular<br/>&gt;waveform shapge.</p><p>Wow.</p><p>&gt;But I don&apos;t have any plans at all to attempt polyphony, have made a<br/>&gt;design decision in advance just not to attempt that. The task seems<br/>&gt;a hard one - my hunch is that it is a sort of pattern recognition<br/>&gt;thing like understanding speech or recognising faces which are both<br/>&gt;things that are particularly hard to program.</p><p>Techniques exist that&apos;ll get you 85% accuracy or something.  You<br/>can try any of the packages Yahya mentioned to see how miserable<br/>that is.  Getting 100% accuracy is perhaps an &quot;AI-complete&quot;<br/>problem.  My friend researches it at a startup in Palo Alto.</p><p>&gt;The ear can hear a whole jumble of partials and instantly pick out<br/>&gt;that it consists of say a basson, oboe and violin playing a chord,<br/>&gt;while a program will have a much harder time of that because how<br/>&gt;would it tell which partials belong with which instruments?</p><p>The *trained* ear can do that.  It&apos;s called stream separation.<br/>It&apos;s the holy grail of auditory scene analysis.</p><p>&gt;Maybe by fitting harmonic series for harmonic partials, but there<br/>&gt;may be some inharmonicity and the notes may be very well also be<br/>&gt;played in near to harmonic series type harmonies with each other.<br/>&gt;So, maybe really it would need a bank of templates of likely sounds<br/>&gt;which it could then try and match against the recording, so you<br/>&gt;could tell it that it uses such and such instruments, e.g. a guitar,<br/>&gt;or may have one in it, and it could then look for the characterstic<br/>&gt;fingerprints of that instrument.</p><p>My guess is that some notion of rhythm is essential.</p><p>&gt;I think if one were ever to be presented with an orchestra consisting of<br/>&gt;entirely unfamiliar instruments, it&apos;s possible it might take one quite a<br/>&gt;while to learn to recognise them - if there were no familiar ones in the<br/>&gt;orchestra at all to get you started.</p><p>I don&apos;t doubt that fingerprinting is at work, but I don&apos;t think it&apos;s<br/>a primary technique.  The brain uses spatial and visual cues in a live<br/>situation.  Without those, it still an expectation of when to expect<br/>the next note in each part, and least for non-serial music.  If you<br/>look at hi hats and such, their spectral profile can differ greatly<br/>depending on how they&apos;re struck.  But probably the attack envelope of<br/>an instrument is more used for fingerprinting than its spectrum.  But<br/>who knows how the best listeners do it...</p><p>&gt;So that&apos;s the situation that the computer program  faces, no instruments<br/>&gt;are familiar to it at all, unless you can figure out how to program it to<br/>&gt;recognise them.</p><p>Some of the packages Yahya mentioned use instrument fingerprints.</p><p>&gt;&gt; &gt;I don&apos;t do anything about weighting by the duration of the pitches,<br/>&gt;&gt; &gt;but one could do that too, especially since longer duration pitches<br/>&gt;&gt; &gt;are perhaps likely to be pitched more exactly, or heard with more<br/>&gt;&gt; &gt;exactness of pitch too, I mean a grace note of just a hundredth of<br/>&gt;&gt; &gt;a second for instance may not be so exactly pitched as a one second<br/>&gt;&gt; &gt;note for instance.<br/>&gt;<br/>&gt;&gt; Indeed.  And in fact, portamenti, glissandi, and even legato note<br/>&gt;&gt; transitions should not contribute to the scale analysis in my view.<br/>&gt;<br/>&gt;Rightio. Another thing to bear in mind as well is that the<br/>&gt;pitch detection is more accurate the longer the note is<br/>&gt;so very short grace notes may not be recognised quite so<br/>&gt;accurately by FTS.</p><p>That&apos;s ok for the kind of analysis I&apos;m doing, since I won&apos;t even<br/>be looking at the pitches of the shorter duration notes.</p><p>&gt;The bird song recordings I tested it with have all<br/>&gt;been 8-bit just because that&apos;s what I found on the<br/>&gt;web sites of bird song I tried, though I didn&apos;t look<br/>&gt;very far, surely there must be other ones with higher<br/>&gt;resolution recordings.<br/>&gt;<br/>&gt;BTW I&apos;ve just done some more tweaking and fixed a bug,<br/>&gt;and as a result it is getting the robin song better<br/>&gt;now, see what you think:<br/>&gt;<br/>&gt;<a href="http://www.robertinventor.com/Robin_v2.mid">http://www.robertinventor.com/Robin_v2.mid</a><br/>&gt;<br/>&gt;On Celeste for a bit of fun :-).<br/>&gt;<br/>&gt;compare with the original 8 bit recording:<br/>&gt;on this page:<br/>&gt;<a href="http://www.scricciolo.com/eurosongs/canti.htm">http://www.scricciolo.com/eurosongs/canti.htm</a><br/>&gt;<br/>&gt;European Robin Erithacus rubecula:<br/>&gt;<br/>&gt;<a href="http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav">http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav</a></p><p>Needs some work, I&apos;d say.</p><p>&gt;The one thing FTS can&apos;t do at the moment is to deal<br/>&gt;with repeated notes with very brief rests between them.<br/>&gt;It just runs them all together treating the rest between<br/>&gt;the notes as a bit of interference in the signal. The thing<br/>&gt;is that it pays no attention to the amplitude particularly,<br/>&gt;except to ignore all information below a threshold to deal<br/>&gt;with noise.</p><p>Oh.  That could be a problem.</p><p>&gt;Actually it would be pretty easy to<br/>&gt;just extract a volume envelope for the entire<br/>&gt;recording and superimpose that on the pitches<br/>&gt;played - play the pitches all at the same volume<br/>&gt;on say a whistle, or oboe or whatever depending<br/>&gt;on the bird, and then use the midi expression controller<br/>&gt;on top of that to match the original volumes<br/>&gt;of the recording exactly.</p><p>Good idea!</p><p>&gt;It&apos;s clear that birds do have faster reactions than<br/>&gt;humans and live a bit faster, and I wonder if<br/>&gt;they could be so very much faster that they<br/>&gt;can actually hear all those details in their songs<br/>&gt;as they sing... It is interesting to speculate.</p><p>Indeed.</p><p>&gt;&gt; Plus, duration-based analysis could even tell us something about<br/>&gt;&gt; melodies played on keyboard instruments.  There, it isn&apos;t needed to<br/>&gt;&gt; distinguish note transitions from scale tones, but it could tell us<br/>&gt;&gt; something about central vs. passing/auxillary tones -- even<br/>&gt;&gt; &quot;diatonic&quot; melodies rarely use all 7 notes equally.<br/>&gt;<br/>&gt;&gt; &gt;So maybe one could take that into account. I could add an option to<br/>&gt;&gt; &gt;FTS to print out all the pitches found as pitch / volume / duration<br/>&gt;&gt; &gt;triples for anyone to analyse as they please using their own software<br/>&gt;&gt; &gt;too.<br/>&gt;<br/>&gt;&gt; That would be great!<br/>&gt;<br/>&gt;Done! I&apos;ve done it so it saves them as a comma separated values<br/>&gt;file so it shows up in database programs, and should be easy for<br/>&gt;a program to read.</p><p>Wonderful.  I can probably code what I want to do in Excel!</p><p>&gt;&gt; &gt;Well it is visible in the interface but as three rows of<br/>&gt;&gt; &gt;numbers - you could just use those too copy / paste and use them<br/>&gt;&gt; &gt;as input to ones program.<br/>&gt;<br/>&gt;&gt; It does this now?  What&apos;s the download url?<br/>&gt;<br/>&gt;I&apos;m just getting it ready now with the new changes and<br/>&gt;will upload it and let you know when it is ready.<br/>&gt;<br/>&gt;Done - I&apos;ve just send the url to you privately.</p><p>Got it.</p><p>-Carl</p></div><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/18/2005 2:59:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl,</p><p>&gt; &gt;European Robin Erithacus rubecula:<br/>&gt; &gt;<br/>&gt; &gt;<a href="http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav">http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav</a></p><p>&gt; Needs some work, I&apos;d say.</p><p>I agree. Here is the latest version now :-)</p><p><a href="http://www.robertinventor.com/Robin_v3.mid">http://www.robertinventor.com/Robin_v3.mid</a></p><p>again compare<br/><a href="http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav">http://www.scricciolo.com/eurosongs/Erithacus.rubecula.wav</a></p><p>I&apos;ve added expression, using the original<br/>volume envelope, and also found a better way<br/>of dealing with the undulations - which I think<br/>now are created by low frequency background<br/>noise, not necessarily the birds song as such<br/>- this recording like most of the bird song<br/>recordings you find has a fair bit of background<br/>noise (in fact they seem to prefer them<br/>with a bit of natural background noise rather than<br/>studio clean type sounds - see this page:<br/><a href="http://www.naturesongs.com/recordists/nrfiles.html">http://www.naturesongs.com/recordists/nrfiles.html</a><br/>with the discussion of the recording of the<br/>two Slaty-backed Nightingale Thrushes for instance.)</p><p>Robert</p></div><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/18/2005 4:21:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Yahya</p><p>[YA] I think it was Widisoft that had FFT as its &quot;basic&quot; algorithm,<br/>with a choice of three other &quot;advanced&quot; settings. Are they doing<br/>anything you haven&apos;t tried?</p><p>I think mainly trying the same thing - FFT. But they don&apos;t<br/>go into techy details. It&apos;s possible that the newer<br/>algorithms may be using wavelet analysis, which I looked<br/>into - but it seemed complex to use, and I got the impression<br/>that while improving time resolution over FFT, it<br/>might reduce the pitch resolution a bit, so it may not<br/>be quite what I&apos;m looking for myself as I&apos;m aiming<br/>for the highest possible pitch resolutions I can<br/>achieve. But whether one could combine the two<br/>and use wavelet analysis as a first run through to<br/>find the note boundaries, then use FFT on a note<br/>per note basis to find the pitches... Maybe that&apos;s<br/>what they do. Also trying it out I found that with the rich<br/>polyphony setting they play notes<br/>for many of the pitches that make up the<br/>timbre - if you use the rich polyphony settings<br/>with a monophonic recording.</p><p>Though I won&apos;t be trying polyphony as<br/>such, I could do that - do chords consisting of<br/>all the partials found for each of the notes for<br/>the FFT method, which could be fun to do, -<br/>not of much use seriously for transcribing polyphonic music, because<br/>you would end up with so many pitches for each<br/>note - but it might nevertheless **sound** quite<br/>a bit like the original recording done that way.<br/>Again they seem to use a harmonic series type<br/>search to find the notes in polyphonic parts,<br/>which I also do for monophonic parts, in the case<br/>of FTS, to try and locate the fundamental - and improve<br/>its pitch accuracy for harmonic timbres.</p><p>&gt; effective. ... So I think it&apos;s likely that birds CAN<br/>hear almost anything we can extract from their<br/>song with modern tools, at least down to a limit that<br/>is, say, proportionate to their &quot;rate of living&quot;. Maybe<br/>a bird that lives seven years instead of seventy would<br/>discriminate events ten times shorter? There&apos;s an<br/>approximate &quot;law&quot; that each bird and animal has a<br/>lifetime of about the same number of heartbeats.</p><p>It&apos;s at about tenth speed in fact that the<br/>sounds break up into syllables and sound<br/>like animal and human voice sounds.<br/>Maybe that&apos;s suggestive?</p><p>&gt; [YA] Robert, doubtless at some time in the near<br/>future I would like to try out your innovations.<br/>But I think I&apos;d better wait a little for the dust<br/>to settle ... :-)</p><p>Good idea. As you&apos;ll hear from my last post to<br/>Carl it is taking shape but there&apos;s a bit<br/>still to do before it is really presentable for the user.</p><p>I spent quite a few hours of tweaking the settings<br/>before I could get it to do that one. However, it will be<br/>available as one of the options in the drop list<br/>of settings so a user will just need to select<br/>it - or try various ones for particular<br/>bird song - and that one will probably work well with<br/>a number of other bird songs. Robert</p></div><h3>Graham Breed &#x3C;gbreed@gmail.com&#x3E;</h3><span>4/18/2005 8:31:39 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Robert Walker wrote:</p><p>&gt; I think mainly trying the same thing - FFT. But they don&apos;t<br/>&gt; go into techy details. It&apos;s possible that the newer<br/>&gt; algorithms may be using wavelet analysis, which I looked<br/>&gt; into - but it seemed complex to use, and I got the impression<br/>&gt; that while improving time resolution over FFT, it<br/>&gt; might reduce the pitch resolution a bit, so it may not<br/>&gt; be quite what I&apos;m looking for myself as I&apos;m aiming<br/>&gt; for the highest possible pitch resolutions I can<br/>&gt; achieve. But whether one could combine the two<br/>&gt; and use wavelet analysis as a first run through to<br/>&gt; find the note boundaries, then use FFT on a note<br/>&gt; per note basis to find the pitches... Maybe that&apos;s<br/>&gt; what they do. Wavelets mean you can use different time resolutions for different frequency bands.  If you want good time and pitch resolution, you concentrate on the higher partials.  I don&apos;t think there&apos;s be any need to do an FFT as well.</p><p>                    Graham</p></div><h3>Robert Walker &#x3C;robertwalker@ntlworld.com&#x3E;</h3><span>4/19/2005 7:15:43 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Graham,</p><p>&gt; Wavelets mean you can use different time resolutions for different &gt; frequency bands.  If you want good time and pitch resolution, you &gt; concentrate on the higher partials.  I don&apos;t think there&apos;s be any need &gt; to do an FFT as well.</p><p>Thanks for the correction.</p><p>I found this:</p><p><a href="http://www.cnmat.berkeley.edu/~tristan/Report/node4.html">http://www.cnmat.berkeley.edu/~tristan/Report/node4.html</a></p><p>The way he puts it is that short time frame FFT<br/>uses a single windowing size - just to keep<br/>anyone reading this in the picture - FFT<br/>windowing is an added fade in and fade out of<br/>the recording - or the section of the recording<br/>you want to analyse - the frequency analysing<br/>software puts it in temporarily whenever<br/>it finds a frequency spectrum. If you don&apos;t do it<br/>then you may get artefacts introduced because<br/>the FFT picks up on the length of the recording<br/>itself as a frequency.</p><p>So the way he puts it is that  wavelets use a frequency dependent time window, so you use<br/>different window times for it dependent on the frequency, which makes the wavelet<br/>idea make more sense to me now.</p><p>So the high frequencies<br/>have good time resolution for wavelets because<br/>the time window is short - but low pitch resolution<br/>- and low frequencies are the other way around.</p><p>So I suppose you use the high frequencies to get<br/>the timing information and the low frequencies to get<br/>the precise pitch estimations.</p><p>It says there that wavelets are supposed to be a good model for human hearing, but as<br/>we have much poorer pitch resolution for very low frequencies, its rather the other way around<br/>from the way the wavelets work.<br/>I wonder how that works out...</p><p>Robert</p></div><h3>Carl Lumma &#x3C;ekin@lumma.org&#x3E;</h3><span>4/19/2005 7:44:03 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;It says there that wavelets are supposed to be a<br/>&gt;good model for human hearing, but as<br/>&gt;we have much poorer pitch resolution for very<br/>&gt;low frequencies, its rather the other way around<br/>&gt;from the way the wavelets work.<br/>&gt;I wonder how that works out...</p><p>In some loose sense, it sounds like your counting<br/>of zero-crossings method (if I understood you right)<br/>is closer to what the ear does.  The cochlea is<br/>closer to a bank of resonant filters, but presumably<br/>neurons count zero crossings from each filter at a<br/>later stage.  Then there is transient detection and<br/>spatial location, which amount to the use of the<br/>hand-edited note transitions we were talking about.<br/>Finally, apparently all of this information is then<br/>used to control the system, feedback-style.  The<br/>most glaring example is the selective amplification<br/>of certain frequencies through SOAEs (Spontaneous<br/>OtoAcoustic Emissions).</p><p>-Carl</p></div>