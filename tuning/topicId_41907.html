<a href="/tuning">back to list</a><h1>Frequency extraction from digitized monophonic musical sound (Help)</h1><h3><a id=41907 href="#41907">ðŸ”—</a>ASCEND11@AOL.COM</h3><span>1/21/2003 4:48:02 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Following upon Dr. Can Akkoc&apos;s post regarding frequency<br/>    algorithm (unavailable in MIDI):</p><p>Hello -</p><p>    In the early 1990s, I developed a C-program (with DSP<br/>acceleration enhancement) which produced a time trajectory<br/>of frequency for a recorded musical instrument sound or<br/>voice sung note.  The method was developed from software<br/>developed by Lippold Haken and Kurt Hebel at the Univ. of<br/>Illinois CERL group.</p><p>    In my paper: &quot;The Cro-Magnon Additive Analysis/Synthesis<br/>System&quot; which I gave at the 1991 ICMC (International Computer<br/>Music Conference) meeting held in Montreal, I wrote (regarding<br/>frequency extraction):</p><p>    &quot;At the heart of this process is an autocorrelation algorithm<br/>which determines the per-sample pair average absolute value of the<br/>numerical difference between corresponding samples in two adjacent<br/>trial windows which meet at the time point for which f0 (the<br/>fundamental frequency) is being estimated (Czvitkovicz 1984 - A<br/>Digital Pitch Extractor - Univ. of Illinois MS Thesis, Dept. of<br/>Electrical and Computer Engineering).  As the trial window lengths,<br/>expressed in number of samples per window, are varied over a range<br/>containing the fundamental period length (corresponding to f0), a<br/>clear cut V-shaped minimum in this average difference value occurs<br/>at the fundamental period length (possibly non-integral) over the<br/>most of a pitched sound.  Over regions of the sound near the attack<br/>onset and at its very end, f0 must be estimated by the user from less<br/>regular average difference vs. trial f0 screen plots.&quot;</p><p>    I tested the sound analysis software I&apos;d developed by analyzing<br/>sounds with frequency extraction followed by additive analysis of<br/>the sound into a series of time amplitude and frequency envelopes for<br/>the sound&apos;s individual partials - up to about 15 kHz - which would<br/>be about the 60th partial for a note with fundamental around middle<br/>C (260 Hz or so).  I then digitally resynthesized a sound based on<br/>the set of envelopes developed through the analysis.  In most cases,<br/>the sounds were nearly or completely indistinguishable from direct<br/>recordings of the original sounds.  The resyntheses often could, upon<br/>close listening, be picked out because their onsets differed slightly<br/>from those of the original recordings.</p><p>    This testing confirmed to me that the analyses were fundamentally<br/>sound, although they could be improved in small ways.</p><p>    I&apos;m not aware of work in this area as detailed as mine which has<br/>been done recently, but I have not kept up with the field.  I have been<br/>nearly incapacitated for the past few years by progressive undiagnosed<br/>iron deficiency anemia which had so weakened me that even doing the<br/>simplest activities required great struggle and mental and physical<br/>effort.  I have been under treatment for this and am experiencing an<br/>improvement - restoration - of mental and physical energy which I had<br/>not believed would ever be possible!  I have not yet completely<br/>recovered, however.</p><p>    The work I had been doing on sound analysis and synthesis hasn&apos;t<br/>been completed and it isn&apos;t in a neatly packaged form.  However, I would<br/>like to make it available to anyone who would be in a position to<br/>make use of it to serve their purposes.  There is the possibility that<br/>over the course of the next year or several years, I will be able to<br/>pursue this work to a &quot;closure&quot; where it is in a more generally<br/>usable form.  It may be that this work has already been done somewhere<br/>else, and if that is the case, I would not want to put a lot of effort<br/>into duplicating work which has already been done.  I&apos;ll need to research<br/>this.</p><p>    Best wishes to all for a happy and successful 2003.</p><p>    Dave Hill     Borrego Springs, CA</p></div><h3><a id=41911 href="#41911">ðŸ”—</a>wallyesterpaulrus &#x3C;wallyesterpaulrus@yahoo.com&#x3E; &#x3C;wallyesterpaulrus@yahoo.com&#x3E;</h3><span>1/22/2003 2:28:25 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, &quot;alternativetuning<br/>&lt;alternativetuning@y...&gt;&quot; &lt;alternativetuning@y...&gt; wrote:<br/>&gt; --- In <a href="mailto:tuning@yahoogroups.com">tuning@yahoogroups.com</a>, ASCEND11@A... wrote:<br/>&gt; &gt;     I tested the sound analysis software I&apos;d developed by<br/>analyzing<br/>&gt; &gt; sounds with frequency extraction followed by additive analysis of<br/>&gt; &gt; the sound into a series of time amplitude and frequency envelopes<br/>&gt; for<br/>&gt; &gt; the sound&apos;s individual partials - up to about 15 kHz - which<br/>would<br/>&gt; &gt; be about the 60th partial for a note with fundamental around<br/>middle<br/>&gt; &gt; C (260 Hz or so).  I then digitally resynthesized a sound based<br/>on<br/>&gt; &gt; the set of envelopes developed through the analysis.  In most<br/>&gt; cases,<br/>&gt; &gt; the sounds were nearly or completely indistinguishable from<br/>direct<br/>&gt; &gt; recordings of the original sounds.  The resyntheses often could,<br/>&gt; upon<br/>&gt; &gt; close listening, be picked out because their onsets differed<br/>&gt; slightly<br/>&gt; &gt; from those of the original recordings.<br/>&gt; &gt;<br/>&gt;<br/>&gt; Did you ever test sounds from wind instruments, singing voices, or<br/>&gt; bowing strings?  At the SpecMus list we are having some discussion<br/>of<br/>&gt; whether or not the partial tones for these sounds are precise<br/>integer<br/>&gt; multiples or not.<br/>&gt;<br/>&gt; Gabor Bernath</p><p>a rather definitive answer for this question came up, which mentions<br/>a new, very accurate frequency-extraction technique:</p><p>The Journal of the Acoustical Society of America -- February 1996 --<br/>Volume<br/>99, Issue 2, pp. 1210-1218</p><p>Frequency ratios of spectral components of musical sounds<br/>Judith C. Brown<br/>Physics Department, Wellesley College, Wellesley, Massachusetts 01281<br/>and<br/>Media Lab, Massachusetts Institute of Technology, Cambridge,<br/>Massachusetts<br/>02139</p><p>Abstract:<br/>A recently developed high resolution frequency tracker [J. C. Brown<br/>and M.<br/>S. Puckette, &grave;&grave;A high resolution fundamental frequency determination<br/>based<br/>on phase changes of the fourier transform,&apos;&apos; J. Acoust. Soc. Am. 94,<br/>662-667<br/>(1993)] has made it possible to measure the ratios of the frequencies<br/>of the<br/>upper harmonics of a sound with respect to its fundamental frequency<br/>with<br/>high accuracy. Calculations were carried out on digitized sounds<br/>produced by<br/>a clarinet, alto flute, voice, piano, violin, viola, and cello. The<br/>sounds<br/>produced by the stringed instruments included examples played<br/>pizzicato and<br/>bowed both with and without vibrato. Measured ratios were exactly<br/>equal to<br/>integers for all instruments except the piano and strings played<br/>pizzicato.<br/>Anomalous behavior was observed for the fundamental frequency for<br/>vibrato<br/>sounds played by stringed instruments with the frequency deviation<br/>exceeding<br/>the extrema of the other harmonics divided by their harmonic number<br/>by about<br/>1% on average. Piano inharmonicity was proportional to harmonic number<br/>squared in agreement with Fletcher [J. Acoust. Soc. Am. 36, 203-209<br/>(1964)].<br/>The major limitation on this calculation was found to be instrumental<br/>fluctuations.</p><p>it would seem that dave hill or anyone else interested should study<br/>this Brown and Puckette article of 1993.</p></div>