<!DOCTYPE html>
            <html>
            <head>
            <meta charset="utf-8">
                <meta name="viewport"
            content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
                <meta http-equiv="x-ua-compatible" content="ie=edge">
                <title>Yahoo Tuning Groups Ultimate Backup tuning Centre of Gravity of a Scale or Piece</title>
                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
            </head>
            <body>
            </body>
            </html>
        <a href="/tuning">back to list</a><h1>Centre of Gravity of a Scale or Piece</h1><h3><a id=2967 href="#2967">ðŸ”—</a>rtomes@xxxxx.xxx.xxxxxxxxxxxxx)</h3><span>5/12/1999 9:30:29 PM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I want to put forward the concept of the &quot;Central of Gravity of a scale&quot;<br/>which may be though of as a sort of attractor which all the notes of the<br/>scale hang off.  This also gives very strong clues as to what non-scale<br/>notes might be reasonable to occur in a piece.  Actually a piece of<br/>music will also have a &quot;Central of Gravity of a Piece&quot; which will<br/>incorporate the various modulations within the piece.</p><p>To get the central ratio of a scale or piece, simply take the ratios of<br/>frequencies and express them as prime factorisations and average the<br/>indices of the primes.  Here is an example for the JI major scale ...</p><p>Note    C  D  E  F  G  A  B  C<br/>Ratio  24 27 30 32 36 40 45 48          Average<br/>2^a     3  0  1  5  2  3  0  4     18/8 = 2.25<br/>3^b     1  3  1  0  2  0  2  1     10/8 = 1.25<br/>5^c     0  0  1  0  0  1  1  0      3/8 = 0.375<br/>7^d     0  0  0  0  0  0  0  0      0/8 = 0.0</p><p>So we may say that the major scale when expressed as the above ratios is<br/>centred on 2^2.25, 3^1.25, 5^0.375, 7^0 or 2^2 3^1 5^0 7^0 to the<br/>nearest integer which gives C.  However the exponent of 5 is almost<br/>halfway to the next integer.</p><p>When considering the spread of notes that can be used about this central<br/>value then the powers of 2 will have the greatest spread (+/-2 about )<br/>while the powers of 3 will have a lesser spread (+/-1.5 say) and the<br/>powers of 5 less still (+/-0.5 roughly) with no variation in 7 in this<br/>particular scale.  Actually, the power of 2 can vary much more because<br/>several octaves of each note should also be included.</p><p>Therefore in the major scale, notes which have 5^0 will be slightly<br/>favoured over 5^1 and other indices to 5 will be very unfavourable.<br/>Likewise, 3^1 is favoured then 3^2 and then 3^0 and finally 3^3 with<br/>others being less favourable (but happening in the order 3^-1, 3^4 etc).</p><p>Let&apos;s try another example, the blues scale mentioned recently, assuming<br/>that I have the ratios correct ...</p><p>Note    C Eb  F F#  G Bb  B  C<br/>Ratio  24 28 32 35 36 42 45 48          Average<br/>2^a     3  2  5  0  2  1  0  4     17/8 = 2.125<br/>3^b     1  0  0  0  2  1  2  1      7/8 = 0.875<br/>5^c     0  0  0  1  0  0  1  0      2/8 = 0.25<br/>7^d     0  1  0  1  0  1  0  0      3/8 = 0.375</p><p>So this blues scale has a &quot;centre&quot; which is higher in the 7 index and<br/>lower mainly in the 3 index than the major scale.  That means that its<br/>centre of gravity is in a different place in the multi-dimensional space<br/>of all possible reasonable scales.</p><p>I am going to suggest that the &quot;natural&quot; spread of the indices of the<br/>primes follows a rule something like this in proportion:</p><p>Prime             2     3     5     7     11    13    17    19  ...<br/>Spread of Index  3.5   1.5   0.6   0.35  0.18  0.15  0.10  0.09 ...</p><p>Which can be calculated as in inverse proportion to p*log(p).</p><p>Just one more example.  Suppose that a piece is played in the key of C<br/>but modulates for half of the piece into G (actually we could add up all<br/>the notes and find an exact weighted centre, but this will do as an<br/>example).  Then it will have a centre at the middle of C and G.<br/>C is centred at 2^2.25, 3^1.25, 5^0.375, 7^0 and because G is 3/2 higher<br/>than C it will be centred at 2^1.75, 3^1.75, 5^0.375, 7^0.  That means<br/>that our modulated piece is centred on 2^2.0, 3^1.5, 5^0.375, 7^0.</p><p>&quot;So what?&quot; you might ask.  &quot;What can this be used for?&quot;</p><p>Well, I am suggesting that the strength of relationship of each note in<br/>a scale or piece can be determined by considering how far it is from the<br/>CoG (Centre of Gravity) of the scale or piece.  This must be after<br/>allowing for the relative spreads with respect to each prime because<br/>powers of 2 are allowed to vary more than powers of 3 and much more than<br/>powers of 5 and 7 and so on.</p><p>So let me take the centre at 2^2.0, 3^1.5, 5^0.3, 7^0 and allowing for<br/>the spread factors above of 3.5, 1.5, 0.6 and 0.35 I will calculate the<br/>relative importance of a whole set of notes.  I will ignore the power of<br/>2 altogether, but this is only to keep the problem manageable.  In<br/>actual fact the relative importance of the notes in a scale do vary with<br/>octave, so that in C for example, F and C are more important in the low<br/>octaves and C and G in the higher octaves.</p><p>     Centre of Gravity at  3^1.5  5^0.4  7^0.0</p><p>  Prime        Distance  Weighted Distance  Total  Actual  Note in<br/>  Index      from Centre    from Centre    Weights  Ratio   Scale<br/> 3  5  7      3   5   7      3   5   7</p><p> 0  0  0     1.5 0.4 0.0    1.0 0.7 0.0      1.7     32      F<br/> 0  0  1     1.5 0.4 1.0    1.0 0.7 2.8      4.5     28      Eb7<br/> 0  1  0     1.5 0.6 0.0    1.0 1.0 0.0      2.0     40      A<br/> 0  1  1     1.5 0.6 1.0    1.0 1.0 2.8      4.8     35      F#<br/> 1  0  0     0.5 0.4 0.0    0.3 0.7 0.0      1.0     24      C<br/> 1  0  1     0.5 0.4 1.0    0.3 0.7 2.8      3.8     42      Bb7<br/> 1  1  0     0.5 0.6 0.0    0.3 1.0 0.0      1.3     30      E<br/> 1  1  1     0.5 0.6 1.0    0.3 1.0 2.8      4.1     26.25   C#?<br/> 2  0  0     0.5 0.4 0.0    0.3 0.7 0.0      1.0     36      G<br/> 2  0  1     0.5 0.4 1.0    0.3 0.7 2.8      3.8     31.5    F-<br/> 2  1  0     0.5 0.6 0.0    0.3 1.0 0.0      1.3     45      B<br/> 2  1  1     0.5 0.6 1.0    0.3 1.0 2.8      4.1     39.375  A-<br/> 3  0  0     1.5 0.4 0.0    1.0 0.7 0.0      1.7     27      D<br/> 3  0  1     1.5 0.4 1.0    1.0 0.7 2.8      4.5     47.25   C-<br/> 3  1  0     1.5 0.6 0.0    1.0 1.0 0.0      2.0     33.75   F#<br/> 3  1  1     1.5 0.6 1.0    1.0 1.0 2.8      4.8     29.93   E*?<br/>-1  0  0     2.5 0.4 0.0    1.7 0.7 0.0      2.4     42.67   Bb<br/>-1  1  0     2.5 0.6 0.0    1.7 1.0 0.0      2.7     26.67   D-<br/> 4  0  0     2.5 0.4 0.0    1.7 0.7 0.0      2.4     40.5    A-<br/> 4  1  0     2.5 0.6 0.0    1.7 1.0 0.0      2.7     25.31   C#?</p><p>Now comes the result.  Let us put the notes in order by the minimum<br/>total weights which is the measure of how important each note is in this<br/>particular piece (C modulated to G) ...</p><p>Weights    1.0   1.2   1.4   1.6   1.8   2.0   2.2   2.4 ...<br/>            C        E           F        A           A-<br/>            G        B           D        F#          Bb<br/>    Most important &lt;-----------------------------&gt; Least important</p><p>So the result is that C and G are central with A and F# much less so.<br/>We might expect that F# is less important as it is in the key of G but<br/>not C, however the same argument goes for F (the other way) whereas it<br/>is actually A that is the other least important note.</p><p>Although I put a whole set of notes with 7 in the ratio in the table<br/>these were found to be bad fits and so are not likely to occur at all.</p><p>It is interesting to note that there are two A notes, one at 40 and one<br/>at 40.5 (labelled A-) which is the old 80/81 dilemma.  In this case it<br/>can be seen that both are of moderate importance in the scale and could<br/>reasonably occur and so any fixed tuning instrument cannot deal with<br/>this.  It is desirable that both notes can be played.</p><p>It is possible to explore various other scales by fiddling around with<br/>the centre of gravity.  If the centre is moved along the 5 axis then a<br/>minor scale results for example.  Note that a movement by a whole unit<br/>takes us back to the same place again (it just changes all the ratios by<br/>a constant factor) and so for each prime there is a single unit of space<br/>that can be explored.  I will write a simple program do demonstrate some<br/>examples by allowing each of these &quot;prime knobs&quot; to be twiddled and see<br/>what scales result and which are the important notes.  If anyone has<br/>some sample scales or even better sample note frequencies from a piece<br/>of music then it is possible to calculate the centre of gravity &quot;CoG&quot;<br/>for that scale or piece.</p><p>If ratios like 11 and 13 (or even 7 for that matter) are to occur in<br/>some music then the centre needs to be somewhere near 0.5 on the 11 or<br/>13 axis to begin with because the weighting otherwise will not make any<br/>notes with that ratio come near to those without that ratio.  I will<br/>explore this on another occasions after seeing whether people understand<br/>what I am on about and what they think of it.</p><p>This scheme can accommodate a very rich variety of scales and probably<br/>already incorporates all the common scales around the world as well as<br/>many that have never been tried but which might be quite interesting.</p><p>In general the 3 axis is that of modulating keys (adding and subtracting<br/>sharps and flats), the 5 axis is the major-minor variation and the 7<br/>axis is the blues variation.  Who knows what the 11 and 13 axis are?<br/>Actually there is enormous variation in just the 3, 5 and 7 axes.<br/>If anyone has an easily programmable keyboard I can suggest a few sample<br/>tunings that will produce potentially interesting and totally new<br/>scales.</p><p>-- Ray Tomes -- <a href="http://www.kcbbs.gen.nz/users/rtomes/rt-home.htm">http://www.kcbbs.gen.nz/users/rtomes/rt-home.htm</a> --<br/>   Cycles email list -- <a href="http://www.kcbbs.gen.nz/users/af/cyc.htm">http://www.kcbbs.gen.nz/users/af/cyc.htm</a><br/>Alexandria eGroup list -- <a href="http://www.kcbbs.gen.nz/users/af/alex.htm">http://www.kcbbs.gen.nz/users/af/alex.htm</a><br/>Boundaries of Science <a href="http://www.kcbbs.gen.nz/users/af/scienceb.htm">http://www.kcbbs.gen.nz/users/af/scienceb.htm</a></p></div><h3><a id=3027 href="#3027">ðŸ”—</a>Graham Breed &#x3C;g.breed@xxx.xx.xxx&#x3E;</h3><span>5/14/1999 6:02:30 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Ray Tomes introduced this concept, ooh, over a day and a half ago now:</p><p>&gt; I want to put forward the concept of the &quot;Central of Gravity<br/>&gt; of a scale&quot;<br/>&gt; which may be though of as a sort of attractor which all the<br/>&gt; notes of the<br/>&gt; scale hang off.  This also gives very strong clues as to what<br/>&gt; non-scale<br/>&gt; notes might be reasonable to occur in a piece.  Actually a piece of<br/>&gt; music will also have a &quot;Central of Gravity of a Piece&quot; which will<br/>&gt; incorporate the various modulations within the piece.</p><p>I think this is a useful concept in some situations.  I notice from these<br/>Euler translations that have appeared on the web (sorry, don&apos;t have the<br/>URLs, look back a few digests) that he seemed to have the same idea.  But<br/>that&apos;s by the by.  The primary use, that I see, is in adaptive tuning.</p><p>To clarify, I&apos;ll start by cutting the adaptive tuning process into two<br/>steps:</p><p>1) Find all the possible interpretations for each note</p><p>2) Decide on the best tuning for each note</p><p>This is really stating the obvious, but I feel it has to be done.  Ray<br/>outlined a similar process more recently:</p><p>&gt;Computers are so fast now that it can get the answer easily fast enough<br/>&gt;by considering each unique position of the slide and looking at all the<br/>&gt;notes and doing a weighted score on each fit to get the best answer,<br/>&gt;possibly incorporating information about the previous centre of gravity<br/>&gt;also to resolve ambiguous cases.  No problem!</p><p>In this case, the two steps are not completely independent, however.  I&apos;ll<br/>pretend they are nonetheless, and concentrate on step 2.</p><p>The thing is, in the most general case, the tuning of each chord depends on<br/>the tuning of each other chord.  So, the number of calculations required to<br/>tune each note is proportional to the number of notes it has to be tuned to.<br/>Therefore, the number of calculations required to tune all the notes in a<br/>piece is proportional to the square of the number of notes.  Assuming you<br/>think they&apos;re all important, anyway.  With a lot of notes, this calculation<br/>could take a noticeable time.  If you&apos;re tuning outside of real-time, it can<br/>get even more complicated.  Retuning one note will alter a load of notes you<br/>already thought were tuned right.  So, some simplification may be useful.</p><p>An answer is only to consider the most recently played notes.  That&apos;s fine,<br/>so long as you don&apos;t mind wandering tonics.  Otherwise, this is where the<br/>centre of gravity comes in.  Ray again:</p><p>&gt; To get the central ratio of a scale or piece, simply take the<br/>&gt; ratios of<br/>&gt; frequencies and express them as prime factorisations and average the<br/>&gt; indices of the primes.  Here is an example for the JI major scale ...<br/>&gt;<br/>&gt; Note    C  D  E  F  G  A  B  C<br/>&gt; Ratio  24 27 30 32 36 40 45 48          Average<br/>&gt; 2^a     3  0  1  5  2  3  0  4     18/8 = 2.25<br/>&gt; 3^b     1  3  1  0  2  0  2  1     10/8 = 1.25<br/>&gt; 5^c     0  0  1  0  0  1  1  0      3/8 = 0.375<br/>&gt; 7^d     0  0  0  0  0  0  0  0      0/8 = 0.0</p><p>So, for 7-prime-limit JI, the centre of gravity can be expressed by four<br/>numbers.  My idea is this:  get your adaptive tuning algorithm to tune<br/>relative to the centre of gravity, rather than all existing notes.  Then,<br/>the time required to tune each note does not depend on the number of notes<br/>it&apos;s being tuned relative to.  So, tuning a whole piece is an order N rather<br/>than order N-squared process.</p><p>&gt; I am going to suggest that the &quot;natural&quot; spread of the indices of the<br/>&gt; primes follows a rule something like this in proportion:<br/>&gt;<br/>&gt; Prime             2     3     5     7     11    13    17    19  ...<br/>&gt; Spread of Index  3.5   1.5   0.6   0.35  0.18  0.15  0.10  0.09 ...<br/>&gt;<br/>&gt; Which can be calculated as in inverse proportion to p*log(p).</p><p>This is a good rule of thumb, but I think we can do better.  The spread of<br/>each index can be proportional to the variance or standard deviation of the<br/>indices already chosen.  A standard statistics text (or scientific<br/>calculator&apos;s instruction manual) should tell you how to calculate both the<br/>mean and variance/standard deviation from these quantities:</p><p>      The total number of items (n)<br/>      The sum of those items    (s)<br/>      The sum of the squares    (q)</p><p>Obviously, the mean is s/n.  I should have looked up the variance, but I<br/>think it&apos;s something like this:</p><p>           q/n - (s/n)^2</p><p>And the standard deviation is the square root of the variance.</p><p>So, you can work through the piece, update n, s and q for each index, and<br/>tune each note accordingly.  One detail is that n needn&apos;t be an integer.<br/>So, you can use a weighting where more recent notes are more important than<br/>distant ones.</p><p>There&apos;ll need to be some guesses as to the beginning state.  You can assume<br/>something like C-major with index weights as Ray gives above.  And use a<br/>small enough weighting that the notes that are played become much more<br/>important than this initial state.</p><p>&gt; Well, I am suggesting that the strength of relationship of<br/>&gt; each note in<br/>&gt; a scale or piece can be determined by considering how far it<br/>&gt; is from the<br/>&gt; CoG (Centre of Gravity) of the scale or piece.  This must be after<br/>&gt; allowing for the relative spreads with respect to each prime because<br/>&gt; powers of 2 are allowed to vary more than powers of 3 and<br/>&gt; much more than<br/>&gt; powers of 5 and 7 and so on.</p><p>We seem to be in agreement, at least as this relates to adaptive tuning.</p><p>&gt; This scheme can accommodate a very rich variety of scales and probably<br/>&gt; already incorporates all the common scales around the world as well as<br/>&gt; many that have never been tried but which might be quite interesting.</p><p>I don&apos;t think this is true at all.  As well as the whole idea of just<br/>approximations being redundant for a lot of musics, there are plenty of<br/>cases where the centre of gravity will shift during the piece.</p></div><h3><a id=3035 href="#3035">ðŸ”—</a>rtomes@xxxxx.xxx.xxxxxxxxxxxxx)</h3><span>5/14/1999 7:38:34 AM</span><button style="float: right; margin-right: 20px">toggle monospace</button><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I should have written  - Centre of Gravity of a Chord/Passage/Piece</p><p>Graham Breed &lt;<a href="mailto:g.breed@tpg.co.uk">g.breed@tpg.co.uk</a>&gt; wrote:<br/>&gt;I think this is a useful concept in some situations.<br/>&gt;The primary use, that I see, is in adaptive tuning.</p><p>Yes.  A secondary use is in understanding the harmonic structure of a<br/>piece.  I was really amazed at some of the things that I learned from<br/>this.  Please remind me some time to go into this in detail.</p><p>Another is for finding some variations to the normal scales to explore.<br/>More about this below.</p><p>...<br/>&gt;Therefore, the number of calculations required to tune all the notes in a<br/>&gt;piece is proportional to the square of the number of notes.<br/>&gt; ... If you&apos;re tuning outside of real-time, it can<br/>&gt;get even more complicated.</p><p>My intention was to do it in real time (so that it can be put as<br/>software into keyboards as a feature) and so I have concentrated on<br/>that.  Of course there are some situations where a bit of knowledge<br/>about what is going to happen next what make things a lot easier and so<br/>the possibility of off-line use should be allowed or.</p><p>Generally I don&apos;t think that there is much benefit in looking at all the<br/>notes at once, although this would allow solving the possible problem of<br/>tonic drift.  I would have a parameter for the range of recent notes to<br/>look at which would have a low of one chord, a medium of about a bar and<br/>a high of say 4 bars.  This is the parameter that controls how slowly<br/>the &quot;spotlight&quot; moves compared to the &quot;dancer&quot;.</p><p>&gt;So, for 7-prime-limit JI, the centre of gravity can be expressed by four<br/>&gt;numbers.  My idea is this:  get your adaptive tuning algorithm to tune<br/>&gt;relative to the centre of gravity, rather than all existing notes.  Then,<br/>&gt;the time required to tune each note does not depend on the number of notes<br/>&gt;it&apos;s being tuned relative to.  So, tuning a whole piece is an order N rather<br/>&gt;than order N-squared process.</p><p>Thanks for clarifying that which I didn&apos;t.  That is exactly my thinking.<br/>The centre of gravity is 4 numbers which each chord updates as an<br/>exponential moving average with the parameter mentioned above, e.g.</p><p>newprime7index = oldprime7index*(1-param) + presentprime7index*param<br/>                                            (from present chord)</p><p>where param is 0.5 for a rapidly following setting, 0.25 for a medium<br/>and 0.05 for a slow following setting.</p><p>&gt;&gt; Prime             2     3     5     7     11    13    17    19  ...<br/>&gt;&gt; Spread of Index  3.5   1.5   0.6   0.35  0.18  0.15  0.10  0.09 ...</p><p>Actually I think that these values may drop off slightly too harshly.</p><p>&gt;This is a good rule of thumb, but I think we can do better.  The spread of<br/>&gt;each index can be proportional to the variance or standard deviation of the<br/>&gt;indices already chosen.</p><p>I think that this is a good improvement for making a parameter for how<br/>big the &quot;spotlight&quot; is - i.e, what is the reasonable range of jumps.<br/>However I would not use adaption for the relativities of the different<br/>primes as I think that this is rather fixed and some of the variances<br/>would head to zero through lack of use and therefore cause problems when<br/>that prime suddenly turned up.</p><p>&gt;So, you can use a weighting where more recent notes are more important than<br/>&gt;distant ones.</p><p>Exactly, that is what the exponential average above does.  It makes the<br/>recent notes very important, the ones a little before that somewhat<br/>important and what came long ago of almost no importance.</p><p>&gt;There&apos;ll need to be some guesses as to the beginning state.  You can assume<br/>&gt;something like C-major with index weights as Ray gives above.  And use a<br/>&gt;small enough weighting that the notes that are played become much more<br/>&gt;important than this initial state.</p><p>Absolutely.</p><p>In my final comment about possible new scales I was actually changing<br/>subject a bit without making that clear.  The interesting thing about 4D<br/>space (or 6D with 11 and 13) is that there is a lot of it.  Although<br/>most music drifts around quite a lot on the 2 and 3 axes it doesn&apos;t seem<br/>to on the 5 and 7 axes and these axes seem to have just a couple of<br/>notches rather than the full range getting used.  That is why I think<br/>there is some room for inventiveness.  However this is actually in the<br/>composing side rather than the tuning side.</p><p>Graham, thanks for the good ideas.</p><p>-- Ray Tomes -- <a href="http://www.kcbbs.gen.nz/users/rtomes/rt-home.htm">http://www.kcbbs.gen.nz/users/rtomes/rt-home.htm</a> --<br/>   Cycles email list -- <a href="http://www.kcbbs.gen.nz/users/af/cyc.htm">http://www.kcbbs.gen.nz/users/af/cyc.htm</a><br/>Alexandria eGroup list -- <a href="http://www.kcbbs.gen.nz/users/af/alex.htm">http://www.kcbbs.gen.nz/users/af/alex.htm</a><br/>Boundaries of Science <a href="http://www.kcbbs.gen.nz/users/af/scienceb.htm">http://www.kcbbs.gen.nz/users/af/scienceb.htm</a></p></div>
                <script>
                    let monospace = false
                    $('button').on('click', function () {
                      if (monospace) {
                        $('p').css("font-family", "")
                      } else {
                        $('p').css("font-family", "monospace")
                      }
                      monospace = !monospace
                    })
                </script>
            