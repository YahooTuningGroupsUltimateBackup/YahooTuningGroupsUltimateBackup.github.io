<a href="/makemicromusic">back to list</a><h1>Scientific test: mp3 vs. ogg</h1><h3><a id=7608 href="#7608">ðŸ”—</a>Aaron K. Johnson &#x3C;akjmicro@...&#x3E;</h3><span>9/24/2004 9:14:56 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>I wanted to do a test to settle this matter as far as I could.</p><p>My hypothesis:<br/>The best mp3s and the best oggs will *both* sound great, and will have no<br/>subjectively audible difference with the source wav file. In other words, at<br/>comparable file size at reasonably high quality settings, the comparisons<br/>between them are moot.</p><p>Method:<br/>compare output of the &apos;lame&apos; version 3.93MMX encoder (mp3) with that of<br/>&apos;oggenc&apos; V1.0 (libvorbis 1.0) (ogg) for a 15 second source wav file of<br/>harpsichord music. I realize that what we really are comparing is not just<br/>two audio compression algorithms, but two implementations of those<br/>algorithms. But what else could we do? So, yes, I&apos;m comparing &apos;lame&apos; to<br/>&apos;oggenc&apos;.</p><p>Since it&apos;s hard to compare apples and oranges as per compression, I simply<br/>used a very high-quality setting on lame&apos;s command line (if you&apos;re<br/>interested, it was a preset &quot;--preset extreme&quot; which gives what is considered<br/>better quality than what is normally demanded of even the most severely<br/>critical listener). Then, I tried to find a quality setting on &apos;oggenc&apos; which<br/>was closest in output file size. It happened to end up being &apos;-q 7&apos; (quality<br/>setting 7 in the choosable range of -1 to 10, showing that at least oggs can<br/>go to higher quality if desired than can mp3s, at least on these programs,<br/>but at the obvious expense of increased file size)</p><p>The file output by lame, &quot;snippet.mp3&quot;, was 319K.<br/>The file output by oggenc, &quot;snippet.ogg&quot;, was 323K.<br/>This was as close as I could make them in size to make any comparison.</p><p>The &quot;snippet.mp3&quot; had one noticeable artifact, a &quot;crescendo&quot; at 3 seconds in.<br/>The rest of the file then stayed at an amplified level which was *not*<br/>reflected in the source file. Whether this is a bug in &apos;lame&apos; or a feature of<br/>mp3 encoding I don&apos;t know.</p><p>&quot;snippet.ogg&quot; OTOH, was not at all noticeably different from the source,<br/>&quot;snippet.wav&quot;.</p><p>At least for now, until anyone has a better mp3 encoder on Linux for me to<br/>try, or proof that mp3 algorithms are less bug-ridden, I&apos;m casting my vote<br/>for using &apos;oggenc&apos; where fidelity is concerned.</p><p>If anyone wishes to conduct this test themselves, I&apos;m putting the audio source<br/>and output files up at akjmusic:</p><p><a href="http://www.akjmusic.com/audio/snippet.wav">http://www.akjmusic.com/audio/snippet.wav</a><br/><a href="http://www.akjmusic.com/audio/snippet.mp3">http://www.akjmusic.com/audio/snippet.mp3</a><br/><a href="http://www.akjmusic.com/audio/snippet.ogg">http://www.akjmusic.com/audio/snippet.ogg</a></p><p>I&apos;m interested in any other observations anyone might come up with.</p><p>Cheers,<br/>--<br/>Aaron Krister Johnson<br/><a href="http://www.akjmusic.com">http://www.akjmusic.com</a><br/><a href="http://www.dividebypi.com">http://www.dividebypi.com</a></p></div><h3><a id=7661 href="#7661">ðŸ”—</a>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>9/29/2004 5:21:08 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;My hypothesis:<br/>&gt;The best mp3s and the best oggs will *both* sound great, and will have<br/>&gt;no subjectively audible difference with the source wav file. In other<br/>&gt;words, at comparable file size at reasonably high quality settings, the<br/>&gt;comparisons between them are moot.</p><p>Yes, both codecs should achieve transparency, but the question is:<br/>at what bitrate?</p><p>Except for clams.  It&apos;s usually possible to design a signal that<br/>gets audibly messed up after encoding, even at the highest bitrates.<br/>Sometimes such signals occur in real music.  Ogg hasn&apos;t been tested<br/>nearly as well as LAME at high bitrates.</p><p>&gt;The file output by lame, &quot;snippet.mp3&quot;, was 319K.<br/>&gt;The file output by oggenc, &quot;snippet.ogg&quot;, was 323K.<br/>&gt;This was as close as I could make them in size to make any comparison.<br/>&gt;<br/>&gt;The &quot;snippet.mp3&quot; had one noticeable artifact, a &quot;crescendo&quot; at<br/>&gt;3 seconds in.</p><p>I don&apos;t hear it.</p><p>&gt;At least for now, until anyone has a better mp3 encoder on Linux for<br/>&gt;me to try, or proof that mp3 algorithms are less bug-ridden, I&apos;m<br/>&gt;casting my vote for using &apos;oggenc&apos; where fidelity is concerned.</p><p>You can&apos;t base things on a single test.</p><p>-Carl</p></div><h3><a id=7663 href="#7663">ðŸ”—</a>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>9/29/2004 5:28:44 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt;At least for now, until anyone has a better mp3 encoder on Linux<br/>&gt;&gt;for me to try, or proof that mp3 algorithms are less bug-ridden,<br/>&gt;&gt;I&apos;m casting my vote for using &apos;oggenc&apos; where fidelity is concerned.<br/>&gt;<br/>&gt;You can&apos;t base things on a single test.</p><p>And to really be worthy of the &quot;scientific&quot; appellation, you should<br/>be able to AB-X it.  Have you tried?</p><p>-Carl</p></div><h3><a id=7670 href="#7670">ðŸ”—</a>Aaron K. Johnson &#x3C;akjmicro@...&#x3E;</h3><span>9/29/2004 10:40:00 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Wednesday 29 September 2004 07:21 pm, Carl Lumma wrote:<br/>&gt; &gt;My hypothesis:<br/>&gt; &gt;The best mp3s and the best oggs will *both* sound great, and will have<br/>&gt; &gt;no subjectively audible difference with the source wav file. In other<br/>&gt; &gt;words, at comparable file size at reasonably high quality settings, the<br/>&gt; &gt;comparisons between them are moot.<br/>&gt;<br/>&gt; Yes, both codecs should achieve transparency, but the question is:<br/>&gt; at what bitrate?<br/>&gt;<br/>&gt; Except for clams.  It&apos;s usually possible to design a signal that<br/>&gt; gets audibly messed up after encoding, even at the highest bitrates.<br/>&gt; Sometimes such signals occur in real music.  Ogg hasn&apos;t been tested<br/>&gt; nearly as well as LAME at high bitrates.<br/>&gt;<br/>&gt; &gt;The file output by lame, &quot;snippet.mp3&quot;, was 319K.<br/>&gt; &gt;The file output by oggenc, &quot;snippet.ogg&quot;, was 323K.<br/>&gt; &gt;This was as close as I could make them in size to make any comparison.<br/>&gt; &gt;<br/>&gt; &gt;The &quot;snippet.mp3&quot; had one noticeable artifact, a &quot;crescendo&quot; at<br/>&gt; &gt;3 seconds in.<br/>&gt;<br/>&gt; I don&apos;t hear it.</p><p>It&apos;s there...at least when played back by &apos;xmms&apos;....anyone else hear it. It&apos;s<br/>quite obvious to me, but I realize it could just be a bug in the playback app<br/>as well.</p><p>I&apos;ll try and get my wife to do an AB-X compare with me sometime.</p><p>Best,<br/>Aaron Krister Johnson<br/><a href="http://www.akjmusic.com">http://www.akjmusic.com</a><br/><a href="http://www.dividebypi.com">http://www.dividebypi.com</a></p></div><h3><a id=7671 href="#7671">ðŸ”—</a>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>9/29/2004 10:50:59 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;I&apos;ll try and get my wife to do an AB-X compare with me sometime.</p><p>There&apos;s software that&apos;ll do it for you (at least on Windows).</p><p>-Carl</p></div><h3><a id=7676 href="#7676">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@...&#x3E;</h3><span>10/1/2004 12:47:51 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Carl Lumma &lt;ekin@l...&gt; wrote:</p><p>&gt; And to really be worthy of the &quot;scientific&quot; appellation, you should<br/>&gt; be able to AB-X it.  Have you tried?</p><p>Here&apos;s an old article, on mostly on low bit rates, with emendations;<br/>in the updated version ogg is claimed to be better than mp3:</p><p><a href="http://ekei.com/audio/">http://ekei.com/audio/</a></p><p>Here&apos;s some groovy biostatistics; ogg and mpc come out winners:</p><p><a href="http://ff123.net/128test/interim.html">http://ff123.net/128test/interim.html</a></p><p>The problem is finding up to date information, it would seem, but it<br/>seems clear my subjective judgment that ogg sounds better at identical<br/>achieved compressions than mp3 (which is why I picked it) is widely<br/>shared.</p></div><h3><a id=7678 href="#7678">ðŸ”—</a>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>10/1/2004 12:58:19 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; And to really be worthy of the &quot;scientific&quot; appellation, you should<br/>&gt;&gt; be able to AB-X it.  Have you tried?<br/>&gt;<br/>&gt;Here&apos;s an old article, on mostly on low bit rates, with emendations;<br/>&gt;in the updated version ogg is claimed to be better than mp3:<br/>&gt;<br/>&gt;<a href="http://ekei.com/audio/">http://ekei.com/audio/</a><br/>&gt;<br/>&gt;Here&apos;s some groovy biostatistics; ogg and mpc come out winners:<br/>&gt;<br/>&gt;<a href="http://ff123.net/128test/interim.html">http://ff123.net/128test/interim.html</a><br/>&gt;<br/>&gt;The problem is finding up to date information, it would seem, but it<br/>&gt;seems clear my subjective judgment that ogg sounds better at identical<br/>&gt;achieved compressions than mp3 (which is why I picked it) is widely<br/>&gt;shared.</p><p>Does this have anything to do with anything I&apos;ve said?</p><p>-Carl</p></div><h3><a id=7680 href="#7680">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@...&#x3E;</h3><span>10/1/2004 1:05:51 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Carl Lumma &lt;ekin@l...&gt; wrote:</p><p>&gt; Does this have anything to do with anything I&apos;ve said?</p><p>Your subject line said &quot;Scientific test: mp3 vs. ogg&quot;. Was your<br/>posting on some different topic?</p></div><h3><a id=7681 href="#7681">ðŸ”—</a>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>10/1/2004 1:17:50 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; Does this have anything to do with anything I&apos;ve said?<br/>&gt;<br/>&gt;Your subject line said &quot;Scientific test: mp3 vs. ogg&quot;. Was<br/>&gt;your posting on some different topic?</p><p>I&apos;ve said probably a dozen times on these lists that vorbis<br/>is better at low bitrates.  You&apos;ve said the same thing as many<br/>times, and more than once already in this thread.</p><p>I asked Aaron if he&apos;d tried AB-X on his sample.  How does your<br/>reply relate to that question, if at all?  I&apos;ve also asked you<br/>two direct questions in this thread, so if you&apos;re anxious to<br/>reply to something there&apos;s a great place to start.</p><p>-Carl</p></div>