<a href="/makemicromusic">back to list</a><h1>soundfonts and looping</h1><h3><a id=18161 href="#18161">ðŸ”—</a>Christopher Bailey &#x3C;chris@...&#x3E;</h3><span>12/11/2007 7:27:04 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Why do soundfonts loop, as opposed to doing some kind of random access<br/>granular synthesis? Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>essentially] soundfonts are programmed.  The great thing is, you can make<br/>fiarly life-like long tones out of a very short tone --- and you don&apos;t hear<br/>any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly differently out of the<br/>original sample.</p><p>[Non-text portions of this message have been removed]</p></div><h3><a id=18162 href="#18162">ðŸ”—</a>Joe &#x3C;tamahome02000@...&#x3E;</h3><span>12/11/2007 7:43:55 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Also, the padsynth module in zynaddsubfx starts from a random position.</p><p>Btw, I just heard of a commercial sampler that became free,<br/>Shortcircuit.  It supports VstMidiEvent.detune, if the host will send<br/>it (Cubase microtuner, Fruity Loops, Plogue Bidule).</p><p>Joe</p><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, &quot;Christopher Bailey&quot;<br/>&lt;chris@...&gt; wrote:<br/>&gt;<br/>&gt; Why do soundfonts loop, as opposed to doing some kind of random access<br/>&gt; granular synthesis? Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>&gt; essentially] soundfonts are programmed.  The great thing is, you can<br/>make<br/>&gt; fiarly life-like long tones out of a very short tone --- and you<br/>don&apos;t hear<br/>&gt; any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly differently<br/>out of the<br/>&gt; original sample.<br/>&gt;<br/>&gt;<br/>&gt; [Non-text portions of this message have been removed]<br/>&gt;</p></div><h3><a id=18163 href="#18163">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>12/11/2007 7:49:13 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Christopher Bailey wrote...</p><p>&gt;Why do soundfonts loop, as opposed to doing some kind of random access<br/>&gt;granular synthesis?</p><p>Not sure what you mean, but granular synthesis is usually a<br/>technique apart from sampling.  But the best samples don&apos;t loop.</p><p>&gt;Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>&gt;essentially] soundfonts are programmed.  The great thing is, you can<br/>&gt;make fiarly life-like long tones out of a very short tone --- and you<br/>&gt;don&apos;t hear any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly<br/>&gt;differently out of the original sample.</p><p>How is that granular synthesis?</p><p>-Carl</p></div><h3><a id=18164 href="#18164">ðŸ”—</a>Aaron Krister Johnson &#x3C;aaron@...&#x3E;</h3><span>12/11/2007 8:06:16 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, &quot;Christopher Bailey&quot;<br/>&lt;chris@...&gt; wrote:<br/>&gt;<br/>&gt; Why do soundfonts loop, as opposed to doing some kind of random access<br/>&gt; granular synthesis? Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>&gt; essentially] soundfonts are programmed.  The great thing is, you can<br/>make<br/>&gt; fiarly life-like long tones out of a very short tone --- and you<br/>don&apos;t hear<br/>&gt; any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly differently<br/>out of the<br/>&gt; original sample.</p><p>I&apos;d love to see the code of how this works...and some explication<br/>through an audio example.</p><p>My one question would be--how does the granular synthesis preserve the<br/>wave phase information? for example, let&apos;s say your sample has some<br/>gentle low frequency beating...a good loop point might be found that<br/>preserves this effect, the expense being long-term stasis..how would<br/>the granular approach preserve this?</p><p>I would imagine what you describe would work well with bowed and wind<br/>instruments, b/c it could capture the randomness of the driving force,<br/>though...maybe that&apos;s what you were saying all the time. It would be<br/>CPU intensive when done real-time, though, I would think. Looping is<br/>CPU cheap.</p><p>Anyway, show us the code---do you do this in Cmix? Cmix ain&apos;t<br/>real-time, though. It could then be translated to CSound, which is<br/>real-time, but in my experience, not as reliable in real-time<br/>mode....SIGH!</p><p>-AKJ.</p></div><h3><a id=18167 href="#18167">ðŸ”—</a>Aaron Krister Johnson &#x3C;aaron@...&#x3E;</h3><span>12/11/2007 4:34:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; Christopher Bailey wrote...<br/>&gt;<br/>&gt; &gt;Why do soundfonts loop, as opposed to doing some kind of random access<br/>&gt; &gt;granular synthesis?<br/>&gt;<br/>&gt; Not sure what you mean, but granular synthesis is usually a<br/>&gt; technique apart from sampling.  But the best samples don&apos;t loop.</p><p>At some point, for a sustained tone, they have to, unless you use a<br/>technique similar to what Chris might be describing.</p><p>&gt; &gt;Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>&gt; &gt;essentially] soundfonts are programmed.  The great thing is, you can<br/>&gt; &gt;make fiarly life-like long tones out of a very short tone --- and you<br/>&gt; &gt;don&apos;t hear any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly<br/>&gt; &gt;differently out of the original sample.<br/>&gt;<br/>&gt; How is that granular synthesis?</p><p>I can&apos;t speak for him, but I think he means volume enveloping a bunch<br/>of 10ms or so snapshots derived from an instrument sample, and<br/>stringing them together, with a possible ADSR &apos;performance&apos; envelope<br/>shaping the whole note event. The question I would have is what effect<br/>the grain size would have on pitch, and would the grain size change?</p><p>I would love to hear a demonstration of all this, Chris---how would<br/>you, say, &apos;synthesize&apos; using a sample and grains, a violin?</p><p>-AKJ</p></div><h3><a id=18168 href="#18168">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>12/11/2007 7:16:56 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>At 04:34 PM 12/11/2007, you wrote:<br/>&gt;--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;&gt;<br/>&gt;&gt; Christopher Bailey wrote...<br/>&gt;&gt;<br/>&gt;&gt; &gt;Why do soundfonts loop, as opposed to doing some kind of random access<br/>&gt;&gt; &gt;granular synthesis?<br/>&gt;&gt;<br/>&gt;&gt; Not sure what you mean, but granular synthesis is usually a<br/>&gt;&gt; technique apart from sampling.  But the best samples don&apos;t loop.<br/>&gt;<br/>&gt;At some point, for a sustained tone, they have to, unless you use a<br/>&gt;technique similar to what Chris might be describing.</p><p>For a piano or any other instrument with natural decay, they don&apos;t.</p><p>&gt;&gt; &gt;Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>&gt;&gt; &gt;essentially] soundfonts are programmed.  The great thing is, you can<br/>&gt;&gt; &gt;make fiarly life-like long tones out of a very short tone --- and you<br/>&gt;&gt; &gt;don&apos;t hear any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly<br/>&gt;&gt; &gt;differently out of the original sample.<br/>&gt;&gt;<br/>&gt;&gt; How is that granular synthesis?<br/>&gt;<br/>&gt;I can&apos;t speak for him, but I think he means volume enveloping a bunch<br/>&gt;of 10ms or so snapshots derived from an instrument sample, and<br/>&gt;stringing them together, with a possible ADSR &apos;performance&apos; envelope<br/>&gt;shaping the whole note event. The question I would have is what effect<br/>&gt;the grain size would have on pitch, and would the grain size change?</p><p>Granular synthesis usually involves simultaneous grains.</p><p>-Carl</p></div><h3><a id=18170 href="#18170">ðŸ”—</a>Aaron Krister Johnson &#x3C;aaron@...&#x3E;</h3><span>12/11/2007 8:24:49 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Carl Lumma &lt;carl@...&gt; wrote:<br/>&gt;<br/>&gt; At 04:34 PM 12/11/2007, you wrote:<br/>&gt; &gt;--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Carl Lumma &lt;carl@&gt; wrote:<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Christopher Bailey wrote...<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; &gt;Why do soundfonts loop, as opposed to doing some kind of random<br/>access<br/>&gt; &gt;&gt; &gt;granular synthesis?<br/>&gt; &gt;&gt;<br/>&gt; &gt;&gt; Not sure what you mean, but granular synthesis is usually a<br/>&gt; &gt;&gt; technique apart from sampling.  But the best samples don&apos;t loop.<br/>&gt; &gt;<br/>&gt; &gt;At some point, for a sustained tone, they have to, unless you use a<br/>&gt; &gt;technique similar to what Chris might be describing.<br/>&gt;<br/>&gt; For a piano or any other instrument with natural decay, they don&apos;t.</p><p>I meant exactly that---&apos;sustained&apos; tone in contrast to &apos;natural<br/>decay&apos;..I agree the best samples of decaying instruments don&apos;t loop.</p></div><h3><a id=18171 href="#18171">ðŸ”—</a>Carl Lumma &#x3C;carl@...&#x3E;</h3><span>12/11/2007 8:40:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;&gt; For a piano or any other instrument with natural decay, they don&apos;t.<br/>&gt;<br/>&gt;I meant exactly that---&apos;sustained&apos; tone in contrast to &apos;natural<br/>&gt;decay&apos;..I agree the best samples of decaying instruments don&apos;t loop.</p><p>Even with strings, the loop points may never appear in most<br/>pieces.  Vienna even has sampled scales and figures.</p><p>-Carl</p></div><h3><a id=18173 href="#18173">ðŸ”—</a>Graham Breed &#x3C;gbreed@...&#x3E;</h3><span>12/11/2007 9:12:01 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Christopher Bailey wrote:<br/>&gt; Why do soundfonts loop, as opposed to doing some kind of random access<br/>&gt; granular synthesis? Aren&apos;t the &apos;80&apos;s over?  This is how my [what are<br/>&gt; essentially] soundfonts are programmed.  The great thing is, you can make<br/>&gt; fiarly life-like long tones out of a very short tone --- and you don&apos;t hear<br/>&gt; any &quot;looping&quot;, becase each &quot;loop&quot; is grabbed slightly differently out of the<br/>&gt; original sample.</p><p>The SoundFont format is very closely tied to the capabilities of the AWE32.  According to Wikipedia that came out in 1994, which wasn&apos;t long after the 80s.  There seem to be updates for things like 24-bit samples, but in the large soundfonts only specify things that an AWE32 could do.</p><p>That&apos;s good in a way because it means the implementations are simple and give consistent results.  The problem of course is that it&apos;s not very flexible.  If you want to do something an AWE32 couldn&apos;t do you&apos;ll need a standard instrument definition format.  I don&apos;t know of any with multiple implementations because the format has to pretty much mirror the implementation.</p><p>I found an sfz description here:</p><p><a href="http://www.cakewalk.com/DevXchange/sfz.asp">http://www.cakewalk.com/DevXchange/sfz.asp</a></p><p>It&apos;s similar to the SoundFont model but allows cross-fades.  That solves the biggest problem I had with soundfonts.  I could hear where the zones changed over because there&apos;d be a different sample.  I think you could fake crossfades with key scaling zones but it&apos;s more straightforward to have direct support.  It also means more samples playing at a time which was a problem way back when.</p><p>                     Graham</p></div>