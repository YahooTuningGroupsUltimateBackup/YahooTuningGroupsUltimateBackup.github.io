<a href="/makemicromusic">back to list</a><h1>Pitch bends</h1><h3><a id=6537 href="#6537">ðŸ”—</a>Mark Gould &#x3C;mark.gould@...&#x3E;</h3><span>5/8/2004 3:45:00 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>This an extract from my pitch bend calculator spreadsheet:</p><p>&#x9;Num PCs&#x9;19&#x9;&#x9;&#x9;<br/>&#x9;&#x9;&#x9;&#x9;&#x9;1 Semitone<br/>&#x9;PC&#x9;Cents&#x9;Closest&#x9;         Diff in cents           PB<br/>A&#x9;0&#x9;0&#x9;0&#x9;0&#x9;64<br/>&#x9;1&#x9;63.157894737&#x9;100&#x9;&#x9;-36.842105263&#x9;40.421052632<br/>&#x9;2&#x9;126.31578947&#x9;100&#x9;&#x9;26.315789474&#x9;80.842105263<br/>B&#x9;3&#x9;189.47368421&#x9;200&#x9;&#x9;-10.526315789&#x9;57.263157895<br/>&#x9;4&#x9;252.63157895&#x9;300&#x9;&#x9;-47.368421053&#x9;33.684210526<br/>C&#x9;5&#x9;315.78947368&#x9;300&#x9;&#x9;15.789473684&#x9;74.105263158<br/>&#x9;6&#x9;378.94736842&#x9;400&#x9;&#x9;-21.052631579&#x9;50.526315789<br/>&#x9;7&#x9;442.10526316&#x9;400&#x9;&#x9;42.105263158&#x9;90.947368421<br/>D&#x9;8&#x9;505.26315789&#x9;500&#x9;&#x9;5.2631578947&#x9;67.368421053<br/>&#x9;9&#x9;568.42105263&#x9;600&#x9;&#x9;-31.578947368&#x9;43.789473684<br/>&#x9;10&#x9;631.57894737&#x9;600&#x9;&#x9;31.578947368&#x9;84.210526316<br/>E&#x9;11&#x9;694.73684211&#x9;700&#x9;&#x9;-5.2631578947&#x9;60.631578947<br/>&#x9;12&#x9;757.89473684&#x9;800&#x9;&#x9;-42.105263158&#x9;37.052631579<br/>F&#x9;13&#x9;821.05263158&#x9;800&#x9;&#x9;21.052631579&#x9;77.473684211<br/>&#x9;14&#x9;884.21052632&#x9;900&#x9;&#x9;-15.789473684&#x9;53.894736842<br/>&#x9;15&#x9;947.36842105&#x9;900&#x9;&#x9;47.368421053&#x9;94.315789474<br/>G&#x9;16&#x9;1010.5263158&#x9;1000&#x9;10.526315789&#x9;70.736842105<br/>&#x9;17&#x9;1073.6842105&#x9;1100&#x9;-26.315789474&#x9;47.157894737<br/>&#x9;18&#x9;1136.8421053&#x9;1100&#x9;36.842105263&#x9;87.578947368<br/>A&#x9;19&#x9;0&#x9;0&#x9;0&#x9;64<br/>in other words bend 0 = down 1/2 semitone<br/>bend 127 = up 1/2 semitone<br/>The whole range is<br/>The last column is the computed pitch bend, and I take the closest integer value</p><p>The controller setting I use is 100,101 and the data entry is 6,1, where 1 means bend range max</p><p>Have I been confused by all this and produced errors in pitch bends?</p><p>Mark</p></div><h3><a id=6542 href="#6542">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@...&#x3E;</h3><span>5/9/2004 12:37:27 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Mark Gould &lt;mark.gould@a...&gt;<br/>wrote:</p><p>&gt; Have I been confused by all this and produced errors in pitch bends?</p><p>This stuff is enough to confuse anyone, since what a pitch bend does<br/>depends on the bend range, and that can be reset by a sysex. However,<br/>the standard seems to be to divide a semitone into 4096 parts, in<br/>other words 4096 pitch bends is a semitone; if there isn&apos;t anything<br/>saying do otherwise that is what is assumed. If we look at the note<br/>numbers and pitch bends in all four of your movements taken together<br/>and reduce it all to an octave, we get 20 combinations of note number<br/>and pitch bend, representing a chain of 19 fifths from -10 to +9, the<br/>0 being A 440. The -10 corresponds to the pair [71, 12544] and the +9<br/>to [72, 4352]; these should represent the same note. Subtracting<br/>gives [1, -8192], which means 8192 pitch bends should be a semitone.<br/>If I reset the pitch bend range on Audio Compositor it should then<br/>render the file in 19-equal, but if I don&apos;t do that, or if someone<br/>plays the midi file in a midi player, I think we are off from what<br/>you intended by a factor of two. That could be fixed by editing the<br/>text version of the midi files and converting them back to binary.</p></div><h3><a id=6546 href="#6546">ðŸ”—</a>Aaron K. Johnson &#x3C;akjmicro@...&#x3E;</h3><span>5/9/2004 7:20:16 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>On Sunday 09 May 2004 02:37 am, Gene Ward Smith wrote:<br/>&gt; --- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Mark Gould &lt;mark.gould@a...&gt;<br/>&gt;<br/>&gt; wrote:<br/>&gt; &gt; Have I been confused by all this and produced errors in pitch bends?<br/>&gt;<br/>&gt; This stuff is enough to confuse anyone, since what a pitch bend does<br/>&gt; depends on the bend range, and that can be reset by a sysex. However,<br/>&gt; the standard seems to be to divide a semitone into 4096 parts, in<br/>&gt; other words 4096 pitch bends is a semitone; if there isn&apos;t anything<br/>&gt; saying do otherwise that is what is assumed. If we look at the note<br/>&gt; numbers and pitch bends in all four of your movements taken together<br/>&gt; and reduce it all to an octave, we get 20 combinations of note number<br/>&gt; and pitch bend, representing a chain of 19 fifths from -10 to +9, the<br/>&gt; 0 being A 440. The -10 corresponds to the pair [71, 12544] and the +9<br/>&gt; to [72, 4352]; these should represent the same note. Subtracting<br/>&gt; gives [1, -8192], which means 8192 pitch bends should be a semitone.<br/>&gt; If I reset the pitch bend range on Audio Compositor it should then<br/>&gt; render the file in 19-equal, but if I don&apos;t do that, or if someone<br/>&gt; plays the midi file in a midi player, I think we are off from what<br/>&gt; you intended by a factor of two. That could be fixed by editing the<br/>&gt; text version of the midi files and converting them back to binary.</p><p>Yes, Gene is right.</p><p>The scheme that Mark describes is one where there is only one significant byte<br/>(midi byte that is, with the leading zero indicating that it is data) used to<br/>indicate bend. This low-res response is found on some models of synth  or<br/>softsynth.</p><p>The standard, however, is two midi bytes (14 bits) covering a range of two<br/>WHOLE steps (1 up from center, 1 down). This is 16384. Dividing by 4 to<br/>account only for going one direction, and one semitone, gives us 4096.</p><p>Then of course, bend signals are centered on 8192, so &apos;no bend&apos; being sent as<br/>a pitch bend signal would be 8192 in decimal, and the hex would be<br/>distributed over two bytes, each with leading zeros.</p><p>--<br/>Aaron Krister Johnson<br/><a href="http://www.dividebypi.com">http://www.dividebypi.com</a><br/><a href="http://www.akjmusic.com">http://www.akjmusic.com</a></p></div><h3><a id=6547 href="#6547">ðŸ”—</a>Graham Breed &#x3C;graham@...&#x3E;</h3><span>5/9/2004 7:01:01 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Aaron K. Johnson wrote:</p><p>&gt; The standard, however, is two midi bytes (14 bits) covering a range of two &gt; WHOLE steps (1 up from center, 1 down). This is 16384. Dividing by 4 to &gt; account only for going one direction, and one semitone, gives us 4096.</p><p>by default, yes, but mark says he&apos;s sending the rpn to set 1 step</p><p>                graha,</p></div><h3><a id=6561 href="#6561">ðŸ”—</a>Gene Ward Smith &#x3C;gwsmith@...&#x3E;</h3><span>5/9/2004 12:58:17 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Graham Breed &lt;graham@m...&gt; wrote:<br/>&gt; Aaron K. Johnson wrote:<br/>&gt;<br/>&gt; &gt; The standard, however, is two midi bytes (14 bits) covering a<br/>range of two<br/>&gt; &gt; WHOLE steps (1 up from center, 1 down). This is 16384. Dividing by<br/>4 to<br/>&gt; &gt; account only for going one direction, and one semitone, gives us 4096.<br/>&gt;<br/>&gt; by default, yes, but mark says he&apos;s sending the rpn to set 1 step</p><p>I can&apos;t find anything in the midi file which says it is supposed to be<br/>anything other than the default, so midi players won&apos;t play what is<br/>intended; even if they could accomodate a setting change with some<br/>sort of sysex message, the message isn&apos;t there. I reset Audio<br/>Compositor and uploaded an (I think) correct version, and at the<br/>moment I think that, and not the midi files themselves, is the only<br/>version that will give you the tuning Mark intended.</p></div>