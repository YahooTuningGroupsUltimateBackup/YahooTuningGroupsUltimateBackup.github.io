<a href="/makemicromusic">back to list</a><h1>cents to freq ratio</h1><h3>Rick McGowan &#x3C;rick@...&#x3E;</h3><span>3/7/2003 11:36:16 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Does anyone have a snippet of code, or a formula, to take a number in cents and return a frequency ratio, expressed as &quot;1:n&quot;?</p><p>I have various other conversion functions, but I&apos;m hoping not to have to hit the books and derive an answer...</p><p>Thanks,<br/>&#x9;Rick</p></div><h3>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>3/7/2003 12:31:06 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Does anyone have a snippet of code, or a formula, to take a number in<br/>&gt;cents and return a frequency ratio, expressed as &quot;1:n&quot;?<br/>&gt;<br/>&gt;I have various other conversion functions, but I&apos;m hoping not to have<br/>&gt;to hit the books and derive an answer...</p><p>You can&apos;t mean to insist on a numerator of 1... but one does need some<br/>sort of restriction, since there are as many ratios as close to a given<br/>irrational as one can churn out.  An interesting restriction for tuning<br/>is finding the _simplest_ ratio that comes within some tolerance of the<br/>irrational target.  There are many ways to define simple here, n*d being<br/>a favorite.  I could easily brute-force the problem for all n*d of musical<br/>importance, but there are surly more elegant solutions for arbitrarily<br/>high n*d cutoffs.  I&apos;m curios what those might be myself.  But this is a<br/>question for the tuning-math list.  Are you a member?</p><p>-Carl</p></div><h3>Michael McGonagle &#x3C;fndsnd@...&#x3E;</h3><span>3/7/2003 12:46:57 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Rick McGowan wrote:<br/>&gt; Does anyone have a snippet of code, or a formula, to take a number in &gt; cents and return a frequency ratio, expressed as &quot;1:n&quot;?<br/>&gt; &gt; I have various other conversion functions, but I&apos;m hoping not to have to &gt; hit the books and derive an answer...</p><p>/*<br/> * ref - the reference frequency (ie A-440, etc).<br/> * cents - the cent value (or distance) from ref<br/> *<br/> * returns - value in Hertz (or CPS) of the desire pitch<br/> */<br/>#define centsToHertz(ref, cents) ref * pow(2.0, cents / 1200)</p><p>Hope this helps...</p><p>Mike</p></div><h3>James Nagy &#x3C;jnagy2002@...&#x3E;</h3><span>3/7/2003 12:51:43 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>cents are exponential so im guessing freq = tonic freq<br/>*  2 raised to the target note (e.g. 800)/1200<br/>--- Rick McGowan &lt;rick@...&gt; wrote:<br/>&gt; Does anyone have a snippet of code, or a formula, to<br/>&gt; take a number in<br/>&gt; cents and return a frequency ratio, expressed as<br/>&gt; &quot;1:n&quot;?<br/>&gt;<br/>&gt; I have various other conversion functions, but I&apos;m<br/>&gt; hoping not to have to<br/>&gt; hit the books and derive an answer...<br/>&gt;<br/>&gt; Thanks,<br/>&gt; &#x9;Rick<br/>&gt;<br/>&gt;<br/>&gt;</p><p>__________________________________________________<br/>Do you Yahoo!?<br/>Yahoo! Tax Center - forms, calculators, tips, more<br/><a href="http://taxes.yahoo.com/">http://taxes.yahoo.com/</a></p></div><h3>Rick McGowan &#x3C;rick@...&#x3E;</h3><span>3/7/2003 1:00:07 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl --</p><p>Yes, I actually do insist on a numerator of &quot;1&quot;. The purpose is to calculate frequency ratios for an FM application where the fundamental is &quot;1&quot; and I need a ratio with respect to taht. I&apos;m looking for a floating point number, not &quot;simplest&quot; ratio.</p><p>&#x9;Rick</p><p>Carl Lumma wrote:</p><p>&gt;&gt;Does anyone have a snippet of code, or a formula, to take a number in &gt;&gt;cents and return a frequency ratio, expressed as &quot;1:n&quot;?<br/>&gt;&gt;<br/>&gt;&gt;I have various other conversion functions, but I&apos;m hoping not to have<br/>&gt;&gt;to hit the books and derive an answer...<br/>&gt;&gt;<br/>&gt; &gt; You can&apos;t mean to insist on a numerator of 1... but one does need some<br/>&gt; sort of restriction, since there are as many ratios as close to a given<br/>&gt; irrational as one can churn out.  An interesting restriction for tuning<br/>&gt; is finding the _simplest_ ratio that comes within some tolerance of the<br/>&gt; irrational target.  There are many ways to define simple here, n*d being<br/>&gt; a favorite.  I could easily brute-force the problem for all n*d of musical<br/>&gt; importance, but there are surly more elegant solutions for arbitrarily<br/>&gt; high n*d cutoffs.  I&apos;m curios what those might be myself.  But this is a<br/>&gt; question for the tuning-math list.  Are you a member?<br/>&gt; &gt; -Carl<br/>&gt; &gt; &gt; [MMM info]------------------------------------------------------<br/>&gt; More MMM music files are at <a href="http://www.microtonal.org/music.html">http://www.microtonal.org/music.html</a><br/>&gt; ------------------------------------------------------[MMM info] &gt; &gt; Your use of Yahoo! Groups is subject to <a href="http://docs.yahoo.com/info/terms/">http://docs.yahoo.com/info/terms/</a> &gt; &gt; &gt; &gt;</p></div><h3>Ronald Pieket &#x3C;rpieket@...&#x3E;</h3><span>3/7/2003 1:04:23 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>--- In <a href="mailto:MakeMicroMusic@yahoogroups.com">MakeMicroMusic@yahoogroups.com</a>, Rick McGowan &lt;rick@u...&gt; wrote:<br/>&gt; Does anyone have a snippet of code, or a formula, to take a number in<br/>&gt; cents and return a frequency ratio, expressed as &quot;1:n&quot;?</p><p>The one-cent ratio is</p><p> 1 : 2 ^ 1/1200</p><p>which is approximately</p><p> 1 : 1.00057779</p><p>To get the ration of N cents, raise the value to the power of N. Like<br/>this:</p><p> 1 : ( 2 ^ 1/1200 ) ^ N</p><p>You can easily see that if N = 1200 (the number of cents in an<br/>octave), you get</p><p> 1 : 2</p><p>...which is indeed the frequency ratio of an octave.</p><p>- Ronald.</p></div><h3>Carl Lumma &#x3C;ekin@...&#x3E;</h3><span>3/7/2003 1:34:12 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>&gt;Yes, I actually do insist on a numerator of &quot;1&quot;. The purpose is to<br/>&gt;calculate frequency ratios for an FM application where the fundamental<br/>&gt;is &quot;1&quot; and I need a ratio with respect to taht. I&apos;m looking for a<br/>&gt;floating point number, not &quot;simplest&quot; ratio.</p><p>You want a float? -- I thought you wanted a rational... Anyway, all<br/>ratios smaller than 1 are undefined for cents, since 0c = 1/1.<br/>Maybe you want a denominator of 1?</p><p>-Carl</p></div><h3>Rick McGowan &#x3C;rick@...&#x3E;</h3><span>3/7/2003 1:42:55 PM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>Hi Carl --</p><p>Actually I got precisely what I wanted from several people, thank them all; most useful was from Michael McMonagle. Thanks!</p><p>#define centsToHertz(ref, cents) ref * pow(2.0, cents / 1200)</p><p>When &quot;ref&quot; is 1, I get &quot;1:n&quot; answer.</p><p>Oh, I didn&apos;t mean an &quot;FM&quot; application, I meant actually additive synth application... I wanted to be able to make one oscillator beat a n-times another; where &apos;n&apos; is a float.<br/>&#x9;Rick</p></div>