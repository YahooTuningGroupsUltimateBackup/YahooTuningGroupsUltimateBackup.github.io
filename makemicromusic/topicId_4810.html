<a href="/makemicromusic">back to list</a><h1>Re: Cents to Ratio</h1><h3>Robert Walker &#x3C;robertwalker@...&#x3E;</h3><span>6/4/2003 12:00:25 AM</span><div style='margin: 0px 20px 20px; padding: 20px; background-color: #eee'><p>HI Paul,</p><p>I did programming to find the best n-limit approximations to a cents<br/>value, or ratio etc - probably this may be what you remember.</p><p>Since most of the ratios we are interested in in tuning are quite small,<br/>then the coding doesn&apos;t need to be greatly optimised.</p><p>In fact, I had good success by just searching through all possible quotients.<br/>For each one you can just look at the two nearest suitable denominator for each<br/>denumerator above and below - easily calculated given the quotient,<br/>to form ratios above and below the target value. Then just look through those<br/>to find all the ones of the required type. It is fast<br/>enough on a modern machine especially if you are only interested in numbers<br/>less than 1000, or even 10000 say. Even fast enough in Java which is slower than c.</p><p>The javascript web page I did for this is still available at:</p><p><a href="http://tunesmithy.netfirms.com/japplets/ratios_with_factors.htm">http://tunesmithy.netfirms.com/japplets/ratios_with_factors.htm</a></p><p>Users of FTS can also find prime limit ratios by a similar method using<br/>the File | Number Options | Ratio Options | Tolerance in cents for approximate<br/>ratios - and then enter the factors they want to use in the field below<br/>- then all scales in fTS will be shown as the nearest approximate ratios to the desired<br/>tolerance. To see the factorisation you just select &quot;Show factorisation&quot; in the<br/>same dialog.</p><p>This will be a bit faster than the javascript page as it is in c which<br/>is a faster language (compiled rather than interpreted).</p><p>I also did some MSDOS console apps - c source code and easily ported<br/>to other platforms - for finding close approximations to one ratio<br/>by another to another prime limit - e.g. 5 limit approximations to seven<br/>limit ratios etc.</p><p>There if the number of distinct primes isn&apos;t too large then you can<br/>also find the closest n-limit ratios quite speedily enough by simple brute force searching of the<br/>lattice, and simple use of logs. Nothing particularly sophisticated by mathematical standards.<br/>This is a faster method in calculation time than that javascript page - but a bit more<br/>complex to code for.</p><p>It can be used to find all those dieses and things - which is the main<br/>situation where you see huge numbers in tuning theory. Slows down when you get<br/>to _really_ high numbers.</p><p>Not converted to javascript applets yet but could do some day - and maybe make<br/>then all as windows programs too rather than console apps (easier to use in Windows).</p><p>There are much more sophisticated mathematical methods of searching a<br/>lattice to find closest points which would be faster than either of these<br/>methods - but I didn&apos;t go into that - would be interested<br/>to find out more later. Did a prelimary search but couldn&apos;t quite fidn what I<br/>needed straight away. Would really only need them for huge numbers - large powers<br/>e.g. in the hundreds, or if you want to go up to some quite high prime limit e.g.<br/>13 limit ratios or something.</p><p>Anyway if anyone is interested in my MSDOS console apps to find n-limit ratios<br/>for high exponents, then I can upload them - think I did it once before but wherever they were<br/>they have probably gone now.</p><p>BTW has anyone else yet listened to the program that Charles Lucy<br/>posted to the tuning list? I just listened to it and enjoyed it.<br/>You don&apos;t need to be in the UK as you can hear it re-broadcast from its<br/>Listen Live page:<br/><a href="http://www.bbc.co.uk/radio4/progs/listenagain.shtml">http://www.bbc.co.uk/radio4/progs/listenagain.shtml</a><br/>(under &quot;Out of tune&quot;)</p><p>Has an interview with a traditional Shakuhachi player, amongst other things<br/>and an Arabic music singer talking about quarter tones. Also discussion of<br/>bells.</p><p>thanks,</p><p>Robert</p></div>